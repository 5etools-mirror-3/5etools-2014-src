var Y=Object.defineProperty,u=(Z,l,X)=>l in Z?Y(Z,l,{enumerable:!0,configurable:!0,writable:!0,value:X}):Z[l]=X,d=(Z,l,X)=>(u(Z,typeof l!="symbol"?l+"":l,X),X),m=(Z,l,X)=>{if(!l.has(Z))throw TypeError("Cannot "+X)},V=(Z,l,X)=>(m(Z,l,"read from private field"),X?X.call(Z):l.get(Z)),W=(Z,l,X)=>{if(l.has(Z))throw TypeError("Cannot add the same private member more than once");l instanceof WeakSet?l.add(Z):l.set(Z,X)},h=(Z,l,X,b)=>(m(Z,l,"write to private field"),b?b.call(Z,X):l.set(Z,X),X),J=(Z,l,X)=>(m(Z,l,"access private method"),X);const a="dmFyIEhsPU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgS2w9KFcsQ2UsT2UpPT5DZSBpbiBXP0hsKFcsQ2Use2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOk9lfSk6V1tDZV09T2U7dmFyIFN0PShXLENlLE9lKT0+KEtsKFcsdHlwZW9mIENlIT0ic3ltYm9sIj9DZSsiIjpDZSxPZSksT2UpLHRyPShXLENlLE9lKT0+e2lmKCFDZS5oYXMoVykpdGhyb3cgVHlwZUVycm9yKCJDYW5ub3QgIitPZSl9O3ZhciBZPShXLENlLE9lKT0+KHRyKFcsQ2UsInJlYWQgZnJvbSBwcml2YXRlIGZpZWxkIiksT2U/T2UuY2FsbChXKTpDZS5nZXQoVykpLGF0PShXLENlLE9lKT0+e2lmKENlLmhhcyhXKSl0aHJvdyBUeXBlRXJyb3IoIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2UiKTtDZSBpbnN0YW5jZW9mIFdlYWtTZXQ/Q2UuYWRkKFcpOkNlLnNldChXLE9lKX0sY3Q9KFcsQ2UsT2UsU2UpPT4odHIoVyxDZSwid3JpdGUgdG8gcHJpdmF0ZSBmaWVsZCIpLFNlP1NlLmNhbGwoVyxPZSk6Q2Uuc2V0KFcsT2UpLE9lKTt2YXIgRGk9KFcsQ2UsT2UsU2UpPT4oe3NldCBfKEJlKXtjdChXLENlLEJlLE9lKX0sZ2V0IF8oKXtyZXR1cm4gWShXLENlLFNlKX19KSxZcj0oVyxDZSxPZSk9Pih0cihXLENlLCJhY2Nlc3MgcHJpdmF0ZSBtZXRob2QiKSxPZSk7KGZ1bmN0aW9uKCl7dmFyIFhlLElpLHd0LFBpLFJ0LGJ0LCRlLF9zLHl0LFhpLEhpLHB0LEtpLGdzLFpyOyJ1c2Ugc3RyaWN0IjtjbGFzcyBXe3N0YXRpYyBXaXRoaW5FcHNpbG9uKGUsdCxpPTE0MDEyOThlLTUxKXtyZXR1cm4gTWF0aC5hYnMoZS10KTw9aX1zdGF0aWMgVG9IZXgoZSl7Y29uc3QgdD1lLnRvU3RyaW5nKDE2KTtyZXR1cm4gZTw9MTU/KCIwIit0KS50b1VwcGVyQ2FzZSgpOnQudG9VcHBlckNhc2UoKX1zdGF0aWMgU2lnbihlKXtyZXR1cm4gZT0rZSxlPT09MHx8aXNOYU4oZSk/ZTplPjA/MTotMX1zdGF0aWMgQ2xhbXAoZSx0PTAsaT0xKXtyZXR1cm4gTWF0aC5taW4oaSxNYXRoLm1heCh0LGUpKX1zdGF0aWMgTG9nMihlKXtyZXR1cm4gTWF0aC5sb2coZSkqTWF0aC5MT0cyRX1zdGF0aWMgSUxvZzIoZSl7aWYoTWF0aC5sb2cyKXJldHVybiBNYXRoLmZsb29yKE1hdGgubG9nMihlKSk7aWYoZTwwKXJldHVybiBOYU47aWYoZT09PTApcmV0dXJuLTEvMDtsZXQgdD0wO2lmKGU8MSl7Zm9yKDtlPDE7KXQrKyxlPWUqMjt0PS10fWVsc2UgaWYoZT4xKWZvcig7ZT4xOyl0KyssZT1NYXRoLmZsb29yKGUvMik7cmV0dXJuIHR9c3RhdGljIFJlcGVhdChlLHQpe3JldHVybiBlLU1hdGguZmxvb3IoZS90KSp0fXN0YXRpYyBOb3JtYWxpemUoZSx0LGkpe3JldHVybihlLXQpLyhpLXQpfXN0YXRpYyBEZW5vcm1hbGl6ZShlLHQsaSl7cmV0dXJuIGUqKGktdCkrdH1zdGF0aWMgRGVsdGFBbmdsZShlLHQpe2xldCBpPVcuUmVwZWF0KHQtZSwzNjApO3JldHVybiBpPjE4MCYmKGktPTM2MCksaX1zdGF0aWMgUGluZ1BvbmcoZSx0KXtjb25zdCBpPVcuUmVwZWF0KGUsdCoyKTtyZXR1cm4gdC1NYXRoLmFicyhpLXQpfXN0YXRpYyBTbW9vdGhTdGVwKGUsdCxpKXtsZXQgcz1XLkNsYW1wKGkpO3JldHVybiBzPS0yKnMqcypzKzMqcypzLHQqcytlKigxLXMpfXN0YXRpYyBNb3ZlVG93YXJkcyhlLHQsaSl7bGV0IHM9MDtyZXR1cm4gTWF0aC5hYnModC1lKTw9aT9zPXQ6cz1lK1cuU2lnbih0LWUpKmksc31zdGF0aWMgTW92ZVRvd2FyZHNBbmdsZShlLHQsaSl7Y29uc3Qgcz1XLkRlbHRhQW5nbGUoZSx0KTtsZXQgcj0wO3JldHVybi1pPHMmJnM8aT9yPXQ6KHQ9ZStzLHI9Vy5Nb3ZlVG93YXJkcyhlLHQsaSkpLHJ9c3RhdGljIExlcnAoZSx0LGkpe3JldHVybiBlKyh0LWUpKml9c3RhdGljIExlcnBBbmdsZShlLHQsaSl7bGV0IHM9Vy5SZXBlYXQodC1lLDM2MCk7cmV0dXJuIHM+MTgwJiYocy09MzYwKSxlK3MqVy5DbGFtcChpKX1zdGF0aWMgSW52ZXJzZUxlcnAoZSx0LGkpe2xldCBzPTA7cmV0dXJuIGUhPXQ/cz1XLkNsYW1wKChpLWUpLyh0LWUpKTpzPTAsc31zdGF0aWMgSGVybWl0ZShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89MiphLTMqbisxLGg9LTIqYSszKm4sbD1hLTIqbityLHU9YS1uO3JldHVybiBlKm8raSpoK3QqbCtzKnV9c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlKGUsdCxpLHMscil7Y29uc3Qgbj1yKnI7cmV0dXJuKG4tcikqNiplKygzKm4tNCpyKzEpKnQrKC1uK3IpKjYqaSsoMypuLTIqcikqc31zdGF0aWMgUmFuZG9tUmFuZ2UoZSx0KXtyZXR1cm4gZT09PXQ/ZTpNYXRoLnJhbmRvbSgpKih0LWUpK2V9c3RhdGljIFJhbmdlVG9QZXJjZW50KGUsdCxpKXtyZXR1cm4oZS10KS8oaS10KX1zdGF0aWMgUGVyY2VudFRvUmFuZ2UoZSx0LGkpe3JldHVybihpLXQpKmUrdH1zdGF0aWMgTm9ybWFsaXplUmFkaWFucyhlKXtyZXR1cm4gZS09Vy5Ud29QaSpNYXRoLmZsb29yKChlK01hdGguUEkpL1cuVHdvUGkpLGV9c3RhdGljIEhDRihlLHQpe2NvbnN0IGk9ZSV0O3JldHVybiBpPT09MD90OlcuSENGKHQsaSl9fVcuVHdvUGk9TWF0aC5QSSoyO2NvbnN0IENlPTEvMi4yLE9lPTIuMixTZT0uMDAxO2NsYXNzIEJle3N0YXRpYyBCdWlsZEFycmF5KGUsdCl7Y29uc3QgaT1bXTtmb3IobGV0IHM9MDtzPGU7KytzKWkucHVzaCh0KCkpO3JldHVybiBpfXN0YXRpYyBCdWlsZFR1cGxlKGUsdCl7cmV0dXJuIEJlLkJ1aWxkQXJyYXkoZSx0KX19ZnVuY3Rpb24gcXIoYyxlLHQpe2NvbnN0IGk9Y1tlXTtpZih0eXBlb2YgaSE9ImZ1bmN0aW9uIilyZXR1cm4gbnVsbDtjb25zdCBzPWZ1bmN0aW9uKCl7Y29uc3Qgcj1jLmxlbmd0aCxuPXMucHJldmlvdXMuYXBwbHkoYyxhcmd1bWVudHMpO3JldHVybiB0KGUsciksbn07cmV0dXJuIGkubmV4dD1zLHMucHJldmlvdXM9aSxjW2VdPXMsKCk9Pntjb25zdCByPXMucHJldmlvdXM7aWYoIXIpcmV0dXJuO2NvbnN0IG49cy5uZXh0O24/KHIubmV4dD1uLG4ucHJldmlvdXM9cik6KHIubmV4dD12b2lkIDAsY1tlXT1yKSxzLm5leHQ9dm9pZCAwLHMucHJldmlvdXM9dm9pZCAwfX1jb25zdCBqcj1bInB1c2giLCJzcGxpY2UiLCJwb3AiLCJzaGlmdCIsInVuc2hpZnQiXTtmdW5jdGlvbiBpcihjLGUpe2NvbnN0IHQ9anIubWFwKGk9PnFyKGMsaSxlKSk7cmV0dXJuKCk9Pnt0LmZvckVhY2goaT0+e2k9PW51bGx8fGkoKX0pfX1jb25zdCBzcj17fTtmdW5jdGlvbiBzdChjLGUpe3NyW2NdPWV9ZnVuY3Rpb24gYWkoYyl7cmV0dXJuIHNyW2NdfWNsYXNzIFVle3N0YXRpYyBTZXRNYXRyaXhQcmVjaXNpb24oZSl7aWYoVWUuTWF0cml4VHJhY2tQcmVjaXNpb25DaGFuZ2U9ITEsZSYmIVVlLk1hdHJpeFVzZTY0Qml0cyYmVWUuTWF0cml4VHJhY2tlZE1hdHJpY2VzKWZvcihsZXQgdD0wO3Q8VWUuTWF0cml4VHJhY2tlZE1hdHJpY2VzLmxlbmd0aDsrK3Qpe2NvbnN0IGk9VWUuTWF0cml4VHJhY2tlZE1hdHJpY2VzW3RdLHM9aS5fbTtpLl9tPW5ldyBBcnJheSgxNik7Zm9yKGxldCByPTA7cjwxNjsrK3IpaS5fbVtyXT1zW3JdfVVlLk1hdHJpeFVzZTY0Qml0cz1lLFVlLk1hdHJpeEN1cnJlbnRUeXBlPVVlLk1hdHJpeFVzZTY0Qml0cz9BcnJheTpGbG9hdDMyQXJyYXksVWUuTWF0cml4VHJhY2tlZE1hdHJpY2VzPW51bGx9fVVlLk1hdHJpeFVzZTY0Qml0cz0hMSxVZS5NYXRyaXhUcmFja1ByZWNpc2lvbkNoYW5nZT0hMCxVZS5NYXRyaXhDdXJyZW50VHlwZT1GbG9hdDMyQXJyYXksVWUuTWF0cml4VHJhY2tlZE1hdHJpY2VzPVtdO2NsYXNzICRye2NvbnN0cnVjdG9yKGUsdD0hMSxpLHMpe3RoaXMuaW5pdGlhbGl6ZShlLHQsaSxzKX1pbml0aWFsaXplKGUsdD0hMSxpLHMpe3JldHVybiB0aGlzLm1hc2s9ZSx0aGlzLnNraXBOZXh0T2JzZXJ2ZXJzPXQsdGhpcy50YXJnZXQ9aSx0aGlzLmN1cnJlbnRUYXJnZXQ9cyx0aGlzfX1jbGFzcyBRcntjb25zdHJ1Y3RvcihlLHQsaT1udWxsKXt0aGlzLmNhbGxiYWNrPWUsdGhpcy5tYXNrPXQsdGhpcy5zY29wZT1pLHRoaXMuX3dpbGxCZVVucmVnaXN0ZXJlZD0hMSx0aGlzLnVucmVnaXN0ZXJPbk5leHRDYWxsPSExfX1jbGFzcyB3e3N0YXRpYyBGcm9tUHJvbWlzZShlLHQpe2NvbnN0IGk9bmV3IHc7cmV0dXJuIGUudGhlbihzPT57aS5ub3RpZnlPYnNlcnZlcnMocyl9KS5jYXRjaChzPT57aWYodCl0Lm5vdGlmeU9ic2VydmVycyhzKTtlbHNlIHRocm93IHN9KSxpfWdldCBvYnNlcnZlcnMoKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzfWNvbnN0cnVjdG9yKGUsdD0hMSl7dGhpcy5ub3RpZnlJZlRyaWdnZXJlZD10LHRoaXMuX29ic2VydmVycz1uZXcgQXJyYXksdGhpcy5fbnVtT2JzZXJ2ZXJzTWFya2VkQXNEZWxldGVkPTAsdGhpcy5faGFzTm90aWZpZWQ9ITEsdGhpcy5fZXZlbnRTdGF0ZT1uZXcgJHIoMCksZSYmKHRoaXMuX29uT2JzZXJ2ZXJBZGRlZD1lKX1hZGQoZSx0PS0xLGk9ITEscz1udWxsLHI9ITEpe2lmKCFlKXJldHVybiBudWxsO2NvbnN0IG49bmV3IFFyKGUsdCxzKTtyZXR1cm4gbi51bnJlZ2lzdGVyT25OZXh0Q2FsbD1yLGk/dGhpcy5fb2JzZXJ2ZXJzLnVuc2hpZnQobik6dGhpcy5fb2JzZXJ2ZXJzLnB1c2gobiksdGhpcy5fb25PYnNlcnZlckFkZGVkJiZ0aGlzLl9vbk9ic2VydmVyQWRkZWQobiksdGhpcy5faGFzTm90aWZpZWQmJnRoaXMubm90aWZ5SWZUcmlnZ2VyZWQmJnRoaXMuX2xhc3ROb3RpZmllZFZhbHVlIT09dm9pZCAwJiZ0aGlzLm5vdGlmeU9ic2VydmVyKG4sdGhpcy5fbGFzdE5vdGlmaWVkVmFsdWUpLG59YWRkT25jZShlKXtyZXR1cm4gdGhpcy5hZGQoZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCwhMCl9cmVtb3ZlKGUpe3JldHVybiBlJiZ0aGlzLl9vYnNlcnZlcnMuaW5kZXhPZihlKSE9PS0xPyh0aGlzLl9kZWZlclVucmVnaXN0ZXIoZSksITApOiExfXJlbW92ZUNhbGxiYWNrKGUsdCl7Zm9yKGxldCBpPTA7aTx0aGlzLl9vYnNlcnZlcnMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLl9vYnNlcnZlcnNbaV07aWYoIXMuX3dpbGxCZVVucmVnaXN0ZXJlZCYmcy5jYWxsYmFjaz09PWUmJighdHx8dD09PXMuc2NvcGUpKXJldHVybiB0aGlzLl9kZWZlclVucmVnaXN0ZXIocyksITB9cmV0dXJuITF9X2RlZmVyVW5yZWdpc3RlcihlKXtlLl93aWxsQmVVbnJlZ2lzdGVyZWR8fCh0aGlzLl9udW1PYnNlcnZlcnNNYXJrZWRBc0RlbGV0ZWQrKyxlLnVucmVnaXN0ZXJPbk5leHRDYWxsPSExLGUuX3dpbGxCZVVucmVnaXN0ZXJlZD0hMCxzZXRUaW1lb3V0KCgpPT57dGhpcy5fcmVtb3ZlKGUpfSwwKSl9X3JlbW92ZShlLHQ9ITApe2lmKCFlKXJldHVybiExO2NvbnN0IGk9dGhpcy5fb2JzZXJ2ZXJzLmluZGV4T2YoZSk7cmV0dXJuIGkhPT0tMT8odCYmdGhpcy5fbnVtT2JzZXJ2ZXJzTWFya2VkQXNEZWxldGVkLS0sdGhpcy5fb2JzZXJ2ZXJzLnNwbGljZShpLDEpLCEwKTohMX1tYWtlT2JzZXJ2ZXJUb3BQcmlvcml0eShlKXt0aGlzLl9yZW1vdmUoZSwhMSksdGhpcy5fb2JzZXJ2ZXJzLnVuc2hpZnQoZSl9bWFrZU9ic2VydmVyQm90dG9tUHJpb3JpdHkoZSl7dGhpcy5fcmVtb3ZlKGUsITEpLHRoaXMuX29ic2VydmVycy5wdXNoKGUpfW5vdGlmeU9ic2VydmVycyhlLHQ9LTEsaSxzLHIpe2lmKHRoaXMubm90aWZ5SWZUcmlnZ2VyZWQmJih0aGlzLl9oYXNOb3RpZmllZD0hMCx0aGlzLl9sYXN0Tm90aWZpZWRWYWx1ZT1lKSwhdGhpcy5fb2JzZXJ2ZXJzLmxlbmd0aClyZXR1cm4hMDtjb25zdCBuPXRoaXMuX2V2ZW50U3RhdGU7bi5tYXNrPXQsbi50YXJnZXQ9aSxuLmN1cnJlbnRUYXJnZXQ9cyxuLnNraXBOZXh0T2JzZXJ2ZXJzPSExLG4ubGFzdFJldHVyblZhbHVlPWUsbi51c2VySW5mbz1yO2Zvcihjb25zdCBhIG9mIHRoaXMuX29ic2VydmVycylpZighYS5fd2lsbEJlVW5yZWdpc3RlcmVkJiYoYS5tYXNrJnQmJihhLnVucmVnaXN0ZXJPbk5leHRDYWxsJiZ0aGlzLl9kZWZlclVucmVnaXN0ZXIoYSksYS5zY29wZT9uLmxhc3RSZXR1cm5WYWx1ZT1hLmNhbGxiYWNrLmFwcGx5KGEuc2NvcGUsW2Usbl0pOm4ubGFzdFJldHVyblZhbHVlPWEuY2FsbGJhY2soZSxuKSksbi5za2lwTmV4dE9ic2VydmVycykpcmV0dXJuITE7cmV0dXJuITB9bm90aWZ5T2JzZXJ2ZXIoZSx0LGk9LTEpe2lmKHRoaXMubm90aWZ5SWZUcmlnZ2VyZWQmJih0aGlzLl9oYXNOb3RpZmllZD0hMCx0aGlzLl9sYXN0Tm90aWZpZWRWYWx1ZT10KSxlLl93aWxsQmVVbnJlZ2lzdGVyZWQpcmV0dXJuO2NvbnN0IHM9dGhpcy5fZXZlbnRTdGF0ZTtzLm1hc2s9aSxzLnNraXBOZXh0T2JzZXJ2ZXJzPSExLGUudW5yZWdpc3Rlck9uTmV4dENhbGwmJnRoaXMuX2RlZmVyVW5yZWdpc3RlcihlKSxlLmNhbGxiYWNrKHQscyl9aGFzT2JzZXJ2ZXJzKCl7cmV0dXJuIHRoaXMuX29ic2VydmVycy5sZW5ndGgtdGhpcy5fbnVtT2JzZXJ2ZXJzTWFya2VkQXNEZWxldGVkPjB9Y2xlYXIoKXt0aGlzLl9vYnNlcnZlcnMubGVuZ3RoPTAsdGhpcy5fb25PYnNlcnZlckFkZGVkPW51bGwsdGhpcy5fbnVtT2JzZXJ2ZXJzTWFya2VkQXNEZWxldGVkPTAsdGhpcy5jbGVhbkxhc3ROb3RpZmllZFN0YXRlKCl9Y2xlYW5MYXN0Tm90aWZpZWRTdGF0ZSgpe3RoaXMuX2hhc05vdGlmaWVkPSExLHRoaXMuX2xhc3ROb3RpZmllZFZhbHVlPXZvaWQgMH1jbG9uZSgpe2NvbnN0IGU9bmV3IHc7cmV0dXJuIGUuX29ic2VydmVycz10aGlzLl9vYnNlcnZlcnMuc2xpY2UoMCksZX1oYXNTcGVjaWZpY01hc2soZT0tMSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fb2JzZXJ2ZXJzKWlmKHQubWFzayZlfHx0Lm1hc2s9PT1lKXJldHVybiEwO3JldHVybiExfX1jbGFzcyBsZXtzdGF0aWMgZ2V0IExhc3RDcmVhdGVkRW5naW5lKCl7cmV0dXJuIHRoaXMuSW5zdGFuY2VzLmxlbmd0aD09PTA/bnVsbDp0aGlzLkluc3RhbmNlc1t0aGlzLkluc3RhbmNlcy5sZW5ndGgtMV19c3RhdGljIGdldCBMYXN0Q3JlYXRlZFNjZW5lKCl7cmV0dXJuIHRoaXMuX0xhc3RDcmVhdGVkU2NlbmV9fWxlLkluc3RhbmNlcz1uZXcgQXJyYXksbGUuT25FbmdpbmVzRGlzcG9zZWRPYnNlcnZhYmxlPW5ldyB3LGxlLl9MYXN0Q3JlYXRlZFNjZW5lPW51bGwsbGUuVXNlRmFsbGJhY2tUZXh0dXJlPSEwLGxlLkZhbGxiYWNrVGV4dHVyZT0iIjtjb25zdCBydD1jPT5wYXJzZUludChjLnRvU3RyaW5nKCkucmVwbGFjZSgvXFcvZywiIikpO2NsYXNzIHZle2NvbnN0cnVjdG9yKGU9MCx0PTApe3RoaXMueD1lLHRoaXMueT10fXRvU3RyaW5nKCl7cmV0dXJuYHtYOiAke3RoaXMueH0gWTogJHt0aGlzLnl9fWB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlZlY3RvcjIifWdldEhhc2hDb2RlKCl7Y29uc3QgZT1ydCh0aGlzLngpLHQ9cnQodGhpcy55KTtsZXQgaT1lO3JldHVybiBpPWkqMzk3XnQsaX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLngsZVt0KzFdPXRoaXMueSx0aGlzfWZyb21BcnJheShlLHQ9MCl7cmV0dXJuIHZlLkZyb21BcnJheVRvUmVmKGUsdCx0aGlzKSx0aGlzfWFzQXJyYXkoKXtjb25zdCBlPW5ldyBBcnJheTtyZXR1cm4gdGhpcy50b0FycmF5KGUsMCksZX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy54PWUueCx0aGlzLnk9ZS55LHRoaXN9Y29weUZyb21GbG9hdHMoZSx0KXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpc31zZXQoZSx0KXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQpfWFkZChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54K2UueCx0aGlzLnkrZS55KX1hZGRUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54K2UueCx0Lnk9dGhpcy55K2UueSx0fWFkZEluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCs9ZS54LHRoaXMueSs9ZS55LHRoaXN9YWRkVmVjdG9yMyhlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54K2UueCx0aGlzLnkrZS55KX1zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LWUueCx0aGlzLnktZS55KX1zdWJ0cmFjdFRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngtZS54LHQueT10aGlzLnktZS55LHR9c3VidHJhY3RJblBsYWNlKGUpe3JldHVybiB0aGlzLngtPWUueCx0aGlzLnktPWUueSx0aGlzfW11bHRpcGx5SW5QbGFjZShlKXtyZXR1cm4gdGhpcy54Kj1lLngsdGhpcy55Kj1lLnksdGhpc31tdWx0aXBseShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54KmUueCx0aGlzLnkqZS55KX1tdWx0aXBseVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngqZS54LHQueT10aGlzLnkqZS55LHR9bXVsdGlwbHlCeUZsb2F0cyhlLHQpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngqZSx0aGlzLnkqdCl9ZGl2aWRlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngvZS54LHRoaXMueS9lLnkpfWRpdmlkZVRvUmVmKGUsdCl7cmV0dXJuIHQueD10aGlzLngvZS54LHQueT10aGlzLnkvZS55LHR9ZGl2aWRlSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5kaXZpZGVUb1JlZihlLHRoaXMpfW5lZ2F0ZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3RvcigtdGhpcy54LC10aGlzLnkpfW5lZ2F0ZUluUGxhY2UoKXtyZXR1cm4gdGhpcy54Kj0tMSx0aGlzLnkqPS0xLHRoaXN9bmVnYXRlVG9SZWYoZSl7cmV0dXJuIGUuY29weUZyb21GbG9hdHModGhpcy54Ki0xLHRoaXMueSotMSl9c2NhbGVJblBsYWNlKGUpe3JldHVybiB0aGlzLngqPWUsdGhpcy55Kj1lLHRoaXN9c2NhbGUoZSl7Y29uc3QgdD1uZXcgdGhpcy5jb25zdHJ1Y3RvcigwLDApO3JldHVybiB0aGlzLnNjYWxlVG9SZWYoZSx0KSx0fXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLHQueT10aGlzLnkqZSx0fXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54Kz10aGlzLngqZSx0LnkrPXRoaXMueSplLHR9ZXF1YWxzKGUpe3JldHVybiBlJiZ0aGlzLng9PT1lLngmJnRoaXMueT09PWUueX1lcXVhbHNXaXRoRXBzaWxvbihlLHQ9U2Upe3JldHVybiBlJiZXLldpdGhpbkVwc2lsb24odGhpcy54LGUueCx0KSYmVy5XaXRoaW5FcHNpbG9uKHRoaXMueSxlLnksdCl9Zmxvb3IoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoTWF0aC5mbG9vcih0aGlzLngpLE1hdGguZmxvb3IodGhpcy55KSl9ZnJhY3QoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LU1hdGguZmxvb3IodGhpcy54KSx0aGlzLnktTWF0aC5mbG9vcih0aGlzLnkpKX1yb3RhdGVUb1JlZihlLHQpe2NvbnN0IGk9TWF0aC5jb3MoZSkscz1NYXRoLnNpbihlKSxyPWkqdGhpcy54LXMqdGhpcy55LG49cyp0aGlzLngraSp0aGlzLnk7cmV0dXJuIHQueD1yLHQueT1uLHR9bGVuZ3RoKCl7cmV0dXJuIE1hdGguc3FydCh0aGlzLngqdGhpcy54K3RoaXMueSp0aGlzLnkpfWxlbmd0aFNxdWFyZWQoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55fW5vcm1hbGl6ZSgpe3JldHVybiB2ZS5Ob3JtYWxpemVUb1JlZih0aGlzLHRoaXMpLHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54LHRoaXMueSl9c3RhdGljIFplcm8oKXtyZXR1cm4gbmV3IHZlKDAsMCl9c3RhdGljIE9uZSgpe3JldHVybiBuZXcgdmUoMSwxKX1zdGF0aWMgUmFuZG9tKGU9MCx0PTEpe3JldHVybiBuZXcgdmUoVy5SYW5kb21SYW5nZShlLHQpLFcuUmFuZG9tUmFuZ2UoZSx0KSl9c3RhdGljIGdldCBaZXJvUmVhZE9ubHkoKXtyZXR1cm4gdmUuX1plcm9SZWFkT25seX1zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gbmV3IHZlKGVbdF0sZVt0KzFdKX1zdGF0aWMgRnJvbUFycmF5VG9SZWYoZSx0LGkpe3JldHVybiBpLng9ZVt0XSxpLnk9ZVt0KzFdLGl9c3RhdGljIENhdG11bGxSb20oZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPS41KigyKnQueCsoLWUueCtpLngpKnIrKDIqZS54LTUqdC54KzQqaS54LXMueCkqbisoLWUueCszKnQueC0zKmkueCtzLngpKmEpLGg9LjUqKDIqdC55KygtZS55K2kueSkqcisoMiplLnktNSp0LnkrNCppLnktcy55KSpuKygtZS55KzMqdC55LTMqaS55K3MueSkqYSk7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKG8saCl9c3RhdGljIENsYW1wKGUsdCxpKXtsZXQgcz1lLng7cz1zPmkueD9pLng6cyxzPXM8dC54P3QueDpzO2xldCByPWUueTtyZXR1cm4gcj1yPmkueT9pLnk6cixyPXI8dC55P3QueTpyLG5ldyBlLmNvbnN0cnVjdG9yKHMscil9c3RhdGljIEhlcm1pdGUoZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPTIqYS0zKm4rMSxoPS0yKmErMypuLGw9YS0yKm4rcix1PWEtbixkPWUueCpvK2kueCpoK3QueCpsK3MueCp1LF89ZS55Km8raS55KmgrdC55Kmwrcy55KnU7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGQsXyl9c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlKGUsdCxpLHMscil7Y29uc3Qgbj1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5IZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKSxufXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZVRvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIqcjtyZXR1cm4gbi54PShhLXIpKjYqZS54KygzKmEtNCpyKzEpKnQueCsoLWErcikqNippLngrKDMqYS0yKnIpKnMueCxuLnk9KGEtcikqNiplLnkrKDMqYS00KnIrMSkqdC55KygtYStyKSo2KmkueSsoMyphLTIqcikqcy55LG59c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9ZS54Kyh0LngtZS54KSppLHI9ZS55Kyh0LnktZS55KSppO3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihzLHIpfXN0YXRpYyBEb3QoZSx0KXtyZXR1cm4gZS54KnQueCtlLnkqdC55fXN0YXRpYyBOb3JtYWxpemUoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5Ob3JtYWxpemVUb1JlZihlLHQpLHR9c3RhdGljIE5vcm1hbGl6ZVRvUmVmKGUsdCl7Y29uc3QgaT1lLmxlbmd0aCgpO3JldHVybiBpPT09MHx8KHQueD1lLngvaSx0Lnk9ZS55L2kpLHR9c3RhdGljIE1pbmltaXplKGUsdCl7Y29uc3QgaT1lLng8dC54P2UueDp0Lngscz1lLnk8dC55P2UueTp0Lnk7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGkscyl9c3RhdGljIE1heGltaXplKGUsdCl7Y29uc3QgaT1lLng+dC54P2UueDp0Lngscz1lLnk+dC55P2UueTp0Lnk7cmV0dXJuIG5ldyBlLmNvbnN0cnVjdG9yKGkscyl9c3RhdGljIFRyYW5zZm9ybShlLHQpe2NvbnN0IGk9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHZlLlRyYW5zZm9ybVRvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Ub1JlZihlLHQsaSl7Y29uc3Qgcz10Lm0scj1lLngqc1swXStlLnkqc1s0XStzWzEyXSxuPWUueCpzWzFdK2UueSpzWzVdK3NbMTNdO3JldHVybiBpLng9cixpLnk9bixpfXN0YXRpYyBQb2ludEluVHJpYW5nbGUoZSx0LGkscyl7Y29uc3Qgcj0uNSooLWkueSpzLngrdC55KigtaS54K3MueCkrdC54KihpLnktcy55KStpLngqcy55KSxuPXI8MD8tMToxLGE9KHQueSpzLngtdC54KnMueSsocy55LXQueSkqZS54Kyh0Lngtcy54KSplLnkpKm4sbz0odC54KmkueS10LnkqaS54Kyh0LnktaS55KSplLngrKGkueC10LngpKmUueSkqbjtyZXR1cm4gYT4wJiZvPjAmJmErbzwyKnIqbn1zdGF0aWMgRGlzdGFuY2UoZSx0KXtyZXR1cm4gTWF0aC5zcXJ0KHZlLkRpc3RhbmNlU3F1YXJlZChlLHQpKX1zdGF0aWMgRGlzdGFuY2VTcXVhcmVkKGUsdCl7Y29uc3QgaT1lLngtdC54LHM9ZS55LXQueTtyZXR1cm4gaSppK3Mqc31zdGF0aWMgQ2VudGVyKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gdmUuQ2VudGVyVG9SZWYoZSx0LGkpfXN0YXRpYyBDZW50ZXJUb1JlZihlLHQsaSl7cmV0dXJuIGkuY29weUZyb21GbG9hdHMoKGUueCt0LngpLzIsKGUueSt0LnkpLzIpfXN0YXRpYyBEaXN0YW5jZU9mUG9pbnRGcm9tU2VnbWVudChlLHQsaSl7Y29uc3Qgcz12ZS5EaXN0YW5jZVNxdWFyZWQodCxpKTtpZihzPT09MClyZXR1cm4gdmUuRGlzdGFuY2UoZSx0KTtjb25zdCByPWkuc3VidHJhY3QodCksbj1NYXRoLm1heCgwLE1hdGgubWluKDEsdmUuRG90KGUuc3VidHJhY3QodCkscikvcykpLGE9dC5hZGQoci5tdWx0aXBseUJ5RmxvYXRzKG4sbikpO3JldHVybiB2ZS5EaXN0YW5jZShlLGEpfX12ZS5fWmVyb1JlYWRPbmx5PXZlLlplcm8oKTtjbGFzcyBwe2dldCB4KCl7cmV0dXJuIHRoaXMuX3h9c2V0IHgoZSl7dGhpcy5feD1lLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHkoKXtyZXR1cm4gdGhpcy5feX1zZXQgeShlKXt0aGlzLl95PWUsdGhpcy5faXNEaXJ0eT0hMH1nZXQgeigpe3JldHVybiB0aGlzLl96fXNldCB6KGUpe3RoaXMuX3o9ZSx0aGlzLl9pc0RpcnR5PSEwfWNvbnN0cnVjdG9yKGU9MCx0PTAsaT0wKXt0aGlzLl9pc0RpcnR5PSEwLHRoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1pfXRvU3RyaW5nKCl7cmV0dXJuYHtYOiAke3RoaXMuX3h9IFk6ICR7dGhpcy5feX0gWjogJHt0aGlzLl96fX1gfWdldENsYXNzTmFtZSgpe3JldHVybiJWZWN0b3IzIn1nZXRIYXNoQ29kZSgpe2NvbnN0IGU9cnQodGhpcy5feCksdD1ydCh0aGlzLl95KSxpPXJ0KHRoaXMuX3opO2xldCBzPWU7cmV0dXJuIHM9cyozOTdedCxzPXMqMzk3Xmksc31hc0FycmF5KCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy50b0FycmF5KGUsMCksZX10b0FycmF5KGUsdD0wKXtyZXR1cm4gZVt0XT10aGlzLl94LGVbdCsxXT10aGlzLl95LGVbdCsyXT10aGlzLl96LHRoaXN9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gcC5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc310b1F1YXRlcm5pb24oKXtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbCh0aGlzLl95LHRoaXMuX3gsdGhpcy5feil9YWRkSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5hZGRJblBsYWNlRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9YWRkSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLl94Kz1lLHRoaXMuX3krPXQsdGhpcy5feis9aSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9YWRkKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94K2UuX3gsdGhpcy5feStlLl95LHRoaXMuX3orZS5feil9YWRkVG9SZWYoZSx0KXtyZXR1cm4gdC5jb3B5RnJvbUZsb2F0cyh0aGlzLl94K2UuX3gsdGhpcy5feStlLl95LHRoaXMuX3orZS5feil9c3VidHJhY3RJblBsYWNlKGUpe3JldHVybiB0aGlzLl94LT1lLl94LHRoaXMuX3ktPWUuX3ksdGhpcy5fei09ZS5feix0aGlzLl9pc0RpcnR5PSEwLHRoaXN9c3VidHJhY3QoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gtZS5feCx0aGlzLl95LWUuX3ksdGhpcy5fei1lLl96KX1zdWJ0cmFjdFRvUmVmKGUsdCl7cmV0dXJuIHRoaXMuc3VidHJhY3RGcm9tRmxvYXRzVG9SZWYoZS5feCxlLl95LGUuX3osdCl9c3VidHJhY3RGcm9tRmxvYXRzKGUsdCxpKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feC1lLHRoaXMuX3ktdCx0aGlzLl96LWkpfXN1YnRyYWN0RnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMpe3JldHVybiBzLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gtZSx0aGlzLl95LXQsdGhpcy5fei1pKX1uZWdhdGUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoLXRoaXMuX3gsLXRoaXMuX3ksLXRoaXMuX3opfW5lZ2F0ZUluUGxhY2UoKXtyZXR1cm4gdGhpcy5feCo9LTEsdGhpcy5feSo9LTEsdGhpcy5feio9LTEsdGhpcy5faXNEaXJ0eT0hMCx0aGlzfW5lZ2F0ZVRvUmVmKGUpe3JldHVybiBlLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gqLTEsdGhpcy5feSotMSx0aGlzLl96Ki0xKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMuX3gqPWUsdGhpcy5feSo9ZSx0aGlzLl96Kj1lLHRoaXMuX2lzRGlydHk9ITAsdGhpc31zY2FsZShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCplLHRoaXMuX3kqZSx0aGlzLl96KmUpfXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC5jb3B5RnJvbUZsb2F0cyh0aGlzLl94KmUsdGhpcy5feSplLHRoaXMuX3oqZSl9Z2V0Tm9ybWFsVG9SZWYoZSl7Y29uc3QgdD10aGlzLmxlbmd0aCgpO2xldCBpPU1hdGguYWNvcyh0aGlzLnkvdCk7Y29uc3Qgcz1NYXRoLmF0YW4yKHRoaXMueix0aGlzLngpO2k+TWF0aC5QSS8yP2ktPU1hdGguUEkvMjppKz1NYXRoLlBJLzI7Y29uc3Qgcj10Kk1hdGguc2luKGkpKk1hdGguY29zKHMpLG49dCpNYXRoLmNvcyhpKSxhPXQqTWF0aC5zaW4oaSkqTWF0aC5zaW4ocyk7cmV0dXJuIGUuc2V0KHIsbixhKSxlfWFwcGx5Um90YXRpb25RdWF0ZXJuaW9uVG9SZWYoZSx0KXtjb25zdCBpPWUuX3cqdGhpcy5feCtlLl95KnRoaXMuX3otZS5feip0aGlzLl95LHM9ZS5fdyp0aGlzLl95K2UuX3oqdGhpcy5feC1lLl94KnRoaXMuX3oscj1lLl93KnRoaXMuX3orZS5feCp0aGlzLl95LWUuX3kqdGhpcy5feCxuPS1lLl94KnRoaXMuX3gtZS5feSp0aGlzLl95LWUuX3oqdGhpcy5fejtyZXR1cm4gdC5feD1pKmUuX3crbiotZS5feCtzKi1lLl96LXIqLWUuX3ksdC5feT1zKmUuX3crbiotZS5feStyKi1lLl94LWkqLWUuX3osdC5fej1yKmUuX3crbiotZS5feitpKi1lLl95LXMqLWUuX3gsdC5faXNEaXJ0eT0hMCx0fWFwcGx5Um90YXRpb25RdWF0ZXJuaW9uSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5hcHBseVJvdGF0aW9uUXVhdGVybmlvblRvUmVmKGUsdGhpcyl9YXBwbHlSb3RhdGlvblF1YXRlcm5pb24oZSl7cmV0dXJuIHRoaXMuYXBwbHlSb3RhdGlvblF1YXRlcm5pb25Ub1JlZihlLG5ldyB0aGlzLmNvbnN0cnVjdG9yKX1zY2FsZUFuZEFkZFRvUmVmKGUsdCl7cmV0dXJuIHQuYWRkSW5QbGFjZUZyb21GbG9hdHModGhpcy5feCplLHRoaXMuX3kqZSx0aGlzLl96KmUpfXByb2plY3RPblBsYW5lKGUsdCl7Y29uc3QgaT1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5wcm9qZWN0T25QbGFuZVRvUmVmKGUsdCxpKSxpfXByb2plY3RPblBsYW5lVG9SZWYoZSx0LGkpe2NvbnN0IHM9ZS5ub3JtYWwscj1lLmQsbj1LLlZlY3RvcjNbMF07dGhpcy5zdWJ0cmFjdFRvUmVmKHQsbiksbi5ub3JtYWxpemUoKTtjb25zdCBhPXAuRG90KG4scyk7aWYoTWF0aC5hYnMoYSk8TWF0aC5wb3coMTAsLTEwKSlpLnNldEFsbCgxLzApO2Vsc2V7Y29uc3Qgbz0tKHAuRG90KHQscykrcikvYSxoPW4uc2NhbGVJblBsYWNlKG8pO3QuYWRkVG9SZWYoaCxpKX1yZXR1cm4gaX1lcXVhbHMoZSl7cmV0dXJuIGUmJnRoaXMuX3g9PT1lLl94JiZ0aGlzLl95PT09ZS5feSYmdGhpcy5fej09PWUuX3p9ZXF1YWxzV2l0aEVwc2lsb24oZSx0PVNlKXtyZXR1cm4gZSYmVy5XaXRoaW5FcHNpbG9uKHRoaXMuX3gsZS5feCx0KSYmVy5XaXRoaW5FcHNpbG9uKHRoaXMuX3ksZS5feSx0KSYmVy5XaXRoaW5FcHNpbG9uKHRoaXMuX3osZS5feix0KX1lcXVhbHNUb0Zsb2F0cyhlLHQsaSl7cmV0dXJuIHRoaXMuX3g9PT1lJiZ0aGlzLl95PT09dCYmdGhpcy5fej09PWl9bXVsdGlwbHlJblBsYWNlKGUpe3JldHVybiB0aGlzLl94Kj1lLl94LHRoaXMuX3kqPWUuX3ksdGhpcy5feio9ZS5feix0aGlzLl9pc0RpcnR5PSEwLHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlCeUZsb2F0cyhlLl94LGUuX3ksZS5feil9bXVsdGlwbHlUb1JlZihlLHQpe3JldHVybiB0LmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gqZS5feCx0aGlzLl95KmUuX3ksdGhpcy5feiplLl96KX1tdWx0aXBseUJ5RmxvYXRzKGUsdCxpKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCplLHRoaXMuX3kqdCx0aGlzLl96KmkpfWRpdmlkZShlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feC9lLl94LHRoaXMuX3kvZS5feSx0aGlzLl96L2UuX3opfWRpdmlkZVRvUmVmKGUsdCl7cmV0dXJuIHQuY29weUZyb21GbG9hdHModGhpcy5feC9lLl94LHRoaXMuX3kvZS5feSx0aGlzLl96L2UuX3opfWRpdmlkZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX1taW5pbWl6ZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMubWluaW1pemVJblBsYWNlRnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9bWF4aW1pemVJblBsYWNlKGUpe3JldHVybiB0aGlzLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfW1pbmltaXplSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiBlPHRoaXMuX3gmJih0aGlzLng9ZSksdDx0aGlzLl95JiYodGhpcy55PXQpLGk8dGhpcy5feiYmKHRoaXMuej1pKSx0aGlzfW1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiBlPnRoaXMuX3gmJih0aGlzLng9ZSksdD50aGlzLl95JiYodGhpcy55PXQpLGk+dGhpcy5feiYmKHRoaXMuej1pKSx0aGlzfWlzTm9uVW5pZm9ybVdpdGhpbkVwc2lsb24oZSl7Y29uc3QgdD1NYXRoLmFicyh0aGlzLl94KSxpPU1hdGguYWJzKHRoaXMuX3kpO2lmKCFXLldpdGhpbkVwc2lsb24odCxpLGUpKXJldHVybiEwO2NvbnN0IHM9TWF0aC5hYnModGhpcy5feik7cmV0dXJuIVcuV2l0aGluRXBzaWxvbih0LHMsZSl8fCFXLldpdGhpbkVwc2lsb24oaSxzLGUpfWdldCBpc05vblVuaWZvcm0oKXtjb25zdCBlPU1hdGguYWJzKHRoaXMuX3gpLHQ9TWF0aC5hYnModGhpcy5feSk7aWYoZSE9PXQpcmV0dXJuITA7Y29uc3QgaT1NYXRoLmFicyh0aGlzLl96KTtyZXR1cm4gZSE9PWl9Zmxvb3IoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoTWF0aC5mbG9vcih0aGlzLl94KSxNYXRoLmZsb29yKHRoaXMuX3kpLE1hdGguZmxvb3IodGhpcy5feikpfWZyYWN0KCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gtTWF0aC5mbG9vcih0aGlzLl94KSx0aGlzLl95LU1hdGguZmxvb3IodGhpcy5feSksdGhpcy5fei1NYXRoLmZsb29yKHRoaXMuX3opKX1sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96KX1sZW5ndGhTcXVhcmVkKCl7cmV0dXJuIHRoaXMuX3gqdGhpcy5feCt0aGlzLl95KnRoaXMuX3krdGhpcy5feip0aGlzLl96fWdldCBoYXNBWmVyb0NvbXBvbmVudCgpe3JldHVybiB0aGlzLl94KnRoaXMuX3kqdGhpcy5fej09PTB9bm9ybWFsaXplKCl7cmV0dXJuIHRoaXMubm9ybWFsaXplRnJvbUxlbmd0aCh0aGlzLmxlbmd0aCgpKX1yZW9yZGVySW5QbGFjZShlKXtyZXR1cm4gZT1lLnRvTG93ZXJDYXNlKCksZT09PSJ4eXoiP3RoaXM6KEsuVmVjdG9yM1swXS5jb3B5RnJvbSh0aGlzKSxbIngiLCJ5IiwieiJdLmZvckVhY2goKHQsaSk9Pnt0aGlzW3RdPUsuVmVjdG9yM1swXVtlW2ldXX0pLHRoaXMpfXJvdGF0ZUJ5UXVhdGVybmlvblRvUmVmKGUsdCl7cmV0dXJuIGUudG9Sb3RhdGlvbk1hdHJpeChLLk1hdHJpeFswXSkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMsSy5NYXRyaXhbMF0sdCksdH1yb3RhdGVCeVF1YXRlcm5pb25Bcm91bmRQb2ludFRvUmVmKGUsdCxpKXtyZXR1cm4gdGhpcy5zdWJ0cmFjdFRvUmVmKHQsSy5WZWN0b3IzWzBdKSxLLlZlY3RvcjNbMF0ucm90YXRlQnlRdWF0ZXJuaW9uVG9SZWYoZSxLLlZlY3RvcjNbMF0pLHQuYWRkVG9SZWYoSy5WZWN0b3IzWzBdLGkpLGl9Y3Jvc3MoZSl7Y29uc3QgdD1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5Dcm9zc1RvUmVmKHRoaXMsZSx0KX1ub3JtYWxpemVGcm9tTGVuZ3RoKGUpe3JldHVybiBlPT09MHx8ZT09PTE/dGhpczp0aGlzLnNjYWxlSW5QbGFjZSgxL2UpfW5vcm1hbGl6ZVRvTmV3KCl7Y29uc3QgZT1uZXcgdGhpcy5jb25zdHJ1Y3RvcigwLDAsMCk7cmV0dXJuIHRoaXMubm9ybWFsaXplVG9SZWYoZSksZX1ub3JtYWxpemVUb1JlZihlKXtjb25zdCB0PXRoaXMubGVuZ3RoKCk7cmV0dXJuIHQ9PT0wfHx0PT09MT9lLmNvcHlGcm9tRmxvYXRzKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KTp0aGlzLnNjYWxlVG9SZWYoMS90LGUpfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuX3gsdGhpcy5feSx0aGlzLl96KX1jb3B5RnJvbShlKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLl94LGUuX3ksZS5feil9Y29weUZyb21GbG9hdHMoZSx0LGkpe3JldHVybiB0aGlzLl94PWUsdGhpcy5feT10LHRoaXMuX3o9aSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9c2V0KGUsdCxpKXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQsaSl9c2V0QWxsKGUpe3JldHVybiB0aGlzLl94PXRoaXMuX3k9dGhpcy5fej1lLHRoaXMuX2lzRGlydHk9ITAsdGhpc31zdGF0aWMgR2V0Q2xpcEZhY3RvcihlLHQsaSxzKXtjb25zdCByPXAuRG90KGUsaSktcyxuPXAuRG90KHQsaSktcztyZXR1cm4gci8oci1uKX1zdGF0aWMgR2V0QW5nbGVCZXR3ZWVuVmVjdG9ycyhlLHQsaSl7Y29uc3Qgcz1lLm5vcm1hbGl6ZVRvUmVmKEsuVmVjdG9yM1sxXSkscj10Lm5vcm1hbGl6ZVRvUmVmKEsuVmVjdG9yM1syXSk7bGV0IG49cC5Eb3QocyxyKTtuPVcuQ2xhbXAobiwtMSwxKTtjb25zdCBhPU1hdGguYWNvcyhuKSxvPUsuVmVjdG9yM1szXTtyZXR1cm4gcC5Dcm9zc1RvUmVmKHMscixvKSxwLkRvdChvLGkpPjA/aXNOYU4oYSk/MDphOmlzTmFOKGEpPy1NYXRoLlBJOi1NYXRoLmFjb3Mobil9c3RhdGljIEdldEFuZ2xlQmV0d2VlblZlY3RvcnNPblBsYW5lKGUsdCxpKXtLLlZlY3RvcjNbMF0uY29weUZyb20oZSk7Y29uc3Qgcz1LLlZlY3RvcjNbMF07Sy5WZWN0b3IzWzFdLmNvcHlGcm9tKHQpO2NvbnN0IHI9Sy5WZWN0b3IzWzFdO0suVmVjdG9yM1syXS5jb3B5RnJvbShpKTtjb25zdCBuPUsuVmVjdG9yM1syXSxhPUsuVmVjdG9yM1szXSxvPUsuVmVjdG9yM1s0XTtzLm5vcm1hbGl6ZSgpLHIubm9ybWFsaXplKCksbi5ub3JtYWxpemUoKSxwLkNyb3NzVG9SZWYobixzLGEpLHAuQ3Jvc3NUb1JlZihhLG4sbyk7Y29uc3QgaD1NYXRoLmF0YW4yKHAuRG90KHIsYSkscC5Eb3QocixvKSk7cmV0dXJuIFcuTm9ybWFsaXplUmFkaWFucyhoKX1zdGF0aWMgUGl0Y2hZYXdSb2xsVG9Nb3ZlQmV0d2VlblBvaW50c1RvUmVmKGUsdCxpKXtjb25zdCBzPUYuVmVjdG9yM1swXTtyZXR1cm4gdC5zdWJ0cmFjdFRvUmVmKGUscyksaS5feT1NYXRoLmF0YW4yKHMueCxzLnopfHwwLGkuX3g9TWF0aC5hdGFuMihNYXRoLnNxcnQocy54KioyK3MueioqMikscy55KXx8MCxpLl96PTAsaS5faXNEaXJ0eT0hMCxpfXN0YXRpYyBQaXRjaFlhd1JvbGxUb01vdmVCZXR3ZWVuUG9pbnRzKGUsdCl7Y29uc3QgaT1wLlplcm8oKTtyZXR1cm4gcC5QaXRjaFlhd1JvbGxUb01vdmVCZXR3ZWVuUG9pbnRzVG9SZWYoZSx0LGkpfXN0YXRpYyBTbGVycFRvUmVmKGUsdCxpLHMpe2k9Vy5DbGFtcChpLDAsMSk7Y29uc3Qgcj1LLlZlY3RvcjNbMF0sbj1LLlZlY3RvcjNbMV07ci5jb3B5RnJvbShlKTtjb25zdCBhPXIubGVuZ3RoKCk7ci5ub3JtYWxpemVGcm9tTGVuZ3RoKGEpLG4uY29weUZyb20odCk7Y29uc3Qgbz1uLmxlbmd0aCgpO24ubm9ybWFsaXplRnJvbUxlbmd0aChvKTtjb25zdCBoPXAuRG90KHIsbik7bGV0IGwsdTtpZihoPDEtU2Upe2NvbnN0IGQ9TWF0aC5hY29zKGgpLF89MS9NYXRoLnNpbihkKTtsPU1hdGguc2luKCgxLWkpKmQpKl8sdT1NYXRoLnNpbihpKmQpKl99ZWxzZSBsPTEtaSx1PWk7cmV0dXJuIHIuc2NhbGVJblBsYWNlKGwpLG4uc2NhbGVJblBsYWNlKHUpLHMuY29weUZyb20ocikuYWRkSW5QbGFjZShuKSxzLnNjYWxlSW5QbGFjZShXLkxlcnAoYSxvLGkpKSxzfXN0YXRpYyBTbW9vdGhUb1JlZihlLHQsaSxzLHIpe3JldHVybiBwLlNsZXJwVG9SZWYoZSx0LHM9PT0wPzE6aS9zLHIpLHJ9c3RhdGljIEZyb21BcnJheShlLHQ9MCl7cmV0dXJuIG5ldyBwKGVbdF0sZVt0KzFdLGVbdCsyXSl9c3RhdGljIEZyb21GbG9hdEFycmF5KGUsdCl7cmV0dXJuIHAuRnJvbUFycmF5KGUsdCl9c3RhdGljIEZyb21BcnJheVRvUmVmKGUsdCxpKXtyZXR1cm4gaS5feD1lW3RdLGkuX3k9ZVt0KzFdLGkuX3o9ZVt0KzJdLGkuX2lzRGlydHk9ITAsaX1zdGF0aWMgRnJvbUZsb2F0QXJyYXlUb1JlZihlLHQsaSl7cmV0dXJuIHAuRnJvbUFycmF5VG9SZWYoZSx0LGkpfXN0YXRpYyBGcm9tRmxvYXRzVG9SZWYoZSx0LGkscyl7cmV0dXJuIHMuY29weUZyb21GbG9hdHMoZSx0LGkpLHN9c3RhdGljIFplcm8oKXtyZXR1cm4gbmV3IHAoMCwwLDApfXN0YXRpYyBPbmUoKXtyZXR1cm4gbmV3IHAoMSwxLDEpfXN0YXRpYyBVcCgpe3JldHVybiBuZXcgcCgwLDEsMCl9c3RhdGljIGdldCBVcFJlYWRPbmx5KCl7cmV0dXJuIHAuX1VwUmVhZE9ubHl9c3RhdGljIGdldCBEb3duUmVhZE9ubHkoKXtyZXR1cm4gcC5fRG93blJlYWRPbmx5fXN0YXRpYyBnZXQgUmlnaHRSZWFkT25seSgpe3JldHVybiBwLl9SaWdodFJlYWRPbmx5fXN0YXRpYyBnZXQgTGVmdFJlYWRPbmx5KCl7cmV0dXJuIHAuX0xlZnRSZWFkT25seX1zdGF0aWMgZ2V0IExlZnRIYW5kZWRGb3J3YXJkUmVhZE9ubHkoKXtyZXR1cm4gcC5fTGVmdEhhbmRlZEZvcndhcmRSZWFkT25seX1zdGF0aWMgZ2V0IFJpZ2h0SGFuZGVkRm9yd2FyZFJlYWRPbmx5KCl7cmV0dXJuIHAuX1JpZ2h0SGFuZGVkRm9yd2FyZFJlYWRPbmx5fXN0YXRpYyBnZXQgTGVmdEhhbmRlZEJhY2t3YXJkUmVhZE9ubHkoKXtyZXR1cm4gcC5fTGVmdEhhbmRlZEJhY2t3YXJkUmVhZE9ubHl9c3RhdGljIGdldCBSaWdodEhhbmRlZEJhY2t3YXJkUmVhZE9ubHkoKXtyZXR1cm4gcC5fUmlnaHRIYW5kZWRCYWNrd2FyZFJlYWRPbmx5fXN0YXRpYyBnZXQgWmVyb1JlYWRPbmx5KCl7cmV0dXJuIHAuX1plcm9SZWFkT25seX1zdGF0aWMgRG93bigpe3JldHVybiBuZXcgcCgwLC0xLDApfXN0YXRpYyBGb3J3YXJkKGU9ITEpe3JldHVybiBuZXcgcCgwLDAsZT8tMToxKX1zdGF0aWMgQmFja3dhcmQoZT0hMSl7cmV0dXJuIG5ldyBwKDAsMCxlPzE6LTEpfXN0YXRpYyBSaWdodCgpe3JldHVybiBuZXcgcCgxLDAsMCl9c3RhdGljIExlZnQoKXtyZXR1cm4gbmV3IHAoLTEsMCwwKX1zdGF0aWMgUmFuZG9tKGU9MCx0PTEpe3JldHVybiBuZXcgcChXLlJhbmRvbVJhbmdlKGUsdCksVy5SYW5kb21SYW5nZShlLHQpLFcuUmFuZG9tUmFuZ2UoZSx0KSl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzKGUsdCl7Y29uc3QgaT1wLlplcm8oKTtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKXtyZXR1cm4gcC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLl94LGUuX3ksZS5feix0LGkpLGl9c3RhdGljIFRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1zLm0sYT1lKm5bMF0rdCpuWzRdK2kqbls4XStuWzEyXSxvPWUqblsxXSt0Km5bNV0raSpuWzldK25bMTNdLGg9ZSpuWzJdK3Qqbls2XStpKm5bMTBdK25bMTRdLGw9MS8oZSpuWzNdK3Qqbls3XStpKm5bMTFdK25bMTVdKTtyZXR1cm4gci5feD1hKmwsci5feT1vKmwsci5fej1oKmwsci5faXNEaXJ0eT0hMCxyfXN0YXRpYyBUcmFuc2Zvcm1Ob3JtYWwoZSx0KXtjb25zdCBpPXAuWmVybygpO3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Ob3JtYWxUb1JlZihlLHQsaSl7cmV0dXJuIHRoaXMuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQsaSksaX1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7Y29uc3Qgbj1zLm07cmV0dXJuIHIuX3g9ZSpuWzBdK3Qqbls0XStpKm5bOF0sci5feT1lKm5bMV0rdCpuWzVdK2kqbls5XSxyLl96PWUqblsyXSt0Km5bNl0raSpuWzEwXSxyLl9pc0RpcnR5PSEwLHJ9c3RhdGljIENhdG11bGxSb20oZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPS41KigyKnQuX3grKC1lLl94K2kuX3gpKnIrKDIqZS5feC01KnQuX3grNCppLl94LXMuX3gpKm4rKC1lLl94KzMqdC5feC0zKmkuX3grcy5feCkqYSksaD0uNSooMip0Ll95KygtZS5feStpLl95KSpyKygyKmUuX3ktNSp0Ll95KzQqaS5feS1zLl95KSpuKygtZS5feSszKnQuX3ktMyppLl95K3MuX3kpKmEpLGw9LjUqKDIqdC5feisoLWUuX3oraS5feikqcisoMiplLl96LTUqdC5feis0KmkuX3otcy5feikqbisoLWUuX3orMyp0Ll96LTMqaS5feitzLl96KSphKTtyZXR1cm4gbmV3IGUuY29uc3RydWN0b3IobyxoLGwpfXN0YXRpYyBDbGFtcChlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5DbGFtcFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIENsYW1wVG9SZWYoZSx0LGkscyl7bGV0IHI9ZS5feDtyPXI+aS5feD9pLl94OnIscj1yPHQuX3g/dC5feDpyO2xldCBuPWUuX3k7bj1uPmkuX3k/aS5feTpuLG49bjx0Ll95P3QuX3k6bjtsZXQgYT1lLl96O3JldHVybiBhPWE+aS5fej9pLl96OmEsYT1hPHQuX3o/dC5fejphLHMuY29weUZyb21GbG9hdHMocixuLGEpLHN9c3RhdGljIENoZWNrRXh0ZW5kcyhlLHQsaSl7dC5taW5pbWl6ZUluUGxhY2UoZSksaS5tYXhpbWl6ZUluUGxhY2UoZSl9c3RhdGljIEhlcm1pdGUoZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPTIqYS0zKm4rMSxoPS0yKmErMypuLGw9YS0yKm4rcix1PWEtbixkPWUuX3gqbytpLl94KmgrdC5feCpsK3MuX3gqdSxfPWUuX3kqbytpLl95KmgrdC5feSpsK3MuX3kqdSxmPWUuX3oqbytpLl96KmgrdC5feipsK3MuX3oqdTtyZXR1cm4gbmV3IGUuY29uc3RydWN0b3IoZCxfLGYpfXN0YXRpYyBIZXJtaXRlMXN0RGVyaXZhdGl2ZShlLHQsaSxzLHIpe2NvbnN0IG49bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbiksbn1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1yKnI7cmV0dXJuIG4uX3g9KGEtcikqNiplLl94KygzKmEtNCpyKzEpKnQuX3grKC1hK3IpKjYqaS5feCsoMyphLTIqcikqcy5feCxuLl95PShhLXIpKjYqZS5feSsoMyphLTQqcisxKSp0Ll95KygtYStyKSo2KmkuX3krKDMqYS0yKnIpKnMuX3ksbi5fej0oYS1yKSo2KmUuX3orKDMqYS00KnIrMSkqdC5feisoLWErcikqNippLl96KygzKmEtMipyKSpzLl96LG4uX2lzRGlydHk9ITAsbn1zdGF0aWMgTGVycChlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcigwLDAsMCk7cmV0dXJuIHAuTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtyZXR1cm4gcy5feD1lLl94Kyh0Ll94LWUuX3gpKmkscy5feT1lLl95Kyh0Ll95LWUuX3kpKmkscy5fej1lLl96Kyh0Ll96LWUuX3opKmkscy5faXNEaXJ0eT0hMCxzfXN0YXRpYyBEb3QoZSx0KXtyZXR1cm4gZS5feCp0Ll94K2UuX3kqdC5feStlLl96KnQuX3p9c3RhdGljIENyb3NzKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5Dcm9zc1RvUmVmKGUsdCxpKSxpfXN0YXRpYyBDcm9zc1RvUmVmKGUsdCxpKXtjb25zdCBzPWUuX3kqdC5fei1lLl96KnQuX3kscj1lLl96KnQuX3gtZS5feCp0Ll96LG49ZS5feCp0Ll95LWUuX3kqdC5feDtyZXR1cm4gaS5jb3B5RnJvbUZsb2F0cyhzLHIsbiksaX1zdGF0aWMgTm9ybWFsaXplKGUpe2NvbnN0IHQ9cC5aZXJvKCk7cmV0dXJuIHAuTm9ybWFsaXplVG9SZWYoZSx0KSx0fXN0YXRpYyBOb3JtYWxpemVUb1JlZihlLHQpe3JldHVybiBlLm5vcm1hbGl6ZVRvUmVmKHQpLHR9c3RhdGljIFByb2plY3QoZSx0LGkscyl7Y29uc3Qgcj1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gcC5Qcm9qZWN0VG9SZWYoZSx0LGkscyxyKSxyfXN0YXRpYyBQcm9qZWN0VG9SZWYoZSx0LGkscyxyKXtjb25zdCBuPXMud2lkdGgsYT1zLmhlaWdodCxvPXMueCxoPXMueSxsPUsuTWF0cml4WzFdO00uRnJvbVZhbHVlc1RvUmVmKG4vMiwwLDAsMCwwLC1hLzIsMCwwLDAsMCwuNSwwLG8rbi8yLGEvMitoLC41LDEsbCk7Y29uc3QgdT1LLk1hdHJpeFswXTtyZXR1cm4gdC5tdWx0aXBseVRvUmVmKGksdSksdS5tdWx0aXBseVRvUmVmKGwsdSkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdSxyKSxyfXN0YXRpYyBSZWZsZWN0KGUsdCl7cmV0dXJuIHRoaXMuUmVmbGVjdFRvUmVmKGUsdCxuZXcgcCl9c3RhdGljIFJlZmxlY3RUb1JlZihlLHQsaSl7Y29uc3Qgcz1GLlZlY3RvcjNbMF07cmV0dXJuIHMuY29weUZyb20odCkuc2NhbGVJblBsYWNlKDIqcC5Eb3QoZSx0KSksaS5jb3B5RnJvbShlKS5zdWJ0cmFjdEluUGxhY2Uocyl9c3RhdGljIF9VbnByb2plY3RGcm9tSW52ZXJ0ZWRNYXRyaXhUb1JlZihlLHQsaSl7cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKTtjb25zdCBzPXQubSxyPWUuX3gqc1szXStlLl95KnNbN10rZS5feipzWzExXStzWzE1XTtyZXR1cm4gVy5XaXRoaW5FcHNpbG9uKHIsMSkmJmkuc2NhbGVJblBsYWNlKDEvciksaX1zdGF0aWMgVW5wcm9qZWN0RnJvbVRyYW5zZm9ybShlLHQsaSxzLHIpe3JldHVybiB0aGlzLlVucHJvamVjdChlLHQsaSxzLHIsTS5JZGVudGl0eVJlYWRPbmx5KX1zdGF0aWMgVW5wcm9qZWN0KGUsdCxpLHMscixuKXtjb25zdCBhPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBwLlVucHJvamVjdFRvUmVmKGUsdCxpLHMscixuLGEpLGF9c3RhdGljIFVucHJvamVjdFRvUmVmKGUsdCxpLHMscixuLGEpe3JldHVybiBwLlVucHJvamVjdEZsb2F0c1RvUmVmKGUuX3gsZS5feSxlLl96LHQsaSxzLHIsbixhKSxhfXN0YXRpYyBVbnByb2plY3RGbG9hdHNUb1JlZihlLHQsaSxzLHIsbixhLG8saCl7dmFyIGw7Y29uc3QgdT1LLk1hdHJpeFswXTtuLm11bHRpcGx5VG9SZWYoYSx1KSx1Lm11bHRpcGx5VG9SZWYobyx1KSx1LmludmVydCgpO2NvbnN0IGQ9Sy5WZWN0b3IzWzBdO3JldHVybiBkLng9ZS9zKjItMSxkLnk9LSh0L3IqMi0xKSwhKChsPWxlLkxhc3RDcmVhdGVkRW5naW5lKT09PW51bGx8fGw9PT12b2lkIDApJiZsLmlzTkRDSGFsZlpSYW5nZT9kLno9aTpkLno9MippLTEscC5fVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWYoZCx1LGgpLGh9c3RhdGljIE1pbmltaXplKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gaS5jb3B5RnJvbShlKSxpLm1pbmltaXplSW5QbGFjZSh0KSxpfXN0YXRpYyBNYXhpbWl6ZShlLHQpe2NvbnN0IGk9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIGkuY29weUZyb20oZSksaS5tYXhpbWl6ZUluUGxhY2UodCksaX1zdGF0aWMgRGlzdGFuY2UoZSx0KXtyZXR1cm4gTWF0aC5zcXJ0KHAuRGlzdGFuY2VTcXVhcmVkKGUsdCkpfXN0YXRpYyBEaXN0YW5jZVNxdWFyZWQoZSx0KXtjb25zdCBpPWUuX3gtdC5feCxzPWUuX3ktdC5feSxyPWUuX3otdC5fejtyZXR1cm4gaSppK3MqcytyKnJ9c3RhdGljIFByb2plY3RPblRyaWFuZ2xlVG9SZWYoZSx0LGkscyxyKXtjb25zdCBuPUsuVmVjdG9yM1swXSxhPUsuVmVjdG9yM1sxXSxvPUsuVmVjdG9yM1syXSxoPUsuVmVjdG9yM1szXSxsPUsuVmVjdG9yM1s0XTtpLnN1YnRyYWN0VG9SZWYodCxuKSxzLnN1YnRyYWN0VG9SZWYodCxhKSxzLnN1YnRyYWN0VG9SZWYoaSxvKTtjb25zdCB1PW4ubGVuZ3RoKCksZD1hLmxlbmd0aCgpLF89by5sZW5ndGgoKTtpZih1PFNlfHxkPFNlfHxfPFNlKXJldHVybiByLmNvcHlGcm9tKHQpLHAuRGlzdGFuY2UoZSx0KTtlLnN1YnRyYWN0VG9SZWYodCxsKSxwLkNyb3NzVG9SZWYobixhLGgpO2NvbnN0IGY9aC5sZW5ndGgoKTtpZihmPFNlKXJldHVybiByLmNvcHlGcm9tKHQpLHAuRGlzdGFuY2UoZSx0KTtoLm5vcm1hbGl6ZUZyb21MZW5ndGgoZik7bGV0IG09bC5sZW5ndGgoKTtpZihtPFNlKXJldHVybiByLmNvcHlGcm9tKHQpLDA7bC5ub3JtYWxpemVGcm9tTGVuZ3RoKG0pO2NvbnN0IHY9cC5Eb3QoaCxsKSxFPUsuVmVjdG9yM1s1XSxTPUsuVmVjdG9yM1s2XTtFLmNvcHlGcm9tKGgpLnNjYWxlSW5QbGFjZSgtbSp2KSxTLmNvcHlGcm9tKGUpLmFkZEluUGxhY2UoRSk7Y29uc3QgUj1LLlZlY3RvcjNbNF0sQT1LLlZlY3RvcjNbNV0sQz1LLlZlY3RvcjNbN10sYj1LLlZlY3RvcjNbOF07Ui5jb3B5RnJvbShuKS5zY2FsZUluUGxhY2UoMS91KSxiLmNvcHlGcm9tKGEpLnNjYWxlSW5QbGFjZSgxL2QpLFIuYWRkSW5QbGFjZShiKS5zY2FsZUluUGxhY2UoLTEpLEEuY29weUZyb20obikuc2NhbGVJblBsYWNlKC0xL3UpLGIuY29weUZyb20obykuc2NhbGVJblBsYWNlKDEvXyksQS5hZGRJblBsYWNlKGIpLnNjYWxlSW5QbGFjZSgtMSksQy5jb3B5RnJvbShvKS5zY2FsZUluUGxhY2UoLTEvXyksYi5jb3B5RnJvbShhKS5zY2FsZUluUGxhY2UoLTEvZCksQy5hZGRJblBsYWNlKGIpLnNjYWxlSW5QbGFjZSgtMSk7Y29uc3QgeD1LLlZlY3RvcjNbOV07bGV0IEk7eC5jb3B5RnJvbShTKS5zdWJ0cmFjdEluUGxhY2UodCkscC5Dcm9zc1RvUmVmKFIseCxiKSxJPXAuRG90KGIsaCk7Y29uc3QgVT1JO3guY29weUZyb20oUykuc3VidHJhY3RJblBsYWNlKGkpLHAuQ3Jvc3NUb1JlZihBLHgsYiksST1wLkRvdChiLGgpO2NvbnN0IGs9STt4LmNvcHlGcm9tKFMpLnN1YnRyYWN0SW5QbGFjZShzKSxwLkNyb3NzVG9SZWYoQyx4LGIpLEk9cC5Eb3QoYixoKTtjb25zdCBtZT1JLHE9Sy5WZWN0b3IzWzEwXTtsZXQgdWUsaWU7VT4wJiZrPDA/KHEuY29weUZyb20obiksdWU9dCxpZT1pKTprPjAmJm1lPDA/KHEuY29weUZyb20obyksdWU9aSxpZT1zKToocS5jb3B5RnJvbShhKS5zY2FsZUluUGxhY2UoLTEpLHVlPXMsaWU9dCk7Y29uc3QgYmU9Sy5WZWN0b3IzWzldLE1lPUsuVmVjdG9yM1s0XTtpZih1ZS5zdWJ0cmFjdFRvUmVmKFMsYiksaWUuc3VidHJhY3RUb1JlZihTLGJlKSxwLkNyb3NzVG9SZWYoYixiZSxNZSksIShwLkRvdChNZSxoKTwwKSlyZXR1cm4gci5jb3B5RnJvbShTKSxNYXRoLmFicyhtKnYpO2NvbnN0IEtlPUsuVmVjdG9yM1s1XTtwLkNyb3NzVG9SZWYocSxNZSxLZSksS2Uubm9ybWFsaXplKCk7Y29uc3QgWWU9Sy5WZWN0b3IzWzldO1llLmNvcHlGcm9tKHVlKS5zdWJ0cmFjdEluUGxhY2UoUyk7Y29uc3QgbXQ9WWUubGVuZ3RoKCk7aWYobXQ8U2UpcmV0dXJuIHIuY29weUZyb20odWUpLHAuRGlzdGFuY2UoZSx1ZSk7WWUubm9ybWFsaXplRnJvbUxlbmd0aChtdCk7Y29uc3QgbHQ9cC5Eb3QoS2UsWWUpLE90PUsuVmVjdG9yM1s3XTtPdC5jb3B5RnJvbShTKS5hZGRJblBsYWNlKEtlLnNjYWxlSW5QbGFjZShtdCpsdCkpLGIuY29weUZyb20oT3QpLnN1YnRyYWN0SW5QbGFjZSh1ZSksbT1xLmxlbmd0aCgpLHEubm9ybWFsaXplRnJvbUxlbmd0aChtKTtsZXQgbmk9cC5Eb3QoYixxKS9NYXRoLm1heChtLFNlKTtyZXR1cm4gbmk9Vy5DbGFtcChuaSwwLDEpLE90LmNvcHlGcm9tKHVlKS5hZGRJblBsYWNlKHEuc2NhbGVJblBsYWNlKG5pKm0pKSxyLmNvcHlGcm9tKE90KSxwLkRpc3RhbmNlKGUsT3QpfXN0YXRpYyBDZW50ZXIoZSx0KXtyZXR1cm4gcC5DZW50ZXJUb1JlZihlLHQscC5aZXJvKCkpfXN0YXRpYyBDZW50ZXJUb1JlZihlLHQsaSl7cmV0dXJuIGkuY29weUZyb21GbG9hdHMoKGUuX3grdC5feCkvMiwoZS5feSt0Ll95KS8yLChlLl96K3QuX3opLzIpfXN0YXRpYyBSb3RhdGlvbkZyb21BeGlzKGUsdCxpKXtjb25zdCBzPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBwLlJvdGF0aW9uRnJvbUF4aXNUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBSb3RhdGlvbkZyb21BeGlzVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1LLlF1YXRlcm5pb25bMF07cmV0dXJuIFouUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXNUb1JlZihlLHQsaSxyKSxyLnRvRXVsZXJBbmdsZXNUb1JlZihzKSxzfX1wLl9VcFJlYWRPbmx5PXAuVXAoKSxwLl9Eb3duUmVhZE9ubHk9cC5Eb3duKCkscC5fTGVmdEhhbmRlZEZvcndhcmRSZWFkT25seT1wLkZvcndhcmQoITEpLHAuX1JpZ2h0SGFuZGVkRm9yd2FyZFJlYWRPbmx5PXAuRm9yd2FyZCghMCkscC5fTGVmdEhhbmRlZEJhY2t3YXJkUmVhZE9ubHk9cC5CYWNrd2FyZCghMSkscC5fUmlnaHRIYW5kZWRCYWNrd2FyZFJlYWRPbmx5PXAuQmFja3dhcmQoITApLHAuX1JpZ2h0UmVhZE9ubHk9cC5SaWdodCgpLHAuX0xlZnRSZWFkT25seT1wLkxlZnQoKSxwLl9aZXJvUmVhZE9ubHk9cC5aZXJvKCk7Y2xhc3MgeWV7Y29uc3RydWN0b3IoZT0wLHQ9MCxpPTAscz0wKXt0aGlzLng9ZSx0aGlzLnk9dCx0aGlzLno9aSx0aGlzLnc9c310b1N0cmluZygpe3JldHVybmB7WDogJHt0aGlzLnh9IFk6ICR7dGhpcy55fSBaOiAke3RoaXMuen0gVzogJHt0aGlzLnd9fWB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlZlY3RvcjQifWdldEhhc2hDb2RlKCl7Y29uc3QgZT1ydCh0aGlzLngpLHQ9cnQodGhpcy55KSxpPXJ0KHRoaXMueikscz1ydCh0aGlzLncpO2xldCByPWU7cmV0dXJuIHI9ciozOTdedCxyPXIqMzk3Xmkscj1yKjM5N15zLHJ9YXNBcnJheSgpe2NvbnN0IGU9bmV3IEFycmF5O3JldHVybiB0aGlzLnRvQXJyYXkoZSwwKSxlfXRvQXJyYXkoZSx0KXtyZXR1cm4gdD09PXZvaWQgMCYmKHQ9MCksZVt0XT10aGlzLngsZVt0KzFdPXRoaXMueSxlW3QrMl09dGhpcy56LGVbdCszXT10aGlzLncsdGhpc31mcm9tQXJyYXkoZSx0PTApe3JldHVybiB5ZS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc31hZGRJblBsYWNlKGUpe3JldHVybiB0aGlzLngrPWUueCx0aGlzLnkrPWUueSx0aGlzLnorPWUueix0aGlzLncrPWUudyx0aGlzfWFkZChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy54K2UueCx0aGlzLnkrZS55LHRoaXMueitlLnosdGhpcy53K2Uudyl9YWRkVG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCtlLngsdC55PXRoaXMueStlLnksdC56PXRoaXMueitlLnosdC53PXRoaXMudytlLncsdH1zdWJ0cmFjdEluUGxhY2UoZSl7cmV0dXJuIHRoaXMueC09ZS54LHRoaXMueS09ZS55LHRoaXMuei09ZS56LHRoaXMudy09ZS53LHRoaXN9c3VidHJhY3QoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueC1lLngsdGhpcy55LWUueSx0aGlzLnotZS56LHRoaXMudy1lLncpfXN1YnRyYWN0VG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueC1lLngsdC55PXRoaXMueS1lLnksdC56PXRoaXMuei1lLnosdC53PXRoaXMudy1lLncsdH1zdWJ0cmFjdEZyb21GbG9hdHMoZSx0LGkscyl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueC1lLHRoaXMueS10LHRoaXMuei1pLHRoaXMudy1zKX1zdWJ0cmFjdEZyb21GbG9hdHNUb1JlZihlLHQsaSxzLHIpe3JldHVybiByLng9dGhpcy54LWUsci55PXRoaXMueS10LHIuej10aGlzLnotaSxyLnc9dGhpcy53LXMscn1uZWdhdGUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoLXRoaXMueCwtdGhpcy55LC10aGlzLnosLXRoaXMudyl9bmVnYXRlSW5QbGFjZSgpe3JldHVybiB0aGlzLngqPS0xLHRoaXMueSo9LTEsdGhpcy56Kj0tMSx0aGlzLncqPS0xLHRoaXN9bmVnYXRlVG9SZWYoZSl7cmV0dXJuIGUuY29weUZyb21GbG9hdHModGhpcy54Ki0xLHRoaXMueSotMSx0aGlzLnoqLTEsdGhpcy53Ki0xKX1zY2FsZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZSx0aGlzLnkqPWUsdGhpcy56Kj1lLHRoaXMudyo9ZSx0aGlzfXNjYWxlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngqZSx0aGlzLnkqZSx0aGlzLnoqZSx0aGlzLncqZSl9c2NhbGVUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54KmUsdC55PXRoaXMueSplLHQuej10aGlzLnoqZSx0Lnc9dGhpcy53KmUsdH1zY2FsZUFuZEFkZFRvUmVmKGUsdCl7cmV0dXJuIHQueCs9dGhpcy54KmUsdC55Kz10aGlzLnkqZSx0LnorPXRoaXMueiplLHQudys9dGhpcy53KmUsdH1lcXVhbHMoZSl7cmV0dXJuIGUmJnRoaXMueD09PWUueCYmdGhpcy55PT09ZS55JiZ0aGlzLno9PT1lLnomJnRoaXMudz09PWUud31lcXVhbHNXaXRoRXBzaWxvbihlLHQ9U2Upe3JldHVybiBlJiZXLldpdGhpbkVwc2lsb24odGhpcy54LGUueCx0KSYmVy5XaXRoaW5FcHNpbG9uKHRoaXMueSxlLnksdCkmJlcuV2l0aGluRXBzaWxvbih0aGlzLnosZS56LHQpJiZXLldpdGhpbkVwc2lsb24odGhpcy53LGUudyx0KX1lcXVhbHNUb0Zsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy54PT09ZSYmdGhpcy55PT09dCYmdGhpcy56PT09aSYmdGhpcy53PT09c31tdWx0aXBseUluUGxhY2UoZSl7cmV0dXJuIHRoaXMueCo9ZS54LHRoaXMueSo9ZS55LHRoaXMueio9ZS56LHRoaXMudyo9ZS53LHRoaXN9bXVsdGlwbHkoZSl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCplLngsdGhpcy55KmUueSx0aGlzLnoqZS56LHRoaXMudyplLncpfW11bHRpcGx5VG9SZWYoZSx0KXtyZXR1cm4gdC54PXRoaXMueCplLngsdC55PXRoaXMueSplLnksdC56PXRoaXMueiplLnosdC53PXRoaXMudyplLncsdH1tdWx0aXBseUJ5RmxvYXRzKGUsdCxpLHMpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngqZSx0aGlzLnkqdCx0aGlzLnoqaSx0aGlzLncqcyl9ZGl2aWRlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngvZS54LHRoaXMueS9lLnksdGhpcy56L2Uueix0aGlzLncvZS53KX1kaXZpZGVUb1JlZihlLHQpe3JldHVybiB0Lng9dGhpcy54L2UueCx0Lnk9dGhpcy55L2UueSx0Lno9dGhpcy56L2Uueix0Lnc9dGhpcy53L2Uudyx0fWRpdmlkZUluUGxhY2UoZSl7cmV0dXJuIHRoaXMuZGl2aWRlVG9SZWYoZSx0aGlzKX1taW5pbWl6ZUluUGxhY2UoZSl7cmV0dXJuIGUueDx0aGlzLngmJih0aGlzLng9ZS54KSxlLnk8dGhpcy55JiYodGhpcy55PWUueSksZS56PHRoaXMueiYmKHRoaXMuej1lLnopLGUudzx0aGlzLncmJih0aGlzLnc9ZS53KSx0aGlzfW1heGltaXplSW5QbGFjZShlKXtyZXR1cm4gZS54PnRoaXMueCYmKHRoaXMueD1lLngpLGUueT50aGlzLnkmJih0aGlzLnk9ZS55KSxlLno+dGhpcy56JiYodGhpcy56PWUueiksZS53PnRoaXMudyYmKHRoaXMudz1lLncpLHRoaXN9Zmxvb3IoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoTWF0aC5mbG9vcih0aGlzLngpLE1hdGguZmxvb3IodGhpcy55KSxNYXRoLmZsb29yKHRoaXMueiksTWF0aC5mbG9vcih0aGlzLncpKX1mcmFjdCgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLngtTWF0aC5mbG9vcih0aGlzLngpLHRoaXMueS1NYXRoLmZsb29yKHRoaXMueSksdGhpcy56LU1hdGguZmxvb3IodGhpcy56KSx0aGlzLnctTWF0aC5mbG9vcih0aGlzLncpKX1sZW5ndGgoKXtyZXR1cm4gTWF0aC5zcXJ0KHRoaXMueCp0aGlzLngrdGhpcy55KnRoaXMueSt0aGlzLnoqdGhpcy56K3RoaXMudyp0aGlzLncpfWxlbmd0aFNxdWFyZWQoKXtyZXR1cm4gdGhpcy54KnRoaXMueCt0aGlzLnkqdGhpcy55K3RoaXMueip0aGlzLnordGhpcy53KnRoaXMud31ub3JtYWxpemUoKXtjb25zdCBlPXRoaXMubGVuZ3RoKCk7cmV0dXJuIGU9PT0wP3RoaXM6dGhpcy5zY2FsZUluUGxhY2UoMS9lKX10b1ZlY3RvcjMoKXtyZXR1cm4gbmV3IHAodGhpcy54LHRoaXMueSx0aGlzLnopfWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMueCx0aGlzLnksdGhpcy56LHRoaXMudyl9Y29weUZyb20oZSl7cmV0dXJuIHRoaXMueD1lLngsdGhpcy55PWUueSx0aGlzLno9ZS56LHRoaXMudz1lLncsdGhpc31jb3B5RnJvbUZsb2F0cyhlLHQsaSxzKXtyZXR1cm4gdGhpcy54PWUsdGhpcy55PXQsdGhpcy56PWksdGhpcy53PXMsdGhpc31zZXQoZSx0LGkscyl7cmV0dXJuIHRoaXMuY29weUZyb21GbG9hdHMoZSx0LGkscyl9c2V0QWxsKGUpe3JldHVybiB0aGlzLng9dGhpcy55PXRoaXMuej10aGlzLnc9ZSx0aGlzfXN0YXRpYyBGcm9tQXJyYXkoZSx0KXtyZXR1cm4gdHx8KHQ9MCksbmV3IHllKGVbdF0sZVt0KzFdLGVbdCsyXSxlW3QrM10pfXN0YXRpYyBGcm9tQXJyYXlUb1JlZihlLHQsaSl7cmV0dXJuIGkueD1lW3RdLGkueT1lW3QrMV0saS56PWVbdCsyXSxpLnc9ZVt0KzNdLGl9c3RhdGljIEZyb21GbG9hdEFycmF5VG9SZWYoZSx0LGkpe3JldHVybiB5ZS5Gcm9tQXJyYXlUb1JlZihlLHQsaSksaX1zdGF0aWMgRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscil7cmV0dXJuIHIueD1lLHIueT10LHIuej1pLHIudz1zLHJ9c3RhdGljIFplcm8oKXtyZXR1cm4gbmV3IHllKDAsMCwwLDApfXN0YXRpYyBPbmUoKXtyZXR1cm4gbmV3IHllKDEsMSwxLDEpfXN0YXRpYyBSYW5kb20oZT0wLHQ9MSl7cmV0dXJuIG5ldyB5ZShXLlJhbmRvbVJhbmdlKGUsdCksVy5SYW5kb21SYW5nZShlLHQpLFcuUmFuZG9tUmFuZ2UoZSx0KSxXLlJhbmRvbVJhbmdlKGUsdCkpfXN0YXRpYyBnZXQgWmVyb1JlYWRPbmx5KCl7cmV0dXJuIHllLl9aZXJvUmVhZE9ubHl9c3RhdGljIE5vcm1hbGl6ZShlKXtjb25zdCB0PXllLlplcm8oKTtyZXR1cm4geWUuTm9ybWFsaXplVG9SZWYoZSx0KSx0fXN0YXRpYyBOb3JtYWxpemVUb1JlZihlLHQpe3JldHVybiB0LmNvcHlGcm9tKGUpLHQubm9ybWFsaXplKCksdH1zdGF0aWMgTWluaW1pemUoZSx0KXtjb25zdCBpPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiBpLmNvcHlGcm9tKGUpLGkubWluaW1pemVJblBsYWNlKHQpLGl9c3RhdGljIE1heGltaXplKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gaS5jb3B5RnJvbShlKSxpLm1heGltaXplSW5QbGFjZSh0KSxpfXN0YXRpYyBEaXN0YW5jZShlLHQpe3JldHVybiBNYXRoLnNxcnQoeWUuRGlzdGFuY2VTcXVhcmVkKGUsdCkpfXN0YXRpYyBEaXN0YW5jZVNxdWFyZWQoZSx0KXtjb25zdCBpPWUueC10Lngscz1lLnktdC55LHI9ZS56LXQueixuPWUudy10Lnc7cmV0dXJuIGkqaStzKnMrcipyK24qbn1zdGF0aWMgQ2VudGVyKGUsdCl7cmV0dXJuIHllLkNlbnRlclRvUmVmKGUsdCx5ZS5aZXJvKCkpfXN0YXRpYyBDZW50ZXJUb1JlZihlLHQsaSl7cmV0dXJuIGkuY29weUZyb21GbG9hdHMoKGUueCt0LngpLzIsKGUueSt0LnkpLzIsKGUueit0LnopLzIsKGUudyt0LncpLzIpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlcyhlLHQpe2NvbnN0IGk9eWUuWmVybygpO3JldHVybiB5ZS5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUsdCxpKXtyZXR1cm4geWUuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYoZS5feCxlLl95LGUuX3osdCxpKSxpfXN0YXRpYyBUcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLHQsaSxzLHIpe2NvbnN0IG49cy5tLGE9ZSpuWzBdK3Qqbls0XStpKm5bOF0rblsxMl0sbz1lKm5bMV0rdCpuWzVdK2kqbls5XStuWzEzXSxoPWUqblsyXSt0Km5bNl0raSpuWzEwXStuWzE0XSxsPWUqblszXSt0Km5bN10raSpuWzExXStuWzE1XTtyZXR1cm4gci54PWEsci55PW8sci56PWgsci53PWwscn1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsKGUsdCl7Y29uc3QgaT1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4geWUuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0LGkpLGl9c3RhdGljIFRyYW5zZm9ybU5vcm1hbFRvUmVmKGUsdCxpKXtjb25zdCBzPXQubSxyPWUueCpzWzBdK2UueSpzWzRdK2UueipzWzhdLG49ZS54KnNbMV0rZS55KnNbNV0rZS56KnNbOV0sYT1lLngqc1syXStlLnkqc1s2XStlLnoqc1sxMF07cmV0dXJuIGkueD1yLGkueT1uLGkuej1hLGkudz1lLncsaX1zdGF0aWMgVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGUsdCxpLHMscixuKXtjb25zdCBhPXIubTtyZXR1cm4gbi54PWUqYVswXSt0KmFbNF0raSphWzhdLG4ueT1lKmFbMV0rdCphWzVdK2kqYVs5XSxuLno9ZSphWzJdK3QqYVs2XStpKmFbMTBdLG4udz1zLG59c3RhdGljIEZyb21WZWN0b3IzKGUsdD0wKXtyZXR1cm4gbmV3IHllKGUuX3gsZS5feSxlLl96LHQpfX15ZS5fWmVyb1JlYWRPbmx5PXllLlplcm8oKTtjbGFzcyBae2dldCB4KCl7cmV0dXJuIHRoaXMuX3h9c2V0IHgoZSl7dGhpcy5feD1lLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHkoKXtyZXR1cm4gdGhpcy5feX1zZXQgeShlKXt0aGlzLl95PWUsdGhpcy5faXNEaXJ0eT0hMH1nZXQgeigpe3JldHVybiB0aGlzLl96fXNldCB6KGUpe3RoaXMuX3o9ZSx0aGlzLl9pc0RpcnR5PSEwfWdldCB3KCl7cmV0dXJuIHRoaXMuX3d9c2V0IHcoZSl7dGhpcy5fdz1lLHRoaXMuX2lzRGlydHk9ITB9Y29uc3RydWN0b3IoZT0wLHQ9MCxpPTAscz0xKXt0aGlzLl9pc0RpcnR5PSEwLHRoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1pLHRoaXMuX3c9c310b1N0cmluZygpe3JldHVybmB7WDogJHt0aGlzLl94fSBZOiAke3RoaXMuX3l9IFo6ICR7dGhpcy5fen0gVzogJHt0aGlzLl93fX1gfWdldENsYXNzTmFtZSgpe3JldHVybiJRdWF0ZXJuaW9uIn1nZXRIYXNoQ29kZSgpe2NvbnN0IGU9cnQodGhpcy5feCksdD1ydCh0aGlzLl95KSxpPXJ0KHRoaXMuX3opLHM9cnQodGhpcy5fdyk7bGV0IHI9ZTtyZXR1cm4gcj1yKjM5N150LHI9ciozOTdeaSxyPXIqMzk3XnMscn1hc0FycmF5KCl7cmV0dXJuW3RoaXMuX3gsdGhpcy5feSx0aGlzLl96LHRoaXMuX3ddfXRvQXJyYXkoZSx0PTApe3JldHVybiBlW3RdPXRoaXMuX3gsZVt0KzFdPXRoaXMuX3ksZVt0KzJdPXRoaXMuX3osZVt0KzNdPXRoaXMuX3csdGhpc31lcXVhbHMoZSl7cmV0dXJuIGUmJnRoaXMuX3g9PT1lLl94JiZ0aGlzLl95PT09ZS5feSYmdGhpcy5fej09PWUuX3omJnRoaXMuX3c9PT1lLl93fWVxdWFsc1dpdGhFcHNpbG9uKGUsdD1TZSl7cmV0dXJuIGUmJlcuV2l0aGluRXBzaWxvbih0aGlzLl94LGUuX3gsdCkmJlcuV2l0aGluRXBzaWxvbih0aGlzLl95LGUuX3ksdCkmJlcuV2l0aGluRXBzaWxvbih0aGlzLl96LGUuX3osdCkmJlcuV2l0aGluRXBzaWxvbih0aGlzLl93LGUuX3csdCl9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCx0aGlzLl95LHRoaXMuX3osdGhpcy5fdyl9Y29weUZyb20oZSl7cmV0dXJuIHRoaXMuX3g9ZS5feCx0aGlzLl95PWUuX3ksdGhpcy5fej1lLl96LHRoaXMuX3c9ZS5fdyx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9Y29weUZyb21GbG9hdHMoZSx0LGkscyl7cmV0dXJuIHRoaXMuX3g9ZSx0aGlzLl95PXQsdGhpcy5fej1pLHRoaXMuX3c9cyx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9c2V0KGUsdCxpLHMpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCxpLHMpfWFkZChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feCtlLl94LHRoaXMuX3krZS5feSx0aGlzLl96K2UuX3osdGhpcy5fdytlLl93KX1hZGRJblBsYWNlKGUpe3JldHVybiB0aGlzLl94Kz1lLl94LHRoaXMuX3krPWUuX3ksdGhpcy5feis9ZS5feix0aGlzLl93Kz1lLl93LHRoaXMuX2lzRGlydHk9ITAsdGhpc31zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5feC1lLl94LHRoaXMuX3ktZS5feSx0aGlzLl96LWUuX3osdGhpcy5fdy1lLl93KX1zdWJ0cmFjdEluUGxhY2UoZSl7cmV0dXJuIHRoaXMuX3gtPWUuX3gsdGhpcy5feS09ZS5feSx0aGlzLl96LT1lLl96LHRoaXMuX3ctPWUuX3csdGhpcy5faXNEaXJ0eT0hMCx0aGlzfXNjYWxlKGUpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLl94KmUsdGhpcy5feSplLHRoaXMuX3oqZSx0aGlzLl93KmUpfXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC5feD10aGlzLl94KmUsdC5feT10aGlzLl95KmUsdC5fej10aGlzLl96KmUsdC5fdz10aGlzLl93KmUsdC5faXNEaXJ0eT0hMCx0fXNjYWxlSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5feCo9ZSx0aGlzLl95Kj1lLHRoaXMuX3oqPWUsdGhpcy5fdyo9ZSx0aGlzLl9pc0RpcnR5PSEwLHRoaXN9c2NhbGVBbmRBZGRUb1JlZihlLHQpe3JldHVybiB0Ll94Kz10aGlzLl94KmUsdC5feSs9dGhpcy5feSplLHQuX3orPXRoaXMuX3oqZSx0Ll93Kz10aGlzLl93KmUsdC5faXNEaXJ0eT0hMCx0fW11bHRpcGx5KGUpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3IoMCwwLDAsMSk7cmV0dXJuIHRoaXMubXVsdGlwbHlUb1JlZihlLHQpLHR9bXVsdGlwbHlUb1JlZihlLHQpe2NvbnN0IGk9dGhpcy5feCplLl93K3RoaXMuX3kqZS5fei10aGlzLl96KmUuX3krdGhpcy5fdyplLl94LHM9LXRoaXMuX3gqZS5feit0aGlzLl95KmUuX3crdGhpcy5feiplLl94K3RoaXMuX3cqZS5feSxyPXRoaXMuX3gqZS5feS10aGlzLl95KmUuX3grdGhpcy5feiplLl93K3RoaXMuX3cqZS5feixuPS10aGlzLl94KmUuX3gtdGhpcy5feSplLl95LXRoaXMuX3oqZS5feit0aGlzLl93KmUuX3c7cmV0dXJuIHQuY29weUZyb21GbG9hdHMoaSxzLHIsbiksdH1tdWx0aXBseUluUGxhY2UoZSl7cmV0dXJuIHRoaXMubXVsdGlwbHlUb1JlZihlLHRoaXMpLHRoaXN9Y29uanVnYXRlVG9SZWYoZSl7cmV0dXJuIGUuY29weUZyb21GbG9hdHMoLXRoaXMuX3gsLXRoaXMuX3ksLXRoaXMuX3osdGhpcy5fdyksZX1jb25qdWdhdGVJblBsYWNlKCl7cmV0dXJuIHRoaXMuX3gqPS0xLHRoaXMuX3kqPS0xLHRoaXMuX3oqPS0xLHRoaXMuX2lzRGlydHk9ITAsdGhpc31jb25qdWdhdGUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IoLXRoaXMuX3gsLXRoaXMuX3ksLXRoaXMuX3osdGhpcy5fdyl9aW52ZXJ0KCl7Y29uc3QgZT10aGlzLmNvbmp1Z2F0ZSgpLHQ9dGhpcy5sZW5ndGhTcXVhcmVkKCk7cmV0dXJuIHQ9PTB8fHQ9PTF8fGUuc2NhbGVJblBsYWNlKDEvdCksZX1pbnZlcnRJblBsYWNlKCl7dGhpcy5jb25qdWdhdGVJblBsYWNlKCk7Y29uc3QgZT10aGlzLmxlbmd0aFNxdWFyZWQoKTtyZXR1cm4gZT09MHx8ZT09MT90aGlzOih0aGlzLnNjYWxlSW5QbGFjZSgxL2UpLHRoaXMpfWxlbmd0aFNxdWFyZWQoKXtyZXR1cm4gdGhpcy5feCp0aGlzLl94K3RoaXMuX3kqdGhpcy5feSt0aGlzLl96KnRoaXMuX3ordGhpcy5fdyp0aGlzLl93fWxlbmd0aCgpe3JldHVybiBNYXRoLnNxcnQodGhpcy5sZW5ndGhTcXVhcmVkKCkpfW5vcm1hbGl6ZSgpe2NvbnN0IGU9dGhpcy5sZW5ndGgoKTtpZihlPT09MClyZXR1cm4gdGhpcztjb25zdCB0PTEvZTtyZXR1cm4gdGhpcy5zY2FsZUluUGxhY2UodCksdGhpc31ub3JtYWxpemVUb05ldygpe2NvbnN0IGU9dGhpcy5sZW5ndGgoKTtpZihlPT09MClyZXR1cm4gdGhpcy5jbG9uZSgpO2NvbnN0IHQ9MS9lO3JldHVybiB0aGlzLnNjYWxlKHQpfXRvRXVsZXJBbmdsZXMoKXtjb25zdCBlPXAuWmVybygpO3JldHVybiB0aGlzLnRvRXVsZXJBbmdsZXNUb1JlZihlKSxlfXRvRXVsZXJBbmdsZXNUb1JlZihlKXtjb25zdCB0PXRoaXMuX3osaT10aGlzLl94LHM9dGhpcy5feSxyPXRoaXMuX3csbj1zKnQtaSpyLGE9LjQ5OTk5OTk7aWYobjwtYSllLl95PTIqTWF0aC5hdGFuMihzLHIpLGUuX3g9TWF0aC5QSS8yLGUuX3o9MCxlLl9pc0RpcnR5PSEwO2Vsc2UgaWYobj5hKWUuX3k9MipNYXRoLmF0YW4yKHMsciksZS5feD0tTWF0aC5QSS8yLGUuX3o9MCxlLl9pc0RpcnR5PSEwO2Vsc2V7Y29uc3Qgbz1yKnIsaD10KnQsbD1pKmksdT1zKnM7ZS5fej1NYXRoLmF0YW4yKDIqKGkqcyt0KnIpLC1oLWwrdStvKSxlLl94PU1hdGguYXNpbigtMipuKSxlLl95PU1hdGguYXRhbjIoMioodCppK3MqciksaC1sLXUrbyksZS5faXNEaXJ0eT0hMH1yZXR1cm4gZX10b1JvdGF0aW9uTWF0cml4KGUpe3JldHVybiBNLkZyb21RdWF0ZXJuaW9uVG9SZWYodGhpcyxlKSxlfWZyb21Sb3RhdGlvbk1hdHJpeChlKXtyZXR1cm4gWi5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihlLHRoaXMpLHRoaXN9c3RhdGljIEZyb21Sb3RhdGlvbk1hdHJpeChlKXtjb25zdCB0PW5ldyBaO3JldHVybiBaLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKGUsdCksdH1zdGF0aWMgRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoZSx0KXtjb25zdCBpPWUubSxzPWlbMF0scj1pWzRdLG49aVs4XSxhPWlbMV0sbz1pWzVdLGg9aVs5XSxsPWlbMl0sdT1pWzZdLGQ9aVsxMF0sXz1zK28rZDtsZXQgZjtyZXR1cm4gXz4wPyhmPS41L01hdGguc3FydChfKzEpLHQuX3c9LjI1L2YsdC5feD0odS1oKSpmLHQuX3k9KG4tbCkqZix0Ll96PShhLXIpKmYsdC5faXNEaXJ0eT0hMCk6cz5vJiZzPmQ/KGY9MipNYXRoLnNxcnQoMStzLW8tZCksdC5fdz0odS1oKS9mLHQuX3g9LjI1KmYsdC5feT0ocithKS9mLHQuX3o9KG4rbCkvZix0Ll9pc0RpcnR5PSEwKTpvPmQ/KGY9MipNYXRoLnNxcnQoMStvLXMtZCksdC5fdz0obi1sKS9mLHQuX3g9KHIrYSkvZix0Ll95PS4yNSpmLHQuX3o9KGgrdSkvZix0Ll9pc0RpcnR5PSEwKTooZj0yKk1hdGguc3FydCgxK2Qtcy1vKSx0Ll93PShhLXIpL2YsdC5feD0obitsKS9mLHQuX3k9KGgrdSkvZix0Ll96PS4yNSpmLHQuX2lzRGlydHk9ITApLHR9c3RhdGljIERvdChlLHQpe3JldHVybiBlLl94KnQuX3grZS5feSp0Ll95K2UuX3oqdC5feitlLl93KnQuX3d9c3RhdGljIEFyZUNsb3NlKGUsdCxpPS4xKXtjb25zdCBzPVouRG90KGUsdCk7cmV0dXJuIDEtcypzPD1pfXN0YXRpYyBTbW9vdGhUb1JlZihlLHQsaSxzLHIpe2xldCBuPXM9PT0wPzE6aS9zO3JldHVybiBuPVcuQ2xhbXAobiwwLDEpLFouU2xlcnBUb1JlZihlLHQsbixyKSxyfXN0YXRpYyBaZXJvKCl7cmV0dXJuIG5ldyBaKDAsMCwwLDApfXN0YXRpYyBJbnZlcnNlKGUpe3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcigtZS5feCwtZS5feSwtZS5feixlLl93KX1zdGF0aWMgSW52ZXJzZVRvUmVmKGUsdCl7cmV0dXJuIHQuc2V0KC1lLl94LC1lLl95LC1lLl96LGUuX3cpLHR9c3RhdGljIElkZW50aXR5KCl7cmV0dXJuIG5ldyBaKDAsMCwwLDEpfXN0YXRpYyBJc0lkZW50aXR5KGUpe3JldHVybiBlJiZlLl94PT09MCYmZS5feT09PTAmJmUuX3o9PT0wJiZlLl93PT09MX1zdGF0aWMgUm90YXRpb25BeGlzKGUsdCl7cmV0dXJuIFouUm90YXRpb25BeGlzVG9SZWYoZSx0LG5ldyBaKX1zdGF0aWMgUm90YXRpb25BeGlzVG9SZWYoZSx0LGkpe2NvbnN0IHM9TWF0aC5zaW4odC8yKTtyZXR1cm4gZS5ub3JtYWxpemUoKSxpLl93PU1hdGguY29zKHQvMiksaS5feD1lLl94KnMsaS5feT1lLl95KnMsaS5fej1lLl96KnMsaS5faXNEaXJ0eT0hMCxpfXN0YXRpYyBGcm9tQXJyYXkoZSx0KXtyZXR1cm4gdHx8KHQ9MCksbmV3IFooZVt0XSxlW3QrMV0sZVt0KzJdLGVbdCszXSl9c3RhdGljIEZyb21BcnJheVRvUmVmKGUsdCxpKXtyZXR1cm4gaS5feD1lW3RdLGkuX3k9ZVt0KzFdLGkuX3o9ZVt0KzJdLGkuX3c9ZVt0KzNdLGkuX2lzRGlydHk9ITAsaX1zdGF0aWMgRnJvbUV1bGVyQW5nbGVzKGUsdCxpKXtjb25zdCBzPW5ldyBaO3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodCxlLGkscyksc31zdGF0aWMgRnJvbUV1bGVyQW5nbGVzVG9SZWYoZSx0LGkscyl7cmV0dXJuIFouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0LGUsaSxzKSxzfXN0YXRpYyBGcm9tRXVsZXJWZWN0b3IoZSl7Y29uc3QgdD1uZXcgWjtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUuX3ksZS5feCxlLl96LHQpLHR9c3RhdGljIEZyb21FdWxlclZlY3RvclRvUmVmKGUsdCl7cmV0dXJuIFouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLl95LGUuX3gsZS5feix0KSx0fXN0YXRpYyBGcm9tVW5pdFZlY3RvcnNUb1JlZihlLHQsaSl7Y29uc3Qgcz1wLkRvdChlLHQpKzE7cmV0dXJuIHM8U2U/TWF0aC5hYnMoZS54KT5NYXRoLmFicyhlLnopP2kuc2V0KC1lLnksZS54LDAsMCk6aS5zZXQoMCwtZS56LGUueSwwKToocC5Dcm9zc1RvUmVmKGUsdCxGLlZlY3RvcjNbMF0pLGkuc2V0KEYuVmVjdG9yM1swXS54LEYuVmVjdG9yM1swXS55LEYuVmVjdG9yM1swXS56LHMpKSxpLm5vcm1hbGl6ZSgpfXN0YXRpYyBSb3RhdGlvbllhd1BpdGNoUm9sbChlLHQsaSl7Y29uc3Qgcz1uZXcgWjtyZXR1cm4gWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIFJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1pKi41LG49dCouNSxhPWUqLjUsbz1NYXRoLnNpbihyKSxoPU1hdGguY29zKHIpLGw9TWF0aC5zaW4obiksdT1NYXRoLmNvcyhuKSxkPU1hdGguc2luKGEpLF89TWF0aC5jb3MoYSk7cmV0dXJuIHMuX3g9XypsKmgrZCp1Km8scy5feT1kKnUqaC1fKmwqbyxzLl96PV8qdSpvLWQqbCpoLHMuX3c9Xyp1KmgrZCpsKm8scy5faXNEaXJ0eT0hMCxzfXN0YXRpYyBSb3RhdGlvbkFscGhhQmV0YUdhbW1hKGUsdCxpKXtjb25zdCBzPW5ldyBaO3JldHVybiBaLlJvdGF0aW9uQWxwaGFCZXRhR2FtbWFUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBSb3RhdGlvbkFscGhhQmV0YUdhbW1hVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj0oaStlKSouNSxuPShpLWUpKi41LGE9dCouNTtyZXR1cm4gcy5feD1NYXRoLmNvcyhuKSpNYXRoLnNpbihhKSxzLl95PU1hdGguc2luKG4pKk1hdGguc2luKGEpLHMuX3o9TWF0aC5zaW4ocikqTWF0aC5jb3MoYSkscy5fdz1NYXRoLmNvcyhyKSpNYXRoLmNvcyhhKSxzLl9pc0RpcnR5PSEwLHN9c3RhdGljIFJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzKGUsdCxpKXtjb25zdCBzPW5ldyBaKDAsMCwwLDApO3JldHVybiBaLlJvdGF0aW9uUXVhdGVybmlvbkZyb21BeGlzVG9SZWYoZSx0LGkscyksc31zdGF0aWMgUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXNUb1JlZihlLHQsaSxzKXtjb25zdCByPUsuTWF0cml4WzBdO3JldHVybiBNLkZyb21YWVpBeGVzVG9SZWYoZS5ub3JtYWxpemUoKSx0Lm5vcm1hbGl6ZSgpLGkubm9ybWFsaXplKCksciksWi5Gcm9tUm90YXRpb25NYXRyaXhUb1JlZihyLHMpLHN9c3RhdGljIEZyb21Mb29rRGlyZWN0aW9uTEgoZSx0KXtjb25zdCBpPW5ldyBaO3JldHVybiBaLkZyb21Mb29rRGlyZWN0aW9uTEhUb1JlZihlLHQsaSksaX1zdGF0aWMgRnJvbUxvb2tEaXJlY3Rpb25MSFRvUmVmKGUsdCxpKXtjb25zdCBzPUsuTWF0cml4WzBdO3JldHVybiBNLkxvb2tEaXJlY3Rpb25MSFRvUmVmKGUsdCxzKSxaLkZyb21Sb3RhdGlvbk1hdHJpeFRvUmVmKHMsaSksaX1zdGF0aWMgRnJvbUxvb2tEaXJlY3Rpb25SSChlLHQpe2NvbnN0IGk9bmV3IFo7cmV0dXJuIFouRnJvbUxvb2tEaXJlY3Rpb25SSFRvUmVmKGUsdCxpKSxpfXN0YXRpYyBGcm9tTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5NYXRyaXhbMF07cmV0dXJuIE0uTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LHMpLFouRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYocyxpKX1zdGF0aWMgU2xlcnAoZSx0LGkpe2NvbnN0IHM9Wi5JZGVudGl0eSgpO3JldHVybiBaLlNsZXJwVG9SZWYoZSx0LGkscyksc31zdGF0aWMgU2xlcnBUb1JlZihlLHQsaSxzKXtsZXQgcixuLGE9ZS5feCp0Ll94K2UuX3kqdC5feStlLl96KnQuX3orZS5fdyp0Ll93LG89ITE7aWYoYTwwJiYobz0hMCxhPS1hKSxhPi45OTk5OTkpbj0xLWkscj1vPy1pOmk7ZWxzZXtjb25zdCBoPU1hdGguYWNvcyhhKSxsPTEvTWF0aC5zaW4oaCk7bj1NYXRoLnNpbigoMS1pKSpoKSpsLHI9bz8tTWF0aC5zaW4oaSpoKSpsOk1hdGguc2luKGkqaCkqbH1yZXR1cm4gcy5feD1uKmUuX3grcip0Ll94LHMuX3k9biplLl95K3IqdC5feSxzLl96PW4qZS5feityKnQuX3oscy5fdz1uKmUuX3crcip0Ll93LHMuX2lzRGlydHk9ITAsc31zdGF0aWMgSGVybWl0ZShlLHQsaSxzLHIpe2NvbnN0IG49cipyLGE9cipuLG89MiphLTMqbisxLGg9LTIqYSszKm4sbD1hLTIqbityLHU9YS1uLGQ9ZS5feCpvK2kuX3gqaCt0Ll94Kmwrcy5feCp1LF89ZS5feSpvK2kuX3kqaCt0Ll95Kmwrcy5feSp1LGY9ZS5feipvK2kuX3oqaCt0Ll96Kmwrcy5feip1LG09ZS5fdypvK2kuX3cqaCt0Ll93Kmwrcy5fdyp1O3JldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihkLF8sZixtKX1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmUoZSx0LGkscyxyKXtjb25zdCBuPW5ldyBlLmNvbnN0cnVjdG9yO3JldHVybiB0aGlzLkhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LGkscyxyLG4pLG59c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlVG9SZWYoZSx0LGkscyxyLG4pe2NvbnN0IGE9cipyO3JldHVybiBuLl94PShhLXIpKjYqZS5feCsoMyphLTQqcisxKSp0Ll94KygtYStyKSo2KmkuX3grKDMqYS0yKnIpKnMuX3gsbi5feT0oYS1yKSo2KmUuX3krKDMqYS00KnIrMSkqdC5feSsoLWErcikqNippLl95KygzKmEtMipyKSpzLl95LG4uX3o9KGEtcikqNiplLl96KygzKmEtNCpyKzEpKnQuX3orKC1hK3IpKjYqaS5feisoMyphLTIqcikqcy5feixuLl93PShhLXIpKjYqZS5fdysoMyphLTQqcisxKSp0Ll93KygtYStyKSo2KmkuX3crKDMqYS0yKnIpKnMuX3csbi5faXNEaXJ0eT0hMCxufX1jbGFzcyBNe3N0YXRpYyBnZXQgVXNlNjRCaXRzKCl7cmV0dXJuIFVlLk1hdHJpeFVzZTY0Qml0c31nZXQgbSgpe3JldHVybiB0aGlzLl9tfW1hcmtBc1VwZGF0ZWQoKXt0aGlzLnVwZGF0ZUZsYWc9TS5fVXBkYXRlRmxhZ1NlZWQrKyx0aGlzLl9pc0lkZW50aXR5PSExLHRoaXMuX2lzSWRlbnRpdHkzeDI9ITEsdGhpcy5faXNJZGVudGl0eURpcnR5PSEwLHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMH1fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZSx0PSExLGk9ITEscz0hMCl7dGhpcy5faXNJZGVudGl0eT1lLHRoaXMuX2lzSWRlbnRpdHkzeDI9ZXx8aSx0aGlzLl9pc0lkZW50aXR5RGlydHk9dGhpcy5faXNJZGVudGl0eT8hMTp0LHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT10aGlzLl9pc0lkZW50aXR5M3gyPyExOnN9Y29uc3RydWN0b3IoKXt0aGlzLl9pc0lkZW50aXR5PSExLHRoaXMuX2lzSWRlbnRpdHlEaXJ0eT0hMCx0aGlzLl9pc0lkZW50aXR5M3gyPSEwLHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMCx0aGlzLnVwZGF0ZUZsYWc9LTEsVWUuTWF0cml4VHJhY2tQcmVjaXNpb25DaGFuZ2UmJlVlLk1hdHJpeFRyYWNrZWRNYXRyaWNlcy5wdXNoKHRoaXMpLHRoaXMuX209bmV3IFVlLk1hdHJpeEN1cnJlbnRUeXBlKDE2KSx0aGlzLm1hcmtBc1VwZGF0ZWQoKX1pc0lkZW50aXR5KCl7aWYodGhpcy5faXNJZGVudGl0eURpcnR5KXt0aGlzLl9pc0lkZW50aXR5RGlydHk9ITE7Y29uc3QgZT10aGlzLl9tO3RoaXMuX2lzSWRlbnRpdHk9ZVswXT09PTEmJmVbMV09PT0wJiZlWzJdPT09MCYmZVszXT09PTAmJmVbNF09PT0wJiZlWzVdPT09MSYmZVs2XT09PTAmJmVbN109PT0wJiZlWzhdPT09MCYmZVs5XT09PTAmJmVbMTBdPT09MSYmZVsxMV09PT0wJiZlWzEyXT09PTAmJmVbMTNdPT09MCYmZVsxNF09PT0wJiZlWzE1XT09PTF9cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHl9aXNJZGVudGl0eUFzM3gyKCl7cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eSYmKHRoaXMuX2lzSWRlbnRpdHkzeDJEaXJ0eT0hMSx0aGlzLl9tWzBdIT09MXx8dGhpcy5fbVs1XSE9PTF8fHRoaXMuX21bMTVdIT09MT90aGlzLl9pc0lkZW50aXR5M3gyPSExOnRoaXMuX21bMV0hPT0wfHx0aGlzLl9tWzJdIT09MHx8dGhpcy5fbVszXSE9PTB8fHRoaXMuX21bNF0hPT0wfHx0aGlzLl9tWzZdIT09MHx8dGhpcy5fbVs3XSE9PTB8fHRoaXMuX21bOF0hPT0wfHx0aGlzLl9tWzldIT09MHx8dGhpcy5fbVsxMF0hPT0wfHx0aGlzLl9tWzExXSE9PTB8fHRoaXMuX21bMTJdIT09MHx8dGhpcy5fbVsxM10hPT0wfHx0aGlzLl9tWzE0XSE9PTA/dGhpcy5faXNJZGVudGl0eTN4Mj0hMTp0aGlzLl9pc0lkZW50aXR5M3gyPSEwKSx0aGlzLl9pc0lkZW50aXR5M3gyfWRldGVybWluYW50KCl7aWYodGhpcy5faXNJZGVudGl0eT09PSEwKXJldHVybiAxO2NvbnN0IGU9dGhpcy5fbSx0PWVbMF0saT1lWzFdLHM9ZVsyXSxyPWVbM10sbj1lWzRdLGE9ZVs1XSxvPWVbNl0saD1lWzddLGw9ZVs4XSx1PWVbOV0sZD1lWzEwXSxfPWVbMTFdLGY9ZVsxMl0sbT1lWzEzXSx2PWVbMTRdLEU9ZVsxNV0sUz1kKkUtdipfLFI9dSpFLW0qXyxBPXUqdi1tKmQsQz1sKkUtZipfLGI9bCp2LWQqZix4PWwqbS1mKnUsST0rKGEqUy1vKlIraCpBKSxVPS0obipTLW8qQytoKmIpLGs9KyhuKlItYSpDK2gqeCksbWU9LShuKkEtYSpiK28qeCk7cmV0dXJuIHQqSStpKlUrcyprK3IqbWV9dG9BcnJheSgpe3JldHVybiB0aGlzLl9tfWFzQXJyYXkoKXtyZXR1cm4gdGhpcy5fbX1pbnZlcnQoKXtyZXR1cm4gdGhpcy5pbnZlcnRUb1JlZih0aGlzKSx0aGlzfXJlc2V0KCl7cmV0dXJuIE0uRnJvbVZhbHVlc1RvUmVmKDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsdGhpcyksdGhpcy5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLHRoaXN9YWRkKGUpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuYWRkVG9SZWYoZSx0KSx0fWFkZFRvUmVmKGUsdCl7Y29uc3QgaT10aGlzLl9tLHM9dC5fbSxyPWUubTtmb3IobGV0IG49MDtuPDE2O24rKylzW25dPWlbbl0rcltuXTtyZXR1cm4gdC5tYXJrQXNVcGRhdGVkKCksdH1hZGRUb1NlbGYoZSl7Y29uc3QgdD10aGlzLl9tLGk9ZS5tO2ZvcihsZXQgcz0wO3M8MTY7cysrKXRbc10rPWlbc107cmV0dXJuIHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9aW52ZXJ0VG9SZWYoZSl7aWYodGhpcy5faXNJZGVudGl0eT09PSEwKXJldHVybiBNLklkZW50aXR5VG9SZWYoZSksZTtjb25zdCB0PXRoaXMuX20saT10WzBdLHM9dFsxXSxyPXRbMl0sbj10WzNdLGE9dFs0XSxvPXRbNV0saD10WzZdLGw9dFs3XSx1PXRbOF0sZD10WzldLF89dFsxMF0sZj10WzExXSxtPXRbMTJdLHY9dFsxM10sRT10WzE0XSxTPXRbMTVdLFI9XypTLUUqZixBPWQqUy12KmYsQz1kKkUtdipfLGI9dSpTLW0qZix4PXUqRS1fKm0sST11KnYtbSpkLFU9KyhvKlItaCpBK2wqQyksaz0tKGEqUi1oKmIrbCp4KSxtZT0rKGEqQS1vKmIrbCpJKSxxPS0oYSpDLW8qeCtoKkkpLHVlPWkqVStzKmsrciptZStuKnE7aWYodWU9PT0wKXJldHVybiBlLmNvcHlGcm9tKHRoaXMpLGU7Y29uc3QgaWU9MS91ZSxiZT1oKlMtRSpsLE1lPW8qUy12KmwsSGU9bypFLXYqaCxLZT1hKlMtbSpsLFllPWEqRS1tKmgsbXQ9YSp2LW0qbyxsdD1oKmYtXypsLE90PW8qZi1kKmwsbmk9bypfLWQqaCxwcz1hKmYtdSpsLG1zPWEqXy11KmgsdnM9YSpkLXUqbyxxcz0tKHMqUi1yKkErbipDKSxqcz0rKGkqUi1yKmIrbip4KSwkcz0tKGkqQS1zKmIrbipJKSxRcz0rKGkqQy1zKngrcipJKSxKcz0rKHMqYmUtcipNZStuKkhlKSxlcj0tKGkqYmUtcipLZStuKlllKSxLdD0rKGkqTWUtcypLZStuKm10KSxZdD0tKGkqSGUtcypZZStyKm10KSxadD0tKHMqbHQtcipPdCtuKm5pKSxxdD0rKGkqbHQtcipwcytuKm1zKSxHbD0tKGkqT3QtcypwcytuKnZzKSxYbD0rKGkqbmktcyptcytyKnZzKTtyZXR1cm4gTS5Gcm9tVmFsdWVzVG9SZWYoVSppZSxxcyppZSxKcyppZSxadCppZSxrKmllLGpzKmllLGVyKmllLHF0KmllLG1lKmllLCRzKmllLEt0KmllLEdsKmllLHEqaWUsUXMqaWUsWXQqaWUsWGwqaWUsZSksZX1hZGRBdEluZGV4KGUsdCl7cmV0dXJuIHRoaXMuX21bZV0rPXQsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31tdWx0aXBseUF0SW5kZXgoZSx0KXtyZXR1cm4gdGhpcy5fbVtlXSo9dCx0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfXNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cyhlLHQsaSl7cmV0dXJuIHRoaXMuX21bMTJdPWUsdGhpcy5fbVsxM109dCx0aGlzLl9tWzE0XT1pLHRoaXMubWFya0FzVXBkYXRlZCgpLHRoaXN9YWRkVHJhbnNsYXRpb25Gcm9tRmxvYXRzKGUsdCxpKXtyZXR1cm4gdGhpcy5fbVsxMl0rPWUsdGhpcy5fbVsxM10rPXQsdGhpcy5fbVsxNF0rPWksdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31zZXRUcmFuc2xhdGlvbihlKXtyZXR1cm4gdGhpcy5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoZS5feCxlLl95LGUuX3opfWdldFRyYW5zbGF0aW9uKCl7cmV0dXJuIG5ldyBwKHRoaXMuX21bMTJdLHRoaXMuX21bMTNdLHRoaXMuX21bMTRdKX1nZXRUcmFuc2xhdGlvblRvUmVmKGUpe3JldHVybiBlLng9dGhpcy5fbVsxMl0sZS55PXRoaXMuX21bMTNdLGUuej10aGlzLl9tWzE0XSxlfXJlbW92ZVJvdGF0aW9uQW5kU2NhbGluZygpe2NvbnN0IGU9dGhpcy5tO3JldHVybiBNLkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCxlWzEyXSxlWzEzXSxlWzE0XSxlWzE1XSx0aGlzKSx0aGlzLl91cGRhdGVJZGVudGl0eVN0YXR1cyhlWzEyXT09PTAmJmVbMTNdPT09MCYmZVsxNF09PT0wJiZlWzE1XT09PTEpLHRoaXN9bXVsdGlwbHkoZSl7Y29uc3QgdD1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5tdWx0aXBseVRvUmVmKGUsdCksdH1jb3B5RnJvbShlKXtlLmNvcHlUb0FycmF5KHRoaXMuX20pO2NvbnN0IHQ9ZTtyZXR1cm4gdGhpcy51cGRhdGVGbGFnPXQudXBkYXRlRmxhZyx0aGlzLl91cGRhdGVJZGVudGl0eVN0YXR1cyh0Ll9pc0lkZW50aXR5LHQuX2lzSWRlbnRpdHlEaXJ0eSx0Ll9pc0lkZW50aXR5M3gyLHQuX2lzSWRlbnRpdHkzeDJEaXJ0eSksdGhpc31jb3B5VG9BcnJheShlLHQ9MCl7Y29uc3QgaT10aGlzLl9tO3JldHVybiBlW3RdPWlbMF0sZVt0KzFdPWlbMV0sZVt0KzJdPWlbMl0sZVt0KzNdPWlbM10sZVt0KzRdPWlbNF0sZVt0KzVdPWlbNV0sZVt0KzZdPWlbNl0sZVt0KzddPWlbN10sZVt0KzhdPWlbOF0sZVt0KzldPWlbOV0sZVt0KzEwXT1pWzEwXSxlW3QrMTFdPWlbMTFdLGVbdCsxMl09aVsxMl0sZVt0KzEzXT1pWzEzXSxlW3QrMTRdPWlbMTRdLGVbdCsxNV09aVsxNV0sdGhpc31tdWx0aXBseVRvUmVmKGUsdCl7cmV0dXJuIHRoaXMuX2lzSWRlbnRpdHk/KHQuY29weUZyb20oZSksdCk6ZS5faXNJZGVudGl0eT8odC5jb3B5RnJvbSh0aGlzKSx0KToodGhpcy5tdWx0aXBseVRvQXJyYXkoZSx0Ll9tLDApLHQubWFya0FzVXBkYXRlZCgpLHQpfW11bHRpcGx5VG9BcnJheShlLHQsaSl7Y29uc3Qgcz10aGlzLl9tLHI9ZS5tLG49c1swXSxhPXNbMV0sbz1zWzJdLGg9c1szXSxsPXNbNF0sdT1zWzVdLGQ9c1s2XSxfPXNbN10sZj1zWzhdLG09c1s5XSx2PXNbMTBdLEU9c1sxMV0sUz1zWzEyXSxSPXNbMTNdLEE9c1sxNF0sQz1zWzE1XSxiPXJbMF0seD1yWzFdLEk9clsyXSxVPXJbM10saz1yWzRdLG1lPXJbNV0scT1yWzZdLHVlPXJbN10saWU9cls4XSxiZT1yWzldLE1lPXJbMTBdLEhlPXJbMTFdLEtlPXJbMTJdLFllPXJbMTNdLG10PXJbMTRdLGx0PXJbMTVdO3JldHVybiB0W2ldPW4qYithKmsrbyppZStoKktlLHRbaSsxXT1uKngrYSptZStvKmJlK2gqWWUsdFtpKzJdPW4qSSthKnErbypNZStoKm10LHRbaSszXT1uKlUrYSp1ZStvKkhlK2gqbHQsdFtpKzRdPWwqYit1KmsrZCppZStfKktlLHRbaSs1XT1sKngrdSptZStkKmJlK18qWWUsdFtpKzZdPWwqSSt1KnErZCpNZStfKm10LHRbaSs3XT1sKlUrdSp1ZStkKkhlK18qbHQsdFtpKzhdPWYqYittKmsrdippZStFKktlLHRbaSs5XT1mKngrbSptZSt2KmJlK0UqWWUsdFtpKzEwXT1mKkkrbSpxK3YqTWUrRSptdCx0W2krMTFdPWYqVSttKnVlK3YqSGUrRSpsdCx0W2krMTJdPVMqYitSKmsrQSppZStDKktlLHRbaSsxM109Uyp4K1IqbWUrQSpiZStDKlllLHRbaSsxNF09UypJK1IqcStBKk1lK0MqbXQsdFtpKzE1XT1TKlUrUip1ZStBKkhlK0MqbHQsdGhpc31lcXVhbHMoZSl7Y29uc3QgdD1lO2lmKCF0KXJldHVybiExO2lmKCh0aGlzLl9pc0lkZW50aXR5fHx0Ll9pc0lkZW50aXR5KSYmIXRoaXMuX2lzSWRlbnRpdHlEaXJ0eSYmIXQuX2lzSWRlbnRpdHlEaXJ0eSlyZXR1cm4gdGhpcy5faXNJZGVudGl0eSYmdC5faXNJZGVudGl0eTtjb25zdCBpPXRoaXMubSxzPXQubTtyZXR1cm4gaVswXT09PXNbMF0mJmlbMV09PT1zWzFdJiZpWzJdPT09c1syXSYmaVszXT09PXNbM10mJmlbNF09PT1zWzRdJiZpWzVdPT09c1s1XSYmaVs2XT09PXNbNl0mJmlbN109PT1zWzddJiZpWzhdPT09c1s4XSYmaVs5XT09PXNbOV0mJmlbMTBdPT09c1sxMF0mJmlbMTFdPT09c1sxMV0mJmlbMTJdPT09c1sxMl0mJmlbMTNdPT09c1sxM10mJmlbMTRdPT09c1sxNF0mJmlbMTVdPT09c1sxNV19Y2xvbmUoKXtjb25zdCBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiBlLmNvcHlGcm9tKHRoaXMpLGV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1hdHJpeCJ9Z2V0SGFzaENvZGUoKXtsZXQgZT1ydCh0aGlzLl9tWzBdKTtmb3IobGV0IHQ9MTt0PDE2O3QrKyllPWUqMzk3XnJ0KHRoaXMuX21bdF0pO3JldHVybiBlfWRlY29tcG9zZVRvVHJhbnNmb3JtTm9kZShlKXtyZXR1cm4gZS5yb3RhdGlvblF1YXRlcm5pb249ZS5yb3RhdGlvblF1YXRlcm5pb258fG5ldyBaLHRoaXMuZGVjb21wb3NlKGUuc2NhbGluZyxlLnJvdGF0aW9uUXVhdGVybmlvbixlLnBvc2l0aW9uKX1kZWNvbXBvc2UoZSx0LGkscyl7aWYodGhpcy5faXNJZGVudGl0eSlyZXR1cm4gaSYmaS5zZXRBbGwoMCksZSYmZS5zZXRBbGwoMSksdCYmdC5jb3B5RnJvbUZsb2F0cygwLDAsMCwxKSwhMDtjb25zdCByPXRoaXMuX207aWYoaSYmaS5jb3B5RnJvbUZsb2F0cyhyWzEyXSxyWzEzXSxyWzE0XSksZT1lfHxLLlZlY3RvcjNbMF0sZS54PU1hdGguc3FydChyWzBdKnJbMF0rclsxXSpyWzFdK3JbMl0qclsyXSksZS55PU1hdGguc3FydChyWzRdKnJbNF0rcls1XSpyWzVdK3JbNl0qcls2XSksZS56PU1hdGguc3FydChyWzhdKnJbOF0rcls5XSpyWzldK3JbMTBdKnJbMTBdKSxzKXtjb25zdCBuPXMuc2NhbGluZy54PDA/LTE6MSxhPXMuc2NhbGluZy55PDA/LTE6MSxvPXMuc2NhbGluZy56PDA/LTE6MTtlLngqPW4sZS55Kj1hLGUueio9b31lbHNlIHRoaXMuZGV0ZXJtaW5hbnQoKTw9MCYmKGUueSo9LTEpO2lmKGUuX3g9PT0wfHxlLl95PT09MHx8ZS5fej09PTApcmV0dXJuIHQmJnQuY29weUZyb21GbG9hdHMoMCwwLDAsMSksITE7aWYodCl7Y29uc3Qgbj0xL2UuX3gsYT0xL2UuX3ksbz0xL2UuX3o7TS5Gcm9tVmFsdWVzVG9SZWYoclswXSpuLHJbMV0qbixyWzJdKm4sMCxyWzRdKmEscls1XSphLHJbNl0qYSwwLHJbOF0qbyxyWzldKm8sclsxMF0qbywwLDAsMCwwLDEsSy5NYXRyaXhbMF0pLFouRnJvbVJvdGF0aW9uTWF0cml4VG9SZWYoSy5NYXRyaXhbMF0sdCl9cmV0dXJuITB9Z2V0Um93KGUpe2lmKGU8MHx8ZT4zKXJldHVybiBudWxsO2NvbnN0IHQ9ZSo0O3JldHVybiBuZXcgeWUodGhpcy5fbVt0KzBdLHRoaXMuX21bdCsxXSx0aGlzLl9tW3QrMl0sdGhpcy5fbVt0KzNdKX1nZXRSb3dUb1JlZihlLHQpe2lmKGU+PTAmJmU8Myl7Y29uc3QgaT1lKjQ7dC54PXRoaXMuX21baSswXSx0Lnk9dGhpcy5fbVtpKzFdLHQuej10aGlzLl9tW2krMl0sdC53PXRoaXMuX21baSszXX1yZXR1cm4gdH1zZXRSb3coZSx0KXtyZXR1cm4gdGhpcy5zZXRSb3dGcm9tRmxvYXRzKGUsdC54LHQueSx0LnosdC53KX10cmFuc3Bvc2UoKXtjb25zdCBlPW5ldyB0aGlzLmNvbnN0cnVjdG9yO3JldHVybiBNLlRyYW5zcG9zZVRvUmVmKHRoaXMsZSksZX10cmFuc3Bvc2VUb1JlZihlKXtyZXR1cm4gTS5UcmFuc3Bvc2VUb1JlZih0aGlzLGUpLGV9c2V0Um93RnJvbUZsb2F0cyhlLHQsaSxzLHIpe2lmKGU8MHx8ZT4zKXJldHVybiB0aGlzO2NvbnN0IG49ZSo0O3JldHVybiB0aGlzLl9tW24rMF09dCx0aGlzLl9tW24rMV09aSx0aGlzLl9tW24rMl09cyx0aGlzLl9tW24rM109cix0aGlzLm1hcmtBc1VwZGF0ZWQoKSx0aGlzfXNjYWxlKGUpe2NvbnN0IHQ9bmV3IHRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMuc2NhbGVUb1JlZihlLHQpLHR9c2NhbGVUb1JlZihlLHQpe2ZvcihsZXQgaT0wO2k8MTY7aSsrKXQuX21baV09dGhpcy5fbVtpXSplO3JldHVybiB0Lm1hcmtBc1VwZGF0ZWQoKSx0fXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtmb3IobGV0IGk9MDtpPDE2O2krKyl0Ll9tW2ldKz10aGlzLl9tW2ldKmU7cmV0dXJuIHQubWFya0FzVXBkYXRlZCgpLHR9dG9Ob3JtYWxNYXRyaXgoZSl7Y29uc3QgdD1LLk1hdHJpeFswXTt0aGlzLmludmVydFRvUmVmKHQpLHQudHJhbnNwb3NlVG9SZWYoZSk7Y29uc3QgaT1lLl9tO3JldHVybiBNLkZyb21WYWx1ZXNUb1JlZihpWzBdLGlbMV0saVsyXSwwLGlbNF0saVs1XSxpWzZdLDAsaVs4XSxpWzldLGlbMTBdLDAsMCwwLDAsMSxlKSxlfWdldFJvdGF0aW9uTWF0cml4KCl7Y29uc3QgZT1uZXcgdGhpcy5jb25zdHJ1Y3RvcjtyZXR1cm4gdGhpcy5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGUpLGV9Z2V0Um90YXRpb25NYXRyaXhUb1JlZihlKXtjb25zdCB0PUsuVmVjdG9yM1swXTtpZighdGhpcy5kZWNvbXBvc2UodCkpcmV0dXJuIE0uSWRlbnRpdHlUb1JlZihlKSxlO2NvbnN0IGk9dGhpcy5fbSxzPTEvdC5feCxyPTEvdC5feSxuPTEvdC5fejtyZXR1cm4gTS5Gcm9tVmFsdWVzVG9SZWYoaVswXSpzLGlbMV0qcyxpWzJdKnMsMCxpWzRdKnIsaVs1XSpyLGlbNl0qciwwLGlbOF0qbixpWzldKm4saVsxMF0qbiwwLDAsMCwwLDEsZSksZX10b2dnbGVNb2RlbE1hdHJpeEhhbmRJblBsYWNlKCl7Y29uc3QgZT10aGlzLl9tO3JldHVybiBlWzJdKj0tMSxlWzZdKj0tMSxlWzhdKj0tMSxlWzldKj0tMSxlWzE0XSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc310b2dnbGVQcm9qZWN0aW9uTWF0cml4SGFuZEluUGxhY2UoKXtjb25zdCBlPXRoaXMuX207cmV0dXJuIGVbOF0qPS0xLGVbOV0qPS0xLGVbMTBdKj0tMSxlWzExXSo9LTEsdGhpcy5tYXJrQXNVcGRhdGVkKCksdGhpc31zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtjb25zdCBpPW5ldyBNO3JldHVybiBNLkZyb21BcnJheVRvUmVmKGUsdCxpKSxpfXN0YXRpYyBGcm9tQXJyYXlUb1JlZihlLHQsaSl7Zm9yKGxldCBzPTA7czwxNjtzKyspaS5fbVtzXT1lW3MrdF07cmV0dXJuIGkubWFya0FzVXBkYXRlZCgpLGl9c3RhdGljIEZyb21GbG9hdDMyQXJyYXlUb1JlZlNjYWxlZChlLHQsaSxzKXtmb3IobGV0IHI9MDtyPDE2O3IrKylzLl9tW3JdPWVbcit0XSppO3JldHVybiBzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBnZXQgSWRlbnRpdHlSZWFkT25seSgpe3JldHVybiBNLl9JZGVudGl0eVJlYWRPbmx5fXN0YXRpYyBGcm9tVmFsdWVzVG9SZWYoZSx0LGkscyxyLG4sYSxvLGgsbCx1LGQsXyxmLG0sdixFKXtjb25zdCBTPUUuX207U1swXT1lLFNbMV09dCxTWzJdPWksU1szXT1zLFNbNF09cixTWzVdPW4sU1s2XT1hLFNbN109byxTWzhdPWgsU1s5XT1sLFNbMTBdPXUsU1sxMV09ZCxTWzEyXT1fLFNbMTNdPWYsU1sxNF09bSxTWzE1XT12LEUubWFya0FzVXBkYXRlZCgpfXN0YXRpYyBGcm9tVmFsdWVzKGUsdCxpLHMscixuLGEsbyxoLGwsdSxkLF8sZixtLHYpe2NvbnN0IEU9bmV3IE0sUz1FLl9tO3JldHVybiBTWzBdPWUsU1sxXT10LFNbMl09aSxTWzNdPXMsU1s0XT1yLFNbNV09bixTWzZdPWEsU1s3XT1vLFNbOF09aCxTWzldPWwsU1sxMF09dSxTWzExXT1kLFNbMTJdPV8sU1sxM109ZixTWzE0XT1tLFNbMTVdPXYsRS5tYXJrQXNVcGRhdGVkKCksRX1zdGF0aWMgQ29tcG9zZShlLHQsaSl7Y29uc3Qgcz1uZXcgTTtyZXR1cm4gTS5Db21wb3NlVG9SZWYoZSx0LGkscyksc31zdGF0aWMgQ29tcG9zZVRvUmVmKGUsdCxpLHMpe2NvbnN0IHI9cy5fbSxuPXQuX3gsYT10Ll95LG89dC5feixoPXQuX3csbD1uK24sdT1hK2EsZD1vK28sXz1uKmwsZj1uKnUsbT1uKmQsdj1hKnUsRT1hKmQsUz1vKmQsUj1oKmwsQT1oKnUsQz1oKmQsYj1lLl94LHg9ZS5feSxJPWUuX3o7cmV0dXJuIHJbMF09KDEtKHYrUykpKmIsclsxXT0oZitDKSpiLHJbMl09KG0tQSkqYixyWzNdPTAscls0XT0oZi1DKSp4LHJbNV09KDEtKF8rUykpKngscls2XT0oRStSKSp4LHJbN109MCxyWzhdPShtK0EpKkkscls5XT0oRS1SKSpJLHJbMTBdPSgxLShfK3YpKSpJLHJbMTFdPTAsclsxMl09aS5feCxyWzEzXT1pLl95LHJbMTRdPWkuX3osclsxNV09MSxzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBJZGVudGl0eSgpe2NvbnN0IGU9TS5Gcm9tVmFsdWVzKDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDEpO3JldHVybiBlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMCksZX1zdGF0aWMgSWRlbnRpdHlUb1JlZihlKXtyZXR1cm4gTS5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLDEsMCwwLDAsMCwxLDAsMCwwLDAsMSxlKSxlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMCksZX1zdGF0aWMgWmVybygpe2NvbnN0IGU9TS5Gcm9tVmFsdWVzKDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDApO3JldHVybiBlLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSksZX1zdGF0aWMgUm90YXRpb25YKGUpe2NvbnN0IHQ9bmV3IE07cmV0dXJuIE0uUm90YXRpb25YVG9SZWYoZSx0KSx0fXN0YXRpYyBJbnZlcnQoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gZS5pbnZlcnRUb1JlZih0KSx0fXN0YXRpYyBSb3RhdGlvblhUb1JlZihlLHQpe2NvbnN0IGk9TWF0aC5zaW4oZSkscz1NYXRoLmNvcyhlKTtyZXR1cm4gTS5Gcm9tVmFsdWVzVG9SZWYoMSwwLDAsMCwwLHMsaSwwLDAsLWkscywwLDAsMCwwLDEsdCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMocz09PTEmJmk9PT0wKSx0fXN0YXRpYyBSb3RhdGlvblkoZSl7Y29uc3QgdD1uZXcgTTtyZXR1cm4gTS5Sb3RhdGlvbllUb1JlZihlLHQpLHR9c3RhdGljIFJvdGF0aW9uWVRvUmVmKGUsdCl7Y29uc3QgaT1NYXRoLnNpbihlKSxzPU1hdGguY29zKGUpO3JldHVybiBNLkZyb21WYWx1ZXNUb1JlZihzLDAsLWksMCwwLDEsMCwwLGksMCxzLDAsMCwwLDAsMSx0KSx0Ll91cGRhdGVJZGVudGl0eVN0YXR1cyhzPT09MSYmaT09PTApLHR9c3RhdGljIFJvdGF0aW9uWihlKXtjb25zdCB0PW5ldyBNO3JldHVybiBNLlJvdGF0aW9uWlRvUmVmKGUsdCksdH1zdGF0aWMgUm90YXRpb25aVG9SZWYoZSx0KXtjb25zdCBpPU1hdGguc2luKGUpLHM9TWF0aC5jb3MoZSk7cmV0dXJuIE0uRnJvbVZhbHVlc1RvUmVmKHMsaSwwLDAsLWkscywwLDAsMCwwLDEsMCwwLDAsMCwxLHQpLHQuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKHM9PT0xJiZpPT09MCksdH1zdGF0aWMgUm90YXRpb25BeGlzKGUsdCl7Y29uc3QgaT1uZXcgTTtyZXR1cm4gTS5Sb3RhdGlvbkF4aXNUb1JlZihlLHQsaSksaX1zdGF0aWMgUm90YXRpb25BeGlzVG9SZWYoZSx0LGkpe2NvbnN0IHM9TWF0aC5zaW4oLXQpLHI9TWF0aC5jb3MoLXQpLG49MS1yO2Uubm9ybWFsaXplKCk7Y29uc3QgYT1pLl9tO3JldHVybiBhWzBdPWUuX3gqZS5feCpuK3IsYVsxXT1lLl94KmUuX3kqbi1lLl96KnMsYVsyXT1lLl94KmUuX3oqbitlLl95KnMsYVszXT0wLGFbNF09ZS5feSplLl94Km4rZS5feipzLGFbNV09ZS5feSplLl95Km4rcixhWzZdPWUuX3kqZS5feipuLWUuX3gqcyxhWzddPTAsYVs4XT1lLl96KmUuX3gqbi1lLl95KnMsYVs5XT1lLl96KmUuX3kqbitlLl94KnMsYVsxMF09ZS5feiplLl96Km4rcixhWzExXT0wLGFbMTJdPTAsYVsxM109MCxhWzE0XT0wLGFbMTVdPTEsaS5tYXJrQXNVcGRhdGVkKCksaX1zdGF0aWMgUm90YXRpb25BbGlnblRvUmVmKGUsdCxpKXtjb25zdCBzPXAuRG90KHQsZSkscj1pLl9tO2lmKHM8LTErU2UpclswXT0tMSxyWzFdPTAsclsyXT0wLHJbM109MCxyWzRdPTAscls1XT0tMSxyWzZdPTAscls3XT0wLHJbOF09MCxyWzldPTAsclsxMF09MSxyWzExXT0wO2Vsc2V7Y29uc3Qgbj1wLkNyb3NzKHQsZSksYT0xLygxK3MpO3JbMF09bi5feCpuLl94KmErcyxyWzFdPW4uX3kqbi5feCphLW4uX3osclsyXT1uLl96Km4uX3gqYStuLl95LHJbM109MCxyWzRdPW4uX3gqbi5feSphK24uX3oscls1XT1uLl95Km4uX3kqYStzLHJbNl09bi5feipuLl95KmEtbi5feCxyWzddPTAscls4XT1uLl94Km4uX3oqYS1uLl95LHJbOV09bi5feSpuLl96KmErbi5feCxyWzEwXT1uLl96Km4uX3oqYStzLHJbMTFdPTB9cmV0dXJuIHJbMTJdPTAsclsxM109MCxyWzE0XT0wLHJbMTVdPTEsaS5tYXJrQXNVcGRhdGVkKCksaX1zdGF0aWMgUm90YXRpb25ZYXdQaXRjaFJvbGwoZSx0LGkpe2NvbnN0IHM9bmV3IE07cmV0dXJuIE0uUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBSb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGUsdCxpLHMpe3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYoZSx0LGksSy5RdWF0ZXJuaW9uWzBdKSxLLlF1YXRlcm5pb25bMF0udG9Sb3RhdGlvbk1hdHJpeChzKSxzfXN0YXRpYyBTY2FsaW5nKGUsdCxpKXtjb25zdCBzPW5ldyBNO3JldHVybiBNLlNjYWxpbmdUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBTY2FsaW5nVG9SZWYoZSx0LGkscyl7cmV0dXJuIE0uRnJvbVZhbHVlc1RvUmVmKGUsMCwwLDAsMCx0LDAsMCwwLDAsaSwwLDAsMCwwLDEscykscy5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZT09PTEmJnQ9PT0xJiZpPT09MSksc31zdGF0aWMgVHJhbnNsYXRpb24oZSx0LGkpe2NvbnN0IHM9bmV3IE07cmV0dXJuIE0uVHJhbnNsYXRpb25Ub1JlZihlLHQsaSxzKSxzfXN0YXRpYyBUcmFuc2xhdGlvblRvUmVmKGUsdCxpLHMpe3JldHVybiBNLkZyb21WYWx1ZXNUb1JlZigxLDAsMCwwLDAsMSwwLDAsMCwwLDEsMCxlLHQsaSwxLHMpLHMuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKGU9PT0wJiZ0PT09MCYmaT09PTApLHN9c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9bmV3IGUuY29uc3RydWN0b3I7cmV0dXJuIE0uTGVycFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExlcnBUb1JlZihlLHQsaSxzKXtjb25zdCByPXMuX20sbj1lLm0sYT10Lm07Zm9yKGxldCBvPTA7bzwxNjtvKyspcltvXT1uW29dKigxLWkpK2Fbb10qaTtyZXR1cm4gcy5tYXJrQXNVcGRhdGVkKCksc31zdGF0aWMgRGVjb21wb3NlTGVycChlLHQsaSl7Y29uc3Qgcz1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gTS5EZWNvbXBvc2VMZXJwVG9SZWYoZSx0LGkscyksc31zdGF0aWMgRGVjb21wb3NlTGVycFRvUmVmKGUsdCxpLHMpe2NvbnN0IHI9Sy5WZWN0b3IzWzBdLG49Sy5RdWF0ZXJuaW9uWzBdLGE9Sy5WZWN0b3IzWzFdO2UuZGVjb21wb3NlKHIsbixhKTtjb25zdCBvPUsuVmVjdG9yM1syXSxoPUsuUXVhdGVybmlvblsxXSxsPUsuVmVjdG9yM1szXTt0LmRlY29tcG9zZShvLGgsbCk7Y29uc3QgdT1LLlZlY3RvcjNbNF07cC5MZXJwVG9SZWYocixvLGksdSk7Y29uc3QgZD1LLlF1YXRlcm5pb25bMl07Wi5TbGVycFRvUmVmKG4saCxpLGQpO2NvbnN0IF89Sy5WZWN0b3IzWzVdO3JldHVybiBwLkxlcnBUb1JlZihhLGwsaSxfKSxNLkNvbXBvc2VUb1JlZih1LGQsXyxzKSxzfXN0YXRpYyBMb29rQXRMSChlLHQsaSl7Y29uc3Qgcz1uZXcgTTtyZXR1cm4gTS5Mb29rQXRMSFRvUmVmKGUsdCxpLHMpLHN9c3RhdGljIExvb2tBdExIVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1LLlZlY3RvcjNbMF0sbj1LLlZlY3RvcjNbMV0sYT1LLlZlY3RvcjNbMl07dC5zdWJ0cmFjdFRvUmVmKGUsYSksYS5ub3JtYWxpemUoKSxwLkNyb3NzVG9SZWYoaSxhLHIpO2NvbnN0IG89ci5sZW5ndGhTcXVhcmVkKCk7bz09PTA/ci54PTE6ci5ub3JtYWxpemVGcm9tTGVuZ3RoKE1hdGguc3FydChvKSkscC5Dcm9zc1RvUmVmKGEscixuKSxuLm5vcm1hbGl6ZSgpO2NvbnN0IGg9LXAuRG90KHIsZSksbD0tcC5Eb3QobixlKSx1PS1wLkRvdChhLGUpO00uRnJvbVZhbHVlc1RvUmVmKHIuX3gsbi5feCxhLl94LDAsci5feSxuLl95LGEuX3ksMCxyLl96LG4uX3osYS5feiwwLGgsbCx1LDEscyl9c3RhdGljIExvb2tBdFJIKGUsdCxpKXtjb25zdCBzPW5ldyBNO3JldHVybiBNLkxvb2tBdFJIVG9SZWYoZSx0LGkscyksc31zdGF0aWMgTG9va0F0UkhUb1JlZihlLHQsaSxzKXtjb25zdCByPUsuVmVjdG9yM1swXSxuPUsuVmVjdG9yM1sxXSxhPUsuVmVjdG9yM1syXTtlLnN1YnRyYWN0VG9SZWYodCxhKSxhLm5vcm1hbGl6ZSgpLHAuQ3Jvc3NUb1JlZihpLGEscik7Y29uc3Qgbz1yLmxlbmd0aFNxdWFyZWQoKTtvPT09MD9yLng9MTpyLm5vcm1hbGl6ZUZyb21MZW5ndGgoTWF0aC5zcXJ0KG8pKSxwLkNyb3NzVG9SZWYoYSxyLG4pLG4ubm9ybWFsaXplKCk7Y29uc3QgaD0tcC5Eb3QocixlKSxsPS1wLkRvdChuLGUpLHU9LXAuRG90KGEsZSk7cmV0dXJuIE0uRnJvbVZhbHVlc1RvUmVmKHIuX3gsbi5feCxhLl94LDAsci5feSxuLl95LGEuX3ksMCxyLl96LG4uX3osYS5feiwwLGgsbCx1LDEscyksc31zdGF0aWMgTG9va0RpcmVjdGlvbkxIKGUsdCl7Y29uc3QgaT1uZXcgTTtyZXR1cm4gTS5Mb29rRGlyZWN0aW9uTEhUb1JlZihlLHQsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvbkxIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5WZWN0b3IzWzBdO3MuY29weUZyb20oZSkscy5zY2FsZUluUGxhY2UoLTEpO2NvbnN0IHI9Sy5WZWN0b3IzWzFdO3JldHVybiBwLkNyb3NzVG9SZWYodCxzLHIpLE0uRnJvbVZhbHVlc1RvUmVmKHIuX3gsci5feSxyLl96LDAsdC5feCx0Ll95LHQuX3osMCxzLl94LHMuX3kscy5feiwwLDAsMCwwLDEsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvblJIKGUsdCl7Y29uc3QgaT1uZXcgTTtyZXR1cm4gTS5Mb29rRGlyZWN0aW9uUkhUb1JlZihlLHQsaSksaX1zdGF0aWMgTG9va0RpcmVjdGlvblJIVG9SZWYoZSx0LGkpe2NvbnN0IHM9Sy5WZWN0b3IzWzJdO3JldHVybiBwLkNyb3NzVG9SZWYodCxlLHMpLE0uRnJvbVZhbHVlc1RvUmVmKHMuX3gscy5feSxzLl96LDAsdC5feCx0Ll95LHQuX3osMCxlLl94LGUuX3ksZS5feiwwLDAsMCwwLDEsaSksaX1zdGF0aWMgT3J0aG9MSChlLHQsaSxzLHIpe2NvbnN0IG49bmV3IE07cmV0dXJuIE0uT3J0aG9MSFRvUmVmKGUsdCxpLHMsbixyKSxufXN0YXRpYyBPcnRob0xIVG9SZWYoZSx0LGkscyxyLG4pe2NvbnN0IGE9aSxvPXMsaD0yL2UsbD0yL3QsdT0yLyhvLWEpLGQ9LShvK2EpLyhvLWEpO3JldHVybiBNLkZyb21WYWx1ZXNUb1JlZihoLDAsMCwwLDAsbCwwLDAsMCwwLHUsMCwwLDAsZCwxLHIpLG4mJnIubXVsdGlwbHlUb1JlZihqdCxyKSxyLl91cGRhdGVJZGVudGl0eVN0YXR1cyhoPT09MSYmbD09PTEmJnU9PT0xJiZkPT09MCkscn1zdGF0aWMgT3J0aG9PZmZDZW50ZXJMSChlLHQsaSxzLHIsbixhKXtjb25zdCBvPW5ldyBNO3JldHVybiBNLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZihlLHQsaSxzLHIsbixvLGEpLG99c3RhdGljIE9ydGhvT2ZmQ2VudGVyTEhUb1JlZihlLHQsaSxzLHIsbixhLG8pe2NvbnN0IGg9cixsPW4sdT0yLyh0LWUpLGQ9Mi8ocy1pKSxfPTIvKGwtaCksZj0tKGwraCkvKGwtaCksbT0oZSt0KS8oZS10KSx2PShzK2kpLyhpLXMpO3JldHVybiBNLkZyb21WYWx1ZXNUb1JlZih1LDAsMCwwLDAsZCwwLDAsMCwwLF8sMCxtLHYsZiwxLGEpLG8mJmEubXVsdGlwbHlUb1JlZihqdCxhKSxhLm1hcmtBc1VwZGF0ZWQoKSxhfXN0YXRpYyBPcnRob09mZkNlbnRlclJIKGUsdCxpLHMscixuLGEpe2NvbnN0IG89bmV3IE07cmV0dXJuIE0uT3J0aG9PZmZDZW50ZXJSSFRvUmVmKGUsdCxpLHMscixuLG8sYSksb31zdGF0aWMgT3J0aG9PZmZDZW50ZXJSSFRvUmVmKGUsdCxpLHMscixuLGEsbyl7cmV0dXJuIE0uT3J0aG9PZmZDZW50ZXJMSFRvUmVmKGUsdCxpLHMscixuLGEsbyksYS5fbVsxMF0qPS0xLGF9c3RhdGljIFBlcnNwZWN0aXZlTEgoZSx0LGkscyxyLG49MCl7Y29uc3QgYT1uZXcgTSxvPWksaD1zLGw9MipvL2UsdT0yKm8vdCxkPShoK28pLyhoLW8pLF89LTIqaCpvLyhoLW8pLGY9TWF0aC50YW4obik7cmV0dXJuIE0uRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsZiwwLDAsZCwxLDAsMCxfLDAsYSksciYmYS5tdWx0aXBseVRvUmVmKGp0LGEpLGEuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSxhfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdkxIKGUsdCxpLHMscixuPTAsYT0hMSl7Y29uc3Qgbz1uZXcgTTtyZXR1cm4gTS5QZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZSx0LGkscyxvLCEwLHIsbixhKSxvfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdkxIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTAsaD0hMSl7Y29uc3QgbD1pLHU9cyxkPTEvTWF0aC50YW4oZSouNSksXz1uP2QvdDpkLGY9bj9kOmQqdCxtPWgmJmw9PT0wPy0xOnUhPT0wPyh1K2wpLyh1LWwpOjEsdj1oJiZsPT09MD8yKnU6dSE9PTA/LTIqdSpsLyh1LWwpOi0yKmwsRT1NYXRoLnRhbihvKTtyZXR1cm4gTS5Gcm9tVmFsdWVzVG9SZWYoXywwLDAsMCwwLGYsMCxFLDAsMCxtLDEsMCwwLHYsMCxyKSxhJiZyLm11bHRpcGx5VG9SZWYoanQsciksci5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLHJ9c3RhdGljIFBlcnNwZWN0aXZlRm92UmV2ZXJzZUxIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTApe2NvbnN0IGg9MS9NYXRoLnRhbihlKi41KSxsPW4/aC90OmgsdT1uP2g6aCp0LGQ9TWF0aC50YW4obyk7cmV0dXJuIE0uRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsZCwwLDAsLWksMSwwLDAsMSwwLHIpLGEmJnIubXVsdGlwbHlUb1JlZihqdCxyKSxyLl91cGRhdGVJZGVudGl0eVN0YXR1cyghMSkscn1zdGF0aWMgUGVyc3BlY3RpdmVGb3ZSSChlLHQsaSxzLHIsbj0wLGE9ITEpe2NvbnN0IG89bmV3IE07cmV0dXJuIE0uUGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGUsdCxpLHMsbywhMCxyLG4sYSksb31zdGF0aWMgUGVyc3BlY3RpdmVGb3ZSSFRvUmVmKGUsdCxpLHMscixuPSEwLGEsbz0wLGg9ITEpe2NvbnN0IGw9aSx1PXMsZD0xL01hdGgudGFuKGUqLjUpLF89bj9kL3Q6ZCxmPW4/ZDpkKnQsbT1oJiZsPT09MD8xOnUhPT0wPy0odStsKS8odS1sKTotMSx2PWgmJmw9PT0wPzIqdTp1IT09MD8tMip1KmwvKHUtbCk6LTIqbCxFPU1hdGgudGFuKG8pO3JldHVybiBNLkZyb21WYWx1ZXNUb1JlZihfLDAsMCwwLDAsZiwwLEUsMCwwLG0sLTEsMCwwLHYsMCxyKSxhJiZyLm11bHRpcGx5VG9SZWYoanQsciksci5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoITEpLHJ9c3RhdGljIFBlcnNwZWN0aXZlRm92UmV2ZXJzZVJIVG9SZWYoZSx0LGkscyxyLG49ITAsYSxvPTApe2NvbnN0IGg9MS9NYXRoLnRhbihlKi41KSxsPW4/aC90OmgsdT1uP2g6aCp0LGQ9TWF0aC50YW4obyk7cmV0dXJuIE0uRnJvbVZhbHVlc1RvUmVmKGwsMCwwLDAsMCx1LDAsZCwwLDAsLWksLTEsMCwwLC0xLDAsciksYSYmci5tdWx0aXBseVRvUmVmKGp0LHIpLHIuX3VwZGF0ZUlkZW50aXR5U3RhdHVzKCExKSxyfXN0YXRpYyBQZXJzcGVjdGl2ZUZvdldlYlZSVG9SZWYoZSx0LGkscyxyPSExLG4sYT0wKXtjb25zdCBvPXI/LTE6MSxoPU1hdGgudGFuKGUudXBEZWdyZWVzKk1hdGguUEkvMTgwKSxsPU1hdGgudGFuKGUuZG93bkRlZ3JlZXMqTWF0aC5QSS8xODApLHU9TWF0aC50YW4oZS5sZWZ0RGVncmVlcypNYXRoLlBJLzE4MCksZD1NYXRoLnRhbihlLnJpZ2h0RGVncmVlcypNYXRoLlBJLzE4MCksXz0yLyh1K2QpLGY9Mi8oaCtsKSxtPU1hdGgudGFuKGEpLHY9cy5fbTtyZXR1cm4gdlswXT1fLHZbMV09dlsyXT12WzNdPXZbNF09MCx2WzVdPWYsdls2XT0wLHZbN109bSx2WzhdPSh1LWQpKl8qLjUsdls5XT0tKChoLWwpKmYqLjUpLHZbMTBdPS1pLyh0LWkpLHZbMTFdPTEqbyx2WzEyXT12WzEzXT12WzE1XT0wLHZbMTRdPS0oMippKnQpLyhpLXQpLG4mJnMubXVsdGlwbHlUb1JlZihqdCxzKSxzLm1hcmtBc1VwZGF0ZWQoKSxzfXN0YXRpYyBHZXRGaW5hbE1hdHJpeChlLHQsaSxzLHIsbil7Y29uc3QgYT1lLndpZHRoLG89ZS5oZWlnaHQsaD1lLngsbD1lLnksdT1NLkZyb21WYWx1ZXMoYS8yLDAsMCwwLDAsLW8vMiwwLDAsMCwwLG4tciwwLGgrYS8yLG8vMitsLHIsMSksZD1uZXcgdC5jb25zdHJ1Y3RvcjtyZXR1cm4gdC5tdWx0aXBseVRvUmVmKGksZCksZC5tdWx0aXBseVRvUmVmKHMsZCksZC5tdWx0aXBseVRvUmVmKHUsZCl9c3RhdGljIEdldEFzTWF0cml4MngyKGUpe2NvbnN0IHQ9ZS5tLGk9W3RbMF0sdFsxXSx0WzRdLHRbNV1dO3JldHVybiBVZS5NYXRyaXhVc2U2NEJpdHM/aTpuZXcgRmxvYXQzMkFycmF5KGkpfXN0YXRpYyBHZXRBc01hdHJpeDN4MyhlKXtjb25zdCB0PWUubSxpPVt0WzBdLHRbMV0sdFsyXSx0WzRdLHRbNV0sdFs2XSx0WzhdLHRbOV0sdFsxMF1dO3JldHVybiBVZS5NYXRyaXhVc2U2NEJpdHM/aTpuZXcgRmxvYXQzMkFycmF5KGkpfXN0YXRpYyBUcmFuc3Bvc2UoZSl7Y29uc3QgdD1uZXcgZS5jb25zdHJ1Y3RvcjtyZXR1cm4gTS5UcmFuc3Bvc2VUb1JlZihlLHQpLHR9c3RhdGljIFRyYW5zcG9zZVRvUmVmKGUsdCl7Y29uc3QgaT10Ll9tLHM9ZS5tO3JldHVybiBpWzBdPXNbMF0saVsxXT1zWzRdLGlbMl09c1s4XSxpWzNdPXNbMTJdLGlbNF09c1sxXSxpWzVdPXNbNV0saVs2XT1zWzldLGlbN109c1sxM10saVs4XT1zWzJdLGlbOV09c1s2XSxpWzEwXT1zWzEwXSxpWzExXT1zWzE0XSxpWzEyXT1zWzNdLGlbMTNdPXNbN10saVsxNF09c1sxMV0saVsxNV09c1sxNV0sdC5tYXJrQXNVcGRhdGVkKCksdC5fdXBkYXRlSWRlbnRpdHlTdGF0dXMoZS5faXNJZGVudGl0eSxlLl9pc0lkZW50aXR5RGlydHkpLHR9c3RhdGljIFJlZmxlY3Rpb24oZSl7Y29uc3QgdD1uZXcgTTtyZXR1cm4gTS5SZWZsZWN0aW9uVG9SZWYoZSx0KSx0fXN0YXRpYyBSZWZsZWN0aW9uVG9SZWYoZSx0KXtlLm5vcm1hbGl6ZSgpO2NvbnN0IGk9ZS5ub3JtYWwueCxzPWUubm9ybWFsLnkscj1lLm5vcm1hbC56LG49LTIqaSxhPS0yKnMsbz0tMipyO3JldHVybiBNLkZyb21WYWx1ZXNUb1JlZihuKmkrMSxhKmksbyppLDAsbipzLGEqcysxLG8qcywwLG4qcixhKnIsbypyKzEsMCxuKmUuZCxhKmUuZCxvKmUuZCwxLHQpLHR9c3RhdGljIEZyb21YWVpBeGVzVG9SZWYoZSx0LGkscyl7cmV0dXJuIE0uRnJvbVZhbHVlc1RvUmVmKGUuX3gsZS5feSxlLl96LDAsdC5feCx0Ll95LHQuX3osMCxpLl94LGkuX3ksaS5feiwwLDAsMCwwLDEscyksc31zdGF0aWMgRnJvbVF1YXRlcm5pb25Ub1JlZihlLHQpe2NvbnN0IGk9ZS5feCplLl94LHM9ZS5feSplLl95LHI9ZS5feiplLl96LG49ZS5feCplLl95LGE9ZS5feiplLl93LG89ZS5feiplLl94LGg9ZS5feSplLl93LGw9ZS5feSplLl96LHU9ZS5feCplLl93O3JldHVybiB0Ll9tWzBdPTEtMioocytyKSx0Ll9tWzFdPTIqKG4rYSksdC5fbVsyXT0yKihvLWgpLHQuX21bM109MCx0Ll9tWzRdPTIqKG4tYSksdC5fbVs1XT0xLTIqKHIraSksdC5fbVs2XT0yKihsK3UpLHQuX21bN109MCx0Ll9tWzhdPTIqKG8raCksdC5fbVs5XT0yKihsLXUpLHQuX21bMTBdPTEtMioocytpKSx0Ll9tWzExXT0wLHQuX21bMTJdPTAsdC5fbVsxM109MCx0Ll9tWzE0XT0wLHQuX21bMTVdPTEsdC5tYXJrQXNVcGRhdGVkKCksdH19TS5fVXBkYXRlRmxhZ1NlZWQ9MCxNLl9JZGVudGl0eVJlYWRPbmx5PU0uSWRlbnRpdHkoKTtjbGFzcyBLe31LLlZlY3RvcjM9QmUuQnVpbGRUdXBsZSgxMSxwLlplcm8pLEsuTWF0cml4PUJlLkJ1aWxkVHVwbGUoMixNLklkZW50aXR5KSxLLlF1YXRlcm5pb249QmUuQnVpbGRUdXBsZSgzLFouWmVybyk7Y2xhc3MgRnt9Ri5WZWN0b3IyPUJlLkJ1aWxkVHVwbGUoMyx2ZS5aZXJvKSxGLlZlY3RvcjM9QmUuQnVpbGRUdXBsZSgxMyxwLlplcm8pLEYuVmVjdG9yND1CZS5CdWlsZFR1cGxlKDMseWUuWmVybyksRi5RdWF0ZXJuaW9uPUJlLkJ1aWxkVHVwbGUoMixaLlplcm8pLEYuTWF0cml4PUJlLkJ1aWxkVHVwbGUoOCxNLklkZW50aXR5KSxzdCgiQkFCWUxPTi5WZWN0b3IyIix2ZSksc3QoIkJBQllMT04uVmVjdG9yMyIscCksc3QoIkJBQllMT04uVmVjdG9yNCIseWUpLHN0KCJCQUJZTE9OLk1hdHJpeCIsTSk7Y29uc3QganQ9TS5Gcm9tVmFsdWVzKDEsMCwwLDAsMCwxLDAsMCwwLDAsLjUsMCwwLDAsLjUsMSk7Y2xhc3MgSnJ7Z2V0IHdyYXBVKCl7cmV0dXJuIHRoaXMuX2NhY2hlZFdyYXBVfXNldCB3cmFwVShlKXt0aGlzLl9jYWNoZWRXcmFwVT1lfWdldCB3cmFwVigpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVn1zZXQgd3JhcFYoZSl7dGhpcy5fY2FjaGVkV3JhcFY9ZX1nZXQgd3JhcFIoKXtyZXR1cm4gdGhpcy5fY2FjaGVkV3JhcFJ9c2V0IHdyYXBSKGUpe3RoaXMuX2NhY2hlZFdyYXBSPWV9Z2V0IGFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwoKXtyZXR1cm4gdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbH1zZXQgYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbChlKXt0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPWV9Z2V0IGNvbXBhcmlzb25GdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb21wYXJpc29uRnVuY3Rpb259c2V0IGNvbXBhcmlzb25GdW5jdGlvbihlKXt0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249ZX1nZXQgdXNlTWlwTWFwcygpe3JldHVybiB0aGlzLl91c2VNaXBNYXBzfXNldCB1c2VNaXBNYXBzKGUpe3RoaXMuX3VzZU1pcE1hcHM9ZX1jb25zdHJ1Y3Rvcigpe3RoaXMuc2FtcGxpbmdNb2RlPS0xLHRoaXMuX3VzZU1pcE1hcHM9ITAsdGhpcy5fY2FjaGVkV3JhcFU9bnVsbCx0aGlzLl9jYWNoZWRXcmFwVj1udWxsLHRoaXMuX2NhY2hlZFdyYXBSPW51bGwsdGhpcy5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbD1udWxsLHRoaXMuX2NvbXBhcmlzb25GdW5jdGlvbj0wfXNldFBhcmFtZXRlcnMoZT0xLHQ9MSxpPTEscz0xLHI9MixuPTApe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVT1lLHRoaXMuX2NhY2hlZFdyYXBWPXQsdGhpcy5fY2FjaGVkV3JhcFI9aSx0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPXMsdGhpcy5zYW1wbGluZ01vZGU9cix0aGlzLl9jb21wYXJpc29uRnVuY3Rpb249bix0aGlzfWNvbXBhcmVTYW1wbGVyKGUpe3JldHVybiB0aGlzLl9jYWNoZWRXcmFwVT09PWUuX2NhY2hlZFdyYXBVJiZ0aGlzLl9jYWNoZWRXcmFwVj09PWUuX2NhY2hlZFdyYXBWJiZ0aGlzLl9jYWNoZWRXcmFwUj09PWUuX2NhY2hlZFdyYXBSJiZ0aGlzLl9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPT09ZS5fY2FjaGVkQW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbCYmdGhpcy5zYW1wbGluZ01vZGU9PT1lLnNhbXBsaW5nTW9kZSYmdGhpcy5fY29tcGFyaXNvbkZ1bmN0aW9uPT09ZS5fY29tcGFyaXNvbkZ1bmN0aW9uJiZ0aGlzLl91c2VNaXBNYXBzPT09ZS5fdXNlTWlwTWFwc319dmFyIExlOyhmdW5jdGlvbihjKXtjW2MuVW5rbm93bj0wXT0iVW5rbm93biIsY1tjLlVybD0xXT0iVXJsIixjW2MuVGVtcD0yXT0iVGVtcCIsY1tjLlJhdz0zXT0iUmF3IixjW2MuRHluYW1pYz00XT0iRHluYW1pYyIsY1tjLlJlbmRlclRhcmdldD01XT0iUmVuZGVyVGFyZ2V0IixjW2MuTXVsdGlSZW5kZXJUYXJnZXQ9Nl09Ik11bHRpUmVuZGVyVGFyZ2V0IixjW2MuQ3ViZT03XT0iQ3ViZSIsY1tjLkN1YmVSYXc9OF09IkN1YmVSYXciLGNbYy5DdWJlUHJlZmlsdGVyZWQ9OV09IkN1YmVQcmVmaWx0ZXJlZCIsY1tjLlJhdzNEPTEwXT0iUmF3M0QiLGNbYy5SYXcyREFycmF5PTExXT0iUmF3MkRBcnJheSIsY1tjLkRlcHRoU3RlbmNpbD0xMl09IkRlcHRoU3RlbmNpbCIsY1tjLkN1YmVSYXdSR0JEPTEzXT0iQ3ViZVJhd1JHQkQiLGNbYy5EZXB0aD0xNF09IkRlcHRoIn0pKExlfHwoTGU9e30pKTtjbGFzcyBMdCBleHRlbmRzIEpye2dldCB1c2VNaXBNYXBzKCl7cmV0dXJuIHRoaXMuZ2VuZXJhdGVNaXBNYXBzfXNldCB1c2VNaXBNYXBzKGUpe3RoaXMuZ2VuZXJhdGVNaXBNYXBzPWV9Z2V0IHVuaXF1ZUlkKCl7cmV0dXJuIHRoaXMuX3VuaXF1ZUlkfV9zZXRVbmlxdWVJZChlKXt0aGlzLl91bmlxdWVJZD1lfWdldEVuZ2luZSgpe3JldHVybiB0aGlzLl9lbmdpbmV9Z2V0IHNvdXJjZSgpe3JldHVybiB0aGlzLl9zb3VyY2V9Y29uc3RydWN0b3IoZSx0LGk9ITEpe3N1cGVyKCksdGhpcy5pc1JlYWR5PSExLHRoaXMuaXNDdWJlPSExLHRoaXMuaXMzRD0hMSx0aGlzLmlzMkRBcnJheT0hMSx0aGlzLmlzTXVsdGl2aWV3PSExLHRoaXMudXJsPSIiLHRoaXMuZ2VuZXJhdGVNaXBNYXBzPSExLHRoaXMuc2FtcGxlcz0wLHRoaXMudHlwZT0tMSx0aGlzLmZvcm1hdD0tMSx0aGlzLm9uTG9hZGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25SZWJ1aWxkQ2FsbGJhY2s9bnVsbCx0aGlzLndpZHRoPTAsdGhpcy5oZWlnaHQ9MCx0aGlzLmRlcHRoPTAsdGhpcy5iYXNlV2lkdGg9MCx0aGlzLmJhc2VIZWlnaHQ9MCx0aGlzLmJhc2VEZXB0aD0wLHRoaXMuaW52ZXJ0WT0hMSx0aGlzLl9pbnZlcnRWU2NhbGU9ITEsdGhpcy5fYXNzb2NpYXRlZENoYW5uZWw9LTEsdGhpcy5fc291cmNlPUxlLlVua25vd24sdGhpcy5fYnVmZmVyPW51bGwsdGhpcy5fYnVmZmVyVmlldz1udWxsLHRoaXMuX2J1ZmZlclZpZXdBcnJheT1udWxsLHRoaXMuX2J1ZmZlclZpZXdBcnJheUFycmF5PW51bGwsdGhpcy5fc2l6ZT0wLHRoaXMuX2V4dGVuc2lvbj0iIix0aGlzLl9maWxlcz1udWxsLHRoaXMuX3dvcmtpbmdDYW52YXM9bnVsbCx0aGlzLl93b3JraW5nQ29udGV4dD1udWxsLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT1udWxsLHRoaXMuX2lzRGlzYWJsZWQ9ITEsdGhpcy5fY29tcHJlc3Npb249bnVsbCx0aGlzLl9zcGhlcmljYWxQb2x5bm9taWFsPW51bGwsdGhpcy5fc3BoZXJpY2FsUG9seW5vbWlhbFByb21pc2U9bnVsbCx0aGlzLl9zcGhlcmljYWxQb2x5bm9taWFsQ29tcHV0ZWQ9ITEsdGhpcy5fbG9kR2VuZXJhdGlvblNjYWxlPTAsdGhpcy5fbG9kR2VuZXJhdGlvbk9mZnNldD0wLHRoaXMuX3VzZVNSR0JCdWZmZXI9ITEsdGhpcy5fbG9kVGV4dHVyZUhpZ2g9bnVsbCx0aGlzLl9sb2RUZXh0dXJlTWlkPW51bGwsdGhpcy5fbG9kVGV4dHVyZUxvdz1udWxsLHRoaXMuX2lzUkdCRD0hMSx0aGlzLl9saW5lYXJTcGVjdWxhckxPRD0hMSx0aGlzLl9pcnJhZGlhbmNlVGV4dHVyZT1udWxsLHRoaXMuX2hhcmR3YXJlVGV4dHVyZT1udWxsLHRoaXMuX21heExvZExldmVsPW51bGwsdGhpcy5fcmVmZXJlbmNlcz0xLHRoaXMuX2dhbW1hU3BhY2U9bnVsbCx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9zb3VyY2U9dCx0aGlzLl91bmlxdWVJZD1MdC5fQ291bnRlcisrLGl8fCh0aGlzLl9oYXJkd2FyZVRleHR1cmU9ZS5fY3JlYXRlSGFyZHdhcmVUZXh0dXJlKCkpfWluY3JlbWVudFJlZmVyZW5jZXMoKXt0aGlzLl9yZWZlcmVuY2VzKyt9dXBkYXRlU2l6ZShlLHQsaT0xKXt0aGlzLl9lbmdpbmUudXBkYXRlVGV4dHVyZURpbWVuc2lvbnModGhpcyxlLHQsaSksdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpcy5kZXB0aD1pLHRoaXMuYmFzZVdpZHRoPWUsdGhpcy5iYXNlSGVpZ2h0PXQsdGhpcy5iYXNlRGVwdGg9aSx0aGlzLl9zaXplPWUqdCppfV9yZWJ1aWxkKCl7dmFyIGU7aWYodGhpcy5pc1JlYWR5PSExLHRoaXMuX2NhY2hlZENvb3JkaW5hdGVzTW9kZT1udWxsLHRoaXMuX2NhY2hlZFdyYXBVPW51bGwsdGhpcy5fY2FjaGVkV3JhcFY9bnVsbCx0aGlzLl9jYWNoZWRXcmFwUj1udWxsLHRoaXMuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9bnVsbCx0aGlzLm9uUmVidWlsZENhbGxiYWNrKXtjb25zdCBpPXRoaXMub25SZWJ1aWxkQ2FsbGJhY2sodGhpcykscz1yPT57ci5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9aS5pc1JlYWR5fTtpLmlzQXN5bmM/aS5wcm94eS50aGVuKHMpOnMoaS5wcm94eSk7cmV0dXJufWxldCB0O3N3aXRjaCh0aGlzLnNvdXJjZSl7Y2FzZSBMZS5UZW1wOmJyZWFrO2Nhc2UgTGUuVXJsOnQ9dGhpcy5fZW5naW5lLmNyZWF0ZVRleHR1cmUoKGU9dGhpcy5fb3JpZ2luYWxVcmwpIT09bnVsbCYmZSE9PXZvaWQgMD9lOnRoaXMudXJsLCF0aGlzLmdlbmVyYXRlTWlwTWFwcyx0aGlzLmludmVydFksbnVsbCx0aGlzLnNhbXBsaW5nTW9kZSxpPT57aS5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITB9LG51bGwsdGhpcy5fYnVmZmVyLHZvaWQgMCx0aGlzLmZvcm1hdCx0aGlzLl9leHRlbnNpb24sdm9pZCAwLHZvaWQgMCx2b2lkIDAsdGhpcy5fdXNlU1JHQkJ1ZmZlcik7cmV0dXJuO2Nhc2UgTGUuUmF3OnQ9dGhpcy5fZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUodGhpcy5fYnVmZmVyVmlldyx0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5mb3JtYXQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uLHRoaXMudHlwZSx2b2lkIDAsdGhpcy5fdXNlU1JHQkJ1ZmZlciksdC5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSBMZS5SYXczRDp0PXRoaXMuX2VuZ2luZS5jcmVhdGVSYXdUZXh0dXJlM0QodGhpcy5fYnVmZmVyVmlldyx0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5iYXNlRGVwdGgsdGhpcy5mb3JtYXQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5pbnZlcnRZLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2NvbXByZXNzaW9uLHRoaXMudHlwZSksdC5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSBMZS5SYXcyREFycmF5OnQ9dGhpcy5fZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUyREFycmF5KHRoaXMuX2J1ZmZlclZpZXcsdGhpcy5iYXNlV2lkdGgsdGhpcy5iYXNlSGVpZ2h0LHRoaXMuYmFzZURlcHRoLHRoaXMuZm9ybWF0LHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaW52ZXJ0WSx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9jb21wcmVzc2lvbix0aGlzLnR5cGUpLHQuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5pc1JlYWR5PSEwO2JyZWFrO2Nhc2UgTGUuRHluYW1pYzp0PXRoaXMuX2VuZ2luZS5jcmVhdGVEeW5hbWljVGV4dHVyZSh0aGlzLmJhc2VXaWR0aCx0aGlzLmJhc2VIZWlnaHQsdGhpcy5nZW5lcmF0ZU1pcE1hcHMsdGhpcy5zYW1wbGluZ01vZGUpLHQuX3N3YXBBbmREaWUodGhpcywhMSksdGhpcy5fZW5naW5lLnVwZGF0ZUR5bmFtaWNUZXh0dXJlKHRoaXMsdGhpcy5fZW5naW5lLmdldFJlbmRlcmluZ0NhbnZhcygpLHRoaXMuaW52ZXJ0WSx2b2lkIDAsdm9pZCAwLCEwKTticmVhaztjYXNlIExlLkN1YmU6dD10aGlzLl9lbmdpbmUuY3JlYXRlQ3ViZVRleHR1cmUodGhpcy51cmwsbnVsbCx0aGlzLl9maWxlcywhdGhpcy5nZW5lcmF0ZU1pcE1hcHMsKCk9Pnt0Ll9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMH0sbnVsbCx0aGlzLmZvcm1hdCx0aGlzLl9leHRlbnNpb24sITEsMCwwLG51bGwsdm9pZCAwLHRoaXMuX3VzZVNSR0JCdWZmZXIpO3JldHVybjtjYXNlIExlLkN1YmVSYXc6dD10aGlzLl9lbmdpbmUuY3JlYXRlUmF3Q3ViZVRleHR1cmUodGhpcy5fYnVmZmVyVmlld0FycmF5LHRoaXMud2lkdGgsdGhpcy5mb3JtYXQsdGhpcy50eXBlLHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaW52ZXJ0WSx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9jb21wcmVzc2lvbiksdC5fc3dhcEFuZERpZSh0aGlzLCExKSx0aGlzLmlzUmVhZHk9ITA7YnJlYWs7Y2FzZSBMZS5DdWJlUmF3UkdCRDpyZXR1cm47Y2FzZSBMZS5DdWJlUHJlZmlsdGVyZWQ6dD10aGlzLl9lbmdpbmUuY3JlYXRlUHJlZmlsdGVyZWRDdWJlVGV4dHVyZSh0aGlzLnVybCxudWxsLHRoaXMuX2xvZEdlbmVyYXRpb25TY2FsZSx0aGlzLl9sb2RHZW5lcmF0aW9uT2Zmc2V0LGk9PntpJiZpLl9zd2FwQW5kRGllKHRoaXMsITEpLHRoaXMuaXNSZWFkeT0hMH0sbnVsbCx0aGlzLmZvcm1hdCx0aGlzLl9leHRlbnNpb24pLHQuX3NwaGVyaWNhbFBvbHlub21pYWw9dGhpcy5fc3BoZXJpY2FsUG9seW5vbWlhbDtyZXR1cm59fV9zd2FwQW5kRGllKGUsdD0hMCl7dmFyIGk7KGk9dGhpcy5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGk9PT12b2lkIDB8fGkuc2V0VXNhZ2UoZS5fc291cmNlLHRoaXMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuaXNDdWJlLHRoaXMud2lkdGgsdGhpcy5oZWlnaHQpLGUuX2hhcmR3YXJlVGV4dHVyZT10aGlzLl9oYXJkd2FyZVRleHR1cmUsdCYmKGUuX2lzUkdCRD10aGlzLl9pc1JHQkQpLHRoaXMuX2xvZFRleHR1cmVIaWdoJiYoZS5fbG9kVGV4dHVyZUhpZ2gmJmUuX2xvZFRleHR1cmVIaWdoLmRpc3Bvc2UoKSxlLl9sb2RUZXh0dXJlSGlnaD10aGlzLl9sb2RUZXh0dXJlSGlnaCksdGhpcy5fbG9kVGV4dHVyZU1pZCYmKGUuX2xvZFRleHR1cmVNaWQmJmUuX2xvZFRleHR1cmVNaWQuZGlzcG9zZSgpLGUuX2xvZFRleHR1cmVNaWQ9dGhpcy5fbG9kVGV4dHVyZU1pZCksdGhpcy5fbG9kVGV4dHVyZUxvdyYmKGUuX2xvZFRleHR1cmVMb3cmJmUuX2xvZFRleHR1cmVMb3cuZGlzcG9zZSgpLGUuX2xvZFRleHR1cmVMb3c9dGhpcy5fbG9kVGV4dHVyZUxvdyksdGhpcy5faXJyYWRpYW5jZVRleHR1cmUmJihlLl9pcnJhZGlhbmNlVGV4dHVyZSYmZS5faXJyYWRpYW5jZVRleHR1cmUuZGlzcG9zZSgpLGUuX2lycmFkaWFuY2VUZXh0dXJlPXRoaXMuX2lycmFkaWFuY2VUZXh0dXJlKTtjb25zdCBzPXRoaXMuX2VuZ2luZS5nZXRMb2FkZWRUZXh0dXJlc0NhY2hlKCk7bGV0IHI9cy5pbmRleE9mKHRoaXMpO3IhPT0tMSYmcy5zcGxpY2UociwxKSxyPXMuaW5kZXhPZihlKSxyPT09LTEmJnMucHVzaChlKX1kaXNwb3NlKCl7dGhpcy5fcmVmZXJlbmNlcy0tLHRoaXMub25Mb2FkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkVycm9yT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3JlZmVyZW5jZXM9PT0wJiYodGhpcy5fZW5naW5lLl9yZWxlYXNlVGV4dHVyZSh0aGlzKSx0aGlzLl9oYXJkd2FyZVRleHR1cmU9bnVsbCl9fUx0Ll9Db3VudGVyPTA7ZnVuY3Rpb24gamUoKXtyZXR1cm4gdHlwZW9mIHdpbmRvdzwidSJ9ZnVuY3Rpb24gRXMoKXtyZXR1cm4gdHlwZW9mIG5hdmlnYXRvcjwidSJ9ZnVuY3Rpb24gRmkoKXtyZXR1cm4gdHlwZW9mIGRvY3VtZW50PCJ1In1mdW5jdGlvbiBUcyhjKXtsZXQgZT0iIix0PWMuZmlyc3RDaGlsZDtmb3IoO3Q7KXQubm9kZVR5cGU9PT0zJiYoZSs9dC50ZXh0Q29udGVudCksdD10Lm5leHRTaWJsaW5nO3JldHVybiBlfWNvbnN0IGJzPXtJc1dpbmRvd09iamVjdEV4aXN0OmplLElzTmF2aWdhdG9yQXZhaWxhYmxlOkVzLElzRG9jdW1lbnRBdmFpbGFibGU6RmksR2V0RE9NVGV4dENvbnRlbnQ6VHN9O2Z1bmN0aW9uIFEoYyl7cmV0dXJuYCR7Y30gbmVlZHMgdG8gYmUgaW1wb3J0ZWQgYmVmb3JlIGFzIGl0IGNvbnRhaW5zIGEgc2lkZS1lZmZlY3QgcmVxdWlyZWQgYnkgeW91ciBjb2RlLmB9Y2xhc3MgT3tzdGF0aWMgX0NoZWNrTGltaXQoZSx0KXtsZXQgaT1PLl9Mb2dMaW1pdE91dHB1dHNbZV07cmV0dXJuIGk/aS5jdXJyZW50Kys6KGk9e2xpbWl0OnQsY3VycmVudDoxfSxPLl9Mb2dMaW1pdE91dHB1dHNbZV09aSksaS5jdXJyZW50PD1pLmxpbWl0fXN0YXRpYyBfR2VuZXJhdGVMaW1pdE1lc3NhZ2UoZSx0PTEpe3ZhciBpO2NvbnN0IHM9Ty5fTG9nTGltaXRPdXRwdXRzW2VdO2lmKCFzfHwhTy5NZXNzYWdlTGltaXRSZWFjaGVkKXJldHVybjtjb25zdCByPXRoaXMuX0xldmVsc1t0XTtzLmN1cnJlbnQ9PT1zLmxpbWl0JiZPW3IubmFtZV0oTy5NZXNzYWdlTGltaXRSZWFjaGVkLnJlcGxhY2UoLyVMSU1JVCUvZywiIitzLmxpbWl0KS5yZXBsYWNlKC8lVFlQRSUvZywoaT1yLm5hbWUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOiIiKSl9c3RhdGljIF9BZGRMb2dFbnRyeShlKXtPLl9Mb2dDYWNoZT1lK08uX0xvZ0NhY2hlLE8uT25OZXdDYWNoZUVudHJ5JiZPLk9uTmV3Q2FjaGVFbnRyeShlKX1zdGF0aWMgX0Zvcm1hdE1lc3NhZ2UoZSl7Y29uc3QgdD1zPT5zPDEwPyIwIitzOiIiK3MsaT1uZXcgRGF0ZTtyZXR1cm4iWyIrdChpLmdldEhvdXJzKCkpKyI6Iit0KGkuZ2V0TWludXRlcygpKSsiOiIrdChpLmdldFNlY29uZHMoKSkrIl06ICIrZX1zdGF0aWMgX0xvZ0Rpc2FibGVkKGUsdCl7fXN0YXRpYyBfTG9nRW5hYmxlZChlPTEsdCxpKXtpZihpIT09dm9pZCAwJiYhTy5fQ2hlY2tMaW1pdCh0LGkpKXJldHVybjtjb25zdCBzPU8uX0Zvcm1hdE1lc3NhZ2UodCkscj10aGlzLl9MZXZlbHNbZV07ci5sb2dGdW5jJiZyLmxvZ0Z1bmMoIkJKUyAtICIrcyk7Y29uc3Qgbj1gPGRpdiBzdHlsZT0nY29sb3I6JHtyLmNvbG9yfSc+JHtzfTwvZGl2Pjxicj5gO08uX0FkZExvZ0VudHJ5KG4pLE8uX0dlbmVyYXRlTGltaXRNZXNzYWdlKHQsZSl9c3RhdGljIGdldCBMb2dDYWNoZSgpe3JldHVybiBPLl9Mb2dDYWNoZX1zdGF0aWMgQ2xlYXJMb2dDYWNoZSgpe08uX0xvZ0NhY2hlPSIiLE8uX0xvZ0xpbWl0T3V0cHV0cz17fSxPLmVycm9yc0NvdW50PTB9c3RhdGljIHNldCBMb2dMZXZlbHMoZSl7Ty5Mb2c9Ty5fTG9nRGlzYWJsZWQsTy5XYXJuPU8uX0xvZ0Rpc2FibGVkLE8uRXJyb3I9Ty5fTG9nRGlzYWJsZWQsW08uTWVzc2FnZUxvZ0xldmVsLE8uV2FybmluZ0xvZ0xldmVsLE8uRXJyb3JMb2dMZXZlbF0uZm9yRWFjaCh0PT57aWYoKGUmdCk9PT10KXtjb25zdCBpPXRoaXMuX0xldmVsc1t0XTtPW2kubmFtZV09Ty5fTG9nRW5hYmxlZC5iaW5kKE8sdCl9fSl9fU8uTm9uZUxvZ0xldmVsPTAsTy5NZXNzYWdlTG9nTGV2ZWw9MSxPLldhcm5pbmdMb2dMZXZlbD0yLE8uRXJyb3JMb2dMZXZlbD00LE8uQWxsTG9nTGV2ZWw9NyxPLk1lc3NhZ2VMaW1pdFJlYWNoZWQ9IlRvbyBtYW55ICVUWVBFJXMgKCVMSU1JVCUpLCBubyBtb3JlICVUWVBFJXMgd2lsbCBiZSByZXBvcnRlZCBmb3IgdGhpcyBtZXNzYWdlLiIsTy5fTG9nQ2FjaGU9IiIsTy5fTG9nTGltaXRPdXRwdXRzPXt9LE8uX0xldmVscz1be30se2NvbG9yOiJ3aGl0ZSIsbG9nRnVuYzpjb25zb2xlLmxvZyxuYW1lOiJMb2cifSx7Y29sb3I6Im9yYW5nZSIsbG9nRnVuYzpjb25zb2xlLndhcm4sbmFtZToiV2FybiJ9LHt9LHtjb2xvcjoicmVkIixsb2dGdW5jOmNvbnNvbGUuZXJyb3IsbmFtZToiRXJyb3IifV0sTy5lcnJvcnNDb3VudD0wLE8uTG9nPU8uX0xvZ0VuYWJsZWQuYmluZChPLE8uTWVzc2FnZUxvZ0xldmVsKSxPLldhcm49Ty5fTG9nRW5hYmxlZC5iaW5kKE8sTy5XYXJuaW5nTG9nTGV2ZWwpLE8uRXJyb3I9Ty5fTG9nRW5hYmxlZC5iaW5kKE8sTy5FcnJvckxvZ0xldmVsKTtjb25zdCBlbj0iYXR0cmlidXRlIix0bj0idmFyeWluZyI7Y2xhc3Mgd2l7Y29uc3RydWN0b3IoKXt0aGlzLmNoaWxkcmVuPVtdfWlzVmFsaWQoZSl7cmV0dXJuITB9cHJvY2VzcyhlLHQpe3ZhciBpLHMscixuLGEsbztsZXQgaD0iIjtpZih0aGlzLmxpbmUpe2xldCBsPXRoaXMubGluZTtjb25zdCB1PXQucHJvY2Vzc29yO2lmKHUpe3UubGluZVByb2Nlc3NvciYmKGw9dS5saW5lUHJvY2Vzc29yKGwsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpKTtjb25zdCBkPShzPShpPXQucHJvY2Vzc29yKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuYXR0cmlidXRlS2V5d29yZE5hbWUpIT09bnVsbCYmcyE9PXZvaWQgMD9zOmVuLF89dC5pc0ZyYWdtZW50JiYoISgocj10LnByb2Nlc3Nvcik9PT1udWxsfHxyPT09dm9pZCAwKSYmci52YXJ5aW5nRnJhZ21lbnRLZXl3b3JkTmFtZSk/KG49dC5wcm9jZXNzb3IpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi52YXJ5aW5nRnJhZ21lbnRLZXl3b3JkTmFtZTohdC5pc0ZyYWdtZW50JiYoISgoYT10LnByb2Nlc3Nvcik9PT1udWxsfHxhPT09dm9pZCAwKSYmYS52YXJ5aW5nVmVydGV4S2V5d29yZE5hbWUpPyhvPXQucHJvY2Vzc29yKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8udmFyeWluZ1ZlcnRleEtleXdvcmROYW1lOnRuOyF0LmlzRnJhZ21lbnQmJnUuYXR0cmlidXRlUHJvY2Vzc29yJiZ0aGlzLmxpbmUuc3RhcnRzV2l0aChkKT9sPXUuYXR0cmlidXRlUHJvY2Vzc29yKHRoaXMubGluZSxlLHQucHJvY2Vzc2luZ0NvbnRleHQpOnUudmFyeWluZ1Byb2Nlc3NvciYmdGhpcy5saW5lLnN0YXJ0c1dpdGgoXyk/bD11LnZhcnlpbmdQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCxlLHQucHJvY2Vzc2luZ0NvbnRleHQpOnUudW5pZm9ybVByb2Nlc3NvciYmdS51bmlmb3JtUmVnZXhwJiZ1LnVuaWZvcm1SZWdleHAudGVzdCh0aGlzLmxpbmUpP3QubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcnx8KGw9dS51bmlmb3JtUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KSk6dS51bmlmb3JtQnVmZmVyUHJvY2Vzc29yJiZ1LnVuaWZvcm1CdWZmZXJSZWdleHAmJnUudW5pZm9ybUJ1ZmZlclJlZ2V4cC50ZXN0KHRoaXMubGluZSk/dC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyfHwobD11LnVuaWZvcm1CdWZmZXJQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSx0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXI9ITApOnUudGV4dHVyZVByb2Nlc3NvciYmdS50ZXh0dXJlUmVnZXhwJiZ1LnRleHR1cmVSZWdleHAudGVzdCh0aGlzLmxpbmUpP2w9dS50ZXh0dXJlUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KToodS51bmlmb3JtUHJvY2Vzc29yfHx1LnVuaWZvcm1CdWZmZXJQcm9jZXNzb3IpJiZ0aGlzLmxpbmUuc3RhcnRzV2l0aCgidW5pZm9ybSIpJiYhdC5sb29rRm9yQ2xvc2luZ0JyYWNrZXRGb3JVbmlmb3JtQnVmZmVyJiYoL3VuaWZvcm1ccysoPzooPzpoaWdocCk/fCg/Omxvd3ApPylccyooXFMrKVxzKyhcUyspXHMqOy8udGVzdCh0aGlzLmxpbmUpP3UudW5pZm9ybVByb2Nlc3NvciYmKGw9dS51bmlmb3JtUHJvY2Vzc29yKHRoaXMubGluZSx0LmlzRnJhZ21lbnQsZSx0LnByb2Nlc3NpbmdDb250ZXh0KSk6dS51bmlmb3JtQnVmZmVyUHJvY2Vzc29yJiYobD11LnVuaWZvcm1CdWZmZXJQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSx0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXI9ITApKSx0Lmxvb2tGb3JDbG9zaW5nQnJhY2tldEZvclVuaWZvcm1CdWZmZXImJnRoaXMubGluZS5pbmRleE9mKCJ9IikhPT0tMSYmKHQubG9va0ZvckNsb3NpbmdCcmFja2V0Rm9yVW5pZm9ybUJ1ZmZlcj0hMSx1LmVuZE9mVW5pZm9ybUJ1ZmZlclByb2Nlc3NvciYmKGw9dS5lbmRPZlVuaWZvcm1CdWZmZXJQcm9jZXNzb3IodGhpcy5saW5lLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSkpfWgrPWwrYFxyCmB9cmV0dXJuIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChsPT57aCs9bC5wcm9jZXNzKGUsdCl9KSx0aGlzLmFkZGl0aW9uYWxEZWZpbmVLZXkmJihlW3RoaXMuYWRkaXRpb25hbERlZmluZUtleV09dGhpcy5hZGRpdGlvbmFsRGVmaW5lVmFsdWV8fCJ0cnVlIiksaH19Y2xhc3Mgc257Y29uc3RydWN0b3IoKXt0aGlzLl9saW5lcz1bXX1nZXQgY3VycmVudExpbmUoKXtyZXR1cm4gdGhpcy5fbGluZXNbdGhpcy5saW5lSW5kZXhdfWdldCBjYW5SZWFkKCl7cmV0dXJuIHRoaXMubGluZUluZGV4PHRoaXMuX2xpbmVzLmxlbmd0aC0xfXNldCBsaW5lcyhlKXt0aGlzLl9saW5lcy5sZW5ndGg9MDtmb3IoY29uc3QgdCBvZiBlKXtpZih0WzBdPT09IiMiKXt0aGlzLl9saW5lcy5wdXNoKHQpO2NvbnRpbnVlfWlmKHQudHJpbSgpLnN0YXJ0c1dpdGgoIi8vIikpe3RoaXMuX2xpbmVzLnB1c2godCk7Y29udGludWV9Y29uc3QgaT10LnNwbGl0KCI7Iik7Zm9yKGxldCBzPTA7czxpLmxlbmd0aDtzKyspe2xldCByPWlbc107cj1yLnRyaW0oKSxyJiZ0aGlzLl9saW5lcy5wdXNoKHIrKHMhPT1pLmxlbmd0aC0xPyI7IjoiIikpfX19fWNsYXNzIFNzIGV4dGVuZHMgd2l7cHJvY2VzcyhlLHQpe2ZvcihsZXQgaT0wO2k8dGhpcy5jaGlsZHJlbi5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMuY2hpbGRyZW5baV07aWYocy5pc1ZhbGlkKGUpKXJldHVybiBzLnByb2Nlc3MoZSx0KX1yZXR1cm4iIn19Y2xhc3Mgcm4gZXh0ZW5kcyB3aXtpc1ZhbGlkKGUpe3JldHVybiB0aGlzLnRlc3RFeHByZXNzaW9uLmlzVHJ1ZShlKX19Y2xhc3MgdHR7aXNUcnVlKGUpe3JldHVybiEwfXN0YXRpYyBwb3N0Zml4VG9JbmZpeChlKXtjb25zdCB0PVtdO2Zvcihjb25zdCBpIG9mIGUpaWYodHQuX09wZXJhdG9yUHJpb3JpdHlbaV09PT12b2lkIDApdC5wdXNoKGkpO2Vsc2V7Y29uc3Qgcz10W3QubGVuZ3RoLTFdLHI9dFt0Lmxlbmd0aC0yXTt0Lmxlbmd0aC09Mix0LnB1c2goYCgke3J9JHtpfSR7c30pYCl9cmV0dXJuIHRbdC5sZW5ndGgtMV19c3RhdGljIGluZml4VG9Qb3N0Zml4KGUpe2NvbnN0IHQ9W107bGV0IGk9LTE7Y29uc3Qgcz0oKT0+e2g9aC50cmltKCksaCE9PSIiJiYodC5wdXNoKGgpLGg9IiIpfSxyPWw9PntpPHR0Ll9TdGFjay5sZW5ndGgtMSYmKHR0Ll9TdGFja1srK2ldPWwpfSxuPSgpPT50dC5fU3RhY2tbaV0sYT0oKT0+aT09PS0xPyIhIUlOVkFMSUQgRVhQUkVTU0lPTiEhIjp0dC5fU3RhY2tbaS0tXTtsZXQgbz0wLGg9IiI7Zm9yKDtvPGUubGVuZ3RoOyl7Y29uc3QgbD1lLmNoYXJBdChvKSx1PW88ZS5sZW5ndGgtMT9lLnN1YnN0cihvLDIpOiIiO2lmKGw9PT0iKCIpaD0iIixyKGwpO2Vsc2UgaWYobD09PSIpIil7Zm9yKHMoKTtpIT09LTEmJm4oKSE9PSIoIjspdC5wdXNoKGEoKSk7YSgpfWVsc2UgaWYodHQuX09wZXJhdG9yUHJpb3JpdHlbdV0+MSl7Zm9yKHMoKTtpIT09LTEmJnR0Ll9PcGVyYXRvclByaW9yaXR5W24oKV0+PXR0Ll9PcGVyYXRvclByaW9yaXR5W3VdOyl0LnB1c2goYSgpKTtyKHUpLG8rK31lbHNlIGgrPWw7bysrfWZvcihzKCk7aSE9PS0xOyluKCk9PT0iKCI/YSgpOnQucHVzaChhKCkpO3JldHVybiB0fX10dC5fT3BlcmF0b3JQcmlvcml0eT17IikiOjAsIigiOjEsInx8IjoyLCImJiI6M30sdHQuX1N0YWNrPVsiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIiwiIl07Y2xhc3MgWWkgZXh0ZW5kcyB0dHtjb25zdHJ1Y3RvcihlLHQ9ITEpe3N1cGVyKCksdGhpcy5kZWZpbmU9ZSx0aGlzLm5vdD10fWlzVHJ1ZShlKXtsZXQgdD1lW3RoaXMuZGVmaW5lXSE9PXZvaWQgMDtyZXR1cm4gdGhpcy5ub3QmJih0PSF0KSx0fX1jbGFzcyBubiBleHRlbmRzIHR0e2lzVHJ1ZShlKXtyZXR1cm4gdGhpcy5sZWZ0T3BlcmFuZC5pc1RydWUoZSl8fHRoaXMucmlnaHRPcGVyYW5kLmlzVHJ1ZShlKX19Y2xhc3MgYW4gZXh0ZW5kcyB0dHtpc1RydWUoZSl7cmV0dXJuIHRoaXMubGVmdE9wZXJhbmQuaXNUcnVlKGUpJiZ0aGlzLnJpZ2h0T3BlcmFuZC5pc1RydWUoZSl9fWNsYXNzIG9uIGV4dGVuZHMgdHR7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKCksdGhpcy5kZWZpbmU9ZSx0aGlzLm9wZXJhbmQ9dCx0aGlzLnRlc3RWYWx1ZT1pfWlzVHJ1ZShlKXtsZXQgdD1lW3RoaXMuZGVmaW5lXTt0PT09dm9pZCAwJiYodD10aGlzLmRlZmluZSk7bGV0IGk9ITE7Y29uc3Qgcz1wYXJzZUludCh0KSxyPXBhcnNlSW50KHRoaXMudGVzdFZhbHVlKTtzd2l0Y2godGhpcy5vcGVyYW5kKXtjYXNlIj4iOmk9cz5yO2JyZWFrO2Nhc2UiPCI6aT1zPHI7YnJlYWs7Y2FzZSI8PSI6aT1zPD1yO2JyZWFrO2Nhc2UiPj0iOmk9cz49cjticmVhaztjYXNlIj09IjppPXM9PT1yO2JyZWFrfXJldHVybiBpfX12YXIgWmU7KGZ1bmN0aW9uKGMpe2NbYy5HTFNMPTBdPSJHTFNMIixjW2MuV0dTTD0xXT0iV0dTTCJ9KShaZXx8KFplPXt9KSk7Y29uc3QgaG49L2RlZmluZWRccyo/XCgoLis/KVwpL2cseHM9L2RlZmluZWRccyo/XFsoLis/KVxdL2cscnI9LyNpbmNsdWRlXHM/PCguKyk+KFwoKC4qKVwpKSooXFsoLiopXF0pKi9nO2NsYXNzIG9pe3N0YXRpYyBJbml0aWFsaXplKGUpe2UucHJvY2Vzc29yJiZlLnByb2Nlc3Nvci5pbml0aWFsaXplU2hhZGVycyYmZS5wcm9jZXNzb3IuaW5pdGlhbGl6ZVNoYWRlcnMoZS5wcm9jZXNzaW5nQ29udGV4dCl9c3RhdGljIFByb2Nlc3MoZSx0LGkscyl7dmFyIHI7ISgocj10LnByb2Nlc3Nvcik9PT1udWxsfHxyPT09dm9pZCAwKSYmci5wcmVQcm9jZXNzU2hhZGVyQ29kZSYmKGU9dC5wcm9jZXNzb3IucHJlUHJvY2Vzc1NoYWRlckNvZGUoZSx0LmlzRnJhZ21lbnQpKSx0aGlzLl9Qcm9jZXNzSW5jbHVkZXMoZSx0LG49Pnt0LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcyYmKG49dC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXModC5pc0ZyYWdtZW50PyJmcmFnbWVudCI6InZlcnRleCIsbikpO2NvbnN0IGE9dGhpcy5fUHJvY2Vzc1NoYWRlckNvbnZlcnNpb24obix0LHMpO2koYSxuKX0pfXN0YXRpYyBQcmVQcm9jZXNzKGUsdCxpLHMpe3ZhciByOyEoKHI9dC5wcm9jZXNzb3IpPT09bnVsbHx8cj09PXZvaWQgMCkmJnIucHJlUHJvY2Vzc1NoYWRlckNvZGUmJihlPXQucHJvY2Vzc29yLnByZVByb2Nlc3NTaGFkZXJDb2RlKGUsdC5pc0ZyYWdtZW50KSksdGhpcy5fUHJvY2Vzc0luY2x1ZGVzKGUsdCxuPT57dC5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXMmJihuPXQucHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzKHQuaXNGcmFnbWVudD8iZnJhZ21lbnQiOiJ2ZXJ0ZXgiLG4pKTtjb25zdCBhPXRoaXMuX0FwcGx5UHJlUHJvY2Vzc2luZyhuLHQscyk7aShhLG4pfSl9c3RhdGljIEZpbmFsaXplKGUsdCxpKXtyZXR1cm4haS5wcm9jZXNzb3J8fCFpLnByb2Nlc3Nvci5maW5hbGl6ZVNoYWRlcnM/e3ZlcnRleENvZGU6ZSxmcmFnbWVudENvZGU6dH06aS5wcm9jZXNzb3IuZmluYWxpemVTaGFkZXJzKGUsdCxpLnByb2Nlc3NpbmdDb250ZXh0KX1zdGF0aWMgX1Byb2Nlc3NQcmVjaXNpb24oZSx0KXt2YXIgaTtpZighKChpPXQucHJvY2Vzc29yKT09PW51bGx8fGk9PT12b2lkIDApJiZpLm5vUHJlY2lzaW9uKXJldHVybiBlO2NvbnN0IHM9dC5zaG91bGRVc2VIaWdoUHJlY2lzaW9uU2hhZGVyO3JldHVybiBlLmluZGV4T2YoInByZWNpc2lvbiBoaWdocCBmbG9hdCIpPT09LTE/cz9lPWBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7CmArZTplPWBwcmVjaXNpb24gbWVkaXVtcCBmbG9hdDsKYCtlOnN8fChlPWUucmVwbGFjZSgicHJlY2lzaW9uIGhpZ2hwIGZsb2F0IiwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQiKSksZX1zdGF0aWMgX0V4dHJhY3RPcGVyYXRpb24oZSl7Y29uc3QgaT0vZGVmaW5lZFwoKC4rKVwpLy5leGVjKGUpO2lmKGkmJmkubGVuZ3RoKXJldHVybiBuZXcgWWkoaVsxXS50cmltKCksZVswXT09PSIhIik7Y29uc3Qgcz1bIj09IiwiPj0iLCI8PSIsIjwiLCI+Il07bGV0IHI9IiIsbj0wO2ZvcihyIG9mIHMpaWYobj1lLmluZGV4T2Yociksbj4tMSlicmVhaztpZihuPT09LTEpcmV0dXJuIG5ldyBZaShlKTtjb25zdCBhPWUuc3Vic3RyaW5nKDAsbikudHJpbSgpLG89ZS5zdWJzdHJpbmcobityLmxlbmd0aCkudHJpbSgpO3JldHVybiBuZXcgb24oYSxyLG8pfXN0YXRpYyBfQnVpbGRTdWJFeHByZXNzaW9uKGUpe2U9ZS5yZXBsYWNlKGhuLCJkZWZpbmVkWyQxXSIpO2NvbnN0IHQ9dHQuaW5maXhUb1Bvc3RmaXgoZSksaT1bXTtmb3IoY29uc3QgciBvZiB0KWlmKHIhPT0ifHwiJiZyIT09IiYmIilpLnB1c2gocik7ZWxzZSBpZihpLmxlbmd0aD49Mil7bGV0IG49aVtpLmxlbmd0aC0xXSxhPWlbaS5sZW5ndGgtMl07aS5sZW5ndGgtPTI7Y29uc3Qgbz1yPT0iJiYiP25ldyBhbjpuZXcgbm47dHlwZW9mIG49PSJzdHJpbmciJiYobj1uLnJlcGxhY2UoeHMsImRlZmluZWQoJDEpIikpLHR5cGVvZiBhPT0ic3RyaW5nIiYmKGE9YS5yZXBsYWNlKHhzLCJkZWZpbmVkKCQxKSIpKSxvLmxlZnRPcGVyYW5kPXR5cGVvZiBhPT0ic3RyaW5nIj90aGlzLl9FeHRyYWN0T3BlcmF0aW9uKGEpOmEsby5yaWdodE9wZXJhbmQ9dHlwZW9mIG49PSJzdHJpbmciP3RoaXMuX0V4dHJhY3RPcGVyYXRpb24obik6bixpLnB1c2gobyl9bGV0IHM9aVtpLmxlbmd0aC0xXTtyZXR1cm4gdHlwZW9mIHM9PSJzdHJpbmciJiYocz1zLnJlcGxhY2UoeHMsImRlZmluZWQoJDEpIikpLHR5cGVvZiBzPT0ic3RyaW5nIj90aGlzLl9FeHRyYWN0T3BlcmF0aW9uKHMpOnN9c3RhdGljIF9CdWlsZEV4cHJlc3Npb24oZSx0KXtjb25zdCBpPW5ldyBybixzPWUuc3Vic3RyaW5nKDAsdCk7bGV0IHI9ZS5zdWJzdHJpbmcodCk7cmV0dXJuIHI9ci5zdWJzdHJpbmcoMCwoci5pbmRleE9mKCIvLyIpKzF8fHIubGVuZ3RoKzEpLTEpLnRyaW0oKSxzPT09IiNpZmRlZiI/aS50ZXN0RXhwcmVzc2lvbj1uZXcgWWkocik6cz09PSIjaWZuZGVmIj9pLnRlc3RFeHByZXNzaW9uPW5ldyBZaShyLCEwKTppLnRlc3RFeHByZXNzaW9uPXRoaXMuX0J1aWxkU3ViRXhwcmVzc2lvbihyKSxpfXN0YXRpYyBfTW92ZUN1cnNvcldpdGhpbklmKGUsdCxpKXtsZXQgcz1lLmN1cnJlbnRMaW5lO2Zvcig7dGhpcy5fTW92ZUN1cnNvcihlLGkpOyl7cz1lLmN1cnJlbnRMaW5lO2NvbnN0IHI9cy5zdWJzdHJpbmcoMCw1KS50b0xvd2VyQ2FzZSgpO2lmKHI9PT0iI2Vsc2UiKXtjb25zdCBuPW5ldyB3aTt0LmNoaWxkcmVuLnB1c2gobiksdGhpcy5fTW92ZUN1cnNvcihlLG4pO3JldHVybn1lbHNlIGlmKHI9PT0iI2VsaWYiKXtjb25zdCBuPXRoaXMuX0J1aWxkRXhwcmVzc2lvbihzLDUpO3QuY2hpbGRyZW4ucHVzaChuKSxpPW59fX1zdGF0aWMgX01vdmVDdXJzb3IoZSx0KXtmb3IoO2UuY2FuUmVhZDspe2UubGluZUluZGV4Kys7Y29uc3QgaT1lLmN1cnJlbnRMaW5lLHI9LygjaWZkZWYpfCgjZWxzZSl8KCNlbGlmKXwoI2VuZGlmKXwoI2lmbmRlZil8KCNpZikvLmV4ZWMoaSk7aWYociYmci5sZW5ndGgpc3dpdGNoKHJbMF0pe2Nhc2UiI2lmZGVmIjp7Y29uc3QgYT1uZXcgU3M7dC5jaGlsZHJlbi5wdXNoKGEpO2NvbnN0IG89dGhpcy5fQnVpbGRFeHByZXNzaW9uKGksNik7YS5jaGlsZHJlbi5wdXNoKG8pLHRoaXMuX01vdmVDdXJzb3JXaXRoaW5JZihlLGEsbyk7YnJlYWt9Y2FzZSIjZWxzZSI6Y2FzZSIjZWxpZiI6cmV0dXJuITA7Y2FzZSIjZW5kaWYiOnJldHVybiExO2Nhc2UiI2lmbmRlZiI6e2NvbnN0IGE9bmV3IFNzO3QuY2hpbGRyZW4ucHVzaChhKTtjb25zdCBvPXRoaXMuX0J1aWxkRXhwcmVzc2lvbihpLDcpO2EuY2hpbGRyZW4ucHVzaChvKSx0aGlzLl9Nb3ZlQ3Vyc29yV2l0aGluSWYoZSxhLG8pO2JyZWFrfWNhc2UiI2lmIjp7Y29uc3QgYT1uZXcgU3Msbz10aGlzLl9CdWlsZEV4cHJlc3Npb24oaSwzKTt0LmNoaWxkcmVuLnB1c2goYSksYS5jaGlsZHJlbi5wdXNoKG8pLHRoaXMuX01vdmVDdXJzb3JXaXRoaW5JZihlLGEsbyk7YnJlYWt9fWVsc2V7Y29uc3Qgbj1uZXcgd2k7aWYobi5saW5lPWksdC5jaGlsZHJlbi5wdXNoKG4pLGlbMF09PT0iIyImJmlbMV09PT0iZCIpe2NvbnN0IGE9aS5yZXBsYWNlKCI7IiwiIikuc3BsaXQoIiAiKTtuLmFkZGl0aW9uYWxEZWZpbmVLZXk9YVsxXSxhLmxlbmd0aD09PTMmJihuLmFkZGl0aW9uYWxEZWZpbmVWYWx1ZT1hWzJdKX19fXJldHVybiExfXN0YXRpYyBfRXZhbHVhdGVQcmVQcm9jZXNzb3JzKGUsdCxpKXtjb25zdCBzPW5ldyB3aSxyPW5ldyBzbjtyZXR1cm4gci5saW5lSW5kZXg9LTEsci5saW5lcz1lLnNwbGl0KGAKYCksdGhpcy5fTW92ZUN1cnNvcihyLHMpLHMucHJvY2Vzcyh0LGkpfXN0YXRpYyBfUHJlcGFyZVByZVByb2Nlc3NvcnMoZSx0KXt2YXIgaTtjb25zdCBzPWUuZGVmaW5lcyxyPXt9O2Zvcihjb25zdCBuIG9mIHMpe2NvbnN0IG89bi5yZXBsYWNlKCIjZGVmaW5lIiwiIikucmVwbGFjZSgiOyIsIiIpLnRyaW0oKS5zcGxpdCgiICIpO3Jbb1swXV09by5sZW5ndGg+MT9vWzFdOiIifXJldHVybigoaT1lLnByb2Nlc3Nvcik9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLnNoYWRlckxhbmd1YWdlKT09PVplLkdMU0wmJihyLkdMX0VTPSJ0cnVlIiksci5fX1ZFUlNJT05fXz1lLnZlcnNpb24scltlLnBsYXRmb3JtTmFtZV09InRydWUiLHQuX2dldEdsb2JhbERlZmluZXMocikscn1zdGF0aWMgX1Byb2Nlc3NTaGFkZXJDb252ZXJzaW9uKGUsdCxpKXtsZXQgcz10aGlzLl9Qcm9jZXNzUHJlY2lzaW9uKGUsdCk7aWYoIXQucHJvY2Vzc29yfHx0LnByb2Nlc3Nvci5zaGFkZXJMYW5ndWFnZT09PVplLkdMU0wmJnMuaW5kZXhPZigiI3ZlcnNpb24gMyIpIT09LTEmJihzPXMucmVwbGFjZSgiI3ZlcnNpb24gMzAwIGVzIiwiIiksIXQucHJvY2Vzc29yLnBhcnNlR0xFUzMpKXJldHVybiBzO2NvbnN0IHI9dC5kZWZpbmVzLG49dGhpcy5fUHJlcGFyZVByZVByb2Nlc3NvcnModCxpKTtyZXR1cm4gdC5wcm9jZXNzb3IucHJlUHJvY2Vzc29yJiYocz10LnByb2Nlc3Nvci5wcmVQcm9jZXNzb3IocyxyLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0KSkscz10aGlzLl9FdmFsdWF0ZVByZVByb2Nlc3NvcnMocyxuLHQpLHQucHJvY2Vzc29yLnBvc3RQcm9jZXNzb3ImJihzPXQucHJvY2Vzc29yLnBvc3RQcm9jZXNzb3IocyxyLHQuaXNGcmFnbWVudCx0LnByb2Nlc3NpbmdDb250ZXh0LGkpKSxpLl9mZWF0dXJlcy5uZWVkU2hhZGVyQ29kZUlubGluaW5nJiYocz1pLmlubGluZVNoYWRlckNvZGUocykpLHN9c3RhdGljIF9BcHBseVByZVByb2Nlc3NpbmcoZSx0LGkpe3ZhciBzLHI7bGV0IG49ZTtjb25zdCBhPXQuZGVmaW5lcyxvPXRoaXMuX1ByZXBhcmVQcmVQcm9jZXNzb3JzKHQsaSk7cmV0dXJuISgocz10LnByb2Nlc3Nvcik9PT1udWxsfHxzPT09dm9pZCAwKSYmcy5wcmVQcm9jZXNzb3ImJihuPXQucHJvY2Vzc29yLnByZVByb2Nlc3NvcihuLGEsdC5pc0ZyYWdtZW50LHQucHJvY2Vzc2luZ0NvbnRleHQpKSxuPXRoaXMuX0V2YWx1YXRlUHJlUHJvY2Vzc29ycyhuLG8sdCksISgocj10LnByb2Nlc3Nvcik9PT1udWxsfHxyPT09dm9pZCAwKSYmci5wb3N0UHJvY2Vzc29yJiYobj10LnByb2Nlc3Nvci5wb3N0UHJvY2Vzc29yKG4sYSx0LmlzRnJhZ21lbnQsdC5wcm9jZXNzaW5nQ29udGV4dCxpKSksaS5fZmVhdHVyZXMubmVlZFNoYWRlckNvZGVJbmxpbmluZyYmKG49aS5pbmxpbmVTaGFkZXJDb2RlKG4pKSxufXN0YXRpYyBfUHJvY2Vzc0luY2x1ZGVzKGUsdCxpKXtsZXQgcz1yci5leGVjKGUpLHI9bmV3IFN0cmluZyhlKSxuPSExO2Zvcig7cyE9bnVsbDspe2xldCBhPXNbMV07aWYoYS5pbmRleE9mKCJfX2RlY2xfXyIpIT09LTEmJihhPWEucmVwbGFjZSgvX19kZWNsX18vLCIiKSx0LnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMmJihhPWEucmVwbGFjZSgvVmVydGV4LywiVWJvIiksYT1hLnJlcGxhY2UoL0ZyYWdtZW50LywiVWJvIikpLGE9YSsiRGVjbGFyYXRpb24iKSx0LmluY2x1ZGVzU2hhZGVyc1N0b3JlW2FdKXtsZXQgbz10LmluY2x1ZGVzU2hhZGVyc1N0b3JlW2FdO2lmKHNbMl0pe2NvbnN0IGg9c1szXS5zcGxpdCgiLCIpO2ZvcihsZXQgbD0wO2w8aC5sZW5ndGg7bCs9Mil7Y29uc3QgdT1uZXcgUmVnRXhwKGhbbF0sImciKSxkPWhbbCsxXTtvPW8ucmVwbGFjZSh1LGQpfX1pZihzWzRdKXtjb25zdCBoPXNbNV07aWYoaC5pbmRleE9mKCIuLiIpIT09LTEpe2NvbnN0IGw9aC5zcGxpdCgiLi4iKSx1PXBhcnNlSW50KGxbMF0pO2xldCBkPXBhcnNlSW50KGxbMV0pLF89by5zbGljZSgwKTtvPSIiLGlzTmFOKGQpJiYoZD10LmluZGV4UGFyYW1ldGVyc1tsWzFdXSk7Zm9yKGxldCBmPXU7ZjxkO2YrKyl0LnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnN8fChfPV8ucmVwbGFjZSgvbGlnaHRce1hcfS4oXHcqKS9nLChtLHYpPT52KyJ7WH0iKSksbys9Xy5yZXBsYWNlKC9ce1hcfS9nLGYudG9TdHJpbmcoKSkrYApgfWVsc2UgdC5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzfHwobz1vLnJlcGxhY2UoL2xpZ2h0XHtYXH0uKFx3KikvZywobCx1KT0+dSsie1h9IikpLG89by5yZXBsYWNlKC9ce1hcfS9nLGgpfXI9ci5yZXBsYWNlKHNbMF0sbyksbj1ufHxvLmluZGV4T2YoIiNpbmNsdWRlPCIpPj0wfHxvLmluZGV4T2YoIiNpbmNsdWRlIDwiKT49MH1lbHNle2NvbnN0IG89dC5zaGFkZXJzUmVwb3NpdG9yeSsiU2hhZGVyc0luY2x1ZGUvIithKyIuZngiO29pLl9GaWxlVG9vbHNMb2FkRmlsZShvLGg9Pnt0LmluY2x1ZGVzU2hhZGVyc1N0b3JlW2FdPWgsdGhpcy5fUHJvY2Vzc0luY2x1ZGVzKHIsdCxpKX0pO3JldHVybn1zPXJyLmV4ZWMoZSl9bj90aGlzLl9Qcm9jZXNzSW5jbHVkZXMoci50b1N0cmluZygpLHQsaSk6aShyKX1zdGF0aWMgX0ZpbGVUb29sc0xvYWRGaWxlKGUsdCxpLHMscixuKXt0aHJvdyBRKCJGaWxlVG9vbHMiKX19Y2xhc3MgTHtzdGF0aWMgR2V0U2hhZGVyc1JlcG9zaXRvcnkoZT1aZS5HTFNMKXtyZXR1cm4gZT09PVplLkdMU0w/TC5TaGFkZXJzUmVwb3NpdG9yeTpMLlNoYWRlcnNSZXBvc2l0b3J5V0dTTH1zdGF0aWMgR2V0U2hhZGVyc1N0b3JlKGU9WmUuR0xTTCl7cmV0dXJuIGU9PT1aZS5HTFNMP0wuU2hhZGVyc1N0b3JlOkwuU2hhZGVyc1N0b3JlV0dTTH1zdGF0aWMgR2V0SW5jbHVkZXNTaGFkZXJzU3RvcmUoZT1aZS5HTFNMKXtyZXR1cm4gZT09PVplLkdMU0w/TC5JbmNsdWRlc1NoYWRlcnNTdG9yZTpMLkluY2x1ZGVzU2hhZGVyc1N0b3JlV0dTTH19TC5TaGFkZXJzUmVwb3NpdG9yeT0ic3JjL1NoYWRlcnMvIixMLlNoYWRlcnNTdG9yZT17fSxMLkluY2x1ZGVzU2hhZGVyc1N0b3JlPXt9LEwuU2hhZGVyc1JlcG9zaXRvcnlXR1NMPSJzcmMvU2hhZGVyc1dHU0wvIixMLlNoYWRlcnNTdG9yZVdHU0w9e30sTC5JbmNsdWRlc1NoYWRlcnNTdG9yZVdHU0w9e307Y2xhc3MgRGV7c3RhdGljIGdldCBTaGFkZXJzUmVwb3NpdG9yeSgpe3JldHVybiBMLlNoYWRlcnNSZXBvc2l0b3J5fXN0YXRpYyBzZXQgU2hhZGVyc1JlcG9zaXRvcnkoZSl7TC5TaGFkZXJzUmVwb3NpdG9yeT1lfWdldCBvbkJpbmRPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX29uQmluZE9ic2VydmFibGV8fCh0aGlzLl9vbkJpbmRPYnNlcnZhYmxlPW5ldyB3KSx0aGlzLl9vbkJpbmRPYnNlcnZhYmxlfWNvbnN0cnVjdG9yKGUsdCxpLHM9bnVsbCxyLG49bnVsbCxhPW51bGwsbz1udWxsLGg9bnVsbCxsLHU9IiIsZD1aZS5HTFNMKXt2YXIgXyxmLG07dGhpcy5uYW1lPW51bGwsdGhpcy5kZWZpbmVzPSIiLHRoaXMub25Db21waWxlZD1udWxsLHRoaXMub25FcnJvcj1udWxsLHRoaXMub25CaW5kPW51bGwsdGhpcy51bmlxdWVJZD0wLHRoaXMub25Db21waWxlT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX29uQmluZE9ic2VydmFibGU9bnVsbCx0aGlzLl93YXNQcmV2aW91c2x5UmVhZHk9ITEsdGhpcy5fZm9yY2VSZWJpbmRPbk5leHRDYWxsPSExLHRoaXMuX3dhc1ByZXZpb3VzbHlVc2luZ0luc3RhbmNlcz1udWxsLHRoaXMuX2lzRGlzcG9zZWQ9ITEsdGhpcy5fYm9uZXNDb21wdXRhdGlvbkZvcmNlZFRvQ1BVPSExLHRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXM9e30sdGhpcy5fbXVsdGlUYXJnZXQ9ITEsdGhpcy5fc2FtcGxlcnM9e30sdGhpcy5faXNSZWFkeT0hMSx0aGlzLl9jb21waWxhdGlvbkVycm9yPSIiLHRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZD0hMSx0aGlzLl91bmlmb3Jtcz17fSx0aGlzLl9rZXk9IiIsdGhpcy5fZmFsbGJhY2tzPW51bGwsdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlPSIiLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlPSIiLHRoaXMuX3RyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3M9bnVsbCx0aGlzLl9waXBlbGluZUNvbnRleHQ9bnVsbCx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlPSIiLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZT0iIix0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlQmVmb3JlTWlncmF0aW9uPSIiLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZUJlZm9yZU1pZ3JhdGlvbj0iIix0aGlzLl9yYXdWZXJ0ZXhTb3VyY2VDb2RlPSIiLHRoaXMuX3Jhd0ZyYWdtZW50U291cmNlQ29kZT0iIix0aGlzLm5hbWU9ZSx0aGlzLl9rZXk9dTtsZXQgdixFPW51bGw7aWYodC5hdHRyaWJ1dGVzKXtjb25zdCBJPXQ7aWYodGhpcy5fZW5naW5lPWksdGhpcy5fYXR0cmlidXRlc05hbWVzPUkuYXR0cmlidXRlcyx0aGlzLl91bmlmb3Jtc05hbWVzPUkudW5pZm9ybXNOYW1lcy5jb25jYXQoSS5zYW1wbGVycyksdGhpcy5fc2FtcGxlckxpc3Q9SS5zYW1wbGVycy5zbGljZSgpLHRoaXMuZGVmaW5lcz1JLmRlZmluZXMsdGhpcy5vbkVycm9yPUkub25FcnJvcix0aGlzLm9uQ29tcGlsZWQ9SS5vbkNvbXBpbGVkLHRoaXMuX2ZhbGxiYWNrcz1JLmZhbGxiYWNrcyx0aGlzLl9pbmRleFBhcmFtZXRlcnM9SS5pbmRleFBhcmFtZXRlcnMsdGhpcy5fdHJhbnNmb3JtRmVlZGJhY2tWYXJ5aW5ncz1JLnRyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3N8fG51bGwsdGhpcy5fbXVsdGlUYXJnZXQ9ISFJLm11bHRpVGFyZ2V0LHRoaXMuX3NoYWRlckxhbmd1YWdlPShfPUkuc2hhZGVyTGFuZ3VhZ2UpIT09bnVsbCYmXyE9PXZvaWQgMD9fOlplLkdMU0wsSS51bmlmb3JtQnVmZmVyc05hbWVzKXt0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzTGlzdD1JLnVuaWZvcm1CdWZmZXJzTmFtZXMuc2xpY2UoKTtmb3IobGV0IFU9MDtVPEkudW5pZm9ybUJ1ZmZlcnNOYW1lcy5sZW5ndGg7VSsrKXRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNbSS51bmlmb3JtQnVmZmVyc05hbWVzW1VdXT1VfUU9KGY9SS5wcm9jZXNzRmluYWxDb2RlKSE9PW51bGwmJmYhPT12b2lkIDA/ZjpudWxsLHY9KG09SS5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXMpIT09bnVsbCYmbSE9PXZvaWQgMD9tOnZvaWQgMH1lbHNlIHRoaXMuX2VuZ2luZT1yLHRoaXMuZGVmaW5lcz1uPz8iIix0aGlzLl91bmlmb3Jtc05hbWVzPWkuY29uY2F0KHMpLHRoaXMuX3NhbXBsZXJMaXN0PXM/cy5zbGljZSgpOltdLHRoaXMuX2F0dHJpYnV0ZXNOYW1lcz10LHRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNMaXN0PVtdLHRoaXMuX3NoYWRlckxhbmd1YWdlPWQsdGhpcy5vbkVycm9yPWgsdGhpcy5vbkNvbXBpbGVkPW8sdGhpcy5faW5kZXhQYXJhbWV0ZXJzPWwsdGhpcy5fZmFsbGJhY2tzPWE7dGhpcy5fYXR0cmlidXRlTG9jYXRpb25CeU5hbWU9e30sdGhpcy51bmlxdWVJZD1EZS5fVW5pcXVlSWRTZWVkKys7bGV0IFMsUjtjb25zdCBBPWplKCk/dGhpcy5fZW5naW5lLmdldEhvc3REb2N1bWVudCgpOm51bGw7ZS52ZXJ0ZXhTb3VyY2U/Uz0ic291cmNlOiIrZS52ZXJ0ZXhTb3VyY2U6ZS52ZXJ0ZXhFbGVtZW50PyhTPUE/QS5nZXRFbGVtZW50QnlJZChlLnZlcnRleEVsZW1lbnQpOm51bGwsU3x8KFM9ZS52ZXJ0ZXhFbGVtZW50KSk6Uz1lLnZlcnRleHx8ZSxlLmZyYWdtZW50U291cmNlP1I9InNvdXJjZToiK2UuZnJhZ21lbnRTb3VyY2U6ZS5mcmFnbWVudEVsZW1lbnQ/KFI9QT9BLmdldEVsZW1lbnRCeUlkKGUuZnJhZ21lbnRFbGVtZW50KTpudWxsLFJ8fChSPWUuZnJhZ21lbnRFbGVtZW50KSk6Uj1lLmZyYWdtZW50fHxlLHRoaXMuX3Byb2Nlc3NpbmdDb250ZXh0PXRoaXMuX2VuZ2luZS5fZ2V0U2hhZGVyUHJvY2Vzc2luZ0NvbnRleHQodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpO2xldCBDPXtkZWZpbmVzOnRoaXMuZGVmaW5lcy5zcGxpdChgCmApLGluZGV4UGFyYW1ldGVyczp0aGlzLl9pbmRleFBhcmFtZXRlcnMsaXNGcmFnbWVudDohMSxzaG91bGRVc2VIaWdoUHJlY2lzaW9uU2hhZGVyOnRoaXMuX2VuZ2luZS5fc2hvdWxkVXNlSGlnaFByZWNpc2lvblNoYWRlcixwcm9jZXNzb3I6dGhpcy5fZW5naW5lLl9nZXRTaGFkZXJQcm9jZXNzb3IodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpLHN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnM6dGhpcy5fZW5naW5lLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnMsc2hhZGVyc1JlcG9zaXRvcnk6TC5HZXRTaGFkZXJzUmVwb3NpdG9yeSh0aGlzLl9zaGFkZXJMYW5ndWFnZSksaW5jbHVkZXNTaGFkZXJzU3RvcmU6TC5HZXRJbmNsdWRlc1NoYWRlcnNTdG9yZSh0aGlzLl9zaGFkZXJMYW5ndWFnZSksdmVyc2lvbjoodGhpcy5fZW5naW5lLnZlcnNpb24qMTAwKS50b1N0cmluZygpLHBsYXRmb3JtTmFtZTp0aGlzLl9lbmdpbmUuc2hhZGVyUGxhdGZvcm1OYW1lLHByb2Nlc3NpbmdDb250ZXh0OnRoaXMuX3Byb2Nlc3NpbmdDb250ZXh0LGlzTkRDSGFsZlpSYW5nZTp0aGlzLl9lbmdpbmUuaXNORENIYWxmWlJhbmdlLHVzZVJldmVyc2VEZXB0aEJ1ZmZlcjp0aGlzLl9lbmdpbmUudXNlUmV2ZXJzZURlcHRoQnVmZmVyLHByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlczp2fTtjb25zdCBiPVt2b2lkIDAsdm9pZCAwXSx4PSgpPT57aWYoYlswXSYmYlsxXSl7Qy5pc0ZyYWdtZW50PSEwO2NvbnN0W0ksVV09YjtvaS5Qcm9jZXNzKFUsQywoayxtZSk9Pnt0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb249bWUsRSYmKGs9RSgiZnJhZ21lbnQiLGspKTtjb25zdCBxPW9pLkZpbmFsaXplKEksayxDKTtDPW51bGwsdGhpcy5fdXNlRmluYWxDb2RlKHEudmVydGV4Q29kZSxxLmZyYWdtZW50Q29kZSxlKX0sdGhpcy5fZW5naW5lKX19O3RoaXMuX2xvYWRTaGFkZXIoUywiVmVydGV4IiwiIixJPT57b2kuSW5pdGlhbGl6ZShDKSxvaS5Qcm9jZXNzKEksQywoVSxrKT0+e3RoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGU9SSx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlQmVmb3JlTWlncmF0aW9uPWssRSYmKFU9RSgidmVydGV4IixVKSksYlswXT1VLHgoKX0sdGhpcy5fZW5naW5lKX0pLHRoaXMuX2xvYWRTaGFkZXIoUiwiRnJhZ21lbnQiLCJQaXhlbCIsST0+e3RoaXMuX3Jhd0ZyYWdtZW50U291cmNlQ29kZT1JLGJbMV09SSx4KCl9KX1fdXNlRmluYWxDb2RlKGUsdCxpKXtpZihpKXtjb25zdCBzPWkudmVydGV4RWxlbWVudHx8aS52ZXJ0ZXh8fGkuc3BlY3Rvck5hbWV8fGkscj1pLmZyYWdtZW50RWxlbWVudHx8aS5mcmFnbWVudHx8aS5zcGVjdG9yTmFtZXx8aTt0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlPSh0aGlzLl9zaGFkZXJMYW5ndWFnZT09PVplLldHU0w/Ii8vIjoiIikrIiNkZWZpbmUgU0hBREVSX05BTUUgdmVydGV4OiIrcytgCmArZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGU9KHRoaXMuX3NoYWRlckxhbmd1YWdlPT09WmUuV0dTTD8iLy8iOiIiKSsiI2RlZmluZSBTSEFERVJfTkFNRSBmcmFnbWVudDoiK3IrYApgK3R9ZWxzZSB0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlPWUsdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlPXQ7dGhpcy5fcHJlcGFyZUVmZmVjdCgpfWdldCBrZXkoKXtyZXR1cm4gdGhpcy5fa2V5fWlzUmVhZHkoKXt0cnl7cmV0dXJuIHRoaXMuX2lzUmVhZHlJbnRlcm5hbCgpfWNhdGNoe3JldHVybiExfX1faXNSZWFkeUludGVybmFsKCl7cmV0dXJuIHRoaXMuX2lzUmVhZHk/ITA6dGhpcy5fcGlwZWxpbmVDb250ZXh0P3RoaXMuX3BpcGVsaW5lQ29udGV4dC5pc1JlYWR5OiExfWdldEVuZ2luZSgpe3JldHVybiB0aGlzLl9lbmdpbmV9Z2V0UGlwZWxpbmVDb250ZXh0KCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dH1nZXRBdHRyaWJ1dGVzTmFtZXMoKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlc05hbWVzfWdldEF0dHJpYnV0ZUxvY2F0aW9uKGUpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVzW2VdfWdldEF0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lKGUpe3JldHVybiB0aGlzLl9hdHRyaWJ1dGVMb2NhdGlvbkJ5TmFtZVtlXX1nZXRBdHRyaWJ1dGVzQ291bnQoKXtyZXR1cm4gdGhpcy5fYXR0cmlidXRlcy5sZW5ndGh9Z2V0VW5pZm9ybUluZGV4KGUpe3JldHVybiB0aGlzLl91bmlmb3Jtc05hbWVzLmluZGV4T2YoZSl9Z2V0VW5pZm9ybShlKXtyZXR1cm4gdGhpcy5fdW5pZm9ybXNbZV19Z2V0U2FtcGxlcnMoKXtyZXR1cm4gdGhpcy5fc2FtcGxlckxpc3R9Z2V0VW5pZm9ybU5hbWVzKCl7cmV0dXJuIHRoaXMuX3VuaWZvcm1zTmFtZXN9Z2V0VW5pZm9ybUJ1ZmZlcnNOYW1lcygpe3JldHVybiB0aGlzLl91bmlmb3JtQnVmZmVyc05hbWVzTGlzdH1nZXRJbmRleFBhcmFtZXRlcnMoKXtyZXR1cm4gdGhpcy5faW5kZXhQYXJhbWV0ZXJzfWdldENvbXBpbGF0aW9uRXJyb3IoKXtyZXR1cm4gdGhpcy5fY29tcGlsYXRpb25FcnJvcn1hbGxGYWxsYmFja3NQcm9jZXNzZWQoKXtyZXR1cm4gdGhpcy5fYWxsRmFsbGJhY2tzUHJvY2Vzc2VkfWV4ZWN1dGVXaGVuQ29tcGlsZWQoZSl7aWYodGhpcy5pc1JlYWR5KCkpe2UodGhpcyk7cmV0dXJufXRoaXMub25Db21waWxlT2JzZXJ2YWJsZS5hZGQodD0+e2UodCl9KSwoIXRoaXMuX3BpcGVsaW5lQ29udGV4dHx8dGhpcy5fcGlwZWxpbmVDb250ZXh0LmlzQXN5bmMpJiZzZXRUaW1lb3V0KCgpPT57dGhpcy5fY2hlY2tJc1JlYWR5KG51bGwpfSwxNil9X2NoZWNrSXNSZWFkeShlKXt0cnl7aWYodGhpcy5faXNSZWFkeUludGVybmFsKCkpcmV0dXJufWNhdGNoKHQpe3RoaXMuX3Byb2Nlc3NDb21waWxhdGlvbkVycm9ycyh0LGUpO3JldHVybn10aGlzLl9pc0Rpc3Bvc2VkfHxzZXRUaW1lb3V0KCgpPT57dGhpcy5fY2hlY2tJc1JlYWR5KGUpfSwxNil9X2xvYWRTaGFkZXIoZSx0LGkscyl7aWYodHlwZW9mIEhUTUxFbGVtZW50PCJ1IiYmZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KXtjb25zdCBhPVRzKGUpO3MoYSk7cmV0dXJufWlmKGUuc3Vic3RyKDAsNyk9PT0ic291cmNlOiIpe3MoZS5zdWJzdHIoNykpO3JldHVybn1pZihlLnN1YnN0cigwLDcpPT09ImJhc2U2NDoiKXtjb25zdCBhPXdpbmRvdy5hdG9iKGUuc3Vic3RyKDcpKTtzKGEpO3JldHVybn1jb25zdCByPUwuR2V0U2hhZGVyc1N0b3JlKHRoaXMuX3NoYWRlckxhbmd1YWdlKTtpZihyW2UrdCsiU2hhZGVyIl0pe3MocltlK3QrIlNoYWRlciJdKTtyZXR1cm59aWYoaSYmcltlK2krIlNoYWRlciJdKXtzKHJbZStpKyJTaGFkZXIiXSk7cmV0dXJufWxldCBuO2VbMF09PT0iLiJ8fGVbMF09PT0iLyJ8fGUuaW5kZXhPZigiaHR0cCIpPi0xP249ZTpuPUwuR2V0U2hhZGVyc1JlcG9zaXRvcnkodGhpcy5fc2hhZGVyTGFuZ3VhZ2UpK2UsdGhpcy5fZW5naW5lLl9sb2FkRmlsZShuKyIuIit0LnRvTG93ZXJDYXNlKCkrIi5meCIscyl9Z2V0IHZlcnRleFNvdXJjZUNvZGUoKXt2YXIgZSx0O3JldHVybiB0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGUmJnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlP3RoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZToodD0oZT10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5fZ2V0VmVydGV4U2hhZGVyQ29kZSgpKSE9PW51bGwmJnQhPT12b2lkIDA/dDp0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlfWdldCBmcmFnbWVudFNvdXJjZUNvZGUoKXt2YXIgZSx0O3JldHVybiB0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGUmJnRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlP3RoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlOih0PShlPXRoaXMuX3BpcGVsaW5lQ29udGV4dCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLl9nZXRGcmFnbWVudFNoYWRlckNvZGUoKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6dGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlfWdldCB2ZXJ0ZXhTb3VyY2VDb2RlQmVmb3JlTWlncmF0aW9uKCl7cmV0dXJuIHRoaXMuX3ZlcnRleFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb259Z2V0IGZyYWdtZW50U291cmNlQ29kZUJlZm9yZU1pZ3JhdGlvbigpe3JldHVybiB0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVCZWZvcmVNaWdyYXRpb259Z2V0IHJhd1ZlcnRleFNvdXJjZUNvZGUoKXtyZXR1cm4gdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZX1nZXQgcmF3RnJhZ21lbnRTb3VyY2VDb2RlKCl7cmV0dXJuIHRoaXMuX3Jhd0ZyYWdtZW50U291cmNlQ29kZX1fcmVidWlsZFByb2dyYW0oZSx0LGkscyl7dGhpcy5faXNSZWFkeT0hMSx0aGlzLl92ZXJ0ZXhTb3VyY2VDb2RlT3ZlcnJpZGU9ZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGVPdmVycmlkZT10LHRoaXMub25FcnJvcj0ocixuKT0+e3MmJnMobil9LHRoaXMub25Db21waWxlZD0oKT0+e2NvbnN0IHI9dGhpcy5nZXRFbmdpbmUoKS5zY2VuZXM7aWYocilmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKylyW25dLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDYzKTt0aGlzLl9waXBlbGluZUNvbnRleHQuX2hhbmRsZXNTcGVjdG9yUmVidWlsZENhbGxiYWNrKGkpfSx0aGlzLl9mYWxsYmFja3M9bnVsbCx0aGlzLl9wcmVwYXJlRWZmZWN0KCl9X3ByZXBhcmVFZmZlY3QoKXtjb25zdCBlPXRoaXMuX2F0dHJpYnV0ZXNOYW1lcyx0PXRoaXMuZGVmaW5lcyxpPXRoaXMuX3BpcGVsaW5lQ29udGV4dDt0aGlzLl9pc1JlYWR5PSExO3RyeXtjb25zdCBzPXRoaXMuX2VuZ2luZTt0aGlzLl9waXBlbGluZUNvbnRleHQ9cy5jcmVhdGVQaXBlbGluZUNvbnRleHQodGhpcy5fcHJvY2Vzc2luZ0NvbnRleHQpLHRoaXMuX3BpcGVsaW5lQ29udGV4dC5fbmFtZT10aGlzLl9rZXk7Y29uc3Qgcj10aGlzLl9yZWJ1aWxkUHJvZ3JhbS5iaW5kKHRoaXMpO3RoaXMuX3ZlcnRleFNvdXJjZUNvZGVPdmVycmlkZSYmdGhpcy5fZnJhZ21lbnRTb3VyY2VDb2RlT3ZlcnJpZGU/cy5fcHJlcGFyZVBpcGVsaW5lQ29udGV4dCh0aGlzLl9waXBlbGluZUNvbnRleHQsdGhpcy5fdmVydGV4U291cmNlQ29kZU92ZXJyaWRlLHRoaXMuX2ZyYWdtZW50U291cmNlQ29kZU92ZXJyaWRlLCEwLHRoaXMuX3Jhd1ZlcnRleFNvdXJjZUNvZGUsdGhpcy5fcmF3RnJhZ21lbnRTb3VyY2VDb2RlLHIsbnVsbCx0aGlzLl90cmFuc2Zvcm1GZWVkYmFja1ZhcnlpbmdzLHRoaXMuX2tleSk6cy5fcHJlcGFyZVBpcGVsaW5lQ29udGV4dCh0aGlzLl9waXBlbGluZUNvbnRleHQsdGhpcy5fdmVydGV4U291cmNlQ29kZSx0aGlzLl9mcmFnbWVudFNvdXJjZUNvZGUsITEsdGhpcy5fcmF3VmVydGV4U291cmNlQ29kZSx0aGlzLl9yYXdGcmFnbWVudFNvdXJjZUNvZGUscix0LHRoaXMuX3RyYW5zZm9ybUZlZWRiYWNrVmFyeWluZ3MsdGhpcy5fa2V5KSxzLl9leGVjdXRlV2hlblJlbmRlcmluZ1N0YXRlSXNDb21waWxlZCh0aGlzLl9waXBlbGluZUNvbnRleHQsKCk9PntpZih0aGlzLl9hdHRyaWJ1dGVzPVtdLHRoaXMuX3BpcGVsaW5lQ29udGV4dC5fZmlsbEVmZmVjdEluZm9ybWF0aW9uKHRoaXMsdGhpcy5fdW5pZm9ybUJ1ZmZlcnNOYW1lcyx0aGlzLl91bmlmb3Jtc05hbWVzLHRoaXMuX3VuaWZvcm1zLHRoaXMuX3NhbXBsZXJMaXN0LHRoaXMuX3NhbXBsZXJzLGUsdGhpcy5fYXR0cmlidXRlcyksZSlmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3QgYT1lW25dO3RoaXMuX2F0dHJpYnV0ZUxvY2F0aW9uQnlOYW1lW2FdPXRoaXMuX2F0dHJpYnV0ZXNbbl19cy5iaW5kU2FtcGxlcnModGhpcyksdGhpcy5fY29tcGlsYXRpb25FcnJvcj0iIix0aGlzLl9pc1JlYWR5PSEwLHRoaXMub25Db21waWxlZCYmdGhpcy5vbkNvbXBpbGVkKHRoaXMpLHRoaXMub25Db21waWxlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkNvbXBpbGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZmFsbGJhY2tzJiZ0aGlzLl9mYWxsYmFja3MudW5CaW5kTWVzaCgpLGkmJnRoaXMuZ2V0RW5naW5lKCkuX2RlbGV0ZVBpcGVsaW5lQ29udGV4dChpKX0pLHRoaXMuX3BpcGVsaW5lQ29udGV4dC5pc0FzeW5jJiZ0aGlzLl9jaGVja0lzUmVhZHkoaSl9Y2F0Y2gocyl7dGhpcy5fcHJvY2Vzc0NvbXBpbGF0aW9uRXJyb3JzKHMsaSl9fV9nZXRTaGFkZXJDb2RlQW5kRXJyb3JMaW5lKGUsdCxpKXtjb25zdCBzPWk/L0ZSQUdNRU5UIFNIQURFUiBFUlJPUjogMDooXGQrPyk6LzovVkVSVEVYIFNIQURFUiBFUlJPUjogMDooXGQrPyk6LztsZXQgcj1udWxsO2lmKHQmJmUpe2NvbnN0IG49dC5tYXRjaChzKTtpZihuJiZuLmxlbmd0aD09PTIpe2NvbnN0IGE9cGFyc2VJbnQoblsxXSksbz1lLnNwbGl0KGAKYCwtMSk7by5sZW5ndGg+PWEmJihyPWBPZmZlbmRpbmcgbGluZSBbJHthfV0gaW4gJHtpPyJmcmFnbWVudCI6InZlcnRleCJ9IGNvZGU6ICR7b1thLTFdfWApfX1yZXR1cm5bZSxyXX1fcHJvY2Vzc0NvbXBpbGF0aW9uRXJyb3JzKGUsdD1udWxsKXt2YXIgaSxzLHI7dGhpcy5fY29tcGlsYXRpb25FcnJvcj1lLm1lc3NhZ2U7Y29uc3Qgbj10aGlzLl9hdHRyaWJ1dGVzTmFtZXMsYT10aGlzLl9mYWxsYmFja3M7aWYoTy5FcnJvcigiVW5hYmxlIHRvIGNvbXBpbGUgZWZmZWN0OiIpLE8uRXJyb3IoIlVuaWZvcm1zOiAiK3RoaXMuX3VuaWZvcm1zTmFtZXMubWFwKGZ1bmN0aW9uKGgpe3JldHVybiIgIitofSkpLE8uRXJyb3IoIkF0dHJpYnV0ZXM6ICIrbi5tYXAoZnVuY3Rpb24oaCl7cmV0dXJuIiAiK2h9KSksTy5FcnJvcihgRGVmaW5lczpccgpgK3RoaXMuZGVmaW5lcyksRGUuTG9nU2hhZGVyQ29kZU9uQ29tcGlsYXRpb25FcnJvcil7bGV0IGg9bnVsbCxsPW51bGwsdT1udWxsOyEoKGk9dGhpcy5fcGlwZWxpbmVDb250ZXh0KT09PW51bGx8fGk9PT12b2lkIDApJiZpLl9nZXRWZXJ0ZXhTaGFkZXJDb2RlKCkmJihbdSxoXT10aGlzLl9nZXRTaGFkZXJDb2RlQW5kRXJyb3JMaW5lKHRoaXMuX3BpcGVsaW5lQ29udGV4dC5fZ2V0VmVydGV4U2hhZGVyQ29kZSgpLHRoaXMuX2NvbXBpbGF0aW9uRXJyb3IsITEpLHUmJihPLkVycm9yKCJWZXJ0ZXggY29kZToiKSxPLkVycm9yKHUpKSksISgocz10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8cz09PXZvaWQgMCkmJnMuX2dldEZyYWdtZW50U2hhZGVyQ29kZSgpJiYoW3UsbF09dGhpcy5fZ2V0U2hhZGVyQ29kZUFuZEVycm9yTGluZSgocj10aGlzLl9waXBlbGluZUNvbnRleHQpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5fZ2V0RnJhZ21lbnRTaGFkZXJDb2RlKCksdGhpcy5fY29tcGlsYXRpb25FcnJvciwhMCksdSYmKE8uRXJyb3IoIkZyYWdtZW50IGNvZGU6IiksTy5FcnJvcih1KSkpLGgmJk8uRXJyb3IoaCksbCYmTy5FcnJvcihsKX1PLkVycm9yKCJFcnJvcjogIit0aGlzLl9jb21waWxhdGlvbkVycm9yKTtjb25zdCBvPSgpPT57dGhpcy5vbkVycm9yJiZ0aGlzLm9uRXJyb3IodGhpcyx0aGlzLl9jb21waWxhdGlvbkVycm9yKSx0aGlzLm9uRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX07dCYmKHRoaXMuX3BpcGVsaW5lQ29udGV4dD10LHRoaXMuX2lzUmVhZHk9ITAsbygpKSxhPyh0aGlzLl9waXBlbGluZUNvbnRleHQ9bnVsbCxhLmhhc01vcmVGYWxsYmFja3M/KHRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZD0hMSxPLkVycm9yKCJUcnlpbmcgbmV4dCBmYWxsYmFjay4iKSx0aGlzLmRlZmluZXM9YS5yZWR1Y2UodGhpcy5kZWZpbmVzLHRoaXMpLHRoaXMuX3ByZXBhcmVFZmZlY3QoKSk6KHRoaXMuX2FsbEZhbGxiYWNrc1Byb2Nlc3NlZD0hMCxvKCksdGhpcy5vbkVycm9yT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2ZhbGxiYWNrcyYmdGhpcy5fZmFsbGJhY2tzLnVuQmluZE1lc2goKSkpOih0aGlzLl9hbGxGYWxsYmFja3NQcm9jZXNzZWQ9ITAsdHx8bygpKX1nZXQgaXNTdXBwb3J0ZWQoKXtyZXR1cm4gdGhpcy5fY29tcGlsYXRpb25FcnJvcj09PSIifV9iaW5kVGV4dHVyZShlLHQpe3RoaXMuX2VuZ2luZS5fYmluZFRleHR1cmUodGhpcy5fc2FtcGxlcnNbZV0sdCxlKX1zZXRUZXh0dXJlKGUsdCl7dGhpcy5fZW5naW5lLnNldFRleHR1cmUodGhpcy5fc2FtcGxlcnNbZV0sdGhpcy5fdW5pZm9ybXNbZV0sdCxlKX1zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKGUsdCl7dGhpcy5fZW5naW5lLnNldERlcHRoU3RlbmNpbFRleHR1cmUodGhpcy5fc2FtcGxlcnNbZV0sdGhpcy5fdW5pZm9ybXNbZV0sdCxlKX1zZXRUZXh0dXJlQXJyYXkoZSx0KXtjb25zdCBpPWUrIkV4IjtpZih0aGlzLl9zYW1wbGVyTGlzdC5pbmRleE9mKGkrIjAiKT09PS0xKXtjb25zdCBzPXRoaXMuX3NhbXBsZXJMaXN0LmluZGV4T2YoZSk7Zm9yKGxldCBuPTE7bjx0Lmxlbmd0aDtuKyspe2NvbnN0IGE9aSsobi0xKS50b1N0cmluZygpO3RoaXMuX3NhbXBsZXJMaXN0LnNwbGljZShzK24sMCxhKX1sZXQgcj0wO2Zvcihjb25zdCBuIG9mIHRoaXMuX3NhbXBsZXJMaXN0KXRoaXMuX3NhbXBsZXJzW25dPXIscis9MX10aGlzLl9lbmdpbmUuc2V0VGV4dHVyZUFycmF5KHRoaXMuX3NhbXBsZXJzW2VdLHRoaXMuX3VuaWZvcm1zW2VdLHQsZSl9c2V0VGV4dHVyZUZyb21Qb3N0UHJvY2VzcyhlLHQpe3RoaXMuX2VuZ2luZS5zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzKHRoaXMuX3NhbXBsZXJzW2VdLHQsZSl9c2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzc091dHB1dChlLHQpe3RoaXMuX2VuZ2luZS5zZXRUZXh0dXJlRnJvbVBvc3RQcm9jZXNzT3V0cHV0KHRoaXMuX3NhbXBsZXJzW2VdLHQsZSl9YmluZFVuaWZvcm1CdWZmZXIoZSx0KXtjb25zdCBpPXRoaXMuX3VuaWZvcm1CdWZmZXJzTmFtZXNbdF07aT09PXZvaWQgMHx8RGUuX0Jhc2VDYWNoZVtpXT09PWUmJnRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudXNlVUJPQmluZGluZ0NhY2hlfHwoRGUuX0Jhc2VDYWNoZVtpXT1lLHRoaXMuX2VuZ2luZS5iaW5kVW5pZm9ybUJ1ZmZlckJhc2UoZSxpLHQpKX1iaW5kVW5pZm9ybUJsb2NrKGUsdCl7dGhpcy5fZW5naW5lLmJpbmRVbmlmb3JtQmxvY2sodGhpcy5fcGlwZWxpbmVDb250ZXh0LGUsdCl9c2V0SW50KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQoZSx0KSx0aGlzfXNldEludDIoZSx0LGkpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50MihlLHQsaSksdGhpc31zZXRJbnQzKGUsdCxpLHMpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50MyhlLHQsaSxzKSx0aGlzfXNldEludDQoZSx0LGkscyxyKXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludDQoZSx0LGkscyxyKSx0aGlzfXNldEludEFycmF5KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnRBcnJheShlLHQpLHRoaXN9c2V0SW50QXJyYXkyKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnRBcnJheTIoZSx0KSx0aGlzfXNldEludEFycmF5MyhlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50QXJyYXkzKGUsdCksdGhpc31zZXRJbnRBcnJheTQoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludEFycmF5NChlLHQpLHRoaXN9c2V0VUludChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50KGUsdCksdGhpc31zZXRVSW50MihlLHQsaSl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQyKGUsdCxpKSx0aGlzfXNldFVJbnQzKGUsdCxpLHMpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0SW50MyhlLHQsaSxzKSx0aGlzfXNldFVJbnQ0KGUsdCxpLHMscil7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRJbnQ0KGUsdCxpLHMsciksdGhpc31zZXRVSW50QXJyYXkoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldFVJbnRBcnJheShlLHQpLHRoaXN9c2V0VUludEFycmF5MihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VUludEFycmF5MihlLHQpLHRoaXN9c2V0VUludEFycmF5MyhlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VUludEFycmF5MyhlLHQpLHRoaXN9c2V0VUludEFycmF5NChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VUludEFycmF5NChlLHQpLHRoaXN9c2V0RmxvYXRBcnJheShlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkoZSx0KSx0aGlzfXNldEZsb2F0QXJyYXkyKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTIoZSx0KSx0aGlzfXNldEZsb2F0QXJyYXkzKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTMoZSx0KSx0aGlzfXNldEZsb2F0QXJyYXk0KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTQoZSx0KSx0aGlzfXNldEFycmF5KGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheShlLHQpLHRoaXN9c2V0QXJyYXkyKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRBcnJheTIoZSx0KSx0aGlzfXNldEFycmF5MyhlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0QXJyYXkzKGUsdCksdGhpc31zZXRBcnJheTQoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEFycmF5NChlLHQpLHRoaXN9c2V0TWF0cmljZXMoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldE1hdHJpY2VzKGUsdCksdGhpc31zZXRNYXRyaXgoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldE1hdHJpeChlLHQpLHRoaXN9c2V0TWF0cml4M3gzKGUsdCl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRNYXRyaXgzeDMoZSx0KSx0aGlzfXNldE1hdHJpeDJ4MihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0TWF0cml4MngyKGUsdCksdGhpc31zZXRGbG9hdChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0RmxvYXQoZSx0KSx0aGlzfXNldEJvb2woZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldEludChlLHQ/MTowKSx0aGlzfXNldFZlY3RvcjIoZSx0KXtyZXR1cm4gdGhpcy5fcGlwZWxpbmVDb250ZXh0LnNldFZlY3RvcjIoZSx0KSx0aGlzfXNldEZsb2F0MihlLHQsaSl7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRGbG9hdDIoZSx0LGkpLHRoaXN9c2V0VmVjdG9yMyhlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VmVjdG9yMyhlLHQpLHRoaXN9c2V0RmxvYXQzKGUsdCxpLHMpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0RmxvYXQzKGUsdCxpLHMpLHRoaXN9c2V0VmVjdG9yNChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0VmVjdG9yNChlLHQpLHRoaXN9c2V0UXVhdGVybmlvbihlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0UXVhdGVybmlvbihlLHQpLHRoaXN9c2V0RmxvYXQ0KGUsdCxpLHMscil7cmV0dXJuIHRoaXMuX3BpcGVsaW5lQ29udGV4dC5zZXRGbG9hdDQoZSx0LGkscyxyKSx0aGlzfXNldENvbG9yMyhlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0Q29sb3IzKGUsdCksdGhpc31zZXRDb2xvcjQoZSx0LGkpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0Q29sb3I0KGUsdCxpKSx0aGlzfXNldERpcmVjdENvbG9yNChlLHQpe3JldHVybiB0aGlzLl9waXBlbGluZUNvbnRleHQuc2V0RGlyZWN0Q29sb3I0KGUsdCksdGhpc31kaXNwb3NlKCl7dGhpcy5fcGlwZWxpbmVDb250ZXh0JiZ0aGlzLl9waXBlbGluZUNvbnRleHQuZGlzcG9zZSgpLHRoaXMuX2VuZ2luZS5fcmVsZWFzZUVmZmVjdCh0aGlzKSx0aGlzLl9pc0Rpc3Bvc2VkPSEwfXN0YXRpYyBSZWdpc3RlclNoYWRlcihlLHQsaSxzPVplLkdMU0wpe3QmJihMLkdldFNoYWRlcnNTdG9yZShzKVtgJHtlfVBpeGVsU2hhZGVyYF09dCksaSYmKEwuR2V0U2hhZGVyc1N0b3JlKHMpW2Ake2V9VmVydGV4U2hhZGVyYF09aSl9c3RhdGljIFJlc2V0Q2FjaGUoKXtEZS5fQmFzZUNhY2hlPXt9fX1EZS5Mb2dTaGFkZXJDb2RlT25Db21waWxhdGlvbkVycm9yPSEwLERlLl9VbmlxdWVJZFNlZWQ9MCxEZS5fQmFzZUNhY2hlPXt9LERlLlNoYWRlcnNTdG9yZT1MLlNoYWRlcnNTdG9yZSxEZS5JbmNsdWRlc1NoYWRlcnNTdG9yZT1MLkluY2x1ZGVzU2hhZGVyc1N0b3JlO2NsYXNzIGxue2NvbnN0cnVjdG9yKGU9ITApe3RoaXMuX2lzRGVwdGhUZXN0RGlydHk9ITEsdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSExLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMSx0aGlzLl9pc0N1bGxEaXJ0eT0hMSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMSx0aGlzLl9pc0Zyb250RmFjZURpcnR5PSExLGUmJnRoaXMucmVzZXQoKX1nZXQgaXNEaXJ0eSgpe3JldHVybiB0aGlzLl9pc0RlcHRoRnVuY0RpcnR5fHx0aGlzLl9pc0RlcHRoVGVzdERpcnR5fHx0aGlzLl9pc0RlcHRoTWFza0RpcnR5fHx0aGlzLl9pc0N1bGxGYWNlRGlydHl8fHRoaXMuX2lzQ3VsbERpcnR5fHx0aGlzLl9pc1pPZmZzZXREaXJ0eXx8dGhpcy5faXNGcm9udEZhY2VEaXJ0eX1nZXQgek9mZnNldCgpe3JldHVybiB0aGlzLl96T2Zmc2V0fXNldCB6T2Zmc2V0KGUpe3RoaXMuX3pPZmZzZXQhPT1lJiYodGhpcy5fek9mZnNldD1lLHRoaXMuX2lzWk9mZnNldERpcnR5PSEwKX1nZXQgek9mZnNldFVuaXRzKCl7cmV0dXJuIHRoaXMuX3pPZmZzZXRVbml0c31zZXQgek9mZnNldFVuaXRzKGUpe3RoaXMuX3pPZmZzZXRVbml0cyE9PWUmJih0aGlzLl96T2Zmc2V0VW5pdHM9ZSx0aGlzLl9pc1pPZmZzZXREaXJ0eT0hMCl9Z2V0IGN1bGxGYWNlKCl7cmV0dXJuIHRoaXMuX2N1bGxGYWNlfXNldCBjdWxsRmFjZShlKXt0aGlzLl9jdWxsRmFjZSE9PWUmJih0aGlzLl9jdWxsRmFjZT1lLHRoaXMuX2lzQ3VsbEZhY2VEaXJ0eT0hMCl9Z2V0IGN1bGwoKXtyZXR1cm4gdGhpcy5fY3VsbH1zZXQgY3VsbChlKXt0aGlzLl9jdWxsIT09ZSYmKHRoaXMuX2N1bGw9ZSx0aGlzLl9pc0N1bGxEaXJ0eT0hMCl9Z2V0IGRlcHRoRnVuYygpe3JldHVybiB0aGlzLl9kZXB0aEZ1bmN9c2V0IGRlcHRoRnVuYyhlKXt0aGlzLl9kZXB0aEZ1bmMhPT1lJiYodGhpcy5fZGVwdGhGdW5jPWUsdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eT0hMCl9Z2V0IGRlcHRoTWFzaygpe3JldHVybiB0aGlzLl9kZXB0aE1hc2t9c2V0IGRlcHRoTWFzayhlKXt0aGlzLl9kZXB0aE1hc2shPT1lJiYodGhpcy5fZGVwdGhNYXNrPWUsdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMCl9Z2V0IGRlcHRoVGVzdCgpe3JldHVybiB0aGlzLl9kZXB0aFRlc3R9c2V0IGRlcHRoVGVzdChlKXt0aGlzLl9kZXB0aFRlc3QhPT1lJiYodGhpcy5fZGVwdGhUZXN0PWUsdGhpcy5faXNEZXB0aFRlc3REaXJ0eT0hMCl9Z2V0IGZyb250RmFjZSgpe3JldHVybiB0aGlzLl9mcm9udEZhY2V9c2V0IGZyb250RmFjZShlKXt0aGlzLl9mcm9udEZhY2UhPT1lJiYodGhpcy5fZnJvbnRGYWNlPWUsdGhpcy5faXNGcm9udEZhY2VEaXJ0eT0hMCl9cmVzZXQoKXt0aGlzLl9kZXB0aE1hc2s9ITAsdGhpcy5fZGVwdGhUZXN0PSEwLHRoaXMuX2RlcHRoRnVuYz1udWxsLHRoaXMuX2N1bGxGYWNlPW51bGwsdGhpcy5fY3VsbD1udWxsLHRoaXMuX3pPZmZzZXQ9MCx0aGlzLl96T2Zmc2V0VW5pdHM9MCx0aGlzLl9mcm9udEZhY2U9bnVsbCx0aGlzLl9pc0RlcHRoVGVzdERpcnR5PSEwLHRoaXMuX2lzRGVwdGhNYXNrRGlydHk9ITAsdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eT0hMSx0aGlzLl9pc0N1bGxGYWNlRGlydHk9ITEsdGhpcy5faXNDdWxsRGlydHk9ITEsdGhpcy5faXNaT2Zmc2V0RGlydHk9ITAsdGhpcy5faXNGcm9udEZhY2VEaXJ0eT0hMX1hcHBseShlKXt0aGlzLmlzRGlydHkmJih0aGlzLl9pc0N1bGxEaXJ0eSYmKHRoaXMuY3VsbD9lLmVuYWJsZShlLkNVTExfRkFDRSk6ZS5kaXNhYmxlKGUuQ1VMTF9GQUNFKSx0aGlzLl9pc0N1bGxEaXJ0eT0hMSksdGhpcy5faXNDdWxsRmFjZURpcnR5JiYoZS5jdWxsRmFjZSh0aGlzLmN1bGxGYWNlKSx0aGlzLl9pc0N1bGxGYWNlRGlydHk9ITEpLHRoaXMuX2lzRGVwdGhNYXNrRGlydHkmJihlLmRlcHRoTWFzayh0aGlzLmRlcHRoTWFzayksdGhpcy5faXNEZXB0aE1hc2tEaXJ0eT0hMSksdGhpcy5faXNEZXB0aFRlc3REaXJ0eSYmKHRoaXMuZGVwdGhUZXN0P2UuZW5hYmxlKGUuREVQVEhfVEVTVCk6ZS5kaXNhYmxlKGUuREVQVEhfVEVTVCksdGhpcy5faXNEZXB0aFRlc3REaXJ0eT0hMSksdGhpcy5faXNEZXB0aEZ1bmNEaXJ0eSYmKGUuZGVwdGhGdW5jKHRoaXMuZGVwdGhGdW5jKSx0aGlzLl9pc0RlcHRoRnVuY0RpcnR5PSExKSx0aGlzLl9pc1pPZmZzZXREaXJ0eSYmKHRoaXMuek9mZnNldHx8dGhpcy56T2Zmc2V0VW5pdHM/KGUuZW5hYmxlKGUuUE9MWUdPTl9PRkZTRVRfRklMTCksZS5wb2x5Z29uT2Zmc2V0KHRoaXMuek9mZnNldCx0aGlzLnpPZmZzZXRVbml0cykpOmUuZGlzYWJsZShlLlBPTFlHT05fT0ZGU0VUX0ZJTEwpLHRoaXMuX2lzWk9mZnNldERpcnR5PSExKSx0aGlzLl9pc0Zyb250RmFjZURpcnR5JiYoZS5mcm9udEZhY2UodGhpcy5mcm9udEZhY2UpLHRoaXMuX2lzRnJvbnRGYWNlRGlydHk9ITEpKX19Y2xhc3MgTnR7Y29uc3RydWN0b3IoKXt0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLmVuYWJsZWQ9ITEsdGhpcy5tYXNrPTI1NSx0aGlzLmZ1bmM9TnQuQUxXQVlTLHRoaXMuZnVuY1JlZj0xLHRoaXMuZnVuY01hc2s9MjU1LHRoaXMub3BTdGVuY2lsRmFpbD1OdC5LRUVQLHRoaXMub3BEZXB0aEZhaWw9TnQuS0VFUCx0aGlzLm9wU3RlbmNpbERlcHRoUGFzcz1OdC5SRVBMQUNFfWdldCBzdGVuY2lsRnVuYygpe3JldHVybiB0aGlzLmZ1bmN9c2V0IHN0ZW5jaWxGdW5jKGUpe3RoaXMuZnVuYz1lfWdldCBzdGVuY2lsRnVuY1JlZigpe3JldHVybiB0aGlzLmZ1bmNSZWZ9c2V0IHN0ZW5jaWxGdW5jUmVmKGUpe3RoaXMuZnVuY1JlZj1lfWdldCBzdGVuY2lsRnVuY01hc2soKXtyZXR1cm4gdGhpcy5mdW5jTWFza31zZXQgc3RlbmNpbEZ1bmNNYXNrKGUpe3RoaXMuZnVuY01hc2s9ZX1nZXQgc3RlbmNpbE9wU3RlbmNpbEZhaWwoKXtyZXR1cm4gdGhpcy5vcFN0ZW5jaWxGYWlsfXNldCBzdGVuY2lsT3BTdGVuY2lsRmFpbChlKXt0aGlzLm9wU3RlbmNpbEZhaWw9ZX1nZXQgc3RlbmNpbE9wRGVwdGhGYWlsKCl7cmV0dXJuIHRoaXMub3BEZXB0aEZhaWx9c2V0IHN0ZW5jaWxPcERlcHRoRmFpbChlKXt0aGlzLm9wRGVwdGhGYWlsPWV9Z2V0IHN0ZW5jaWxPcFN0ZW5jaWxEZXB0aFBhc3MoKXtyZXR1cm4gdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3N9c2V0IHN0ZW5jaWxPcFN0ZW5jaWxEZXB0aFBhc3MoZSl7dGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3M9ZX1nZXQgc3RlbmNpbE1hc2soKXtyZXR1cm4gdGhpcy5tYXNrfXNldCBzdGVuY2lsTWFzayhlKXt0aGlzLm1hc2s9ZX1nZXQgc3RlbmNpbFRlc3QoKXtyZXR1cm4gdGhpcy5lbmFibGVkfXNldCBzdGVuY2lsVGVzdChlKXt0aGlzLmVuYWJsZWQ9ZX19TnQuQUxXQVlTPTUxOSxOdC5LRUVQPTc2ODAsTnQuUkVQTEFDRT03NjgxO2NsYXNzIGNue2NvbnN0cnVjdG9yKCl7dGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnM9bmV3IEFycmF5KDQpLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzPW5ldyBBcnJheSgyKSx0aGlzLl9ibGVuZENvbnN0YW50cz1uZXcgQXJyYXkoNCksdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5PSExLHRoaXMuX2FscGhhQmxlbmQ9ITEsdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITEsdGhpcy5faXNCbGVuZEZ1bmN0aW9uUGFyYW1ldGVyc0RpcnR5PSExLHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eT0hMSx0aGlzLnJlc2V0KCl9Z2V0IGlzRGlydHkoKXtyZXR1cm4gdGhpcy5faXNBbHBoYUJsZW5kRGlydHl8fHRoaXMuX2lzQmxlbmRGdW5jdGlvblBhcmFtZXRlcnNEaXJ0eXx8dGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5fWdldCBhbHBoYUJsZW5kKCl7cmV0dXJuIHRoaXMuX2FscGhhQmxlbmR9c2V0IGFscGhhQmxlbmQoZSl7dGhpcy5fYWxwaGFCbGVuZCE9PWUmJih0aGlzLl9hbHBoYUJsZW5kPWUsdGhpcy5faXNBbHBoYUJsZW5kRGlydHk9ITApfXNldEFscGhhQmxlbmRDb25zdGFudHMoZSx0LGkscyl7dGhpcy5fYmxlbmRDb25zdGFudHNbMF09PT1lJiZ0aGlzLl9ibGVuZENvbnN0YW50c1sxXT09PXQmJnRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPT09aSYmdGhpcy5fYmxlbmRDb25zdGFudHNbM109PT1zfHwodGhpcy5fYmxlbmRDb25zdGFudHNbMF09ZSx0aGlzLl9ibGVuZENvbnN0YW50c1sxXT10LHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPWksdGhpcy5fYmxlbmRDb25zdGFudHNbM109cyx0aGlzLl9pc0JsZW5kQ29uc3RhbnRzRGlydHk9ITApfXNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnMoZSx0LGkscyl7dGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09PT1lJiZ0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT09PXQmJnRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPT09aSYmdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109PT1zfHwodGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09ZSx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT10LHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPWksdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109cyx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITApfXNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKGUsdCl7dGhpcy5fYmxlbmRFcXVhdGlvblBhcmFtZXRlcnNbMF09PT1lJiZ0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1sxXT09PXR8fCh0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXT1lLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdPXQsdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5PSEwKX1yZXNldCgpe3RoaXMuX2FscGhhQmxlbmQ9ITEsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbMF09bnVsbCx0aGlzLl9ibGVuZEZ1bmN0aW9uUGFyYW1ldGVyc1sxXT1udWxsLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdPW51bGwsdGhpcy5fYmxlbmRGdW5jdGlvblBhcmFtZXRlcnNbM109bnVsbCx0aGlzLl9ibGVuZEVxdWF0aW9uUGFyYW1ldGVyc1swXT1udWxsLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbMF09bnVsbCx0aGlzLl9ibGVuZENvbnN0YW50c1sxXT1udWxsLHRoaXMuX2JsZW5kQ29uc3RhbnRzWzJdPW51bGwsdGhpcy5fYmxlbmRDb25zdGFudHNbM109bnVsbCx0aGlzLl9pc0FscGhhQmxlbmREaXJ0eT0hMCx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITEsdGhpcy5faXNCbGVuZEVxdWF0aW9uUGFyYW1ldGVyc0RpcnR5PSExLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eT0hMX1hcHBseShlKXt0aGlzLmlzRGlydHkmJih0aGlzLl9pc0FscGhhQmxlbmREaXJ0eSYmKHRoaXMuX2FscGhhQmxlbmQ/ZS5lbmFibGUoZS5CTEVORCk6ZS5kaXNhYmxlKGUuQkxFTkQpLHRoaXMuX2lzQWxwaGFCbGVuZERpcnR5PSExKSx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHkmJihlLmJsZW5kRnVuY1NlcGFyYXRlKHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzBdLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzFdLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzJdLHRoaXMuX2JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzWzNdKSx0aGlzLl9pc0JsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzRGlydHk9ITEpLHRoaXMuX2lzQmxlbmRFcXVhdGlvblBhcmFtZXRlcnNEaXJ0eSYmKGUuYmxlbmRFcXVhdGlvblNlcGFyYXRlKHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzBdLHRoaXMuX2JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzWzFdKSx0aGlzLl9pc0JsZW5kRXF1YXRpb25QYXJhbWV0ZXJzRGlydHk9ITEpLHRoaXMuX2lzQmxlbmRDb25zdGFudHNEaXJ0eSYmKGUuYmxlbmRDb2xvcih0aGlzLl9ibGVuZENvbnN0YW50c1swXSx0aGlzLl9ibGVuZENvbnN0YW50c1sxXSx0aGlzLl9ibGVuZENvbnN0YW50c1syXSx0aGlzLl9ibGVuZENvbnN0YW50c1szXSksdGhpcy5faXNCbGVuZENvbnN0YW50c0RpcnR5PSExKSl9fWNsYXNzIHVue2NvbnN0cnVjdG9yKCl7dGhpcy5zaGFkZXJMYW5ndWFnZT1aZS5HTFNMfXBvc3RQcm9jZXNzb3IoZSx0LGkscyxyKXtpZighci5nZXRDYXBzKCkuZHJhd0J1ZmZlcnNFeHRlbnNpb24pe2NvbnN0IG49LyNleHRlbnNpb24uK0dMX0VYVF9kcmF3X2J1ZmZlcnMuKyhlbmFibGV8cmVxdWlyZSkvZztlPWUucmVwbGFjZShuLCIiKX1yZXR1cm4gZX19Y2xhc3MgZG57Y29uc3RydWN0b3IoKXt0aGlzLnNoYWRlckxhbmd1YWdlPVplLkdMU0x9YXR0cmlidXRlUHJvY2Vzc29yKGUpe3JldHVybiBlLnJlcGxhY2UoImF0dHJpYnV0ZSIsImluIil9dmFyeWluZ1Byb2Nlc3NvcihlLHQpe3JldHVybiBlLnJlcGxhY2UoInZhcnlpbmciLHQ/ImluIjoib3V0Iil9cG9zdFByb2Nlc3NvcihlLHQsaSl7Y29uc3Qgcz1lLnNlYXJjaCgvI2V4dGVuc2lvbi4rR0xfRVhUX2RyYXdfYnVmZmVycy4rcmVxdWlyZS8pIT09LTEscj0vI2V4dGVuc2lvbi4rKEdMX09WUl9tdWx0aXZpZXcyfEdMX09FU19zdGFuZGFyZF9kZXJpdmF0aXZlc3xHTF9FWFRfc2hhZGVyX3RleHR1cmVfbG9kfEdMX0VYVF9mcmFnX2RlcHRofEdMX0VYVF9kcmF3X2J1ZmZlcnMpLisoZW5hYmxlfHJlcXVpcmUpL2c7aWYoZT1lLnJlcGxhY2UociwiIiksZT1lLnJlcGxhY2UoL3RleHR1cmUyRFxzKlwoL2csInRleHR1cmUoIiksaSllPWUucmVwbGFjZSgvdGV4dHVyZTJETG9kRVhUXHMqXCgvZywidGV4dHVyZUxvZCgiKSxlPWUucmVwbGFjZSgvdGV4dHVyZUN1YmVMb2RFWFRccypcKC9nLCJ0ZXh0dXJlTG9kKCIpLGU9ZS5yZXBsYWNlKC90ZXh0dXJlQ3ViZVxzKlwoL2csInRleHR1cmUoIiksZT1lLnJlcGxhY2UoL2dsX0ZyYWdEZXB0aEVYVC9nLCJnbF9GcmFnRGVwdGgiKSxlPWUucmVwbGFjZSgvZ2xfRnJhZ0NvbG9yL2csImdsRnJhZ0NvbG9yIiksZT1lLnJlcGxhY2UoL2dsX0ZyYWdEYXRhL2csImdsRnJhZ0RhdGEiKSxlPWUucmVwbGFjZSgvdm9pZFxzKz9tYWluXHMqXCgvZywocz8iIjpgbGF5b3V0KGxvY2F0aW9uID0gMCkgb3V0IHZlYzQgZ2xGcmFnQ29sb3I7CmApKyJ2b2lkIG1haW4oIik7ZWxzZSBpZih0LmluZGV4T2YoIiNkZWZpbmUgTVVMVElWSUVXIikhPT0tMSlyZXR1cm5gI2V4dGVuc2lvbiBHTF9PVlJfbXVsdGl2aWV3MiA6IHJlcXVpcmUKbGF5b3V0IChudW1fdmlld3MgPSAyKSBpbjsKYCtlO3JldHVybiBlfX1jbGFzcyBPaXtnZXQgdW5kZXJseWluZ1Jlc291cmNlKCl7cmV0dXJuIG51bGx9Y29uc3RydWN0b3IoKXt0aGlzLnJlZmVyZW5jZXM9MCx0aGlzLmNhcGFjaXR5PTAsdGhpcy5pczMyQml0cz0hMSx0aGlzLnVuaXF1ZUlkPU9pLl9Db3VudGVyKyt9fU9pLl9Db3VudGVyPTA7Y2xhc3MgTGkgZXh0ZW5kcyBPaXtjb25zdHJ1Y3RvcihlKXtzdXBlcigpLHRoaXMuX2J1ZmZlcj1lfWdldCB1bmRlcmx5aW5nUmVzb3VyY2UoKXtyZXR1cm4gdGhpcy5fYnVmZmVyfX1jbGFzcyBmbntjb25zdHJ1Y3Rvcigpe3RoaXMuX3ZhbHVlQ2FjaGU9e30sdGhpcy52ZXJ0ZXhDb21waWxhdGlvbkVycm9yPW51bGwsdGhpcy5mcmFnbWVudENvbXBpbGF0aW9uRXJyb3I9bnVsbCx0aGlzLnByb2dyYW1MaW5rRXJyb3I9bnVsbCx0aGlzLnByb2dyYW1WYWxpZGF0aW9uRXJyb3I9bnVsbH1nZXQgaXNBc3luYygpe3JldHVybiB0aGlzLmlzUGFyYWxsZWxDb21waWxlZH1nZXQgaXNSZWFkeSgpe3JldHVybiB0aGlzLnByb2dyYW0/dGhpcy5pc1BhcmFsbGVsQ29tcGlsZWQ/dGhpcy5lbmdpbmUuX2lzUmVuZGVyaW5nU3RhdGVDb21waWxlZCh0aGlzKTohMDohMX1faGFuZGxlc1NwZWN0b3JSZWJ1aWxkQ2FsbGJhY2soZSl7ZSYmdGhpcy5wcm9ncmFtJiZlKHRoaXMucHJvZ3JhbSl9X2ZpbGxFZmZlY3RJbmZvcm1hdGlvbihlLHQsaSxzLHIsbixhLG8pe2NvbnN0IGg9dGhpcy5lbmdpbmU7aWYoaC5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzKWZvcihjb25zdCBkIGluIHQpZS5iaW5kVW5pZm9ybUJsb2NrKGQsdFtkXSk7dGhpcy5lbmdpbmUuZ2V0VW5pZm9ybXModGhpcyxpKS5mb3JFYWNoKChkLF8pPT57c1tpW19dXT1kfSksdGhpcy5fdW5pZm9ybXM9cztsZXQgdTtmb3IodT0wO3U8ci5sZW5ndGg7dSsrKWUuZ2V0VW5pZm9ybShyW3VdKT09bnVsbCYmKHIuc3BsaWNlKHUsMSksdS0tKTtyLmZvckVhY2goKGQsXyk9PntuW2RdPV99KTtmb3IoY29uc3QgZCBvZiBoLmdldEF0dHJpYnV0ZXModGhpcyxhKSlvLnB1c2goZCl9ZGlzcG9zZSgpe3RoaXMuX3VuaWZvcm1zPXt9fV9jYWNoZU1hdHJpeChlLHQpe2NvbnN0IGk9dGhpcy5fdmFsdWVDYWNoZVtlXSxzPXQudXBkYXRlRmxhZztyZXR1cm4gaSE9PXZvaWQgMCYmaT09PXM/ITE6KHRoaXMuX3ZhbHVlQ2FjaGVbZV09cywhMCl9X2NhY2hlRmxvYXQyKGUsdCxpKXtsZXQgcz10aGlzLl92YWx1ZUNhY2hlW2VdO2lmKCFzfHxzLmxlbmd0aCE9PTIpcmV0dXJuIHM9W3QsaV0sdGhpcy5fdmFsdWVDYWNoZVtlXT1zLCEwO2xldCByPSExO3JldHVybiBzWzBdIT09dCYmKHNbMF09dCxyPSEwKSxzWzFdIT09aSYmKHNbMV09aSxyPSEwKSxyfV9jYWNoZUZsb2F0MyhlLHQsaSxzKXtsZXQgcj10aGlzLl92YWx1ZUNhY2hlW2VdO2lmKCFyfHxyLmxlbmd0aCE9PTMpcmV0dXJuIHI9W3QsaSxzXSx0aGlzLl92YWx1ZUNhY2hlW2VdPXIsITA7bGV0IG49ITE7cmV0dXJuIHJbMF0hPT10JiYoclswXT10LG49ITApLHJbMV0hPT1pJiYoclsxXT1pLG49ITApLHJbMl0hPT1zJiYoclsyXT1zLG49ITApLG59X2NhY2hlRmxvYXQ0KGUsdCxpLHMscil7bGV0IG49dGhpcy5fdmFsdWVDYWNoZVtlXTtpZighbnx8bi5sZW5ndGghPT00KXJldHVybiBuPVt0LGkscyxyXSx0aGlzLl92YWx1ZUNhY2hlW2VdPW4sITA7bGV0IGE9ITE7cmV0dXJuIG5bMF0hPT10JiYoblswXT10LGE9ITApLG5bMV0hPT1pJiYoblsxXT1pLGE9ITApLG5bMl0hPT1zJiYoblsyXT1zLGE9ITApLG5bM10hPT1yJiYoblszXT1yLGE9ITApLGF9c2V0SW50KGUsdCl7Y29uc3QgaT10aGlzLl92YWx1ZUNhY2hlW2VdO2khPT12b2lkIDAmJmk9PT10fHx0aGlzLmVuZ2luZS5zZXRJbnQodGhpcy5fdW5pZm9ybXNbZV0sdCkmJih0aGlzLl92YWx1ZUNhY2hlW2VdPXQpfXNldEludDIoZSx0LGkpe3RoaXMuX2NhY2hlRmxvYXQyKGUsdCxpKSYmKHRoaXMuZW5naW5lLnNldEludDIodGhpcy5fdW5pZm9ybXNbZV0sdCxpKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldEludDMoZSx0LGkscyl7dGhpcy5fY2FjaGVGbG9hdDMoZSx0LGkscykmJih0aGlzLmVuZ2luZS5zZXRJbnQzKHRoaXMuX3VuaWZvcm1zW2VdLHQsaSxzKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldEludDQoZSx0LGkscyxyKXt0aGlzLl9jYWNoZUZsb2F0NChlLHQsaSxzLHIpJiYodGhpcy5lbmdpbmUuc2V0SW50NCh0aGlzLl91bmlmb3Jtc1tlXSx0LGkscyxyKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldEludEFycmF5KGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEludEFycmF5KHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldEludEFycmF5MihlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRJbnRBcnJheTIodGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0SW50QXJyYXkzKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEludEFycmF5Myh0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRJbnRBcnJheTQoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0SW50QXJyYXk0KHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldFVJbnQoZSx0KXtjb25zdCBpPXRoaXMuX3ZhbHVlQ2FjaGVbZV07aSE9PXZvaWQgMCYmaT09PXR8fHRoaXMuZW5naW5lLnNldFVJbnQodGhpcy5fdW5pZm9ybXNbZV0sdCkmJih0aGlzLl92YWx1ZUNhY2hlW2VdPXQpfXNldFVJbnQyKGUsdCxpKXt0aGlzLl9jYWNoZUZsb2F0MihlLHQsaSkmJih0aGlzLmVuZ2luZS5zZXRVSW50Mih0aGlzLl91bmlmb3Jtc1tlXSx0LGkpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0VUludDMoZSx0LGkscyl7dGhpcy5fY2FjaGVGbG9hdDMoZSx0LGkscykmJih0aGlzLmVuZ2luZS5zZXRVSW50Myh0aGlzLl91bmlmb3Jtc1tlXSx0LGkscyl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRVSW50NChlLHQsaSxzLHIpe3RoaXMuX2NhY2hlRmxvYXQ0KGUsdCxpLHMscikmJih0aGlzLmVuZ2luZS5zZXRVSW50NCh0aGlzLl91bmlmb3Jtc1tlXSx0LGkscyxyKXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldFVJbnRBcnJheShlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRVSW50QXJyYXkodGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0VUludEFycmF5MihlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRVSW50QXJyYXkyKHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldFVJbnRBcnJheTMoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0VUludEFycmF5Myh0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRVSW50QXJyYXk0KGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldFVJbnRBcnJheTQodGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0QXJyYXkoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0QXJyYXkodGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0QXJyYXkyKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldEFycmF5Mih0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRBcnJheTMoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0QXJyYXkzKHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldEFycmF5NChlLHQpe3RoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCx0aGlzLmVuZ2luZS5zZXRBcnJheTQodGhpcy5fdW5pZm9ybXNbZV0sdCl9c2V0TWF0cmljZXMoZSx0KXt0JiYodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldE1hdHJpY2VzKHRoaXMuX3VuaWZvcm1zW2VdLHQpKX1zZXRNYXRyaXgoZSx0KXt0aGlzLl9jYWNoZU1hdHJpeChlLHQpJiYodGhpcy5lbmdpbmUuc2V0TWF0cmljZXModGhpcy5fdW5pZm9ybXNbZV0sdC50b0FycmF5KCkpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0TWF0cml4M3gzKGUsdCl7dGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsLHRoaXMuZW5naW5lLnNldE1hdHJpeDN4Myh0aGlzLl91bmlmb3Jtc1tlXSx0KX1zZXRNYXRyaXgyeDIoZSx0KXt0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwsdGhpcy5lbmdpbmUuc2V0TWF0cml4MngyKHRoaXMuX3VuaWZvcm1zW2VdLHQpfXNldEZsb2F0KGUsdCl7Y29uc3QgaT10aGlzLl92YWx1ZUNhY2hlW2VdO2khPT12b2lkIDAmJmk9PT10fHx0aGlzLmVuZ2luZS5zZXRGbG9hdCh0aGlzLl91bmlmb3Jtc1tlXSx0KSYmKHRoaXMuX3ZhbHVlQ2FjaGVbZV09dCl9c2V0VmVjdG9yMihlLHQpe3RoaXMuX2NhY2hlRmxvYXQyKGUsdC54LHQueSkmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDIodGhpcy5fdW5pZm9ybXNbZV0sdC54LHQueSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRGbG9hdDIoZSx0LGkpe3RoaXMuX2NhY2hlRmxvYXQyKGUsdCxpKSYmKHRoaXMuZW5naW5lLnNldEZsb2F0Mih0aGlzLl91bmlmb3Jtc1tlXSx0LGkpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0VmVjdG9yMyhlLHQpe3RoaXMuX2NhY2hlRmxvYXQzKGUsdC54LHQueSx0LnopJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQzKHRoaXMuX3VuaWZvcm1zW2VdLHQueCx0LnksdC56KXx8KHRoaXMuX3ZhbHVlQ2FjaGVbZV09bnVsbCkpfXNldEZsb2F0MyhlLHQsaSxzKXt0aGlzLl9jYWNoZUZsb2F0MyhlLHQsaSxzKSYmKHRoaXMuZW5naW5lLnNldEZsb2F0Myh0aGlzLl91bmlmb3Jtc1tlXSx0LGkscyl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRWZWN0b3I0KGUsdCl7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LngsdC55LHQueix0LncpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQueCx0LnksdC56LHQudyl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRRdWF0ZXJuaW9uKGUsdCl7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LngsdC55LHQueix0LncpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQueCx0LnksdC56LHQudyl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1zZXRGbG9hdDQoZSx0LGkscyxyKXt0aGlzLl9jYWNoZUZsb2F0NChlLHQsaSxzLHIpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQsaSxzLHIpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0Q29sb3IzKGUsdCl7dGhpcy5fY2FjaGVGbG9hdDMoZSx0LnIsdC5nLHQuYikmJih0aGlzLmVuZ2luZS5zZXRGbG9hdDModGhpcy5fdW5pZm9ybXNbZV0sdC5yLHQuZyx0LmIpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0Q29sb3I0KGUsdCxpKXt0aGlzLl9jYWNoZUZsb2F0NChlLHQucix0LmcsdC5iLGkpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQucix0LmcsdC5iLGkpfHwodGhpcy5fdmFsdWVDYWNoZVtlXT1udWxsKSl9c2V0RGlyZWN0Q29sb3I0KGUsdCl7dGhpcy5fY2FjaGVGbG9hdDQoZSx0LnIsdC5nLHQuYix0LmEpJiYodGhpcy5lbmdpbmUuc2V0RmxvYXQ0KHRoaXMuX3VuaWZvcm1zW2VdLHQucix0LmcsdC5iLHQuYSl8fCh0aGlzLl92YWx1ZUNhY2hlW2VdPW51bGwpKX1fZ2V0VmVydGV4U2hhZGVyQ29kZSgpe3JldHVybiB0aGlzLnZlcnRleFNoYWRlcj90aGlzLmVuZ2luZS5fZ2V0U2hhZGVyU291cmNlKHRoaXMudmVydGV4U2hhZGVyKTpudWxsfV9nZXRGcmFnbWVudFNoYWRlckNvZGUoKXtyZXR1cm4gdGhpcy5mcmFnbWVudFNoYWRlcj90aGlzLmVuZ2luZS5fZ2V0U2hhZGVyU291cmNlKHRoaXMuZnJhZ21lbnRTaGFkZXIpOm51bGx9fWNsYXNzIG5ye2dldCB1bmRlcmx5aW5nUmVzb3VyY2UoKXtyZXR1cm4gdGhpcy5fd2ViR0xUZXh0dXJlfWNvbnN0cnVjdG9yKGU9bnVsbCx0KXtpZih0aGlzLl9NU0FBUmVuZGVyQnVmZmVycz1udWxsLHRoaXMuX2NvbnRleHQ9dCwhZSYmKGU9dC5jcmVhdGVUZXh0dXJlKCksIWUpKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSB3ZWJHTCB0ZXh0dXJlIik7dGhpcy5zZXQoZSl9c2V0VXNhZ2UoKXt9c2V0KGUpe3RoaXMuX3dlYkdMVGV4dHVyZT1lfXJlc2V0KCl7dGhpcy5fd2ViR0xUZXh0dXJlPW51bGwsdGhpcy5fTVNBQVJlbmRlckJ1ZmZlcnM9bnVsbH1hZGRNU0FBUmVuZGVyQnVmZmVyKGUpe3RoaXMuX01TQUFSZW5kZXJCdWZmZXJzfHwodGhpcy5fTVNBQVJlbmRlckJ1ZmZlcnM9W10pLHRoaXMuX01TQUFSZW5kZXJCdWZmZXJzLnB1c2goZSl9cmVsZWFzZU1TQUFSZW5kZXJCdWZmZXJzKCl7aWYodGhpcy5fTVNBQVJlbmRlckJ1ZmZlcnMpe2Zvcihjb25zdCBlIG9mIHRoaXMuX01TQUFSZW5kZXJCdWZmZXJzKXRoaXMuX2NvbnRleHQuZGVsZXRlUmVuZGVyYnVmZmVyKGUpO3RoaXMuX01TQUFSZW5kZXJCdWZmZXJzPW51bGx9fXJlbGVhc2UoKXt0aGlzLnJlbGVhc2VNU0FBUmVuZGVyQnVmZmVycygpLHRoaXMuX3dlYkdMVGV4dHVyZSYmdGhpcy5fY29udGV4dC5kZWxldGVUZXh0dXJlKHRoaXMuX3dlYkdMVGV4dHVyZSksdGhpcy5yZXNldCgpfX1jbGFzcyB2aXtzdGF0aWMgSXNXcmFwcGVyKGUpe3JldHVybiBlLmdldFBpcGVsaW5lQ29udGV4dD09PXZvaWQgMH1zdGF0aWMgR2V0RWZmZWN0KGUpe3JldHVybiBlLmdldFBpcGVsaW5lQ29udGV4dD09PXZvaWQgMD9lLmVmZmVjdDplfWNvbnN0cnVjdG9yKGUsdD0hMCl7dGhpcy5lZmZlY3Q9bnVsbCx0aGlzLmRlZmluZXM9bnVsbCx0aGlzLmRyYXdDb250ZXh0PWUuY3JlYXRlRHJhd0NvbnRleHQoKSx0JiYodGhpcy5tYXRlcmlhbENvbnRleHQ9ZS5jcmVhdGVNYXRlcmlhbENvbnRleHQoKSl9c2V0RWZmZWN0KGUsdCxpPSEwKXt2YXIgczt0aGlzLmVmZmVjdD1lLHQhPT12b2lkIDAmJih0aGlzLmRlZmluZXM9dCksaSYmKChzPXRoaXMuZHJhd0NvbnRleHQpPT09bnVsbHx8cz09PXZvaWQgMHx8cy5yZXNldCgpKX1kaXNwb3NlKCl7dmFyIGU7KGU9dGhpcy5kcmF3Q29udGV4dCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc3Bvc2UoKX19Y2xhc3MgX257Z2V0IGlzRGlydHkoKXtyZXR1cm4gdGhpcy5faXNTdGVuY2lsVGVzdERpcnR5fHx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHl8fHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eXx8dGhpcy5faXNTdGVuY2lsT3BEaXJ0eX1nZXQgZnVuYygpe3JldHVybiB0aGlzLl9mdW5jfXNldCBmdW5jKGUpe3RoaXMuX2Z1bmMhPT1lJiYodGhpcy5fZnVuYz1lLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eT0hMCl9Z2V0IGZ1bmNSZWYoKXtyZXR1cm4gdGhpcy5fZnVuY1JlZn1zZXQgZnVuY1JlZihlKXt0aGlzLl9mdW5jUmVmIT09ZSYmKHRoaXMuX2Z1bmNSZWY9ZSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITApfWdldCBmdW5jTWFzaygpe3JldHVybiB0aGlzLl9mdW5jTWFza31zZXQgZnVuY01hc2soZSl7dGhpcy5fZnVuY01hc2shPT1lJiYodGhpcy5fZnVuY01hc2s9ZSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITApfWdldCBvcFN0ZW5jaWxGYWlsKCl7cmV0dXJuIHRoaXMuX29wU3RlbmNpbEZhaWx9c2V0IG9wU3RlbmNpbEZhaWwoZSl7dGhpcy5fb3BTdGVuY2lsRmFpbCE9PWUmJih0aGlzLl9vcFN0ZW5jaWxGYWlsPWUsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMCl9Z2V0IG9wRGVwdGhGYWlsKCl7cmV0dXJuIHRoaXMuX29wRGVwdGhGYWlsfXNldCBvcERlcHRoRmFpbChlKXt0aGlzLl9vcERlcHRoRmFpbCE9PWUmJih0aGlzLl9vcERlcHRoRmFpbD1lLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITApfWdldCBvcFN0ZW5jaWxEZXB0aFBhc3MoKXtyZXR1cm4gdGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzfXNldCBvcFN0ZW5jaWxEZXB0aFBhc3MoZSl7dGhpcy5fb3BTdGVuY2lsRGVwdGhQYXNzIT09ZSYmKHRoaXMuX29wU3RlbmNpbERlcHRoUGFzcz1lLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITApfWdldCBtYXNrKCl7cmV0dXJuIHRoaXMuX21hc2t9c2V0IG1hc2soZSl7dGhpcy5fbWFzayE9PWUmJih0aGlzLl9tYXNrPWUsdGhpcy5faXNTdGVuY2lsTWFza0RpcnR5PSEwKX1nZXQgZW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfXNldCBlbmFibGVkKGUpe3RoaXMuX2VuYWJsZWQhPT1lJiYodGhpcy5fZW5hYmxlZD1lLHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMCl9Y29uc3RydWN0b3IoZT0hMCl7dGhpcy5faXNTdGVuY2lsVGVzdERpcnR5PSExLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eT0hMSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITEsdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMSx0aGlzLnVzZVN0ZW5jaWxHbG9iYWxPbmx5PSExLGUmJnRoaXMucmVzZXQoKX1yZXNldCgpe3ZhciBlO3RoaXMuc3RlbmNpbE1hdGVyaWFsPXZvaWQgMCwoZT10aGlzLnN0ZW5jaWxHbG9iYWwpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5yZXNldCgpLHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eT0hMCx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITAsdGhpcy5faXNTdGVuY2lsRnVuY0RpcnR5PSEwLHRoaXMuX2lzU3RlbmNpbE9wRGlydHk9ITB9YXBwbHkoZSl7dmFyIHQ7aWYoIWUpcmV0dXJuO2NvbnN0IGk9IXRoaXMudXNlU3RlbmNpbEdsb2JhbE9ubHkmJiEhKCEoKHQ9dGhpcy5zdGVuY2lsTWF0ZXJpYWwpPT09bnVsbHx8dD09PXZvaWQgMCkmJnQuZW5hYmxlZCk7dGhpcy5lbmFibGVkPWk/dGhpcy5zdGVuY2lsTWF0ZXJpYWwuZW5hYmxlZDp0aGlzLnN0ZW5jaWxHbG9iYWwuZW5hYmxlZCx0aGlzLmZ1bmM9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5mdW5jOnRoaXMuc3RlbmNpbEdsb2JhbC5mdW5jLHRoaXMuZnVuY1JlZj1pP3RoaXMuc3RlbmNpbE1hdGVyaWFsLmZ1bmNSZWY6dGhpcy5zdGVuY2lsR2xvYmFsLmZ1bmNSZWYsdGhpcy5mdW5jTWFzaz1pP3RoaXMuc3RlbmNpbE1hdGVyaWFsLmZ1bmNNYXNrOnRoaXMuc3RlbmNpbEdsb2JhbC5mdW5jTWFzayx0aGlzLm9wU3RlbmNpbEZhaWw9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5vcFN0ZW5jaWxGYWlsOnRoaXMuc3RlbmNpbEdsb2JhbC5vcFN0ZW5jaWxGYWlsLHRoaXMub3BEZXB0aEZhaWw9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5vcERlcHRoRmFpbDp0aGlzLnN0ZW5jaWxHbG9iYWwub3BEZXB0aEZhaWwsdGhpcy5vcFN0ZW5jaWxEZXB0aFBhc3M9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5vcFN0ZW5jaWxEZXB0aFBhc3M6dGhpcy5zdGVuY2lsR2xvYmFsLm9wU3RlbmNpbERlcHRoUGFzcyx0aGlzLm1hc2s9aT90aGlzLnN0ZW5jaWxNYXRlcmlhbC5tYXNrOnRoaXMuc3RlbmNpbEdsb2JhbC5tYXNrLHRoaXMuaXNEaXJ0eSYmKHRoaXMuX2lzU3RlbmNpbFRlc3REaXJ0eSYmKHRoaXMuZW5hYmxlZD9lLmVuYWJsZShlLlNURU5DSUxfVEVTVCk6ZS5kaXNhYmxlKGUuU1RFTkNJTF9URVNUKSx0aGlzLl9pc1N0ZW5jaWxUZXN0RGlydHk9ITEpLHRoaXMuX2lzU3RlbmNpbE1hc2tEaXJ0eSYmKGUuc3RlbmNpbE1hc2sodGhpcy5tYXNrKSx0aGlzLl9pc1N0ZW5jaWxNYXNrRGlydHk9ITEpLHRoaXMuX2lzU3RlbmNpbEZ1bmNEaXJ0eSYmKGUuc3RlbmNpbEZ1bmModGhpcy5mdW5jLHRoaXMuZnVuY1JlZix0aGlzLmZ1bmNNYXNrKSx0aGlzLl9pc1N0ZW5jaWxGdW5jRGlydHk9ITEpLHRoaXMuX2lzU3RlbmNpbE9wRGlydHkmJihlLnN0ZW5jaWxPcCh0aGlzLm9wU3RlbmNpbEZhaWwsdGhpcy5vcERlcHRoRmFpbCx0aGlzLm9wU3RlbmNpbERlcHRoUGFzcyksdGhpcy5faXNTdGVuY2lsT3BEaXJ0eT0hMSkpfX1jbGFzcyBoaXtzdGF0aWMgZ2V0IE5vdygpe3JldHVybiBicy5Jc1dpbmRvd09iamVjdEV4aXN0KCkmJndpbmRvdy5wZXJmb3JtYW5jZSYmd2luZG93LnBlcmZvcm1hbmNlLm5vdz93aW5kb3cucGVyZm9ybWFuY2Uubm93KCk6RGF0ZS5ub3coKX19Y2xhc3MgZ257fWNsYXNzIGRle3N0YXRpYyBnZXQgTnBtUGFja2FnZSgpe3JldHVybiJiYWJ5bG9uanNANS41Ny4xIn1zdGF0aWMgZ2V0IFZlcnNpb24oKXtyZXR1cm4iNS41Ny4xIn1nZXQgZGVzY3JpcHRpb24oKXtsZXQgZT10aGlzLm5hbWUrdGhpcy53ZWJHTFZlcnNpb247cmV0dXJuIHRoaXMuX2NhcHMucGFyYWxsZWxTaGFkZXJDb21waWxlJiYoZSs9IiAtIFBhcmFsbGVsIHNoYWRlciBjb21waWxhdGlvbiIpLGV9Z2V0IG5hbWUoKXtyZXR1cm4gdGhpcy5fbmFtZX1zZXQgbmFtZShlKXt0aGlzLl9uYW1lPWV9Z2V0IHZlcnNpb24oKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9ufWdldCBpc0Rpc3Bvc2VkKCl7cmV0dXJuIHRoaXMuX2lzRGlzcG9zZWR9c3RhdGljIGdldCBTaGFkZXJzUmVwb3NpdG9yeSgpe3JldHVybiBEZS5TaGFkZXJzUmVwb3NpdG9yeX1zdGF0aWMgc2V0IFNoYWRlcnNSZXBvc2l0b3J5KGUpe0RlLlNoYWRlcnNSZXBvc2l0b3J5PWV9X2dldFNoYWRlclByb2Nlc3NvcihlKXtyZXR1cm4gdGhpcy5fc2hhZGVyUHJvY2Vzc29yfWdldCB1c2VSZXZlcnNlRGVwdGhCdWZmZXIoKXtyZXR1cm4gdGhpcy5fdXNlUmV2ZXJzZURlcHRoQnVmZmVyfXNldCB1c2VSZXZlcnNlRGVwdGhCdWZmZXIoZSl7ZSE9PXRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlciYmKHRoaXMuX3VzZVJldmVyc2VEZXB0aEJ1ZmZlcj1lLGU/dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhGdW5jPTUxODp0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9NTE1KX1nZXQgZnJhbWVJZCgpe3JldHVybiB0aGlzLl9mcmFtZUlkfWdldCBzdXBwb3J0c1VuaWZvcm1CdWZmZXJzKCl7cmV0dXJuIHRoaXMud2ViR0xWZXJzaW9uPjEmJiF0aGlzLmRpc2FibGVVbmlmb3JtQnVmZmVyc31nZXRDcmVhdGlvbk9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fY3JlYXRpb25PcHRpb25zfWdldCBfc2hvdWxkVXNlSGlnaFByZWNpc2lvblNoYWRlcigpe3JldHVybiEhKHRoaXMuX2NhcHMuaGlnaFByZWNpc2lvblNoYWRlclN1cHBvcnRlZCYmdGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkKX1nZXQgbmVlZFBPVFRleHR1cmVzKCl7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbjwyfHx0aGlzLmZvcmNlUE9UVGV4dHVyZXN9Z2V0IGFjdGl2ZVJlbmRlckxvb3BzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzfWdldCBkb05vdEhhbmRsZUNvbnRleHRMb3N0KCl7cmV0dXJuIHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R9c2V0IGRvTm90SGFuZGxlQ29udGV4dExvc3QoZSl7dGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD1lfWdldCBfc3VwcG9ydHNIYXJkd2FyZVRleHR1cmVSZXNjYWxpbmcoKXtyZXR1cm4hMX1zZXQgZnJhbWVidWZmZXJEaW1lbnNpb25zT2JqZWN0KGUpe3RoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD1lfWdldCBjdXJyZW50Vmlld3BvcnQoKXtyZXR1cm4gdGhpcy5fY2FjaGVkVmlld3BvcnR9Z2V0IGVtcHR5VGV4dHVyZSgpe3JldHVybiB0aGlzLl9lbXB0eVRleHR1cmV8fCh0aGlzLl9lbXB0eVRleHR1cmU9dGhpcy5jcmVhdGVSYXdUZXh0dXJlKG5ldyBVaW50OEFycmF5KDQpLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmV9Z2V0IGVtcHR5VGV4dHVyZTNEKCl7cmV0dXJuIHRoaXMuX2VtcHR5VGV4dHVyZTNEfHwodGhpcy5fZW1wdHlUZXh0dXJlM0Q9dGhpcy5jcmVhdGVSYXdUZXh0dXJlM0QobmV3IFVpbnQ4QXJyYXkoNCksMSwxLDEsNSwhMSwhMSwxKSksdGhpcy5fZW1wdHlUZXh0dXJlM0R9Z2V0IGVtcHR5VGV4dHVyZTJEQXJyYXkoKXtyZXR1cm4gdGhpcy5fZW1wdHlUZXh0dXJlMkRBcnJheXx8KHRoaXMuX2VtcHR5VGV4dHVyZTJEQXJyYXk9dGhpcy5jcmVhdGVSYXdUZXh0dXJlMkRBcnJheShuZXcgVWludDhBcnJheSg0KSwxLDEsMSw1LCExLCExLDEpKSx0aGlzLl9lbXB0eVRleHR1cmUyREFycmF5fWdldCBlbXB0eUN1YmVUZXh0dXJlKCl7aWYoIXRoaXMuX2VtcHR5Q3ViZVRleHR1cmUpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkoNCksdD1bZSxlLGUsZSxlLGVdO3RoaXMuX2VtcHR5Q3ViZVRleHR1cmU9dGhpcy5jcmVhdGVSYXdDdWJlVGV4dHVyZSh0LDEsNSwwLCExLCExLDEpfXJldHVybiB0aGlzLl9lbXB0eUN1YmVUZXh0dXJlfWdldCBpc1dlYkdQVSgpe3JldHVybiB0aGlzLl9pc1dlYkdQVX1nZXQgc2hhZGVyUGxhdGZvcm1OYW1lKCl7cmV0dXJuIHRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZX1nZXQgc25hcHNob3RSZW5kZXJpbmcoKXtyZXR1cm4hMX1zZXQgc25hcHNob3RSZW5kZXJpbmcoZSl7fWdldCBzbmFwc2hvdFJlbmRlcmluZ01vZGUoKXtyZXR1cm4gdGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlfXNldCBzbmFwc2hvdFJlbmRlcmluZ01vZGUoZSl7dGhpcy5fc25hcHNob3RSZW5kZXJpbmdNb2RlPWV9c25hcHNob3RSZW5kZXJpbmdSZXNldCgpe3RoaXMuc25hcHNob3RSZW5kZXJpbmc9ITF9c3RhdGljIF9DcmVhdGVDYW52YXMoZSx0KXtpZih0eXBlb2YgZG9jdW1lbnQ+InUiKXJldHVybiBuZXcgT2Zmc2NyZWVuQ2FudmFzKGUsdCk7Y29uc3QgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyZXR1cm4gaS53aWR0aD1lLGkuaGVpZ2h0PXQsaX1jcmVhdGVDYW52YXMoZSx0KXtyZXR1cm4gZGUuX0NyZWF0ZUNhbnZhcyhlLHQpfWNyZWF0ZUNhbnZhc0ltYWdlKCl7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpfWNvbnN0cnVjdG9yKGUsdCxpLHMpe3ZhciByLG4sYSxvLGgsbCx1LGQsXyxmLG07dGhpcy5fbmFtZT0iV2ViR0wiLHRoaXMuX2lzRGlzcG9zZWQ9ITEsdGhpcy5mb3JjZVBPVFRleHR1cmVzPSExLHRoaXMuaXNGdWxsc2NyZWVuPSExLHRoaXMuY3VsbEJhY2tGYWNlcz1udWxsLHRoaXMucmVuZGVyRXZlbkluQmFja2dyb3VuZD0hMCx0aGlzLnByZXZlbnRDYWNoZVdpcGVCZXR3ZWVuRnJhbWVzPSExLHRoaXMudmFsaWRhdGVTaGFkZXJQcm9ncmFtcz0hMSx0aGlzLl91c2VSZXZlcnNlRGVwdGhCdWZmZXI9ITEsdGhpcy5pc05EQ0hhbGZaUmFuZ2U9ITEsdGhpcy5oYXNPcmlnaW5Cb3R0b21MZWZ0PSEwLHRoaXMuZGlzYWJsZVVuaWZvcm1CdWZmZXJzPSExLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9mcmFtZUlkPTAsdGhpcy5fdW5pZm9ybUJ1ZmZlcnM9bmV3IEFycmF5LHRoaXMuX3N0b3JhZ2VCdWZmZXJzPW5ldyBBcnJheSx0aGlzLl93ZWJHTFZlcnNpb249MSx0aGlzLl93aW5kb3dJc0JhY2tncm91bmQ9ITEsdGhpcy5faGlnaFByZWNpc2lvblNoYWRlcnNBbGxvd2VkPSEwLHRoaXMuX2JhZE9TPSExLHRoaXMuX2JhZERlc2t0b3BPUz0hMSx0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSExLHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzPW5ldyBBcnJheSx0aGlzLm9uQ29udGV4dExvc3RPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25Db250ZXh0UmVzdG9yZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX2NvbnRleHRXYXNMb3N0PSExLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3Q9ITEsdGhpcy5kaXNhYmxlVmVydGV4QXJyYXlPYmplY3RzPSExLHRoaXMuX2NvbG9yV3JpdGU9ITAsdGhpcy5fY29sb3JXcml0ZUNoYW5nZWQ9ITAsdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGU9bmV3IGxuLHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyPW5ldyBfbix0aGlzLl9zdGVuY2lsU3RhdGU9bmV3IE50LHRoaXMuX2FscGhhU3RhdGU9bmV3IGNuLHRoaXMuX2FscGhhTW9kZT0xLHRoaXMuX2FscGhhRXF1YXRpb249MCx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGU9bmV3IEFycmF5LHRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZT1uZXcgQXJyYXksdGhpcy5fYWN0aXZlQ2hhbm5lbD0wLHRoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbD0tMSx0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGU9e30sdGhpcy5fY29tcGlsZWRFZmZlY3RzPXt9LHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWQ9W10sdGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ9ITEsdGhpcy5fY3VycmVudEJvdW5kQnVmZmVyPW5ldyBBcnJheSx0aGlzLl9jdXJyZW50RnJhbWVidWZmZXI9bnVsbCx0aGlzLl9kdW1teUZyYW1lYnVmZmVyPW51bGwsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzPW5ldyBBcnJheSx0aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnM9bmV3IEFycmF5LHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnM9bmV3IEFycmF5LHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3M9ITEsdGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzPSExLHRoaXMuX25leHRGcmVlVGV4dHVyZVNsb3RzPW5ldyBBcnJheSx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcz0wLHRoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGU9bnVsbCx0aGlzLl9hY3RpdmVSZXF1ZXN0cz1uZXcgQXJyYXksdGhpcy5hZGFwdFRvRGV2aWNlUmF0aW89ITEsdGhpcy5fbGFzdERldmljZVBpeGVsUmF0aW89MSx0aGlzLl90cmFuc2Zvcm1UZXh0dXJlVXJsPW51bGwsdGhpcy5ob3N0SW5mb3JtYXRpb249e2lzTW9iaWxlOiExfSx0aGlzLnByZW11bHRpcGxpZWRBbHBoYT0hMCx0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX2lzV2ViR1BVPSExLHRoaXMuX3NuYXBzaG90UmVuZGVyaW5nTW9kZT0wLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkPXt4OjAseTowLHo6MCx3OjB9LHRoaXMuX3VucGFja0ZsaXBZQ2FjaGVkPW51bGwsdGhpcy5lbmFibGVVbnBhY2tGbGlwWUNhY2hlZD0hMCx0aGlzLl9ib3VuZFVuaWZvcm1zPXt9LHRoaXMuc3RhcnRUaW1lPWhpLk5vdztsZXQgdj1udWxsO2k9aXx8e30sdGhpcy5fY3JlYXRpb25PcHRpb25zPWksdGhpcy5hZGFwdFRvRGV2aWNlUmF0aW89cz8/ITEsdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuc3RlbmNpbEdsb2JhbD10aGlzLl9zdGVuY2lsU3RhdGUsVWUuU2V0TWF0cml4UHJlY2lzaW9uKCEhaS51c2VIaWdoUHJlY2lzaW9uTWF0cml4KSxpLmFudGlhbGlhcz10Pz9pLmFudGlhbGlhcyxpLmRldGVybWluaXN0aWNMb2Nrc3RlcD0ocj1pLmRldGVybWluaXN0aWNMb2Nrc3RlcCkhPT1udWxsJiZyIT09dm9pZCAwP3I6ITEsaS5sb2Nrc3RlcE1heFN0ZXBzPShuPWkubG9ja3N0ZXBNYXhTdGVwcykhPT1udWxsJiZuIT09dm9pZCAwP246NCxpLnRpbWVTdGVwPShhPWkudGltZVN0ZXApIT09bnVsbCYmYSE9PXZvaWQgMD9hOjEvNjAsaS5hdWRpb0VuZ2luZT0obz1pLmF1ZGlvRW5naW5lKSE9PW51bGwmJm8hPT12b2lkIDA/bzohMCxpLnN0ZW5jaWw9KGg9aS5zdGVuY2lsKSE9PW51bGwmJmghPT12b2lkIDA/aDohMCx0aGlzLl9hdWRpb0NvbnRleHQ9KHU9KGw9aS5hdWRpb0VuZ2luZU9wdGlvbnMpPT09bnVsbHx8bD09PXZvaWQgMD92b2lkIDA6bC5hdWRpb0NvbnRleHQpIT09bnVsbCYmdSE9PXZvaWQgMD91Om51bGwsdGhpcy5fYXVkaW9EZXN0aW5hdGlvbj0oXz0oZD1pLmF1ZGlvRW5naW5lT3B0aW9ucyk9PT1udWxsfHxkPT09dm9pZCAwP3ZvaWQgMDpkLmF1ZGlvRGVzdGluYXRpb24pIT09bnVsbCYmXyE9PXZvaWQgMD9fOm51bGwsdGhpcy5wcmVtdWx0aXBsaWVkQWxwaGE9KGY9aS5wcmVtdWx0aXBsaWVkQWxwaGEpIT09bnVsbCYmZiE9PXZvaWQgMD9mOiEwLHRoaXMudXNlRXhhY3RTcmdiQ29udmVyc2lvbnM9KG09aS51c2VFeGFjdFNyZ2JDb252ZXJzaW9ucykhPT1udWxsJiZtIT09dm9pZCAwP206ITEsdGhpcy5fZG9Ob3RIYW5kbGVDb250ZXh0TG9zdD0hIWkuZG9Ob3RIYW5kbGVDb250ZXh0TG9zdCx0aGlzLl9pc1N0ZW5jaWxFbmFibGU9ISFpLnN0ZW5jaWwscz1zfHxpLmFkYXB0VG9EZXZpY2VSYXRpb3x8ITE7Y29uc3QgRT1qZSgpJiZ3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpb3x8MSxTPWkubGltaXREZXZpY2VSYXRpb3x8RTtpZih0aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbD1zPzEvTWF0aC5taW4oUyxFKToxLHRoaXMuX2xhc3REZXZpY2VQaXhlbFJhdGlvPUUsIWUpcmV0dXJuO2lmKGUuZ2V0Q29udGV4dCl7aWYodj1lLHRoaXMuX3JlbmRlcmluZ0NhbnZhcz12LGkucHJlc2VydmVEcmF3aW5nQnVmZmVyPT09dm9pZCAwJiYoaS5wcmVzZXJ2ZURyYXdpbmdCdWZmZXI9ITEpLGkueHJDb21wYXRpYmxlPT09dm9pZCAwJiYoaS54ckNvbXBhdGlibGU9ITApLG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCl7dGhpcy5fc2V0dXBNb2JpbGVDaGVja3MoKTtjb25zdCBBPW5hdmlnYXRvci51c2VyQWdlbnQ7Zm9yKGNvbnN0IEMgb2YgZGUuRXhjZXB0aW9uTGlzdCl7Y29uc3QgYj1DLmtleSx4PUMudGFyZ2V0cztpZihuZXcgUmVnRXhwKGIpLnRlc3QoQSkpe2lmKEMuY2FwdHVyZSYmQy5jYXB0dXJlQ29uc3RyYWludCl7Y29uc3QgVT1DLmNhcHR1cmUsaz1DLmNhcHR1cmVDb25zdHJhaW50LHE9bmV3IFJlZ0V4cChVKS5leGVjKEEpO2lmKHEmJnEubGVuZ3RoPjAmJnBhcnNlSW50KHFbcS5sZW5ndGgtMV0pPj1rKWNvbnRpbnVlfWZvcihjb25zdCBVIG9mIHgpc3dpdGNoKFUpe2Nhc2UidW5pZm9ybUJ1ZmZlciI6dGhpcy5kaXNhYmxlVW5pZm9ybUJ1ZmZlcnM9ITA7YnJlYWs7Y2FzZSJ2YW8iOnRoaXMuZGlzYWJsZVZlcnRleEFycmF5T2JqZWN0cz0hMDticmVhaztjYXNlImFudGlhbGlhcyI6aS5hbnRpYWxpYXM9ITE7YnJlYWs7Y2FzZSJtYXhNU0FBU2FtcGxlcyI6dGhpcy5fbWF4TVNBQVNhbXBsZXNPdmVycmlkZT0xO2JyZWFrfX19fWlmKHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R8fCh0aGlzLl9vbkNvbnRleHRMb3N0PUE9PntBLnByZXZlbnREZWZhdWx0KCksdGhpcy5fY29udGV4dFdhc0xvc3Q9ITAsTy5XYXJuKCJXZWJHTCBjb250ZXh0IGxvc3QuIiksdGhpcy5vbkNvbnRleHRMb3N0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9LHRoaXMuX29uQ29udGV4dFJlc3RvcmVkPSgpPT57dGhpcy5fcmVzdG9yZUVuZ2luZUFmdGVyQ29udGV4dExvc3QodGhpcy5faW5pdEdMQ29udGV4dC5iaW5kKHRoaXMpKX0sdi5hZGRFdmVudExpc3RlbmVyKCJ3ZWJnbGNvbnRleHRsb3N0Iix0aGlzLl9vbkNvbnRleHRMb3N0LCExKSx2LmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIix0aGlzLl9vbkNvbnRleHRSZXN0b3JlZCwhMSksaS5wb3dlclByZWZlcmVuY2U9aS5wb3dlclByZWZlcmVuY2V8fCJoaWdoLXBlcmZvcm1hbmNlIiksdGhpcy5fYmFkRGVza3RvcE9TPS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksdGhpcy5fYmFkRGVza3RvcE9TJiYoaS54ckNvbXBhdGlibGU9ITEpLCFpLmRpc2FibGVXZWJHTDJTdXBwb3J0KXRyeXt0aGlzLl9nbD12LmdldENvbnRleHQoIndlYmdsMiIsaSl8fHYuZ2V0Q29udGV4dCgiZXhwZXJpbWVudGFsLXdlYmdsMiIsaSksdGhpcy5fZ2wmJih0aGlzLl93ZWJHTFZlcnNpb249Mix0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWU9IldFQkdMMiIsdGhpcy5fZ2wuZGVsZXRlUXVlcnl8fCh0aGlzLl93ZWJHTFZlcnNpb249MSx0aGlzLl9zaGFkZXJQbGF0Zm9ybU5hbWU9IldFQkdMMSIpKX1jYXRjaHt9aWYoIXRoaXMuX2dsKXtpZighdil0aHJvdyBuZXcgRXJyb3IoIlRoZSBwcm92aWRlZCBjYW52YXMgaXMgbnVsbCBvciB1bmRlZmluZWQuIik7dHJ5e3RoaXMuX2dsPXYuZ2V0Q29udGV4dCgid2ViZ2wiLGkpfHx2LmdldENvbnRleHQoImV4cGVyaW1lbnRhbC13ZWJnbCIsaSl9Y2F0Y2h7dGhyb3cgbmV3IEVycm9yKCJXZWJHTCBub3Qgc3VwcG9ydGVkIil9fWlmKCF0aGlzLl9nbCl0aHJvdyBuZXcgRXJyb3IoIldlYkdMIG5vdCBzdXBwb3J0ZWQiKX1lbHNle3RoaXMuX2dsPWUsdGhpcy5fcmVuZGVyaW5nQ2FudmFzPXRoaXMuX2dsLmNhbnZhcyx0aGlzLl9nbC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGU/KHRoaXMuX3dlYkdMVmVyc2lvbj0yLHRoaXMuX3NoYWRlclBsYXRmb3JtTmFtZT0iV0VCR0wyIik6dGhpcy5fc2hhZGVyUGxhdGZvcm1OYW1lPSJXRUJHTDEiO2NvbnN0IEE9dGhpcy5fZ2wuZ2V0Q29udGV4dEF0dHJpYnV0ZXMoKTtBJiYoaS5zdGVuY2lsPUEuc3RlbmNpbCl9dGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX0NPTE9SU1BBQ0VfQ09OVkVSU0lPTl9XRUJHTCx0aGlzLl9nbC5OT05FKSxpLnVzZUhpZ2hQcmVjaXNpb25GbG9hdHMhPT12b2lkIDAmJih0aGlzLl9oaWdoUHJlY2lzaW9uU2hhZGVyc0FsbG93ZWQ9aS51c2VIaWdoUHJlY2lzaW9uRmxvYXRzKSx0aGlzLnJlc2l6ZSgpLHRoaXMuX2luaXRHTENvbnRleHQoKSx0aGlzLl9pbml0RmVhdHVyZXMoKTtmb3IobGV0IEE9MDtBPHRoaXMuX2NhcHMubWF4VmVydGV4QXR0cmlicztBKyspdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzW0FdPW5ldyBnbjt0aGlzLl9zaGFkZXJQcm9jZXNzb3I9dGhpcy53ZWJHTFZlcnNpb24+MT9uZXcgZG46bmV3IHVuLHRoaXMuX2JhZE9TPS9pUGFkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KXx8L2lQaG9uZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7Y29uc3QgUj1gQmFieWxvbi5qcyB2JHtkZS5WZXJzaW9ufWA7Y29uc29sZS5sb2coUitgIC0gJHt0aGlzLmRlc2NyaXB0aW9ufWApLHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnNldEF0dHJpYnV0ZSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnNldEF0dHJpYnV0ZSgiZGF0YS1lbmdpbmUiLFIpfV9zZXR1cE1vYmlsZUNoZWNrcygpe25hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmKHRoaXMuX2NoZWNrRm9yTW9iaWxlPSgpPT57Y29uc3QgZT1uYXZpZ2F0b3IudXNlckFnZW50O3RoaXMuaG9zdEluZm9ybWF0aW9uLmlzTW9iaWxlPWUuaW5kZXhPZigiTW9iaWxlIikhPT0tMXx8ZS5pbmRleE9mKCJNYWMiKSE9PS0xJiZGaSgpJiYib250b3VjaGVuZCJpbiBkb2N1bWVudH0sdGhpcy5fY2hlY2tGb3JNb2JpbGUoKSxqZSgpJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIix0aGlzLl9jaGVja0Zvck1vYmlsZSkpfV9yZXN0b3JlRW5naW5lQWZ0ZXJDb250ZXh0TG9zdChlKXtzZXRUaW1lb3V0KGFzeW5jKCk9Pnt2YXIgdDt0aGlzLl9kdW1teUZyYW1lYnVmZmVyPW51bGw7Y29uc3QgaT10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3Qscz10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmMscj10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2ssbj10aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3Q7YXdhaXQgZSgpLHRoaXMud2lwZUNhY2hlcyghMCksdGhpcy5fcmVidWlsZEVmZmVjdHMoKSwodD10aGlzLl9yZWJ1aWxkQ29tcHV0ZUVmZmVjdHMpPT09bnVsbHx8dD09PXZvaWQgMHx8dC5jYWxsKHRoaXMpLHRoaXMuX3JlYnVpbGRCdWZmZXJzKCksdGhpcy5fcmVidWlsZEludGVybmFsVGV4dHVyZXMoKSx0aGlzLl9yZWJ1aWxkUmVuZGVyVGFyZ2V0V3JhcHBlcnMoKSx0aGlzLndpcGVDYWNoZXMoITApLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoVGVzdD1pLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz1zLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz1yLHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdD1uLE8uV2Fybih0aGlzLm5hbWUrIiBjb250ZXh0IHN1Y2Nlc3NmdWxseSByZXN0b3JlZC4iKSx0aGlzLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fY29udGV4dFdhc0xvc3Q9ITF9LDApfV9zaGFyZWRJbml0KGUpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcz1lfV9nZXRTaGFkZXJQcm9jZXNzaW5nQ29udGV4dChlKXtyZXR1cm4gbnVsbH1fcmVidWlsZEludGVybmFsVGV4dHVyZXMoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5zbGljZSgpO2Zvcihjb25zdCB0IG9mIGUpdC5fcmVidWlsZCgpfV9yZWJ1aWxkUmVuZGVyVGFyZ2V0V3JhcHBlcnMoKXtjb25zdCBlPXRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZS5zbGljZSgpO2Zvcihjb25zdCB0IG9mIGUpdC5fcmVidWlsZCgpfV9yZWJ1aWxkRWZmZWN0cygpe2Zvcihjb25zdCBlIGluIHRoaXMuX2NvbXBpbGVkRWZmZWN0cyl7Y29uc3QgdD10aGlzLl9jb21waWxlZEVmZmVjdHNbZV07dC5fcGlwZWxpbmVDb250ZXh0PW51bGwsdC5fd2FzUHJldmlvdXNseVJlYWR5PSExLHQuX3ByZXBhcmVFZmZlY3QoKX1EZS5SZXNldENhY2hlKCl9YXJlQWxsRWZmZWN0c1JlYWR5KCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY29tcGlsZWRFZmZlY3RzKWlmKCF0aGlzLl9jb21waWxlZEVmZmVjdHNbZV0uaXNSZWFkeSgpKXJldHVybiExO3JldHVybiEwfV9yZWJ1aWxkQnVmZmVycygpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3VuaWZvcm1CdWZmZXJzKWUuX3JlYnVpbGQoKTtmb3IoY29uc3QgZSBvZiB0aGlzLl9zdG9yYWdlQnVmZmVycyllLl9yZWJ1aWxkKCl9X2luaXRHTENvbnRleHQoKXt2YXIgZTt0aGlzLl9jYXBzPXttYXhUZXh0dXJlc0ltYWdlVW5pdHM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKSxtYXhDb21iaW5lZFRleHR1cmVzSW1hZ2VVbml0czp0aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuTUFYX0NPTUJJTkVEX1RFWFRVUkVfSU1BR0VfVU5JVFMpLG1heFZlcnRleFRleHR1cmVJbWFnZVVuaXRzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVkVSVEVYX1RFWFRVUkVfSU1BR0VfVU5JVFMpLG1heFRleHR1cmVTaXplOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVEVYVFVSRV9TSVpFKSxtYXhTYW1wbGVzOnRoaXMuX3dlYkdMVmVyc2lvbj4xP3RoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfU0FNUExFUyk6MSxtYXhDdWJlbWFwVGV4dHVyZVNpemU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9DVUJFX01BUF9URVhUVVJFX1NJWkUpLG1heFJlbmRlclRleHR1cmVTaXplOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfUkVOREVSQlVGRkVSX1NJWkUpLG1heFZlcnRleEF0dHJpYnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WRVJURVhfQVRUUklCUyksbWF4VmFyeWluZ1ZlY3RvcnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9WQVJZSU5HX1ZFQ1RPUlMpLG1heEZyYWdtZW50VW5pZm9ybVZlY3RvcnM6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9GUkFHTUVOVF9VTklGT1JNX1ZFQ1RPUlMpLG1heFZlcnRleFVuaWZvcm1WZWN0b3JzOnRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5NQVhfVkVSVEVYX1VOSUZPUk1fVkVDVE9SUykscGFyYWxsZWxTaGFkZXJDb21waWxlOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiS0hSX3BhcmFsbGVsX3NoYWRlcl9jb21waWxlIil8fHZvaWQgMCxzdGFuZGFyZERlcml2YXRpdmVzOnRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU19zdGFuZGFyZF9kZXJpdmF0aXZlcyIpIT09bnVsbCxtYXhBbmlzb3Ryb3B5OjEsYXN0Yzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIiksYnB0Yzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF90ZXh0dXJlX2NvbXByZXNzaW9uX2JwdGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfRVhUX3RleHR1cmVfY29tcHJlc3Npb25fYnB0YyIpLHMzdGM6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIpLHMzdGNfc3JnYjp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjX3NyZ2IiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiIpLHB2cnRjOnRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIpLGV0YzE6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMSIpfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQktJVF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMSIpLGV0YzI6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCS0lUX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXMzXzAiKSx0ZXh0dXJlQW5pc290cm9waWNGaWx0ZXJFeHRlbnNpb246dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiKXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJLSVRfRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiTU9aX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyIpLHVpbnRJbmRpY2VzOnRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU19lbGVtZW50X2luZGV4X3VpbnQiKSE9PW51bGwsZnJhZ21lbnREZXB0aFN1cHBvcnRlZDp0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfZnJhZ19kZXB0aCIpIT09bnVsbCxoaWdoUHJlY2lzaW9uU2hhZGVyU3VwcG9ydGVkOiExLHRpbWVyUXVlcnk6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfZGlzam9pbnRfdGltZXJfcXVlcnlfd2ViZ2wyIil8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5Iiksc3VwcG9ydE9jY2x1c2lvblF1ZXJ5OnRoaXMuX3dlYkdMVmVyc2lvbj4xLGNhblVzZVRpbWVzdGFtcEZvclRpbWVyUXVlcnk6ITEsZHJhd0J1ZmZlcnNFeHRlbnNpb246ITEsbWF4TVNBQVNhbXBsZXM6MSxjb2xvckJ1ZmZlckZsb2F0OiEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xJiZ0aGlzLl9nbC5nZXRFeHRlbnNpb24oIkVYVF9jb2xvcl9idWZmZXJfZmxvYXQiKSksdGV4dHVyZUZsb2F0OiEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9FU190ZXh0dXJlX2Zsb2F0IikpLHRleHR1cmVIYWxmRmxvYXQ6ISEodGhpcy5fd2ViR0xWZXJzaW9uPjF8fHRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfaGFsZl9mbG9hdCIpKSx0ZXh0dXJlSGFsZkZsb2F0UmVuZGVyOiExLHRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZzohMSx0ZXh0dXJlRmxvYXRSZW5kZXI6ITEsdGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZzohMSx2ZXJ0ZXhBcnJheU9iamVjdDohMSxpbnN0YW5jZWRBcnJheXM6ITEsdGV4dHVyZUxPRDohISh0aGlzLl93ZWJHTFZlcnNpb24+MXx8dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfc2hhZGVyX3RleHR1cmVfbG9kIikpLHRleGVsRmV0Y2g6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxibGVuZE1pbk1heDohMSxtdWx0aXZpZXc6dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJPVlJfbXVsdGl2aWV3MiIpLG9jdWx1c011bHRpdmlldzp0aGlzLl9nbC5nZXRFeHRlbnNpb24oIk9DVUxVU19tdWx0aXZpZXciKSxkZXB0aFRleHR1cmVFeHRlbnNpb246ITEsY2FuVXNlR0xJbnN0YW5jZUlEOnRoaXMuX3dlYkdMVmVyc2lvbj4xLGNhblVzZUdMVmVydGV4SUQ6dGhpcy5fd2ViR0xWZXJzaW9uPjEsc3VwcG9ydENvbXB1dGVTaGFkZXJzOiExLHN1cHBvcnRTUkdCQnVmZmVyczohMSxzdXBwb3J0VHJhbnNmb3JtRmVlZGJhY2tzOnRoaXMuX3dlYkdMVmVyc2lvbj4xLHRleHR1cmVNYXhMZXZlbDp0aGlzLl93ZWJHTFZlcnNpb24+MSx0ZXh0dXJlMkRBcnJheU1heExheWVyQ291bnQ6dGhpcy5fd2ViR0xWZXJzaW9uPjE/dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9BUlJBWV9URVhUVVJFX0xBWUVSUyk6MTI4LGRpc2FibGVNb3JwaFRhcmdldFRleHR1cmU6ITF9LHRoaXMuX2dsVmVyc2lvbj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuVkVSU0lPTik7Y29uc3QgdD10aGlzLl9nbC5nZXRFeHRlbnNpb24oIldFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8iKTtpZih0IT1udWxsJiYodGhpcy5fZ2xSZW5kZXJlcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodC5VTk1BU0tFRF9SRU5ERVJFUl9XRUJHTCksdGhpcy5fZ2xWZW5kb3I9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHQuVU5NQVNLRURfVkVORE9SX1dFQkdMKSksdGhpcy5fZ2xWZW5kb3J8fCh0aGlzLl9nbFZlbmRvcj10aGlzLl9nbC5nZXRQYXJhbWV0ZXIodGhpcy5fZ2wuVkVORE9SKXx8IlVua25vd24gdmVuZG9yIiksdGhpcy5fZ2xSZW5kZXJlcnx8KHRoaXMuX2dsUmVuZGVyZXI9dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLlJFTkRFUkVSKXx8IlVua25vd24gcmVuZGVyZXIiKSx0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUyE9PTM2MTkzJiYodGhpcy5fZ2wuSEFMRl9GTE9BVF9PRVM9MzYxOTMpLHRoaXMuX2dsLlJHQkExNkYhPT0zNDg0MiYmKHRoaXMuX2dsLlJHQkExNkY9MzQ4NDIpLHRoaXMuX2dsLlJHQkEzMkYhPT0zNDgzNiYmKHRoaXMuX2dsLlJHQkEzMkY9MzQ4MzYpLHRoaXMuX2dsLkRFUFRIMjRfU1RFTkNJTDghPT0zNTA1NiYmKHRoaXMuX2dsLkRFUFRIMjRfU1RFTkNJTDg9MzUwNTYpLHRoaXMuX2NhcHMudGltZXJRdWVyeSYmKHRoaXMuX3dlYkdMVmVyc2lvbj09PTEmJih0aGlzLl9nbC5nZXRRdWVyeT10aGlzLl9jYXBzLnRpbWVyUXVlcnkuZ2V0UXVlcnlFWFQuYmluZCh0aGlzLl9jYXBzLnRpbWVyUXVlcnkpKSx0aGlzLl9jYXBzLmNhblVzZVRpbWVzdGFtcEZvclRpbWVyUXVlcnk9KChlPXRoaXMuX2dsLmdldFF1ZXJ5KHRoaXMuX2NhcHMudGltZXJRdWVyeS5USU1FU1RBTVBfRVhULHRoaXMuX2NhcHMudGltZXJRdWVyeS5RVUVSWV9DT1VOVEVSX0JJVFNfRVhUKSkhPT1udWxsJiZlIT09dm9pZCAwP2U6MCk+MCksdGhpcy5fY2Fwcy5tYXhBbmlzb3Ryb3B5PXRoaXMuX2NhcHMudGV4dHVyZUFuaXNvdHJvcGljRmlsdGVyRXh0ZW5zaW9uP3RoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9jYXBzLnRleHR1cmVBbmlzb3Ryb3BpY0ZpbHRlckV4dGVuc2lvbi5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpOjAsdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc9ISEodGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXQmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyIikpLHRoaXMuX2NhcHMudGV4dHVyZUZsb2F0UmVuZGVyPSEhKHRoaXMuX2NhcHMudGV4dHVyZUZsb2F0JiZ0aGlzLl9jYW5SZW5kZXJUb0Zsb2F0RnJhbWVidWZmZXIoKSksdGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nPSEhKHRoaXMuX3dlYkdMVmVyc2lvbj4xfHx0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXQmJnRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXIiKSksdGhpcy5fY2Fwcy5hc3RjJiYodGhpcy5fZ2wuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfQVNUQ180eDRfS0hSPXRoaXMuX2NhcHMuYXN0Yy5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9BU1RDXzR4NF9LSFIpLHRoaXMuX2NhcHMuYnB0YyYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9CUFRDX1VOT1JNX0VYVD10aGlzLl9jYXBzLmJwdGMuQ09NUFJFU1NFRF9TUkdCX0FMUEhBX0JQVENfVU5PUk1fRVhUKSx0aGlzLl9jYXBzLnMzdGNfc3JnYiYmKHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9TM1RDX0RYVDFfRVhULHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhULHRoaXMuX2dsLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUPXRoaXMuX2NhcHMuczN0Y19zcmdiLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDVfRVhUKSx0aGlzLl9jYXBzLmV0YzImJih0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0I4X0VUQzI9dGhpcy5fY2Fwcy5ldGMyLkNPTVBSRVNTRURfU1JHQjhfRVRDMix0aGlzLl9nbC5DT01QUkVTU0VEX1NSR0I4X0FMUEhBOF9FVEMyX0VBQz10aGlzLl9jYXBzLmV0YzIuQ09NUFJFU1NFRF9TUkdCOF9BTFBIQThfRVRDMl9FQUMpLHRoaXMuX3dlYkdMVmVyc2lvbj4xJiZ0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUyE9PTUxMzEmJih0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUz01MTMxKSx0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRSZW5kZXI9dGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0JiZ0aGlzLl9jYW5SZW5kZXJUb0hhbGZGbG9hdEZyYW1lYnVmZmVyKCksdGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5kcmF3QnVmZmVyc0V4dGVuc2lvbj0hMCx0aGlzLl9jYXBzLm1heE1TQUFTYW1wbGVzPXRoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGUhPT1udWxsP3RoaXMuX21heE1TQUFTYW1wbGVzT3ZlcnJpZGU6dGhpcy5fZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX2dsLk1BWF9TQU1QTEVTKTtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJXRUJHTF9kcmF3X2J1ZmZlcnMiKTtpZihpIT09bnVsbCl7dGhpcy5fY2Fwcy5kcmF3QnVmZmVyc0V4dGVuc2lvbj0hMCx0aGlzLl9nbC5kcmF3QnVmZmVycz1pLmRyYXdCdWZmZXJzV0VCR0wuYmluZChpKSx0aGlzLl9nbC5EUkFXX0ZSQU1FQlVGRkVSPXRoaXMuX2dsLkZSQU1FQlVGRkVSO2ZvcihsZXQgcz0wO3M8MTY7cysrKXRoaXMuX2dsWyJDT0xPUl9BVFRBQ0hNRU5UIitzKyJfV0VCR0wiXT1pWyJDT0xPUl9BVFRBQ0hNRU5UIitzKyJfV0VCR0wiXX19aWYodGhpcy5fd2ViR0xWZXJzaW9uPjEpdGhpcy5fY2Fwcy5kZXB0aFRleHR1cmVFeHRlbnNpb249ITA7ZWxzZXtjb25zdCBpPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiV0VCR0xfZGVwdGhfdGV4dHVyZSIpO2khPW51bGwmJih0aGlzLl9jYXBzLmRlcHRoVGV4dHVyZUV4dGVuc2lvbj0hMCx0aGlzLl9nbC5VTlNJR05FRF9JTlRfMjRfOD1pLlVOU0lHTkVEX0lOVF8yNF84X1dFQkdMKX1pZih0aGlzLmRpc2FibGVWZXJ0ZXhBcnJheU9iamVjdHMpdGhpcy5fY2Fwcy52ZXJ0ZXhBcnJheU9iamVjdD0hMTtlbHNlIGlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMudmVydGV4QXJyYXlPYmplY3Q9ITA7ZWxzZXtjb25zdCBpPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiT0VTX3ZlcnRleF9hcnJheV9vYmplY3QiKTtpIT1udWxsJiYodGhpcy5fY2Fwcy52ZXJ0ZXhBcnJheU9iamVjdD0hMCx0aGlzLl9nbC5jcmVhdGVWZXJ0ZXhBcnJheT1pLmNyZWF0ZVZlcnRleEFycmF5T0VTLmJpbmQoaSksdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5PWkuYmluZFZlcnRleEFycmF5T0VTLmJpbmQoaSksdGhpcy5fZ2wuZGVsZXRlVmVydGV4QXJyYXk9aS5kZWxldGVWZXJ0ZXhBcnJheU9FUy5iaW5kKGkpKX1pZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLmluc3RhbmNlZEFycmF5cz0hMDtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJBTkdMRV9pbnN0YW5jZWRfYXJyYXlzIik7aSE9bnVsbD8odGhpcy5fY2Fwcy5pbnN0YW5jZWRBcnJheXM9ITAsdGhpcy5fZ2wuZHJhd0FycmF5c0luc3RhbmNlZD1pLmRyYXdBcnJheXNJbnN0YW5jZWRBTkdMRS5iaW5kKGkpLHRoaXMuX2dsLmRyYXdFbGVtZW50c0luc3RhbmNlZD1pLmRyYXdFbGVtZW50c0luc3RhbmNlZEFOR0xFLmJpbmQoaSksdGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcj1pLnZlcnRleEF0dHJpYkRpdmlzb3JBTkdMRS5iaW5kKGkpKTp0aGlzLl9jYXBzLmluc3RhbmNlZEFycmF5cz0hMX1pZih0aGlzLl9nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQpe2NvbnN0IGk9dGhpcy5fZ2wuZ2V0U2hhZGVyUHJlY2lzaW9uRm9ybWF0KHRoaXMuX2dsLlZFUlRFWF9TSEFERVIsdGhpcy5fZ2wuSElHSF9GTE9BVCkscz10aGlzLl9nbC5nZXRTaGFkZXJQcmVjaXNpb25Gb3JtYXQodGhpcy5fZ2wuRlJBR01FTlRfU0hBREVSLHRoaXMuX2dsLkhJR0hfRkxPQVQpO2kmJnMmJih0aGlzLl9jYXBzLmhpZ2hQcmVjaXNpb25TaGFkZXJTdXBwb3J0ZWQ9aS5wcmVjaXNpb24hPT0wJiZzLnByZWNpc2lvbiE9PTApfWlmKHRoaXMuX3dlYkdMVmVyc2lvbj4xKXRoaXMuX2NhcHMuYmxlbmRNaW5NYXg9ITA7ZWxzZXtjb25zdCBpPXRoaXMuX2dsLmdldEV4dGVuc2lvbigiRVhUX2JsZW5kX21pbm1heCIpO2khPW51bGwmJih0aGlzLl9jYXBzLmJsZW5kTWluTWF4PSEwLHRoaXMuX2dsLk1BWD1pLk1BWF9FWFQsdGhpcy5fZ2wuTUlOPWkuTUlOX0VYVCl9aWYoIXRoaXMuX2NhcHMuc3VwcG9ydFNSR0JCdWZmZXJzKXtpZih0aGlzLl93ZWJHTFZlcnNpb24+MSl0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycz0hMDtlbHNle2NvbnN0IGk9dGhpcy5fZ2wuZ2V0RXh0ZW5zaW9uKCJFWFRfc1JHQiIpO2khPW51bGwmJih0aGlzLl9jYXBzLnN1cHBvcnRTUkdCQnVmZmVycz0hMCx0aGlzLl9nbC5TUkdCPWkuU1JHQl9FWFQsdGhpcy5fZ2wuU1JHQjg9aS5TUkdCX0FMUEhBX0VYVCx0aGlzLl9nbC5TUkdCOF9BTFBIQTg9aS5TUkdCX0FMUEhBX0VYVCl9dGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnM9dGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMmJiEhKHRoaXMuX2NyZWF0aW9uT3B0aW9ucyYmdGhpcy5fY3JlYXRpb25PcHRpb25zLmZvcmNlU1JHQkJ1ZmZlclN1cHBvcnRTdGF0ZSl9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PSEwLHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoRnVuYz10aGlzLl9nbC5MRVFVQUwsdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrPSEwLHRoaXMuX21heFNpbXVsdGFuZW91c1RleHR1cmVzPXRoaXMuX2NhcHMubWF4Q29tYmluZWRUZXh0dXJlc0ltYWdlVW5pdHM7Zm9yKGxldCBpPTA7aTx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcztpKyspdGhpcy5fbmV4dEZyZWVUZXh0dXJlU2xvdHMucHVzaChpKTt0aGlzLl9nbFJlbmRlcmVyPT09Ik1hbGktRzcyIiYmKHRoaXMuX2NhcHMuZGlzYWJsZU1vcnBoVGFyZ2V0VGV4dHVyZT0hMCl9X2luaXRGZWF0dXJlcygpe3RoaXMuX2ZlYXR1cmVzPXtmb3JjZUJpdG1hcE92ZXJIVE1MSW1hZ2VFbGVtZW50OiExLHN1cHBvcnRSZW5kZXJBbmRDb3B5VG9Mb2RGb3JGbG9hdFRleHR1cmVzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydERlcHRoU3RlbmNpbFRleHR1cmU6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0U2hhZG93U2FtcGxlcnM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSx1bmlmb3JtQnVmZmVySGFyZENoZWNrTWF0cml4OiExLGFsbG93VGV4dHVyZVByZWZpbHRlcmluZzp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHRyYWNrVWJvc0luRnJhbWU6ITEsY2hlY2tVYm9zQ29udGVudEJlZm9yZVVwbG9hZDohMSxzdXBwb3J0Q1NNOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsYmFzaXNOZWVkc1BPVDp0aGlzLl93ZWJHTFZlcnNpb249PT0xLHN1cHBvcnQzRFRleHR1cmVzOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsbmVlZFR5cGVTdWZmaXhJblNoYWRlckNvbnN0YW50czp0aGlzLl93ZWJHTFZlcnNpb24hPT0xLHN1cHBvcnRNU0FBOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydFNTQU8yOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydEV4dGVuZGVkVGV4dHVyZUZvcm1hdHM6dGhpcy5fd2ViR0xWZXJzaW9uIT09MSxzdXBwb3J0U3dpdGNoQ2FzZUluU2hhZGVyOnRoaXMuX3dlYkdMVmVyc2lvbiE9PTEsc3VwcG9ydFN5bmNUZXh0dXJlUmVhZDohMCxuZWVkc0ludmVydGluZ0JpdG1hcDohMCx1c2VVQk9CaW5kaW5nQ2FjaGU6ITAsbmVlZFNoYWRlckNvZGVJbmxpbmluZzohMSxuZWVkVG9BbHdheXNCaW5kVW5pZm9ybUJ1ZmZlcnM6ITEsc3VwcG9ydFJlbmRlclBhc3NlczohMSxzdXBwb3J0U3ByaXRlSW5zdGFuY2luZzohMCxfY29sbGVjdFVib3NVcGRhdGVkSW5GcmFtZTohMX19Z2V0IHdlYkdMVmVyc2lvbigpe3JldHVybiB0aGlzLl93ZWJHTFZlcnNpb259Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlRoaW5FbmdpbmUifWdldCBpc1N0ZW5jaWxFbmFibGUoKXtyZXR1cm4gdGhpcy5faXNTdGVuY2lsRW5hYmxlfV9wcmVwYXJlV29ya2luZ0NhbnZhcygpe2lmKHRoaXMuX3dvcmtpbmdDYW52YXMpcmV0dXJuO3RoaXMuX3dvcmtpbmdDYW52YXM9dGhpcy5jcmVhdGVDYW52YXMoMSwxKTtjb25zdCBlPXRoaXMuX3dvcmtpbmdDYW52YXMuZ2V0Q29udGV4dCgiMmQiKTtlJiYodGhpcy5fd29ya2luZ0NvbnRleHQ9ZSl9cmVzZXRUZXh0dXJlQ2FjaGUoKXtmb3IoY29uc3QgZSBpbiB0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZSxlKSYmKHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVtlXT1udWxsKTt0aGlzLl9jdXJyZW50VGV4dHVyZUNoYW5uZWw9LTF9Z2V0SW5mbygpe3JldHVybiB0aGlzLmdldEdsSW5mbygpfWdldEdsSW5mbygpe3JldHVybnt2ZW5kb3I6dGhpcy5fZ2xWZW5kb3IscmVuZGVyZXI6dGhpcy5fZ2xSZW5kZXJlcix2ZXJzaW9uOnRoaXMuX2dsVmVyc2lvbn19c2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwoZSl7dGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWw9ZSx0aGlzLnJlc2l6ZSgpfWdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCl7cmV0dXJuIHRoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsfWdldExvYWRlZFRleHR1cmVzQ2FjaGUoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlfWdldENhcHMoKXtyZXR1cm4gdGhpcy5fY2Fwc31zdG9wUmVuZGVyTG9vcChlKXtpZighZSl7dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPTA7cmV0dXJufWNvbnN0IHQ9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMuaW5kZXhPZihlKTt0Pj0wJiZ0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5zcGxpY2UodCwxKX1fcmVuZGVyTG9vcCgpe2lmKCF0aGlzLl9jb250ZXh0V2FzTG9zdCl7bGV0IGU9ITA7aWYoKHRoaXMuX2lzRGlzcG9zZWR8fCF0aGlzLnJlbmRlckV2ZW5JbkJhY2tncm91bmQmJnRoaXMuX3dpbmRvd0lzQmFja2dyb3VuZCkmJihlPSExKSxlKXt0aGlzLmJlZ2luRnJhbWUoKTtmb3IobGV0IHQ9MDt0PHRoaXMuX2FjdGl2ZVJlbmRlckxvb3BzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHNbdF07aSgpfXRoaXMuZW5kRnJhbWUoKX19dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoPjA/dGhpcy5fZnJhbWVIYW5kbGVyPXRoaXMuX3F1ZXVlTmV3RnJhbWUodGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbix0aGlzLmdldEhvc3RXaW5kb3coKSk6dGhpcy5fcmVuZGVyaW5nUXVldWVMYXVuY2hlZD0hMX1nZXRSZW5kZXJpbmdDYW52YXMoKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nQ2FudmFzfWdldEF1ZGlvQ29udGV4dCgpe3JldHVybiB0aGlzLl9hdWRpb0NvbnRleHR9Z2V0QXVkaW9EZXN0aW5hdGlvbigpe3JldHVybiB0aGlzLl9hdWRpb0Rlc3RpbmF0aW9ufWdldEhvc3RXaW5kb3coKXtyZXR1cm4gamUoKT90aGlzLl9yZW5kZXJpbmdDYW52YXMmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcy5vd25lckRvY3VtZW50JiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldz90aGlzLl9yZW5kZXJpbmdDYW52YXMub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldzp3aW5kb3c6bnVsbH1nZXRSZW5kZXJXaWR0aChlPSExKXtyZXR1cm4hZSYmdGhpcy5fY3VycmVudFJlbmRlclRhcmdldD90aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0LndpZHRoOnRoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD90aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3QuZnJhbWVidWZmZXJXaWR0aDp0aGlzLl9nbC5kcmF3aW5nQnVmZmVyV2lkdGh9Z2V0UmVuZGVySGVpZ2h0KGU9ITEpe3JldHVybiFlJiZ0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0P3RoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQuaGVpZ2h0OnRoaXMuX2ZyYW1lYnVmZmVyRGltZW5zaW9uc09iamVjdD90aGlzLl9mcmFtZWJ1ZmZlckRpbWVuc2lvbnNPYmplY3QuZnJhbWVidWZmZXJIZWlnaHQ6dGhpcy5fZ2wuZHJhd2luZ0J1ZmZlckhlaWdodH1fcXVldWVOZXdGcmFtZShlLHQpe3JldHVybiBkZS5RdWV1ZU5ld0ZyYW1lKGUsdCl9cnVuUmVuZGVyTG9vcChlKXt0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5pbmRleE9mKGUpPT09LTEmJih0aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5wdXNoKGUpLHRoaXMuX3JlbmRlcmluZ1F1ZXVlTGF1bmNoZWR8fCh0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSEwLHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb249dGhpcy5fcmVuZGVyTG9vcC5iaW5kKHRoaXMpLHRoaXMuX2ZyYW1lSGFuZGxlcj10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5nZXRIb3N0V2luZG93KCkpKSl9Y2xlYXIoZSx0LGkscz0hMSl7Y29uc3Qgcj10aGlzLnN0ZW5jaWxTdGF0ZUNvbXBvc2VyLnVzZVN0ZW5jaWxHbG9iYWxPbmx5O3RoaXMuc3RlbmNpbFN0YXRlQ29tcG9zZXIudXNlU3RlbmNpbEdsb2JhbE9ubHk9ITAsdGhpcy5hcHBseVN0YXRlcygpLHRoaXMuc3RlbmNpbFN0YXRlQ29tcG9zZXIudXNlU3RlbmNpbEdsb2JhbE9ubHk9cjtsZXQgbj0wO3QmJmUmJih0aGlzLl9nbC5jbGVhckNvbG9yKGUucixlLmcsZS5iLGUuYSE9PXZvaWQgMD9lLmE6MSksbnw9dGhpcy5fZ2wuQ09MT1JfQlVGRkVSX0JJVCksaSYmKHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9dGhpcy5fZ2wuR0VRVUFMLHRoaXMuX2dsLmNsZWFyRGVwdGgoMCkpOnRoaXMuX2dsLmNsZWFyRGVwdGgoMSksbnw9dGhpcy5fZ2wuREVQVEhfQlVGRkVSX0JJVCkscyYmKHRoaXMuX2dsLmNsZWFyU3RlbmNpbCgwKSxufD10aGlzLl9nbC5TVEVOQ0lMX0JVRkZFUl9CSVQpLHRoaXMuX2dsLmNsZWFyKG4pfV92aWV3cG9ydChlLHQsaSxzKXsoZSE9PXRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnh8fHQhPT10aGlzLl92aWV3cG9ydENhY2hlZC55fHxpIT09dGhpcy5fdmlld3BvcnRDYWNoZWQuenx8cyE9PXRoaXMuX3ZpZXdwb3J0Q2FjaGVkLncpJiYodGhpcy5fdmlld3BvcnRDYWNoZWQueD1lLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnk9dCx0aGlzLl92aWV3cG9ydENhY2hlZC56PWksdGhpcy5fdmlld3BvcnRDYWNoZWQudz1zLHRoaXMuX2dsLnZpZXdwb3J0KGUsdCxpLHMpKX1zZXRWaWV3cG9ydChlLHQsaSl7Y29uc3Qgcz10fHx0aGlzLmdldFJlbmRlcldpZHRoKCkscj1pfHx0aGlzLmdldFJlbmRlckhlaWdodCgpLG49ZS54fHwwLGE9ZS55fHwwO3RoaXMuX2NhY2hlZFZpZXdwb3J0PWUsdGhpcy5fdmlld3BvcnQobipzLGEqcixzKmUud2lkdGgsciplLmhlaWdodCl9YmVnaW5GcmFtZSgpe31lbmRGcmFtZSgpe3RoaXMuX2JhZE9TJiZ0aGlzLmZsdXNoRnJhbWVidWZmZXIoKSx0aGlzLl9mcmFtZUlkKyt9cmVzaXplKGU9ITEpe2xldCB0LGk7aWYodGhpcy5hZGFwdFRvRGV2aWNlUmF0aW8pe2NvbnN0IHM9amUoKSYmd2luZG93LmRldmljZVBpeGVsUmF0aW98fDEscj10aGlzLl9sYXN0RGV2aWNlUGl4ZWxSYXRpby9zO3RoaXMuX2xhc3REZXZpY2VQaXhlbFJhdGlvPXMsdGhpcy5faGFyZHdhcmVTY2FsaW5nTGV2ZWwqPXJ9amUoKT8odD10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmNsaWVudFdpZHRofHx0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg6d2luZG93LmlubmVyV2lkdGgsaT10aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmNsaWVudEhlaWdodHx8dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodDp3aW5kb3cuaW5uZXJIZWlnaHQpOih0PXRoaXMuX3JlbmRlcmluZ0NhbnZhcz90aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg6MTAwLGk9dGhpcy5fcmVuZGVyaW5nQ2FudmFzP3RoaXMuX3JlbmRlcmluZ0NhbnZhcy5oZWlnaHQ6MTAwKSx0aGlzLnNldFNpemUodC90aGlzLl9oYXJkd2FyZVNjYWxpbmdMZXZlbCxpL3RoaXMuX2hhcmR3YXJlU2NhbGluZ0xldmVsLGUpfXNldFNpemUoZSx0LGk9ITEpe3JldHVybiF0aGlzLl9yZW5kZXJpbmdDYW52YXN8fChlPWV8MCx0PXR8MCwhaSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLndpZHRoPT09ZSYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmhlaWdodD09PXQpPyExOih0aGlzLl9yZW5kZXJpbmdDYW52YXMud2lkdGg9ZSx0aGlzLl9yZW5kZXJpbmdDYW52YXMuaGVpZ2h0PXQsITApfWJpbmRGcmFtZWJ1ZmZlcihlLHQ9MCxpLHMscixuPTAsYT0wKXt2YXIgbyxoLGwsdSxkO2NvbnN0IF89ZTt0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0JiZ0aGlzLnVuQmluZEZyYW1lYnVmZmVyKHRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQpLHRoaXMuX2N1cnJlbnRSZW5kZXJUYXJnZXQ9ZSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKF8uX01TQUFGcmFtZWJ1ZmZlcj9fLl9NU0FBRnJhbWVidWZmZXI6Xy5fZnJhbWVidWZmZXIpO2NvbnN0IGY9dGhpcy5fZ2w7ZS5pc011bHRpfHwoZS5pczJEQXJyYXk/Zi5mcmFtZWJ1ZmZlclRleHR1cmVMYXllcihmLkZSQU1FQlVGRkVSLGYuQ09MT1JfQVRUQUNITUVOVDAsKG89ZS50ZXh0dXJlLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by51bmRlcmx5aW5nUmVzb3VyY2UsbixhKTplLmlzQ3ViZSYmZi5mcmFtZWJ1ZmZlclRleHR1cmUyRChmLkZSQU1FQlVGRkVSLGYuQ09MT1JfQVRUQUNITUVOVDAsZi5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grdCwoaD1lLnRleHR1cmUuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHxoPT09dm9pZCAwP3ZvaWQgMDpoLnVuZGVybHlpbmdSZXNvdXJjZSxuKSk7Y29uc3QgbT1lLl9kZXB0aFN0ZW5jaWxUZXh0dXJlO2lmKG0pe2NvbnN0IHY9ZS5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsP2YuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5UOmYuREVQVEhfQVRUQUNITUVOVDtlLmlzMkRBcnJheT9mLmZyYW1lYnVmZmVyVGV4dHVyZUxheWVyKGYuRlJBTUVCVUZGRVIsdiwobD1tLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8bD09PXZvaWQgMD92b2lkIDA6bC51bmRlcmx5aW5nUmVzb3VyY2UsbixhKTplLmlzQ3ViZT9mLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGYuRlJBTUVCVUZGRVIsdixmLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCt0LCh1PW0uX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1LnVuZGVybHlpbmdSZXNvdXJjZSxuKTpmLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGYuRlJBTUVCVUZGRVIsdixmLlRFWFRVUkVfMkQsKGQ9bS5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fGQ9PT12b2lkIDA/dm9pZCAwOmQudW5kZXJseWluZ1Jlc291cmNlLG4pfXRoaXMuX2NhY2hlZFZpZXdwb3J0JiYhcj90aGlzLnNldFZpZXdwb3J0KHRoaXMuX2NhY2hlZFZpZXdwb3J0LGkscyk6KGl8fChpPWUud2lkdGgsbiYmKGk9aS9NYXRoLnBvdygyLG4pKSksc3x8KHM9ZS5oZWlnaHQsbiYmKHM9cy9NYXRoLnBvdygyLG4pKSksdGhpcy5fdmlld3BvcnQoMCwwLGkscykpLHRoaXMud2lwZUNhY2hlcygpfXNldFN0YXRlKGUsdD0wLGkscz0hMSxyLG4sYT0wKXt2YXIgbyxoOyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsIT09ZXx8aSkmJih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5jdWxsPWUpO2NvbnN0IGw9ISgoaD0obz10aGlzLmN1bGxCYWNrRmFjZXMpIT09bnVsbCYmbyE9PXZvaWQgMD9vOnIpIT09bnVsbCYmaCE9PXZvaWQgMCl8fGg/dGhpcy5fZ2wuQkFDSzp0aGlzLl9nbC5GUk9OVDsodGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuY3VsbEZhY2UhPT1sfHxpKSYmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmN1bGxGYWNlPWwpLHRoaXMuc2V0Wk9mZnNldCh0KSx0aGlzLnNldFpPZmZzZXRVbml0cyhhKTtjb25zdCB1PXM/dGhpcy5fZ2wuQ1c6dGhpcy5fZ2wuQ0NXOyh0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5mcm9udEZhY2UhPT11fHxpKSYmKHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlLmZyb250RmFjZT11KSx0aGlzLl9zdGVuY2lsU3RhdGVDb21wb3Nlci5zdGVuY2lsTWF0ZXJpYWw9bn1nZXREZXB0aEJ1ZmZlcigpe3JldHVybiB0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aFRlc3R9c2V0RGVwdGhCdWZmZXIoZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PWV9c2V0Wk9mZnNldChlKXt0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS56T2Zmc2V0PXRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9Z2V0Wk9mZnNldCgpe2NvbnN0IGU9dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldDtyZXR1cm4gdGhpcy51c2VSZXZlcnNlRGVwdGhCdWZmZXI/LWU6ZX1zZXRaT2Zmc2V0VW5pdHMoZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuek9mZnNldFVuaXRzPXRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9Z2V0Wk9mZnNldFVuaXRzKCl7Y29uc3QgZT10aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS56T2Zmc2V0VW5pdHM7cmV0dXJuIHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyPy1lOmV9X2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoZSl7dGhpcy5fY3VycmVudEZyYW1lYnVmZmVyIT09ZSYmKHRoaXMuX2dsLmJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9nbC5GUkFNRUJVRkZFUixlKSx0aGlzLl9jdXJyZW50RnJhbWVidWZmZXI9ZSl9X2N1cnJlbnRGcmFtZUJ1ZmZlcklzRGVmYXVsdEZyYW1lQnVmZmVyKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlcj09PW51bGx9Z2VuZXJhdGVNaXBtYXBzKGUpe3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxlLCEwKSx0aGlzLl9nbC5nZW5lcmF0ZU1pcG1hcCh0aGlzLl9nbC5URVhUVVJFXzJEKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCl9dW5CaW5kRnJhbWVidWZmZXIoZSx0PSExLGkpe3ZhciBzO2NvbnN0IHI9ZTt0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0PW51bGw7Y29uc3Qgbj10aGlzLl9nbDtpZihyLl9NU0FBRnJhbWVidWZmZXIpe2lmKGUuaXNNdWx0aSl7dGhpcy51bkJpbmRNdWx0aUNvbG9yQXR0YWNobWVudEZyYW1lYnVmZmVyKGUsdCxpKTtyZXR1cm59bi5iaW5kRnJhbWVidWZmZXIobi5SRUFEX0ZSQU1FQlVGRkVSLHIuX01TQUFGcmFtZWJ1ZmZlciksbi5iaW5kRnJhbWVidWZmZXIobi5EUkFXX0ZSQU1FQlVGRkVSLHIuX2ZyYW1lYnVmZmVyKSxuLmJsaXRGcmFtZWJ1ZmZlcigwLDAsZS53aWR0aCxlLmhlaWdodCwwLDAsZS53aWR0aCxlLmhlaWdodCxuLkNPTE9SX0JVRkZFUl9CSVQsbi5ORUFSRVNUKX0hKChzPWUudGV4dHVyZSk9PT1udWxsfHxzPT09dm9pZCAwKSYmcy5nZW5lcmF0ZU1pcE1hcHMmJiF0JiYhZS5pc0N1YmUmJnRoaXMuZ2VuZXJhdGVNaXBtYXBzKGUudGV4dHVyZSksaSYmKHIuX01TQUFGcmFtZWJ1ZmZlciYmdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihyLl9mcmFtZWJ1ZmZlciksaSgpKSx0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKG51bGwpfWZsdXNoRnJhbWVidWZmZXIoKXt0aGlzLl9nbC5mbHVzaCgpfXJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKXt0aGlzLl9jdXJyZW50UmVuZGVyVGFyZ2V0P3RoaXMudW5CaW5kRnJhbWVidWZmZXIodGhpcy5fY3VycmVudFJlbmRlclRhcmdldCk6dGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihudWxsKSx0aGlzLl9jYWNoZWRWaWV3cG9ydCYmdGhpcy5zZXRWaWV3cG9ydCh0aGlzLl9jYWNoZWRWaWV3cG9ydCksdGhpcy53aXBlQ2FjaGVzKCl9X3Jlc2V0VmVydGV4QnVmZmVyQmluZGluZygpe3RoaXMuYmluZEFycmF5QnVmZmVyKG51bGwpLHRoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnM9bnVsbH1jcmVhdGVWZXJ0ZXhCdWZmZXIoZSl7cmV0dXJuIHRoaXMuX2NyZWF0ZVZlcnRleEJ1ZmZlcihlLHRoaXMuX2dsLlNUQVRJQ19EUkFXKX1fY3JlYXRlVmVydGV4QnVmZmVyKGUsdCl7Y29uc3QgaT10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgdmVydGV4IGJ1ZmZlciIpO2NvbnN0IHM9bmV3IExpKGkpO3JldHVybiB0aGlzLmJpbmRBcnJheUJ1ZmZlcihzKSxlIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShlKSx0KTp0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkFSUkFZX0JVRkZFUixlLHQpLHRoaXMuX3Jlc2V0VmVydGV4QnVmZmVyQmluZGluZygpLHMucmVmZXJlbmNlcz0xLHN9Y3JlYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcihlKXtyZXR1cm4gdGhpcy5fY3JlYXRlVmVydGV4QnVmZmVyKGUsdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKX1fcmVzZXRJbmRleEJ1ZmZlckJpbmRpbmcoKXt0aGlzLmJpbmRJbmRleEJ1ZmZlcihudWxsKSx0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlcj1udWxsfWNyZWF0ZUluZGV4QnVmZmVyKGUsdCl7Y29uc3QgaT10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKSxzPW5ldyBMaShpKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgaW5kZXggYnVmZmVyIik7dGhpcy5iaW5kSW5kZXhCdWZmZXIocyk7Y29uc3Qgcj10aGlzLl9ub3JtYWxpemVJbmRleERhdGEoZSk7cmV0dXJuIHRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIscix0P3RoaXMuX2dsLkRZTkFNSUNfRFJBVzp0aGlzLl9nbC5TVEFUSUNfRFJBVyksdGhpcy5fcmVzZXRJbmRleEJ1ZmZlckJpbmRpbmcoKSxzLnJlZmVyZW5jZXM9MSxzLmlzMzJCaXRzPXIuQllURVNfUEVSX0VMRU1FTlQ9PT00LHN9X25vcm1hbGl6ZUluZGV4RGF0YShlKXtpZihlLkJZVEVTX1BFUl9FTEVNRU5UPT09MilyZXR1cm4gZTtpZih0aGlzLl9jYXBzLnVpbnRJbmRpY2VzKXtpZihlIGluc3RhbmNlb2YgVWludDMyQXJyYXkpcmV0dXJuIGU7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspaWYoZVtpXT49NjU1MzUpcmV0dXJuIG5ldyBVaW50MzJBcnJheShlKTtyZXR1cm4gbmV3IFVpbnQxNkFycmF5KGUpfXJldHVybiBuZXcgVWludDE2QXJyYXkoZSl9YmluZEFycmF5QnVmZmVyKGUpe3RoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3N8fHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy5fYmluZEJ1ZmZlcihlLHRoaXMuX2dsLkFSUkFZX0JVRkZFUil9YmluZFVuaWZvcm1CbG9jayhlLHQsaSl7Y29uc3Qgcz1lLnByb2dyYW0scj10aGlzLl9nbC5nZXRVbmlmb3JtQmxvY2tJbmRleChzLHQpO3RoaXMuX2dsLnVuaWZvcm1CbG9ja0JpbmRpbmcocyxyLGkpfWJpbmRJbmRleEJ1ZmZlcihlKXt0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHx0aGlzLl91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMuX2JpbmRCdWZmZXIoZSx0aGlzLl9nbC5FTEVNRU5UX0FSUkFZX0JVRkZFUil9X2JpbmRCdWZmZXIoZSx0KXsodGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8dGhpcy5fY3VycmVudEJvdW5kQnVmZmVyW3RdIT09ZSkmJih0aGlzLl9nbC5iaW5kQnVmZmVyKHQsZT9lLnVuZGVybHlpbmdSZXNvdXJjZTpudWxsKSx0aGlzLl9jdXJyZW50Qm91bmRCdWZmZXJbdF09ZSl9dXBkYXRlQXJyYXlCdWZmZXIoZSl7dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsMCxlKX1fdmVydGV4QXR0cmliUG9pbnRlcihlLHQsaSxzLHIsbixhKXtjb25zdCBvPXRoaXMuX2N1cnJlbnRCdWZmZXJQb2ludGVyc1t0XTtpZighbylyZXR1cm47bGV0IGg9ITE7by5hY3RpdmU/KG8uYnVmZmVyIT09ZSYmKG8uYnVmZmVyPWUsaD0hMCksby5zaXplIT09aSYmKG8uc2l6ZT1pLGg9ITApLG8udHlwZSE9PXMmJihvLnR5cGU9cyxoPSEwKSxvLm5vcm1hbGl6ZWQhPT1yJiYoby5ub3JtYWxpemVkPXIsaD0hMCksby5zdHJpZGUhPT1uJiYoby5zdHJpZGU9bixoPSEwKSxvLm9mZnNldCE9PWEmJihvLm9mZnNldD1hLGg9ITApKTooaD0hMCxvLmFjdGl2ZT0hMCxvLmluZGV4PXQsby5zaXplPWksby50eXBlPXMsby5ub3JtYWxpemVkPXIsby5zdHJpZGU9bixvLm9mZnNldD1hLG8uYnVmZmVyPWUpLChofHx0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzKSYmKHRoaXMuYmluZEFycmF5QnVmZmVyKGUpLHM9PT10aGlzLl9nbC5VTlNJR05FRF9JTlR8fHM9PT10aGlzLl9nbC5JTlQ/dGhpcy5fZ2wudmVydGV4QXR0cmliSVBvaW50ZXIodCxpLHMsbixhKTp0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHQsaSxzLHIsbixhKSl9X2JpbmRJbmRleEJ1ZmZlcldpdGhDYWNoZShlKXtlIT1udWxsJiZ0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlciE9PWUmJih0aGlzLl9jYWNoZWRJbmRleEJ1ZmZlcj1lLHRoaXMuYmluZEluZGV4QnVmZmVyKGUpLHRoaXMuX3VpbnRJbmRpY2VzQ3VycmVudGx5U2V0PWUuaXMzMkJpdHMpfV9iaW5kVmVydGV4QnVmZmVyc0F0dHJpYnV0ZXMoZSx0LGkpe2NvbnN0IHM9dC5nZXRBdHRyaWJ1dGVzTmFtZXMoKTt0aGlzLl92YW9SZWNvcmRJblByb2dyZXNzfHx0aGlzLl91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdCgpLHRoaXMudW5iaW5kQWxsQXR0cmlidXRlcygpO2ZvcihsZXQgcj0wO3I8cy5sZW5ndGg7cisrKXtjb25zdCBuPXQuZ2V0QXR0cmlidXRlTG9jYXRpb24ocik7aWYobj49MCl7Y29uc3QgYT1zW3JdO2xldCBvPW51bGw7aWYoaSYmKG89aVthXSksb3x8KG89ZVthXSksIW8pY29udGludWU7dGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkobiksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8KHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbbl09ITApO2NvbnN0IGg9by5nZXRCdWZmZXIoKTtoJiYodGhpcy5fdmVydGV4QXR0cmliUG9pbnRlcihoLG4sby5nZXRTaXplKCksby50eXBlLG8ubm9ybWFsaXplZCxvLmJ5dGVTdHJpZGUsby5ieXRlT2Zmc2V0KSxvLmdldElzSW5zdGFuY2VkKCkmJih0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKG4sby5nZXRJbnN0YW5jZURpdmlzb3IoKSksdGhpcy5fdmFvUmVjb3JkSW5Qcm9ncmVzc3x8KHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5wdXNoKG4pLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnMucHVzaChoKSkpKX19fXJlY29yZFZlcnRleEFycmF5T2JqZWN0KGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5fZ2wuY3JlYXRlVmVydGV4QXJyYXkoKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgVkFPIik7cmV0dXJuIHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3M9ITAsdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5KHIpLHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMCx0aGlzLl9iaW5kVmVydGV4QnVmZmVyc0F0dHJpYnV0ZXMoZSxpLHMpLHRoaXMuYmluZEluZGV4QnVmZmVyKHQpLHRoaXMuX3Zhb1JlY29yZEluUHJvZ3Jlc3M9ITEsdGhpcy5fZ2wuYmluZFZlcnRleEFycmF5KG51bGwpLHJ9YmluZFZlcnRleEFycmF5T2JqZWN0KGUsdCl7dGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3QhPT1lJiYodGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3Q9ZSx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkoZSksdGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1udWxsLHRoaXMuX2NhY2hlZEluZGV4QnVmZmVyPW51bGwsdGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ9dCE9bnVsbCYmdC5pczMyQml0cyx0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXM9ITApfWJpbmRCdWZmZXJzRGlyZWN0bHkoZSx0LGkscyxyKXtpZih0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzIT09ZXx8dGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycyE9PXIpe3RoaXMuX2NhY2hlZFZlcnRleEJ1ZmZlcnM9ZSx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzPXI7Y29uc3Qgbj1yLmdldEF0dHJpYnV0ZXNDb3VudCgpO3RoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksdGhpcy51bmJpbmRBbGxBdHRyaWJ1dGVzKCk7bGV0IGE9MDtmb3IobGV0IG89MDtvPG47bysrKWlmKG88aS5sZW5ndGgpe2NvbnN0IGg9ci5nZXRBdHRyaWJ1dGVMb2NhdGlvbihvKTtoPj0wJiYodGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoaCksdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtoXT0hMCx0aGlzLl92ZXJ0ZXhBdHRyaWJQb2ludGVyKGUsaCxpW29dLHRoaXMuX2dsLkZMT0FULCExLHMsYSkpLGErPWlbb10qNH19dGhpcy5fYmluZEluZGV4QnVmZmVyV2l0aENhY2hlKHQpfV91bmJpbmRWZXJ0ZXhBcnJheU9iamVjdCgpe3RoaXMuX2NhY2hlZFZlcnRleEFycmF5T2JqZWN0JiYodGhpcy5fY2FjaGVkVmVydGV4QXJyYXlPYmplY3Q9bnVsbCx0aGlzLl9nbC5iaW5kVmVydGV4QXJyYXkobnVsbCkpfWJpbmRCdWZmZXJzKGUsdCxpLHMpeyh0aGlzLl9jYWNoZWRWZXJ0ZXhCdWZmZXJzIT09ZXx8dGhpcy5fY2FjaGVkRWZmZWN0Rm9yVmVydGV4QnVmZmVycyE9PWkpJiYodGhpcy5fY2FjaGVkVmVydGV4QnVmZmVycz1lLHRoaXMuX2NhY2hlZEVmZmVjdEZvclZlcnRleEJ1ZmZlcnM9aSx0aGlzLl9iaW5kVmVydGV4QnVmZmVyc0F0dHJpYnV0ZXMoZSxpLHMpKSx0aGlzLl9iaW5kSW5kZXhCdWZmZXJXaXRoQ2FjaGUodCl9dW5iaW5kSW5zdGFuY2VBdHRyaWJ1dGVzKCl7bGV0IGU7Zm9yKGxldCB0PTAsaT10aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMubGVuZ3RoO3Q8aTt0Kyspe2NvbnN0IHM9dGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVyc1t0XTtlIT1zJiZzLnJlZmVyZW5jZXMmJihlPXMsdGhpcy5iaW5kQXJyYXlCdWZmZXIocykpO2NvbnN0IHI9dGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zW3RdO3RoaXMuX2dsLnZlcnRleEF0dHJpYkRpdmlzb3IociwwKX10aGlzLl9jdXJyZW50SW5zdGFuY2VCdWZmZXJzLmxlbmd0aD0wLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5sZW5ndGg9MH1yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QoZSl7dGhpcy5fZ2wuZGVsZXRlVmVydGV4QXJyYXkoZSl9X3JlbGVhc2VCdWZmZXIoZSl7cmV0dXJuIGUucmVmZXJlbmNlcy0tLGUucmVmZXJlbmNlcz09PTA/KHRoaXMuX2RlbGV0ZUJ1ZmZlcihlKSwhMCk6ITF9X2RlbGV0ZUJ1ZmZlcihlKXt0aGlzLl9nbC5kZWxldGVCdWZmZXIoZS51bmRlcmx5aW5nUmVzb3VyY2UpfXVwZGF0ZUFuZEJpbmRJbnN0YW5jZXNCdWZmZXIoZSx0LGkpe2lmKHRoaXMuYmluZEFycmF5QnVmZmVyKGUpLHQmJnRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsdCksaVswXS5pbmRleCE9PXZvaWQgMCl0aGlzLmJpbmRJbnN0YW5jZXNCdWZmZXIoZSxpLCEwKTtlbHNlIGZvcihsZXQgcz0wO3M8NDtzKyspe2NvbnN0IHI9aVtzXTt0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW3JdfHwodGhpcy5fZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkociksdGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtyXT0hMCksdGhpcy5fdmVydGV4QXR0cmliUG9pbnRlcihlLHIsNCx0aGlzLl9nbC5GTE9BVCwhMSw2NCxzKjE2KSx0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKHIsMSksdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnB1c2gociksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5wdXNoKGUpfX1iaW5kSW5zdGFuY2VzQnVmZmVyKGUsdCxpPSEwKXt0aGlzLmJpbmRBcnJheUJ1ZmZlcihlKTtsZXQgcz0wO2lmKGkpZm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspe2NvbnN0IG49dFtyXTtzKz1uLmF0dHJpYnV0ZVNpemUqNH1mb3IobGV0IHI9MDtyPHQubGVuZ3RoO3IrKyl7Y29uc3Qgbj10W3JdO24uaW5kZXg9PT12b2lkIDAmJihuLmluZGV4PXRoaXMuX2N1cnJlbnRFZmZlY3QuZ2V0QXR0cmlidXRlTG9jYXRpb25CeU5hbWUobi5hdHRyaWJ1dGVOYW1lKSksIShuLmluZGV4PDApJiYodGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZFtuLmluZGV4XXx8KHRoaXMuX2dsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KG4uaW5kZXgpLHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbbi5pbmRleF09ITApLHRoaXMuX3ZlcnRleEF0dHJpYlBvaW50ZXIoZSxuLmluZGV4LG4uYXR0cmlidXRlU2l6ZSxuLmF0dHJpYnV0ZVR5cGV8fHRoaXMuX2dsLkZMT0FULG4ubm9ybWFsaXplZHx8ITEscyxuLm9mZnNldCksdGhpcy5fZ2wudmVydGV4QXR0cmliRGl2aXNvcihuLmluZGV4LG4uZGl2aXNvcj09PXZvaWQgMD8xOm4uZGl2aXNvciksdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnB1c2gobi5pbmRleCksdGhpcy5fY3VycmVudEluc3RhbmNlQnVmZmVycy5wdXNoKGUpKX19ZGlzYWJsZUluc3RhbmNlQXR0cmlidXRlQnlOYW1lKGUpe2lmKCF0aGlzLl9jdXJyZW50RWZmZWN0KXJldHVybjtjb25zdCB0PXRoaXMuX2N1cnJlbnRFZmZlY3QuZ2V0QXR0cmlidXRlTG9jYXRpb25CeU5hbWUoZSk7dGhpcy5kaXNhYmxlSW5zdGFuY2VBdHRyaWJ1dGUodCl9ZGlzYWJsZUluc3RhbmNlQXR0cmlidXRlKGUpe2xldCB0PSExLGk7Zm9yKDsoaT10aGlzLl9jdXJyZW50SW5zdGFuY2VMb2NhdGlvbnMuaW5kZXhPZihlKSkhPT0tMTspdGhpcy5fY3VycmVudEluc3RhbmNlTG9jYXRpb25zLnNwbGljZShpLDEpLHRoaXMuX2N1cnJlbnRJbnN0YW5jZUJ1ZmZlcnMuc3BsaWNlKGksMSksdD0hMCxpPXRoaXMuX2N1cnJlbnRJbnN0YW5jZUxvY2F0aW9ucy5pbmRleE9mKGUpO3QmJih0aGlzLl9nbC52ZXJ0ZXhBdHRyaWJEaXZpc29yKGUsMCksdGhpcy5kaXNhYmxlQXR0cmlidXRlQnlJbmRleChlKSl9ZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXgoZSl7dGhpcy5fZ2wuZGlzYWJsZVZlcnRleEF0dHJpYkFycmF5KGUpLHRoaXMuX3ZlcnRleEF0dHJpYkFycmF5c0VuYWJsZWRbZV09ITEsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzW2VdLmFjdGl2ZT0hMX1kcmF3KGUsdCxpLHMpe3RoaXMuZHJhd0VsZW1lbnRzVHlwZShlPzA6MSx0LGkscyl9ZHJhd1BvaW50Q2xvdWRzKGUsdCxpKXt0aGlzLmRyYXdBcnJheXNUeXBlKDIsZSx0LGkpfWRyYXdVbkluZGV4ZWQoZSx0LGkscyl7dGhpcy5kcmF3QXJyYXlzVHlwZShlPzA6MSx0LGkscyl9ZHJhd0VsZW1lbnRzVHlwZShlLHQsaSxzKXt0aGlzLmFwcGx5U3RhdGVzKCksdGhpcy5fcmVwb3J0RHJhd0NhbGwoKTtjb25zdCByPXRoaXMuX2RyYXdNb2RlKGUpLG49dGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ/dGhpcy5fZ2wuVU5TSUdORURfSU5UOnRoaXMuX2dsLlVOU0lHTkVEX1NIT1JULGE9dGhpcy5fdWludEluZGljZXNDdXJyZW50bHlTZXQ/NDoyO3M/dGhpcy5fZ2wuZHJhd0VsZW1lbnRzSW5zdGFuY2VkKHIsaSxuLHQqYSxzKTp0aGlzLl9nbC5kcmF3RWxlbWVudHMocixpLG4sdCphKX1kcmF3QXJyYXlzVHlwZShlLHQsaSxzKXt0aGlzLmFwcGx5U3RhdGVzKCksdGhpcy5fcmVwb3J0RHJhd0NhbGwoKTtjb25zdCByPXRoaXMuX2RyYXdNb2RlKGUpO3M/dGhpcy5fZ2wuZHJhd0FycmF5c0luc3RhbmNlZChyLHQsaSxzKTp0aGlzLl9nbC5kcmF3QXJyYXlzKHIsdCxpKX1fZHJhd01vZGUoZSl7c3dpdGNoKGUpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuVFJJQU5HTEVTO2Nhc2UgMjpyZXR1cm4gdGhpcy5fZ2wuUE9JTlRTO2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuTElORVM7Y2FzZSAzOnJldHVybiB0aGlzLl9nbC5QT0lOVFM7Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5MSU5FUztjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLkxJTkVfTE9PUDtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLkxJTkVfU1RSSVA7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5UUklBTkdMRV9TVFJJUDtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlRSSUFOR0xFX0ZBTjtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5UUklBTkdMRVN9fV9yZXBvcnREcmF3Q2FsbCgpe31fcmVsZWFzZUVmZmVjdChlKXt0aGlzLl9jb21waWxlZEVmZmVjdHNbZS5fa2V5XSYmZGVsZXRlIHRoaXMuX2NvbXBpbGVkRWZmZWN0c1tlLl9rZXldO2NvbnN0IHQ9ZS5nZXRQaXBlbGluZUNvbnRleHQoKTt0JiZ0aGlzLl9kZWxldGVQaXBlbGluZUNvbnRleHQodCl9X2RlbGV0ZVBpcGVsaW5lQ29udGV4dChlKXtjb25zdCB0PWU7dCYmdC5wcm9ncmFtJiYodC5wcm9ncmFtLl9fU1BFQ1RPUl9yZWJ1aWxkUHJvZ3JhbT1udWxsLHRoaXMuX2dsLmRlbGV0ZVByb2dyYW0odC5wcm9ncmFtKSl9X2dldEdsb2JhbERlZmluZXMoZSl7aWYoZSl7dGhpcy5pc05EQ0hhbGZaUmFuZ2U/ZS5JU19ORENfSEFMRl9aUkFOR0U9IiI6ZGVsZXRlIGUuSVNfTkRDX0hBTEZfWlJBTkdFLHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyP2UuVVNFX1JFVkVSU0VfREVQVEhCVUZGRVI9IiI6ZGVsZXRlIGUuVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIsdGhpcy51c2VFeGFjdFNyZ2JDb252ZXJzaW9ucz9lLlVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TPSIiOmRlbGV0ZSBlLlVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TO3JldHVybn1lbHNle2xldCB0PSIiO3JldHVybiB0aGlzLmlzTkRDSGFsZlpSYW5nZSYmKHQrPSIjZGVmaW5lIElTX05EQ19IQUxGX1pSQU5HRSIpLHRoaXMudXNlUmV2ZXJzZURlcHRoQnVmZmVyJiYodCYmKHQrPWAKYCksdCs9IiNkZWZpbmUgVVNFX1JFVkVSU0VfREVQVEhCVUZGRVIiKSx0aGlzLnVzZUV4YWN0U3JnYkNvbnZlcnNpb25zJiYodCYmKHQrPWAKYCksdCs9IiNkZWZpbmUgVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlMiKSx0fX1jcmVhdGVFZmZlY3QoZSx0LGkscyxyLG4sYSxvLGgsbD1aZS5HTFNMKXt2YXIgdTtjb25zdCBkPWUudmVydGV4RWxlbWVudHx8ZS52ZXJ0ZXh8fGUudmVydGV4VG9rZW58fGUudmVydGV4U291cmNlfHxlLF89ZS5mcmFnbWVudEVsZW1lbnR8fGUuZnJhZ21lbnR8fGUuZnJhZ21lbnRUb2tlbnx8ZS5mcmFnbWVudFNvdXJjZXx8ZSxmPXRoaXMuX2dldEdsb2JhbERlZmluZXMoKTtsZXQgbT0odT1yPz90LmRlZmluZXMpIT09bnVsbCYmdSE9PXZvaWQgMD91OiIiO2YmJihtKz1mKTtjb25zdCB2PWQrIisiK18rIkAiK207aWYodGhpcy5fY29tcGlsZWRFZmZlY3RzW3ZdKXtjb25zdCBTPXRoaXMuX2NvbXBpbGVkRWZmZWN0c1t2XTtyZXR1cm4gYSYmUy5pc1JlYWR5KCkmJmEoUyksU31jb25zdCBFPW5ldyBEZShlLHQsaSxzLHRoaXMscixuLGEsbyxoLHYsbCk7cmV0dXJuIHRoaXMuX2NvbXBpbGVkRWZmZWN0c1t2XT1FLEV9c3RhdGljIF9Db25jYXRlbmF0ZVNoYWRlcihlLHQsaT0iIil7cmV0dXJuIGkrKHQ/dCtgCmA6IiIpK2V9X2NvbXBpbGVTaGFkZXIoZSx0LGkscyl7cmV0dXJuIHRoaXMuX2NvbXBpbGVSYXdTaGFkZXIoZGUuX0NvbmNhdGVuYXRlU2hhZGVyKGUsaSxzKSx0KX1fY29tcGlsZVJhd1NoYWRlcihlLHQpe2NvbnN0IGk9dGhpcy5fZ2wscz1pLmNyZWF0ZVNoYWRlcih0PT09InZlcnRleCI/aS5WRVJURVhfU0hBREVSOmkuRlJBR01FTlRfU0hBREVSKTtpZighcyl7bGV0IHI9aS5OT19FUlJPUixuPWkuTk9fRVJST1I7Zm9yKDsobj1pLmdldEVycm9yKCkpIT09aS5OT19FUlJPUjspcj1uO3Rocm93IG5ldyBFcnJvcihgU29tZXRoaW5nIHdlbnQgd3Jvbmcgd2hpbGUgY3JlYXRpbmcgYSBnbCAke3R9IHNoYWRlciBvYmplY3QuIGdsIGVycm9yPSR7cn0sIGdsIGlzQ29udGV4dExvc3Q9JHtpLmlzQ29udGV4dExvc3QoKX0sIF9jb250ZXh0V2FzTG9zdD0ke3RoaXMuX2NvbnRleHRXYXNMb3N0fWApfXJldHVybiBpLnNoYWRlclNvdXJjZShzLGUpLGkuY29tcGlsZVNoYWRlcihzKSxzfV9nZXRTaGFkZXJTb3VyY2UoZSl7cmV0dXJuIHRoaXMuX2dsLmdldFNoYWRlclNvdXJjZShlKX1jcmVhdGVSYXdTaGFkZXJQcm9ncmFtKGUsdCxpLHMscj1udWxsKXtzPXN8fHRoaXMuX2dsO2NvbnN0IG49dGhpcy5fY29tcGlsZVJhd1NoYWRlcih0LCJ2ZXJ0ZXgiKSxhPXRoaXMuX2NvbXBpbGVSYXdTaGFkZXIoaSwiZnJhZ21lbnQiKTtyZXR1cm4gdGhpcy5fY3JlYXRlU2hhZGVyUHJvZ3JhbShlLG4sYSxzLHIpfWNyZWF0ZVNoYWRlclByb2dyYW0oZSx0LGkscyxyLG49bnVsbCl7cj1yfHx0aGlzLl9nbDtjb25zdCBhPXRoaXMuX3dlYkdMVmVyc2lvbj4xP2AjdmVyc2lvbiAzMDAgZXMKI2RlZmluZSBXRUJHTDIgCmA6IiIsbz10aGlzLl9jb21waWxlU2hhZGVyKHQsInZlcnRleCIscyxhKSxoPXRoaXMuX2NvbXBpbGVTaGFkZXIoaSwiZnJhZ21lbnQiLHMsYSk7cmV0dXJuIHRoaXMuX2NyZWF0ZVNoYWRlclByb2dyYW0oZSxvLGgscixuKX1pbmxpbmVTaGFkZXJDb2RlKGUpe3JldHVybiBlfWNyZWF0ZVBpcGVsaW5lQ29udGV4dChlKXtjb25zdCB0PW5ldyBmbjtyZXR1cm4gdC5lbmdpbmU9dGhpcyx0aGlzLl9jYXBzLnBhcmFsbGVsU2hhZGVyQ29tcGlsZSYmKHQuaXNQYXJhbGxlbENvbXBpbGVkPSEwKSx0fWNyZWF0ZU1hdGVyaWFsQ29udGV4dCgpe31jcmVhdGVEcmF3Q29udGV4dCgpe31fY3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHI9bnVsbCl7Y29uc3Qgbj1zLmNyZWF0ZVByb2dyYW0oKTtpZihlLnByb2dyYW09biwhbil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgcHJvZ3JhbSIpO3JldHVybiBzLmF0dGFjaFNoYWRlcihuLHQpLHMuYXR0YWNoU2hhZGVyKG4saSkscy5saW5rUHJvZ3JhbShuKSxlLmNvbnRleHQ9cyxlLnZlcnRleFNoYWRlcj10LGUuZnJhZ21lbnRTaGFkZXI9aSxlLmlzUGFyYWxsZWxDb21waWxlZHx8dGhpcy5fZmluYWxpemVQaXBlbGluZUNvbnRleHQoZSksbn1fZmluYWxpemVQaXBlbGluZUNvbnRleHQoZSl7Y29uc3QgdD1lLmNvbnRleHQsaT1lLnZlcnRleFNoYWRlcixzPWUuZnJhZ21lbnRTaGFkZXIscj1lLnByb2dyYW07aWYoIXQuZ2V0UHJvZ3JhbVBhcmFtZXRlcihyLHQuTElOS19TVEFUVVMpKXtpZighdGhpcy5fZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKGksdGhpcy5fZ2wuQ09NUElMRV9TVEFUVVMpKXtjb25zdCBvPXRoaXMuX2dsLmdldFNoYWRlckluZm9Mb2coaSk7aWYobyl0aHJvdyBlLnZlcnRleENvbXBpbGF0aW9uRXJyb3I9byxuZXcgRXJyb3IoIlZFUlRFWCBTSEFERVIgIitvKX1pZighdGhpcy5fZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHMsdGhpcy5fZ2wuQ09NUElMRV9TVEFUVVMpKXtjb25zdCBvPXRoaXMuX2dsLmdldFNoYWRlckluZm9Mb2cocyk7aWYobyl0aHJvdyBlLmZyYWdtZW50Q29tcGlsYXRpb25FcnJvcj1vLG5ldyBFcnJvcigiRlJBR01FTlQgU0hBREVSICIrbyl9Y29uc3QgYT10LmdldFByb2dyYW1JbmZvTG9nKHIpO2lmKGEpdGhyb3cgZS5wcm9ncmFtTGlua0Vycm9yPWEsbmV3IEVycm9yKGEpfWlmKHRoaXMudmFsaWRhdGVTaGFkZXJQcm9ncmFtcyYmKHQudmFsaWRhdGVQcm9ncmFtKHIpLCF0LmdldFByb2dyYW1QYXJhbWV0ZXIocix0LlZBTElEQVRFX1NUQVRVUykpKXtjb25zdCBvPXQuZ2V0UHJvZ3JhbUluZm9Mb2cocik7aWYobyl0aHJvdyBlLnByb2dyYW1WYWxpZGF0aW9uRXJyb3I9byxuZXcgRXJyb3Iobyl9dC5kZWxldGVTaGFkZXIoaSksdC5kZWxldGVTaGFkZXIocyksZS52ZXJ0ZXhTaGFkZXI9dm9pZCAwLGUuZnJhZ21lbnRTaGFkZXI9dm9pZCAwLGUub25Db21waWxlZCYmKGUub25Db21waWxlZCgpLGUub25Db21waWxlZD12b2lkIDApfV9wcmVwYXJlUGlwZWxpbmVDb250ZXh0KGUsdCxpLHMscixuLGEsbyxoLGwpe2NvbnN0IHU9ZTtzP3UucHJvZ3JhbT10aGlzLmNyZWF0ZVJhd1NoYWRlclByb2dyYW0odSx0LGksdm9pZCAwLGgpOnUucHJvZ3JhbT10aGlzLmNyZWF0ZVNoYWRlclByb2dyYW0odSx0LGksbyx2b2lkIDAsaCksdS5wcm9ncmFtLl9fU1BFQ1RPUl9yZWJ1aWxkUHJvZ3JhbT1hfV9pc1JlbmRlcmluZ1N0YXRlQ29tcGlsZWQoZSl7Y29uc3QgdD1lO3JldHVybiB0aGlzLl9nbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHQucHJvZ3JhbSx0aGlzLl9jYXBzLnBhcmFsbGVsU2hhZGVyQ29tcGlsZS5DT01QTEVUSU9OX1NUQVRVU19LSFIpPyh0aGlzLl9maW5hbGl6ZVBpcGVsaW5lQ29udGV4dCh0KSwhMCk6ITF9X2V4ZWN1dGVXaGVuUmVuZGVyaW5nU3RhdGVJc0NvbXBpbGVkKGUsdCl7Y29uc3QgaT1lO2lmKCFpLmlzUGFyYWxsZWxDb21waWxlZCl7dCgpO3JldHVybn1jb25zdCBzPWkub25Db21waWxlZDtzP2kub25Db21waWxlZD0oKT0+e3MoKSx0KCl9Omkub25Db21waWxlZD10fWdldFVuaWZvcm1zKGUsdCl7Y29uc3QgaT1uZXcgQXJyYXkscz1lO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKWkucHVzaCh0aGlzLl9nbC5nZXRVbmlmb3JtTG9jYXRpb24ocy5wcm9ncmFtLHRbcl0pKTtyZXR1cm4gaX1nZXRBdHRyaWJ1dGVzKGUsdCl7Y29uc3QgaT1bXSxzPWU7Zm9yKGxldCByPTA7cjx0Lmxlbmd0aDtyKyspdHJ5e2kucHVzaCh0aGlzLl9nbC5nZXRBdHRyaWJMb2NhdGlvbihzLnByb2dyYW0sdFtyXSkpfWNhdGNoe2kucHVzaCgtMSl9cmV0dXJuIGl9ZW5hYmxlRWZmZWN0KGUpe2U9ZSE9PW51bGwmJnZpLklzV3JhcHBlcihlKT9lLmVmZmVjdDplLCEoIWV8fGU9PT10aGlzLl9jdXJyZW50RWZmZWN0KSYmKHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyLnN0ZW5jaWxNYXRlcmlhbD12b2lkIDAsZT1lLHRoaXMuYmluZFNhbXBsZXJzKGUpLHRoaXMuX2N1cnJlbnRFZmZlY3Q9ZSxlLm9uQmluZCYmZS5vbkJpbmQoZSksZS5fb25CaW5kT2JzZXJ2YWJsZSYmZS5fb25CaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfXNldEludChlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMWkoZSx0KSwhMCk6ITF9c2V0SW50MihlLHQsaSl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0yaShlLHQsaSksITApOiExfXNldEludDMoZSx0LGkscyl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0zaShlLHQsaSxzKSwhMCk6ITF9c2V0SW50NChlLHQsaSxzLHIpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtNGkoZSx0LGkscyxyKSwhMCk6ITF9c2V0SW50QXJyYXkoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTFpdihlLHQpLCEwKTohMX1zZXRJbnRBcnJheTIoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMiE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0yaXYoZSx0KSwhMCl9c2V0SW50QXJyYXkzKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTMhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtM2l2KGUsdCksITApfXNldEludEFycmF5NChlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCU0IT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTRpdihlLHQpLCEwKX1zZXRVSW50KGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0xdWkoZSx0KSwhMCk6ITF9c2V0VUludDIoZSx0LGkpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMnVpKGUsdCxpKSwhMCk6ITF9c2V0VUludDMoZSx0LGkscyl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0zdWkoZSx0LGkscyksITApOiExfXNldFVJbnQ0KGUsdCxpLHMscil7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm00dWkoZSx0LGkscyxyKSwhMCk6ITF9c2V0VUludEFycmF5KGUsdCl7cmV0dXJuIGU/KHRoaXMuX2dsLnVuaWZvcm0xdWl2KGUsdCksITApOiExfXNldFVJbnRBcnJheTIoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMiE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0ydWl2KGUsdCksITApfXNldFVJbnRBcnJheTMoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglMyE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm0zdWl2KGUsdCksITApfXNldFVJbnRBcnJheTQoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglNCE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm00dWl2KGUsdCksITApfXNldEFycmF5KGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoPDE/ITE6KHRoaXMuX2dsLnVuaWZvcm0xZnYoZSx0KSwhMCl9c2V0QXJyYXkyKGUsdCl7cmV0dXJuIWV8fHQubGVuZ3RoJTIhPT0wPyExOih0aGlzLl9nbC51bmlmb3JtMmZ2KGUsdCksITApfXNldEFycmF5MyhlLHQpe3JldHVybiFlfHx0Lmxlbmd0aCUzIT09MD8hMToodGhpcy5fZ2wudW5pZm9ybTNmdihlLHQpLCEwKX1zZXRBcnJheTQoZSx0KXtyZXR1cm4hZXx8dC5sZW5ndGglNCE9PTA/ITE6KHRoaXMuX2dsLnVuaWZvcm00ZnYoZSx0KSwhMCl9c2V0TWF0cmljZXMoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybU1hdHJpeDRmdihlLCExLHQpLCEwKTohMX1zZXRNYXRyaXgzeDMoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybU1hdHJpeDNmdihlLCExLHQpLCEwKTohMX1zZXRNYXRyaXgyeDIoZSx0KXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybU1hdHJpeDJmdihlLCExLHQpLCEwKTohMX1zZXRGbG9hdChlLHQpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtMWYoZSx0KSwhMCk6ITF9c2V0RmxvYXQyKGUsdCxpKXtyZXR1cm4gZT8odGhpcy5fZ2wudW5pZm9ybTJmKGUsdCxpKSwhMCk6ITF9c2V0RmxvYXQzKGUsdCxpLHMpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtM2YoZSx0LGkscyksITApOiExfXNldEZsb2F0NChlLHQsaSxzLHIpe3JldHVybiBlPyh0aGlzLl9nbC51bmlmb3JtNGYoZSx0LGkscyxyKSwhMCk6ITF9YXBwbHlTdGF0ZXMoKXtpZih0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5hcHBseSh0aGlzLl9nbCksdGhpcy5fc3RlbmNpbFN0YXRlQ29tcG9zZXIuYXBwbHkodGhpcy5fZ2wpLHRoaXMuX2FscGhhU3RhdGUuYXBwbHkodGhpcy5fZ2wpLHRoaXMuX2NvbG9yV3JpdGVDaGFuZ2VkKXt0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMTtjb25zdCBlPXRoaXMuX2NvbG9yV3JpdGU7dGhpcy5fZ2wuY29sb3JNYXNrKGUsZSxlLGUpfX1zZXRDb2xvcldyaXRlKGUpe2UhPT10aGlzLl9jb2xvcldyaXRlJiYodGhpcy5fY29sb3JXcml0ZUNoYW5nZWQ9ITAsdGhpcy5fY29sb3JXcml0ZT1lKX1nZXRDb2xvcldyaXRlKCl7cmV0dXJuIHRoaXMuX2NvbG9yV3JpdGV9Z2V0IGRlcHRoQ3VsbGluZ1N0YXRlKCl7cmV0dXJuIHRoaXMuX2RlcHRoQ3VsbGluZ1N0YXRlfWdldCBhbHBoYVN0YXRlKCl7cmV0dXJuIHRoaXMuX2FscGhhU3RhdGV9Z2V0IHN0ZW5jaWxTdGF0ZSgpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGV9Z2V0IHN0ZW5jaWxTdGF0ZUNvbXBvc2VyKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyfWNsZWFySW50ZXJuYWxUZXh0dXJlc0NhY2hlKCl7dGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLmxlbmd0aD0wfXdpcGVDYWNoZXMoZSl7dGhpcy5wcmV2ZW50Q2FjaGVXaXBlQmV0d2VlbkZyYW1lcyYmIWV8fCh0aGlzLl9jdXJyZW50RWZmZWN0PW51bGwsdGhpcy5fdmlld3BvcnRDYWNoZWQueD0wLHRoaXMuX3ZpZXdwb3J0Q2FjaGVkLnk9MCx0aGlzLl92aWV3cG9ydENhY2hlZC56PTAsdGhpcy5fdmlld3BvcnRDYWNoZWQudz0wLHRoaXMuX3VuYmluZFZlcnRleEFycmF5T2JqZWN0KCksZSYmKHRoaXMuX2N1cnJlbnRQcm9ncmFtPW51bGwsdGhpcy5yZXNldFRleHR1cmVDYWNoZSgpLHRoaXMuX3N0ZW5jaWxTdGF0ZUNvbXBvc2VyLnJlc2V0KCksdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUucmVzZXQoKSx0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9dGhpcy5fZ2wuTEVRVUFMLHRoaXMuX2FscGhhU3RhdGUucmVzZXQoKSx0aGlzLl9hbHBoYU1vZGU9MSx0aGlzLl9hbHBoYUVxdWF0aW9uPTAsdGhpcy5fY29sb3JXcml0ZT0hMCx0aGlzLl9jb2xvcldyaXRlQ2hhbmdlZD0hMCx0aGlzLl91bnBhY2tGbGlwWUNhY2hlZD1udWxsLHRoaXMuX2dsLnBpeGVsU3RvcmVpKHRoaXMuX2dsLlVOUEFDS19DT0xPUlNQQUNFX0NPTlZFUlNJT05fV0VCR0wsdGhpcy5fZ2wuTk9ORSksdGhpcy5fZ2wucGl4ZWxTdG9yZWkodGhpcy5fZ2wuVU5QQUNLX1BSRU1VTFRJUExZX0FMUEhBX1dFQkdMLDApLHRoaXMuX211c3RXaXBlVmVydGV4QXR0cmlidXRlcz0hMCx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKSksdGhpcy5fcmVzZXRWZXJ0ZXhCdWZmZXJCaW5kaW5nKCksdGhpcy5fY2FjaGVkSW5kZXhCdWZmZXI9bnVsbCx0aGlzLl9jYWNoZWRFZmZlY3RGb3JWZXJ0ZXhCdWZmZXJzPW51bGwsdGhpcy5iaW5kSW5kZXhCdWZmZXIobnVsbCkpfV9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoZSx0KXtjb25zdCBpPXRoaXMuX2dsO2xldCBzPWkuTkVBUkVTVCxyPWkuTkVBUkVTVDtzd2l0Y2goZSl7Y2FzZSAxMTpzPWkuTElORUFSLHQ/cj1pLkxJTkVBUl9NSVBNQVBfTkVBUkVTVDpyPWkuTElORUFSO2JyZWFrO2Nhc2UgMzpzPWkuTElORUFSLHQ/cj1pLkxJTkVBUl9NSVBNQVBfTElORUFSOnI9aS5MSU5FQVI7YnJlYWs7Y2FzZSA4OnM9aS5ORUFSRVNULHQ/cj1pLk5FQVJFU1RfTUlQTUFQX0xJTkVBUjpyPWkuTkVBUkVTVDticmVhaztjYXNlIDQ6cz1pLk5FQVJFU1QsdD9yPWkuTkVBUkVTVF9NSVBNQVBfTkVBUkVTVDpyPWkuTkVBUkVTVDticmVhaztjYXNlIDU6cz1pLk5FQVJFU1QsdD9yPWkuTElORUFSX01JUE1BUF9ORUFSRVNUOnI9aS5MSU5FQVI7YnJlYWs7Y2FzZSA2OnM9aS5ORUFSRVNULHQ/cj1pLkxJTkVBUl9NSVBNQVBfTElORUFSOnI9aS5MSU5FQVI7YnJlYWs7Y2FzZSA3OnM9aS5ORUFSRVNULHI9aS5MSU5FQVI7YnJlYWs7Y2FzZSAxOnM9aS5ORUFSRVNULHI9aS5ORUFSRVNUO2JyZWFrO2Nhc2UgOTpzPWkuTElORUFSLHQ/cj1pLk5FQVJFU1RfTUlQTUFQX05FQVJFU1Q6cj1pLk5FQVJFU1Q7YnJlYWs7Y2FzZSAxMDpzPWkuTElORUFSLHQ/cj1pLk5FQVJFU1RfTUlQTUFQX0xJTkVBUjpyPWkuTkVBUkVTVDticmVhaztjYXNlIDI6cz1pLkxJTkVBUixyPWkuTElORUFSO2JyZWFrO2Nhc2UgMTI6cz1pLkxJTkVBUixyPWkuTkVBUkVTVDticmVha31yZXR1cm57bWluOnIsbWFnOnN9fV9jcmVhdGVUZXh0dXJlKCl7Y29uc3QgZT10aGlzLl9nbC5jcmVhdGVUZXh0dXJlKCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHRleHR1cmUiKTtyZXR1cm4gZX1fY3JlYXRlSGFyZHdhcmVUZXh0dXJlKCl7cmV0dXJuIG5ldyBucih0aGlzLl9jcmVhdGVUZXh0dXJlKCksdGhpcy5fZ2wpfV9jcmVhdGVJbnRlcm5hbFRleHR1cmUoZSx0LGk9ITAscz1MZS5Vbmtub3duKXt2YXIgcjtsZXQgbj0hMSxhPTAsbz0zLGg9NSxsPSExLHU9MSxkO3QhPT12b2lkIDAmJnR5cGVvZiB0PT0ib2JqZWN0Ij8obj0hIXQuZ2VuZXJhdGVNaXBNYXBzLGE9dC50eXBlPT09dm9pZCAwPzA6dC50eXBlLG89dC5zYW1wbGluZ01vZGU9PT12b2lkIDA/Mzp0LnNhbXBsaW5nTW9kZSxoPXQuZm9ybWF0PT09dm9pZCAwPzU6dC5mb3JtYXQsbD10LnVzZVNSR0JCdWZmZXI9PT12b2lkIDA/ITE6dC51c2VTUkdCQnVmZmVyLHU9KHI9dC5zYW1wbGVzKSE9PW51bGwmJnIhPT12b2lkIDA/cjoxLGQ9dC5sYWJlbCk6bj0hIXQsbCYmKGw9dGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMmJih0aGlzLndlYkdMVmVyc2lvbj4xfHx0aGlzLmlzV2ViR1BVKSksKGE9PT0xJiYhdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmd8fGE9PT0yJiYhdGhpcy5fY2Fwcy50ZXh0dXJlSGFsZkZsb2F0TGluZWFyRmlsdGVyaW5nKSYmKG89MSksYT09PTEmJiF0aGlzLl9jYXBzLnRleHR1cmVGbG9hdCYmKGE9MCxPLldhcm4oIkZsb2F0IHRleHR1cmVzIGFyZSBub3Qgc3VwcG9ydGVkLiBUeXBlIGZvcmNlZCB0byBURVhUVVJFVFlQRV9VTlNJR05FRF9CWVRFIikpO2NvbnN0IF89dGhpcy5fZ2wsZj1uZXcgTHQodGhpcyxzKSxtPWUud2lkdGh8fGUsdj1lLmhlaWdodHx8ZSxFPWUubGF5ZXJzfHwwLFM9dGhpcy5fZ2V0U2FtcGxpbmdQYXJhbWV0ZXJzKG8sbiksUj1FIT09MD9fLlRFWFRVUkVfMkRfQVJSQVk6Xy5URVhUVVJFXzJELEE9dGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoYSxoLGwpLEM9dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQoaCksYj10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGEpO3JldHVybiB0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KFIsZiksRSE9PTA/KGYuaXMyREFycmF5PSEwLF8udGV4SW1hZ2UzRChSLDAsQSxtLHYsRSwwLEMsYixudWxsKSk6Xy50ZXhJbWFnZTJEKFIsMCxBLG0sdiwwLEMsYixudWxsKSxfLnRleFBhcmFtZXRlcmkoUixfLlRFWFRVUkVfTUFHX0ZJTFRFUixTLm1hZyksXy50ZXhQYXJhbWV0ZXJpKFIsXy5URVhUVVJFX01JTl9GSUxURVIsUy5taW4pLF8udGV4UGFyYW1ldGVyaShSLF8uVEVYVFVSRV9XUkFQX1MsXy5DTEFNUF9UT19FREdFKSxfLnRleFBhcmFtZXRlcmkoUixfLlRFWFRVUkVfV1JBUF9ULF8uQ0xBTVBfVE9fRURHRSksbiYmdGhpcy5fZ2wuZ2VuZXJhdGVNaXBtYXAoUiksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShSLG51bGwpLGYuX3VzZVNSR0JCdWZmZXI9bCxmLmJhc2VXaWR0aD1tLGYuYmFzZUhlaWdodD12LGYud2lkdGg9bSxmLmhlaWdodD12LGYuZGVwdGg9RSxmLmlzUmVhZHk9ITAsZi5zYW1wbGVzPXUsZi5nZW5lcmF0ZU1pcE1hcHM9bixmLnNhbXBsaW5nTW9kZT1vLGYudHlwZT1hLGYuZm9ybWF0PWgsZi5sYWJlbD1kLHRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5wdXNoKGYpLGZ9X2dldFVzZVNSR0JCdWZmZXIoZSx0KXtyZXR1cm4gZSYmdGhpcy5fY2Fwcy5zdXBwb3J0U1JHQkJ1ZmZlcnMmJih0aGlzLndlYkdMVmVyc2lvbj4xfHx0aGlzLmlzV2ViR1BVfHx0KX1fY3JlYXRlVGV4dHVyZUJhc2UoZSx0LGkscyxyPTMsbj1udWxsLGE9bnVsbCxvLGgsbD1udWxsLHU9bnVsbCxkPW51bGwsXz1udWxsLGYsbSx2KXtlPWV8fCIiO2NvbnN0IEU9ZS5zdWJzdHIoMCw1KT09PSJkYXRhOiIsUz1lLnN1YnN0cigwLDUpPT09ImJsb2I6IixSPUUmJmUuaW5kZXhPZigiO2Jhc2U2NCwiKSE9PS0xLEE9dXx8bmV3IEx0KHRoaXMsTGUuVXJsKTtBIT09dSYmKEEubGFiZWw9ZS5zdWJzdHJpbmcoMCw2MCkpO2NvbnN0IEM9ZTt0aGlzLl90cmFuc2Zvcm1UZXh0dXJlVXJsJiYhUiYmIXUmJiFsJiYoZT10aGlzLl90cmFuc2Zvcm1UZXh0dXJlVXJsKGUpKSxDIT09ZSYmKEEuX29yaWdpbmFsVXJsPUMpO2NvbnN0IGI9ZS5sYXN0SW5kZXhPZigiLiIpO2xldCB4PV98fChiPi0xP2Uuc3Vic3RyaW5nKGIpLnRvTG93ZXJDYXNlKCk6IiIpLEk9bnVsbDt4LmluZGV4T2YoIj8iKT4tMSYmKHg9eC5zcGxpdCgiPyIpWzBdKTtmb3IoY29uc3QgcSBvZiBkZS5fVGV4dHVyZUxvYWRlcnMpaWYocS5jYW5Mb2FkKHgsZikpe0k9cTticmVha31zJiZzLmFkZFBlbmRpbmdEYXRhKEEpLEEudXJsPWUsQS5nZW5lcmF0ZU1pcE1hcHM9IXQsQS5zYW1wbGluZ01vZGU9cixBLmludmVydFk9aSxBLl91c2VTUkdCQnVmZmVyPXRoaXMuX2dldFVzZVNSR0JCdWZmZXIoISF2LHQpLHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R8fChBLl9idWZmZXI9bCk7bGV0IGs9bnVsbDtuJiYhdSYmKGs9QS5vbkxvYWRlZE9ic2VydmFibGUuYWRkKG4pKSx1fHx0aGlzLl9pbnRlcm5hbFRleHR1cmVzQ2FjaGUucHVzaChBKTtjb25zdCBtZT0ocSx1ZSk9PntzJiZzLnJlbW92ZVBlbmRpbmdEYXRhKEEpLGU9PT1DPyhrJiZBLm9uTG9hZGVkT2JzZXJ2YWJsZS5yZW1vdmUoayksbGUuVXNlRmFsbGJhY2tUZXh0dXJlJiZ0aGlzLl9jcmVhdGVUZXh0dXJlQmFzZShsZS5GYWxsYmFja1RleHR1cmUsdCxBLmludmVydFkscyxyLG51bGwsYSxvLGgsbCxBKSxxPShxfHwiVW5rbm93biBlcnJvciIpKyhsZS5Vc2VGYWxsYmFja1RleHR1cmU/IiAtIEZhbGxiYWNrIHRleHR1cmUgd2FzIHVzZWQiOiIiKSxBLm9uRXJyb3JPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh7bWVzc2FnZTpxLGV4Y2VwdGlvbjp1ZX0pLGEmJmEocSx1ZSkpOihPLldhcm4oYEZhaWxlZCB0byBsb2FkICR7ZX0sIGZhbGxpbmcgYmFjayB0byAke0N9YCksdGhpcy5fY3JlYXRlVGV4dHVyZUJhc2UoQyx0LEEuaW52ZXJ0WSxzLHIsbixhLG8saCxsLEEsZCxfLGYsbSx2KSl9O2lmKEkpe2NvbnN0IHE9dWU9PntJLmxvYWREYXRhKHVlLEEsKGllLGJlLE1lLEhlLEtlLFllKT0+e1llP21lKCJUZXh0dXJlTG9hZGVyIGZhaWxlZCB0byBsb2FkIGRhdGEiKTpvKEEseCxzLHt3aWR0aDppZSxoZWlnaHQ6YmV9LEEuaW52ZXJ0WSwhTWUsSGUsKCk9PihLZSgpLCExKSxyKX0sbSl9O2w/bCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP3EobmV3IFVpbnQ4QXJyYXkobCkpOkFycmF5QnVmZmVyLmlzVmlldyhsKT9xKGwpOmEmJmEoIlVuYWJsZSB0byBsb2FkOiBvbmx5IEFycmF5QnVmZmVyIG9yIEFycmF5QnVmZmVyVmlldyBpcyBzdXBwb3J0ZWQiLG51bGwpOnRoaXMuX2xvYWRGaWxlKGUsdWU9PnEobmV3IFVpbnQ4QXJyYXkodWUpKSx2b2lkIDAscz9zLm9mZmxpbmVQcm92aWRlcjp2b2lkIDAsITAsKHVlLGllKT0+e21lKCJVbmFibGUgdG8gbG9hZCAiKyh1ZSYmdWUucmVzcG9uc2VVUkwsaWUpKX0pfWVsc2V7Y29uc3QgcT11ZT0+e1MmJiF0aGlzLl9kb05vdEhhbmRsZUNvbnRleHRMb3N0JiYoQS5fYnVmZmVyPXVlKSxvKEEseCxzLHVlLEEuaW52ZXJ0WSx0LCExLGgscil9OyFFfHxSP2wmJih0eXBlb2YgbC5kZWNvZGluZz09InN0cmluZyJ8fGwuY2xvc2UpP3EobCk6ZGUuX0ZpbGVUb29sc0xvYWRJbWFnZShlLHEsbWUscz9zLm9mZmxpbmVQcm92aWRlcjpudWxsLGYsQS5pbnZlcnRZJiZ0aGlzLl9mZWF0dXJlcy5uZWVkc0ludmVydGluZ0JpdG1hcD97aW1hZ2VPcmllbnRhdGlvbjoiZmxpcFkifTp2b2lkIDApOnR5cGVvZiBsPT0ic3RyaW5nInx8bCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxBcnJheUJ1ZmZlci5pc1ZpZXcobCl8fGwgaW5zdGFuY2VvZiBCbG9iP2RlLl9GaWxlVG9vbHNMb2FkSW1hZ2UobCxxLG1lLHM/cy5vZmZsaW5lUHJvdmlkZXI6bnVsbCxmLEEuaW52ZXJ0WSYmdGhpcy5fZmVhdHVyZXMubmVlZHNJbnZlcnRpbmdCaXRtYXA/e2ltYWdlT3JpZW50YXRpb246ImZsaXBZIn06dm9pZCAwKTpsJiZxKGwpfXJldHVybiBBfWNyZWF0ZVRleHR1cmUoZSx0LGkscyxyPTMsbj1udWxsLGE9bnVsbCxvPW51bGwsaD1udWxsLGw9bnVsbCx1PW51bGwsZCxfLGYsbSl7cmV0dXJuIHRoaXMuX2NyZWF0ZVRleHR1cmVCYXNlKGUsdCxpLHMscixuLGEsdGhpcy5fcHJlcGFyZVdlYkdMVGV4dHVyZS5iaW5kKHRoaXMpLCh2LEUsUyxSLEEsQyk9Pntjb25zdCBiPXRoaXMuX2dsLHg9Uy53aWR0aD09PXYmJlMuaGVpZ2h0PT09RSxJPWw/dGhpcy5fZ2V0SW50ZXJuYWxGb3JtYXQobCxBLl91c2VTUkdCQnVmZmVyKTpSPT09Ii5qcGciJiYhQS5fdXNlU1JHQkJ1ZmZlcj9iLlJHQjpBLl91c2VTUkdCQnVmZmVyP2IuU1JHQjhfQUxQSEE4OmIuUkdCQTtsZXQgVT1sP3RoaXMuX2dldEludGVybmFsRm9ybWF0KGwpOlI9PT0iLmpwZyImJiFBLl91c2VTUkdCQnVmZmVyP2IuUkdCOmIuUkdCQTtpZihBLl91c2VTUkdCQnVmZmVyJiZ0aGlzLndlYkdMVmVyc2lvbj09PTEmJihVPUkpLHgpcmV0dXJuIGIudGV4SW1hZ2UyRChiLlRFWFRVUkVfMkQsMCxJLFUsYi5VTlNJR05FRF9CWVRFLFMpLCExO2NvbnN0IGs9dGhpcy5fY2Fwcy5tYXhUZXh0dXJlU2l6ZTtpZihTLndpZHRoPmt8fFMuaGVpZ2h0Pmt8fCF0aGlzLl9zdXBwb3J0c0hhcmR3YXJlVGV4dHVyZVJlc2NhbGluZylyZXR1cm4gdGhpcy5fcHJlcGFyZVdvcmtpbmdDYW52YXMoKSwhdGhpcy5fd29ya2luZ0NhbnZhc3x8IXRoaXMuX3dvcmtpbmdDb250ZXh0fHwodGhpcy5fd29ya2luZ0NhbnZhcy53aWR0aD12LHRoaXMuX3dvcmtpbmdDYW52YXMuaGVpZ2h0PUUsdGhpcy5fd29ya2luZ0NvbnRleHQuZHJhd0ltYWdlKFMsMCwwLFMud2lkdGgsUy5oZWlnaHQsMCwwLHYsRSksYi50ZXhJbWFnZTJEKGIuVEVYVFVSRV8yRCwwLEksVSxiLlVOU0lHTkVEX0JZVEUsdGhpcy5fd29ya2luZ0NhbnZhcyksQS53aWR0aD12LEEuaGVpZ2h0PUUpLCExO3tjb25zdCBtZT1uZXcgTHQodGhpcyxMZS5UZW1wKTt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGIuVEVYVFVSRV8yRCxtZSwhMCksYi50ZXhJbWFnZTJEKGIuVEVYVFVSRV8yRCwwLEksVSxiLlVOU0lHTkVEX0JZVEUsUyksdGhpcy5fcmVzY2FsZVRleHR1cmUobWUsQSxzLEksKCk9Pnt0aGlzLl9yZWxlYXNlVGV4dHVyZShtZSksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShiLlRFWFRVUkVfMkQsQSwhMCksQygpfSl9cmV0dXJuITB9LG8saCxsLHUsZCxfLG0pfXN0YXRpYyBfRmlsZVRvb2xzTG9hZEltYWdlKGUsdCxpLHMscixuKXt0aHJvdyBRKCJGaWxlVG9vbHMiKX1fcmVzY2FsZVRleHR1cmUoZSx0LGkscyxyKXt9Y3JlYXRlUmF3VGV4dHVyZShlLHQsaSxzLHIsbixhLG89bnVsbCxoPTAsbD0wLHU9ITEpe3Rocm93IFEoIkVuZ2luZS5SYXdUZXh0dXJlIil9Y3JlYXRlUmF3Q3ViZVRleHR1cmUoZSx0LGkscyxyLG4sYSxvPW51bGwpe3Rocm93IFEoIkVuZ2luZS5SYXdUZXh0dXJlIil9Y3JlYXRlUmF3VGV4dHVyZTNEKGUsdCxpLHMscixuLGEsbyxoPW51bGwsbD0wKXt0aHJvdyBRKCJFbmdpbmUuUmF3VGV4dHVyZSIpfWNyZWF0ZVJhd1RleHR1cmUyREFycmF5KGUsdCxpLHMscixuLGEsbyxoPW51bGwsbD0wKXt0aHJvdyBRKCJFbmdpbmUuUmF3VGV4dHVyZSIpfV91bnBhY2tGbGlwWShlKXt0aGlzLl91bnBhY2tGbGlwWUNhY2hlZCE9PWUmJih0aGlzLl9nbC5waXhlbFN0b3JlaSh0aGlzLl9nbC5VTlBBQ0tfRkxJUF9ZX1dFQkdMLGU/MTowKSx0aGlzLmVuYWJsZVVucGFja0ZsaXBZQ2FjaGVkJiYodGhpcy5fdW5wYWNrRmxpcFlDYWNoZWQ9ZSkpfV9nZXRVbnBhY2tBbGlnbmVtZW50KCl7cmV0dXJuIHRoaXMuX2dsLmdldFBhcmFtZXRlcih0aGlzLl9nbC5VTlBBQ0tfQUxJR05NRU5UKX1fZ2V0VGV4dHVyZVRhcmdldChlKXtyZXR1cm4gZS5pc0N1YmU/dGhpcy5fZ2wuVEVYVFVSRV9DVUJFX01BUDplLmlzM0Q/dGhpcy5fZ2wuVEVYVFVSRV8zRDplLmlzMkRBcnJheXx8ZS5pc011bHRpdmlldz90aGlzLl9nbC5URVhUVVJFXzJEX0FSUkFZOnRoaXMuX2dsLlRFWFRVUkVfMkR9dXBkYXRlVGV4dHVyZVNhbXBsaW5nTW9kZShlLHQsaT0hMSl7Y29uc3Qgcz10aGlzLl9nZXRUZXh0dXJlVGFyZ2V0KHQpLHI9dGhpcy5fZ2V0U2FtcGxpbmdQYXJhbWV0ZXJzKGUsdC51c2VNaXBNYXBzfHxpKTt0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihzLHRoaXMuX2dsLlRFWFRVUkVfTUFHX0ZJTFRFUixyLm1hZyx0KSx0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihzLHRoaXMuX2dsLlRFWFRVUkVfTUlOX0ZJTFRFUixyLm1pbiksaSYmKHQuZ2VuZXJhdGVNaXBNYXBzPSEwLHRoaXMuX2dsLmdlbmVyYXRlTWlwbWFwKHMpKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHMsbnVsbCksdC5zYW1wbGluZ01vZGU9ZX11cGRhdGVUZXh0dXJlRGltZW5zaW9ucyhlLHQsaSxzPTEpe311cGRhdGVUZXh0dXJlV3JhcHBpbmdNb2RlKGUsdCxpPW51bGwscz1udWxsKXtjb25zdCByPXRoaXMuX2dldFRleHR1cmVUYXJnZXQoZSk7dCE9PW51bGwmJih0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihyLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0KSxlKSxlLl9jYWNoZWRXcmFwVT10KSxpIT09bnVsbCYmKHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKHIsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKGkpLGUpLGUuX2NhY2hlZFdyYXBWPWkpLChlLmlzMkRBcnJheXx8ZS5pczNEKSYmcyE9PW51bGwmJih0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihyLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9SLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZShzKSxlKSxlLl9jYWNoZWRXcmFwUj1zKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHIsbnVsbCl9X3NldHVwRGVwdGhTdGVuY2lsVGV4dHVyZShlLHQsaSxzLHIsbj0xKXtjb25zdCBhPXQud2lkdGh8fHQsbz10LmhlaWdodHx8dCxoPXQubGF5ZXJzfHwwO2UuYmFzZVdpZHRoPWEsZS5iYXNlSGVpZ2h0PW8sZS53aWR0aD1hLGUuaGVpZ2h0PW8sZS5pczJEQXJyYXk9aD4wLGUuZGVwdGg9aCxlLmlzUmVhZHk9ITAsZS5zYW1wbGVzPW4sZS5nZW5lcmF0ZU1pcE1hcHM9ITEsZS5zYW1wbGluZ01vZGU9cz8yOjEsZS50eXBlPTAsZS5fY29tcGFyaXNvbkZ1bmN0aW9uPXI7Y29uc3QgbD10aGlzLl9nbCx1PXRoaXMuX2dldFRleHR1cmVUYXJnZXQoZSksZD10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoZS5zYW1wbGluZ01vZGUsITEpO2wudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9NQUdfRklMVEVSLGQubWFnKSxsLnRleFBhcmFtZXRlcmkodSxsLlRFWFRVUkVfTUlOX0ZJTFRFUixkLm1pbiksbC50ZXhQYXJhbWV0ZXJpKHUsbC5URVhUVVJFX1dSQVBfUyxsLkNMQU1QX1RPX0VER0UpLGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9XUkFQX1QsbC5DTEFNUF9UT19FREdFKSx0aGlzLndlYkdMVmVyc2lvbj4xJiYocj09PTA/KGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9DT01QQVJFX0ZVTkMsNTE1KSxsLnRleFBhcmFtZXRlcmkodSxsLlRFWFRVUkVfQ09NUEFSRV9NT0RFLGwuTk9ORSkpOihsLnRleFBhcmFtZXRlcmkodSxsLlRFWFRVUkVfQ09NUEFSRV9GVU5DLHIpLGwudGV4UGFyYW1ldGVyaSh1LGwuVEVYVFVSRV9DT01QQVJFX01PREUsbC5DT01QQVJFX1JFRl9UT19URVhUVVJFKSkpfV91cGxvYWRDb21wcmVzc2VkRGF0YVRvVGV4dHVyZURpcmVjdGx5KGUsdCxpLHMscixuPTAsYT0wKXtjb25zdCBvPXRoaXMuX2dsO2xldCBoPW8uVEVYVFVSRV8yRDtpZihlLmlzQ3ViZSYmKGg9by5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grbiksZS5fdXNlU1JHQkJ1ZmZlcilzd2l0Y2godCl7Y2FzZSAzNzQ5MjpjYXNlIDM2MTk2OnRoaXMuX2NhcHMuZXRjMj90PW8uQ09NUFJFU1NFRF9TUkdCOF9FVEMyOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzNzQ5Njp0aGlzLl9jYXBzLmV0YzI/dD1vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0VUQzJfRUFDOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzNjQ5Mjp0PW8uQ09NUFJFU1NFRF9TUkdCX0FMUEhBX0JQVENfVU5PUk1fRVhUO2JyZWFrO2Nhc2UgMzc4MDg6dD1vLkNPTVBSRVNTRURfU1JHQjhfQUxQSEE4X0FTVENfNHg0X0tIUjticmVhaztjYXNlIDMzNzc2OnRoaXMuX2NhcHMuczN0Y19zcmdiP3Q9by5DT01QUkVTU0VEX1NSR0JfUzNUQ19EWFQxX0VYVDplLl91c2VTUkdCQnVmZmVyPSExO2JyZWFrO2Nhc2UgMzM3Nzc6dGhpcy5fY2Fwcy5zM3RjX3NyZ2I/dD1vLkNPTVBSRVNTRURfU1JHQl9BTFBIQV9TM1RDX0RYVDFfRVhUOmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWs7Y2FzZSAzMzc3OTp0aGlzLl9jYXBzLnMzdGNfc3JnYj90PW8uQ09NUFJFU1NFRF9TUkdCX0FMUEhBX1MzVENfRFhUNV9FWFQ6ZS5fdXNlU1JHQkJ1ZmZlcj0hMTticmVhaztkZWZhdWx0OmUuX3VzZVNSR0JCdWZmZXI9ITE7YnJlYWt9dGhpcy5fZ2wuY29tcHJlc3NlZFRleEltYWdlMkQoaCxhLHQsaSxzLDAscil9X3VwbG9hZERhdGFUb1RleHR1cmVEaXJlY3RseShlLHQsaT0wLHM9MCxyLG49ITEpe2NvbnN0IGE9dGhpcy5fZ2wsbz10aGlzLl9nZXRXZWJHTFRleHR1cmVUeXBlKGUudHlwZSksaD10aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChlLmZvcm1hdCksbD1yPT09dm9pZCAwP3RoaXMuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGUudHlwZSxlLmZvcm1hdCxlLl91c2VTUkdCQnVmZmVyKTp0aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChyLGUuX3VzZVNSR0JCdWZmZXIpO3RoaXMuX3VucGFja0ZsaXBZKGUuaW52ZXJ0WSk7bGV0IHU9YS5URVhUVVJFXzJEO2UuaXNDdWJlJiYodT1hLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtpKTtjb25zdCBkPU1hdGgucm91bmQoTWF0aC5sb2coZS53aWR0aCkqTWF0aC5MT0cyRSksXz1NYXRoLnJvdW5kKE1hdGgubG9nKGUuaGVpZ2h0KSpNYXRoLkxPRzJFKSxmPW4/ZS53aWR0aDpNYXRoLnBvdygyLE1hdGgubWF4KGQtcywwKSksbT1uP2UuaGVpZ2h0Ok1hdGgucG93KDIsTWF0aC5tYXgoXy1zLDApKTthLnRleEltYWdlMkQodSxzLGwsZixtLDAsaCxvLHQpfXVwZGF0ZVRleHR1cmVEYXRhKGUsdCxpLHMscixuLGE9MCxvPTAsaD0hMSl7Y29uc3QgbD10aGlzLl9nbCx1PXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoZS50eXBlKSxkPXRoaXMuX2dldEludGVybmFsRm9ybWF0KGUuZm9ybWF0KTt0aGlzLl91bnBhY2tGbGlwWShlLmludmVydFkpO2xldCBfPWwuVEVYVFVSRV8yRCxmPWwuVEVYVFVSRV8yRDtlLmlzQ3ViZSYmKGY9bC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1grYSxfPWwuVEVYVFVSRV9DVUJFX01BUCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShfLGUsITApLGwudGV4U3ViSW1hZ2UyRChmLG8saSxzLHIsbixkLHUsdCksaCYmdGhpcy5fZ2wuZ2VuZXJhdGVNaXBtYXAoZiksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShfLG51bGwpfV91cGxvYWRBcnJheUJ1ZmZlclZpZXdUb1RleHR1cmUoZSx0LGk9MCxzPTApe2NvbnN0IHI9dGhpcy5fZ2wsbj1lLmlzQ3ViZT9yLlRFWFRVUkVfQ1VCRV9NQVA6ci5URVhUVVJFXzJEO3RoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkobixlLCEwKSx0aGlzLl91cGxvYWREYXRhVG9UZXh0dXJlRGlyZWN0bHkoZSx0LGkscyksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLG51bGwsITApfV9wcmVwYXJlV2ViR0xUZXh0dXJlQ29udGludWF0aW9uKGUsdCxpLHMscil7Y29uc3Qgbj10aGlzLl9nbDtpZighbilyZXR1cm47Y29uc3QgYT10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMociwhaSk7bi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUFHX0ZJTFRFUixhLm1hZyksbi50ZXhQYXJhbWV0ZXJpKG4uVEVYVFVSRV8yRCxuLlRFWFRVUkVfTUlOX0ZJTFRFUixhLm1pbiksIWkmJiFzJiZuLmdlbmVyYXRlTWlwbWFwKG4uVEVYVFVSRV8yRCksdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShuLlRFWFRVUkVfMkQsbnVsbCksdCYmdC5yZW1vdmVQZW5kaW5nRGF0YShlKSxlLm9uTG9hZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksZS5vbkxvYWRlZE9ic2VydmFibGUuY2xlYXIoKX1fcHJlcGFyZVdlYkdMVGV4dHVyZShlLHQsaSxzLHIsbixhLG8saD0zKXtjb25zdCBsPXRoaXMuZ2V0Q2FwcygpLm1heFRleHR1cmVTaXplLHU9TWF0aC5taW4obCx0aGlzLm5lZWRQT1RUZXh0dXJlcz9kZS5HZXRFeHBvbmVudE9mVHdvKHMud2lkdGgsbCk6cy53aWR0aCksZD1NYXRoLm1pbihsLHRoaXMubmVlZFBPVFRleHR1cmVzP2RlLkdldEV4cG9uZW50T2ZUd28ocy5oZWlnaHQsbCk6cy5oZWlnaHQpLF89dGhpcy5fZ2w7aWYoXyl7aWYoIWUuX2hhcmR3YXJlVGV4dHVyZSl7aSYmaS5yZW1vdmVQZW5kaW5nRGF0YShlKTtyZXR1cm59dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShfLlRFWFRVUkVfMkQsZSwhMCksdGhpcy5fdW5wYWNrRmxpcFkocj09PXZvaWQgMD8hMDohIXIpLGUuYmFzZVdpZHRoPXMud2lkdGgsZS5iYXNlSGVpZ2h0PXMuaGVpZ2h0LGUud2lkdGg9dSxlLmhlaWdodD1kLGUuaXNSZWFkeT0hMCwhbyh1LGQscyx0LGUsKCk9Pnt0aGlzLl9wcmVwYXJlV2ViR0xUZXh0dXJlQ29udGludWF0aW9uKGUsaSxuLGEsaCl9KSYmdGhpcy5fcHJlcGFyZVdlYkdMVGV4dHVyZUNvbnRpbnVhdGlvbihlLGksbixhLGgpfX1fc2V0dXBGcmFtZWJ1ZmZlckRlcHRoQXR0YWNobWVudHMoZSx0LGkscyxyPTEpe2NvbnN0IG49dGhpcy5fZ2w7aWYoZSYmdClyZXR1cm4gdGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKGkscyxyLG4uREVQVEhfU1RFTkNJTCxuLkRFUFRIMjRfU1RFTkNJTDgsbi5ERVBUSF9TVEVOQ0lMX0FUVEFDSE1FTlQpO2lmKHQpe2xldCBhPW4uREVQVEhfQ09NUE9ORU5UMTY7cmV0dXJuIHRoaXMuX3dlYkdMVmVyc2lvbj4xJiYoYT1uLkRFUFRIX0NPTVBPTkVOVDMyRiksdGhpcy5fY3JlYXRlUmVuZGVyQnVmZmVyKGkscyxyLGEsYSxuLkRFUFRIX0FUVEFDSE1FTlQpfXJldHVybiBlP3RoaXMuX2NyZWF0ZVJlbmRlckJ1ZmZlcihpLHMscixuLlNURU5DSUxfSU5ERVg4LG4uU1RFTkNJTF9JTkRFWDgsbi5TVEVOQ0lMX0FUVEFDSE1FTlQpOm51bGx9X2NyZWF0ZVJlbmRlckJ1ZmZlcihlLHQsaSxzLHIsbixhPSEwKXtjb25zdCBoPXRoaXMuX2dsLmNyZWF0ZVJlbmRlcmJ1ZmZlcigpO3JldHVybiB0aGlzLl91cGRhdGVSZW5kZXJCdWZmZXIoaCxlLHQsaSxzLHIsbixhKX1fdXBkYXRlUmVuZGVyQnVmZmVyKGUsdCxpLHMscixuLGEsbz0hMCl7Y29uc3QgaD10aGlzLl9nbDtyZXR1cm4gaC5iaW5kUmVuZGVyYnVmZmVyKGguUkVOREVSQlVGRkVSLGUpLHM+MSYmaC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGU/aC5yZW5kZXJidWZmZXJTdG9yYWdlTXVsdGlzYW1wbGUoaC5SRU5ERVJCVUZGRVIscyxuLHQsaSk6aC5yZW5kZXJidWZmZXJTdG9yYWdlKGguUkVOREVSQlVGRkVSLHIsdCxpKSxoLmZyYW1lYnVmZmVyUmVuZGVyYnVmZmVyKGguRlJBTUVCVUZGRVIsYSxoLlJFTkRFUkJVRkZFUixlKSxvJiZoLmJpbmRSZW5kZXJidWZmZXIoaC5SRU5ERVJCVUZGRVIsbnVsbCksZX1fcmVsZWFzZVRleHR1cmUoZSl7dmFyIHQ7dGhpcy5fZGVsZXRlVGV4dHVyZSgodD1lLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC51bmRlcmx5aW5nUmVzb3VyY2UpLHRoaXMudW5iaW5kQWxsVGV4dHVyZXMoKTtjb25zdCBpPXRoaXMuX2ludGVybmFsVGV4dHVyZXNDYWNoZS5pbmRleE9mKGUpO2khPT0tMSYmdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnNwbGljZShpLDEpLGUuX2xvZFRleHR1cmVIaWdoJiZlLl9sb2RUZXh0dXJlSGlnaC5kaXNwb3NlKCksZS5fbG9kVGV4dHVyZU1pZCYmZS5fbG9kVGV4dHVyZU1pZC5kaXNwb3NlKCksZS5fbG9kVGV4dHVyZUxvdyYmZS5fbG9kVGV4dHVyZUxvdy5kaXNwb3NlKCksZS5faXJyYWRpYW5jZVRleHR1cmUmJmUuX2lycmFkaWFuY2VUZXh0dXJlLmRpc3Bvc2UoKX1fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXIoZSl7Y29uc3QgdD10aGlzLl9yZW5kZXJUYXJnZXRXcmFwcGVyQ2FjaGUuaW5kZXhPZihlKTt0IT09LTEmJnRoaXMuX3JlbmRlclRhcmdldFdyYXBwZXJDYWNoZS5zcGxpY2UodCwxKX1fZGVsZXRlVGV4dHVyZShlKXtlJiZ0aGlzLl9nbC5kZWxldGVUZXh0dXJlKGUpfV9zZXRQcm9ncmFtKGUpe3RoaXMuX2N1cnJlbnRQcm9ncmFtIT09ZSYmKHRoaXMuX2dsLnVzZVByb2dyYW0oZSksdGhpcy5fY3VycmVudFByb2dyYW09ZSl9YmluZFNhbXBsZXJzKGUpe2NvbnN0IHQ9ZS5nZXRQaXBlbGluZUNvbnRleHQoKTt0aGlzLl9zZXRQcm9ncmFtKHQucHJvZ3JhbSk7Y29uc3QgaT1lLmdldFNhbXBsZXJzKCk7Zm9yKGxldCBzPTA7czxpLmxlbmd0aDtzKyspe2NvbnN0IHI9ZS5nZXRVbmlmb3JtKGlbc10pO3ImJih0aGlzLl9ib3VuZFVuaWZvcm1zW3NdPXIpfXRoaXMuX2N1cnJlbnRFZmZlY3Q9bnVsbH1fYWN0aXZhdGVDdXJyZW50VGV4dHVyZSgpe3RoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbCE9PXRoaXMuX2FjdGl2ZUNoYW5uZWwmJih0aGlzLl9nbC5hY3RpdmVUZXh0dXJlKHRoaXMuX2dsLlRFWFRVUkUwK3RoaXMuX2FjdGl2ZUNoYW5uZWwpLHRoaXMuX2N1cnJlbnRUZXh0dXJlQ2hhbm5lbD10aGlzLl9hY3RpdmVDaGFubmVsKX1fYmluZFRleHR1cmVEaXJlY3RseShlLHQsaT0hMSxzPSExKXt2YXIgcixuO2xldCBhPSExO2NvbnN0IG89dCYmdC5fYXNzb2NpYXRlZENoYW5uZWw+LTE7aWYoaSYmbyYmKHRoaXMuX2FjdGl2ZUNoYW5uZWw9dC5fYXNzb2NpYXRlZENoYW5uZWwpLHRoaXMuX2JvdW5kVGV4dHVyZXNDYWNoZVt0aGlzLl9hY3RpdmVDaGFubmVsXSE9PXR8fHMpe2lmKHRoaXMuX2FjdGl2YXRlQ3VycmVudFRleHR1cmUoKSx0JiZ0LmlzTXVsdGl2aWV3KXRocm93IGNvbnNvbGUuZXJyb3IoZSx0KSwiX2JpbmRUZXh0dXJlRGlyZWN0bHkgY2FsbGVkIHdpdGggYSBtdWx0aXZpZXcgdGV4dHVyZSEiO3RoaXMuX2dsLmJpbmRUZXh0dXJlKGUsKG49KHI9dD09bnVsbD92b2lkIDA6dC5faGFyZHdhcmVUZXh0dXJlKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIudW5kZXJseWluZ1Jlc291cmNlKSE9PW51bGwmJm4hPT12b2lkIDA/bjpudWxsKSx0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGVbdGhpcy5fYWN0aXZlQ2hhbm5lbF09dCx0JiYodC5fYXNzb2NpYXRlZENoYW5uZWw9dGhpcy5fYWN0aXZlQ2hhbm5lbCl9ZWxzZSBpJiYoYT0hMCx0aGlzLl9hY3RpdmF0ZUN1cnJlbnRUZXh0dXJlKCkpO3JldHVybiBvJiYhaSYmdGhpcy5fYmluZFNhbXBsZXJVbmlmb3JtVG9DaGFubmVsKHQuX2Fzc29jaWF0ZWRDaGFubmVsLHRoaXMuX2FjdGl2ZUNoYW5uZWwpLGF9X2JpbmRUZXh0dXJlKGUsdCxpKXtpZihlPT09dm9pZCAwKXJldHVybjt0JiYodC5fYXNzb2NpYXRlZENoYW5uZWw9ZSksdGhpcy5fYWN0aXZlQ2hhbm5lbD1lO2NvbnN0IHM9dD90aGlzLl9nZXRUZXh0dXJlVGFyZ2V0KHQpOnRoaXMuX2dsLlRFWFRVUkVfMkQ7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShzLHQpfXVuYmluZEFsbFRleHR1cmVzKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9tYXhTaW11bHRhbmVvdXNUZXh0dXJlcztlKyspdGhpcy5fYWN0aXZlQ2hhbm5lbD1lLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCksdGhpcy53ZWJHTFZlcnNpb24+MSYmKHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8zRCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkRfQVJSQVksbnVsbCkpfXNldFRleHR1cmUoZSx0LGkscyl7ZSE9PXZvaWQgMCYmKHQmJih0aGlzLl9ib3VuZFVuaWZvcm1zW2VdPXQpLHRoaXMuX3NldFRleHR1cmUoZSxpKSl9X2JpbmRTYW1wbGVyVW5pZm9ybVRvQ2hhbm5lbChlLHQpe2NvbnN0IGk9dGhpcy5fYm91bmRVbmlmb3Jtc1tlXTshaXx8aS5fY3VycmVudFN0YXRlPT09dHx8KHRoaXMuX2dsLnVuaWZvcm0xaShpLHQpLGkuX2N1cnJlbnRTdGF0ZT10KX1fZ2V0VGV4dHVyZVdyYXBNb2RlKGUpe3N3aXRjaChlKXtjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLlJFUEVBVDtjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLkNMQU1QX1RPX0VER0U7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5NSVJST1JFRF9SRVBFQVR9cmV0dXJuIHRoaXMuX2dsLlJFUEVBVH1fc2V0VGV4dHVyZShlLHQsaT0hMSxzPSExLHI9IiIpe2lmKCF0KXJldHVybiB0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGVbZV0hPW51bGwmJih0aGlzLl9hY3RpdmVDaGFubmVsPWUsdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzJELG51bGwpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV9DVUJFX01BUCxudWxsKSx0aGlzLndlYkdMVmVyc2lvbj4xJiYodGhpcy5fYmluZFRleHR1cmVEaXJlY3RseSh0aGlzLl9nbC5URVhUVVJFXzNELG51bGwpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkodGhpcy5fZ2wuVEVYVFVSRV8yRF9BUlJBWSxudWxsKSkpLCExO2lmKHQudmlkZW8pdGhpcy5fYWN0aXZlQ2hhbm5lbD1lLHQudXBkYXRlKCk7ZWxzZSBpZih0LmRlbGF5TG9hZFN0YXRlPT09NClyZXR1cm4gdC5kZWxheUxvYWQoKSwhMTtsZXQgbjtzP249dC5kZXB0aFN0ZW5jaWxUZXh0dXJlOnQuaXNSZWFkeSgpP249dC5nZXRJbnRlcm5hbFRleHR1cmUoKTp0LmlzQ3ViZT9uPXRoaXMuZW1wdHlDdWJlVGV4dHVyZTp0LmlzM0Q/bj10aGlzLmVtcHR5VGV4dHVyZTNEOnQuaXMyREFycmF5P249dGhpcy5lbXB0eVRleHR1cmUyREFycmF5Om49dGhpcy5lbXB0eVRleHR1cmUsIWkmJm4mJihuLl9hc3NvY2lhdGVkQ2hhbm5lbD1lKTtsZXQgYT0hMDt0aGlzLl9ib3VuZFRleHR1cmVzQ2FjaGVbZV09PT1uJiYoaXx8dGhpcy5fYmluZFNhbXBsZXJVbmlmb3JtVG9DaGFubmVsKG4uX2Fzc29jaWF0ZWRDaGFubmVsLGUpLGE9ITEpLHRoaXMuX2FjdGl2ZUNoYW5uZWw9ZTtjb25zdCBvPXRoaXMuX2dldFRleHR1cmVUYXJnZXQobik7aWYoYSYmdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShvLG4saSksbiYmIW4uaXNNdWx0aXZpZXcpe2lmKG4uaXNDdWJlJiZuLl9jYWNoZWRDb29yZGluYXRlc01vZGUhPT10LmNvb3JkaW5hdGVzTW9kZSl7bi5fY2FjaGVkQ29vcmRpbmF0ZXNNb2RlPXQuY29vcmRpbmF0ZXNNb2RlO2NvbnN0IGg9dC5jb29yZGluYXRlc01vZGUhPT0zJiZ0LmNvb3JkaW5hdGVzTW9kZSE9PTU/MTowO3Qud3JhcFU9aCx0LndyYXBWPWh9bi5fY2FjaGVkV3JhcFUhPT10LndyYXBVJiYobi5fY2FjaGVkV3JhcFU9dC53cmFwVSx0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihvLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9TLHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0LndyYXBVKSxuKSksbi5fY2FjaGVkV3JhcFYhPT10LndyYXBWJiYobi5fY2FjaGVkV3JhcFY9dC53cmFwVix0aGlzLl9zZXRUZXh0dXJlUGFyYW1ldGVySW50ZWdlcihvLHRoaXMuX2dsLlRFWFRVUkVfV1JBUF9ULHRoaXMuX2dldFRleHR1cmVXcmFwTW9kZSh0LndyYXBWKSxuKSksbi5pczNEJiZuLl9jYWNoZWRXcmFwUiE9PXQud3JhcFImJihuLl9jYWNoZWRXcmFwUj10LndyYXBSLHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKG8sdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1IsdGhpcy5fZ2V0VGV4dHVyZVdyYXBNb2RlKHQud3JhcFIpLG4pKSx0aGlzLl9zZXRBbmlzb3Ryb3BpY0xldmVsKG8sbix0LmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWwpfXJldHVybiEwfXNldFRleHR1cmVBcnJheShlLHQsaSxzKXtpZighKGU9PT12b2lkIDB8fCF0KSl7KCF0aGlzLl90ZXh0dXJlVW5pdHN8fHRoaXMuX3RleHR1cmVVbml0cy5sZW5ndGghPT1pLmxlbmd0aCkmJih0aGlzLl90ZXh0dXJlVW5pdHM9bmV3IEludDMyQXJyYXkoaS5sZW5ndGgpKTtmb3IobGV0IHI9MDtyPGkubGVuZ3RoO3IrKyl7Y29uc3Qgbj1pW3JdLmdldEludGVybmFsVGV4dHVyZSgpO24/KHRoaXMuX3RleHR1cmVVbml0c1tyXT1lK3Isbi5fYXNzb2NpYXRlZENoYW5uZWw9ZStyKTp0aGlzLl90ZXh0dXJlVW5pdHNbcl09LTF9dGhpcy5fZ2wudW5pZm9ybTFpdih0LHRoaXMuX3RleHR1cmVVbml0cyk7Zm9yKGxldCByPTA7cjxpLmxlbmd0aDtyKyspdGhpcy5fc2V0VGV4dHVyZSh0aGlzLl90ZXh0dXJlVW5pdHNbcl0saVtyXSwhMCl9fV9zZXRBbmlzb3Ryb3BpY0xldmVsKGUsdCxpKXtjb25zdCBzPXRoaXMuX2NhcHMudGV4dHVyZUFuaXNvdHJvcGljRmlsdGVyRXh0ZW5zaW9uO3Quc2FtcGxpbmdNb2RlIT09MTEmJnQuc2FtcGxpbmdNb2RlIT09MyYmdC5zYW1wbGluZ01vZGUhPT0yJiYoaT0xKSxzJiZ0Ll9jYWNoZWRBbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsIT09aSYmKHRoaXMuX3NldFRleHR1cmVQYXJhbWV0ZXJGbG9hdChlLHMuVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQsTWF0aC5taW4oaSx0aGlzLl9jYXBzLm1heEFuaXNvdHJvcHkpLHQpLHQuX2NhY2hlZEFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9aSl9X3NldFRleHR1cmVQYXJhbWV0ZXJGbG9hdChlLHQsaSxzKXt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGUscywhMCwhMCksdGhpcy5fZ2wudGV4UGFyYW1ldGVyZihlLHQsaSl9X3NldFRleHR1cmVQYXJhbWV0ZXJJbnRlZ2VyKGUsdCxpLHMpe3MmJnRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoZSxzLCEwLCEwKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKGUsdCxpKX11bmJpbmRBbGxBdHRyaWJ1dGVzKCl7aWYodGhpcy5fbXVzdFdpcGVWZXJ0ZXhBdHRyaWJ1dGVzKXt0aGlzLl9tdXN0V2lwZVZlcnRleEF0dHJpYnV0ZXM9ITE7Zm9yKGxldCBlPTA7ZTx0aGlzLl9jYXBzLm1heFZlcnRleEF0dHJpYnM7ZSsrKXRoaXMuZGlzYWJsZUF0dHJpYnV0ZUJ5SW5kZXgoZSk7cmV0dXJufWZvcihsZXQgZT0wLHQ9dGhpcy5fdmVydGV4QXR0cmliQXJyYXlzRW5hYmxlZC5sZW5ndGg7ZTx0O2UrKyllPj10aGlzLl9jYXBzLm1heFZlcnRleEF0dHJpYnN8fCF0aGlzLl92ZXJ0ZXhBdHRyaWJBcnJheXNFbmFibGVkW2VdfHx0aGlzLmRpc2FibGVBdHRyaWJ1dGVCeUluZGV4KGUpfXJlbGVhc2VFZmZlY3RzKCl7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY29tcGlsZWRFZmZlY3RzKXtjb25zdCB0PXRoaXMuX2NvbXBpbGVkRWZmZWN0c1tlXS5nZXRQaXBlbGluZUNvbnRleHQoKTt0aGlzLl9kZWxldGVQaXBlbGluZUNvbnRleHQodCl9dGhpcy5fY29tcGlsZWRFZmZlY3RzPXt9fWRpc3Bvc2UoKXt2YXIgZTt0aGlzLl9pc0Rpc3Bvc2VkPSEwLHRoaXMuc3RvcFJlbmRlckxvb3AoKSx0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlJiZ0aGlzLm9uQmVmb3JlVGV4dHVyZUluaXRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZW1wdHlUZXh0dXJlJiYodGhpcy5fcmVsZWFzZVRleHR1cmUodGhpcy5fZW1wdHlUZXh0dXJlKSx0aGlzLl9lbXB0eVRleHR1cmU9bnVsbCksdGhpcy5fZW1wdHlDdWJlVGV4dHVyZSYmKHRoaXMuX3JlbGVhc2VUZXh0dXJlKHRoaXMuX2VtcHR5Q3ViZVRleHR1cmUpLHRoaXMuX2VtcHR5Q3ViZVRleHR1cmU9bnVsbCksdGhpcy5fZHVtbXlGcmFtZWJ1ZmZlciYmdGhpcy5fZ2wuZGVsZXRlRnJhbWVidWZmZXIodGhpcy5fZHVtbXlGcmFtZWJ1ZmZlciksdGhpcy5yZWxlYXNlRWZmZWN0cygpLChlPXRoaXMucmVsZWFzZUNvbXB1dGVFZmZlY3RzKT09PW51bGx8fGU9PT12b2lkIDB8fGUuY2FsbCh0aGlzKSx0aGlzLnVuYmluZEFsbEF0dHJpYnV0ZXMoKSx0aGlzLl9ib3VuZFVuaWZvcm1zPXt9LGplKCkmJnRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmKHRoaXMuX2RvTm90SGFuZGxlQ29udGV4dExvc3R8fCh0aGlzLl9yZW5kZXJpbmdDYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcigid2ViZ2xjb250ZXh0bG9zdCIsdGhpcy5fb25Db250ZXh0TG9zdCksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIix0aGlzLl9vbkNvbnRleHRSZXN0b3JlZCkpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLHRoaXMuX2NoZWNrRm9yTW9iaWxlKSksdGhpcy5fd29ya2luZ0NhbnZhcz1udWxsLHRoaXMuX3dvcmtpbmdDb250ZXh0PW51bGwsdGhpcy5fY3VycmVudEJ1ZmZlclBvaW50ZXJzLmxlbmd0aD0wLHRoaXMuX3JlbmRlcmluZ0NhbnZhcz1udWxsLHRoaXMuX2N1cnJlbnRQcm9ncmFtPW51bGwsdGhpcy5fYm91bmRSZW5kZXJGdW5jdGlvbj1udWxsLERlLlJlc2V0Q2FjaGUoKTtmb3IoY29uc3QgdCBvZiB0aGlzLl9hY3RpdmVSZXF1ZXN0cyl0LmFib3J0KCk7dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuY2xlYXIoKX1hdHRhY2hDb250ZXh0TG9zdEV2ZW50KGUpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dGxvc3QiLGUsITEpfWF0dGFjaENvbnRleHRSZXN0b3JlZEV2ZW50KGUpe3RoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoIndlYmdsY29udGV4dHJlc3RvcmVkIixlLCExKX1nZXRFcnJvcigpe3JldHVybiB0aGlzLl9nbC5nZXRFcnJvcigpfV9jYW5SZW5kZXJUb0Zsb2F0RnJhbWVidWZmZXIoKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPjE/dGhpcy5fY2Fwcy5jb2xvckJ1ZmZlckZsb2F0OnRoaXMuX2NhblJlbmRlclRvRnJhbWVidWZmZXIoMSl9X2NhblJlbmRlclRvSGFsZkZsb2F0RnJhbWVidWZmZXIoKXtyZXR1cm4gdGhpcy5fd2ViR0xWZXJzaW9uPjE/dGhpcy5fY2Fwcy5jb2xvckJ1ZmZlckZsb2F0OnRoaXMuX2NhblJlbmRlclRvRnJhbWVidWZmZXIoMil9X2NhblJlbmRlclRvRnJhbWVidWZmZXIoZSl7Y29uc3QgdD10aGlzLl9nbDtmb3IoO3QuZ2V0RXJyb3IoKSE9PXQuTk9fRVJST1I7KTtsZXQgaT0hMDtjb25zdCBzPXQuY3JlYXRlVGV4dHVyZSgpO3QuYmluZFRleHR1cmUodC5URVhUVVJFXzJELHMpLHQudGV4SW1hZ2UyRCh0LlRFWFRVUkVfMkQsMCx0aGlzLl9nZXRSR0JBQnVmZmVySW50ZXJuYWxTaXplZEZvcm1hdChlKSwxLDEsMCx0LlJHQkEsdGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShlKSxudWxsKSx0LnRleFBhcmFtZXRlcmkodC5URVhUVVJFXzJELHQuVEVYVFVSRV9NSU5fRklMVEVSLHQuTkVBUkVTVCksdC50ZXhQYXJhbWV0ZXJpKHQuVEVYVFVSRV8yRCx0LlRFWFRVUkVfTUFHX0ZJTFRFUix0Lk5FQVJFU1QpO2NvbnN0IHI9dC5jcmVhdGVGcmFtZWJ1ZmZlcigpO3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsciksdC5mcmFtZWJ1ZmZlclRleHR1cmUyRCh0LkZSQU1FQlVGRkVSLHQuQ09MT1JfQVRUQUNITUVOVDAsdC5URVhUVVJFXzJELHMsMCk7Y29uc3Qgbj10LmNoZWNrRnJhbWVidWZmZXJTdGF0dXModC5GUkFNRUJVRkZFUik7aWYoaT1pJiZuPT09dC5GUkFNRUJVRkZFUl9DT01QTEVURSxpPWkmJnQuZ2V0RXJyb3IoKT09PXQuTk9fRVJST1IsaSYmKHQuY2xlYXIodC5DT0xPUl9CVUZGRVJfQklUKSxpPWkmJnQuZ2V0RXJyb3IoKT09PXQuTk9fRVJST1IpLGkpe3QuYmluZEZyYW1lYnVmZmVyKHQuRlJBTUVCVUZGRVIsbnVsbCk7Y29uc3QgYT10LlJHQkEsbz10LlVOU0lHTkVEX0JZVEUsaD1uZXcgVWludDhBcnJheSg0KTt0LnJlYWRQaXhlbHMoMCwwLDEsMSxhLG8saCksaT1pJiZ0LmdldEVycm9yKCk9PT10Lk5PX0VSUk9SfWZvcih0LmRlbGV0ZVRleHR1cmUocyksdC5kZWxldGVGcmFtZWJ1ZmZlcihyKSx0LmJpbmRGcmFtZWJ1ZmZlcih0LkZSQU1FQlVGRkVSLG51bGwpOyFpJiZ0LmdldEVycm9yKCkhPT10Lk5PX0VSUk9SOyk7cmV0dXJuIGl9X2dldFdlYkdMVGV4dHVyZVR5cGUoZSl7aWYodGhpcy5fd2ViR0xWZXJzaW9uPT09MSl7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy5fZ2wuRkxPQVQ7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5IQUxGX0ZMT0FUX09FUztjYXNlIDA6cmV0dXJuIHRoaXMuX2dsLlVOU0lHTkVEX0JZVEU7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF80XzRfNF80O2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV81XzVfMTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF81XzZfNX1yZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURX1zd2l0Y2goZSl7Y2FzZSAzOnJldHVybiB0aGlzLl9nbC5CWVRFO2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfQllURTtjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLlNIT1JUO2Nhc2UgNTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlQ7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5JTlQ7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlQ7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5GTE9BVDtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLkhBTEZfRkxPQVQ7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF80XzRfNF80O2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfU0hPUlRfNV81XzVfMTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9TSE9SVF81XzZfNTtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlRfMl8xMF8xMF8xMF9SRVY7Y2FzZSAxMjpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzI0Xzg7Y2FzZSAxMzpyZXR1cm4gdGhpcy5fZ2wuVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVjtjYXNlIDE0OnJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9JTlRfNV85XzlfOV9SRVY7Y2FzZSAxNTpyZXR1cm4gdGhpcy5fZ2wuRkxPQVRfMzJfVU5TSUdORURfSU5UXzI0XzhfUkVWfXJldHVybiB0aGlzLl9nbC5VTlNJR05FRF9CWVRFfV9nZXRJbnRlcm5hbEZvcm1hdChlLHQ9ITEpe2xldCBpPXQ/dGhpcy5fZ2wuU1JHQjhfQUxQSEE4OnRoaXMuX2dsLlJHQkE7c3dpdGNoKGUpe2Nhc2UgMDppPXRoaXMuX2dsLkFMUEhBO2JyZWFrO2Nhc2UgMTppPXRoaXMuX2dsLkxVTUlOQU5DRTticmVhaztjYXNlIDI6aT10aGlzLl9nbC5MVU1JTkFOQ0VfQUxQSEE7YnJlYWs7Y2FzZSA2Omk9dGhpcy5fZ2wuUkVEO2JyZWFrO2Nhc2UgNzppPXRoaXMuX2dsLlJHO2JyZWFrO2Nhc2UgNDppPXQ/dGhpcy5fZ2wuU1JHQjp0aGlzLl9nbC5SR0I7YnJlYWs7Y2FzZSA1Omk9dD90aGlzLl9nbC5TUkdCOF9BTFBIQTg6dGhpcy5fZ2wuUkdCQTticmVha31pZih0aGlzLl93ZWJHTFZlcnNpb24+MSlzd2l0Y2goZSl7Y2FzZSA4Omk9dGhpcy5fZ2wuUkVEX0lOVEVHRVI7YnJlYWs7Y2FzZSA5Omk9dGhpcy5fZ2wuUkdfSU5URUdFUjticmVhaztjYXNlIDEwOmk9dGhpcy5fZ2wuUkdCX0lOVEVHRVI7YnJlYWs7Y2FzZSAxMTppPXRoaXMuX2dsLlJHQkFfSU5URUdFUjticmVha31yZXR1cm4gaX1fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoZSx0LGk9ITEpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbj09PTEpe2lmKHQhPT12b2lkIDApc3dpdGNoKHQpe2Nhc2UgMDpyZXR1cm4gdGhpcy5fZ2wuQUxQSEE7Y2FzZSAxOnJldHVybiB0aGlzLl9nbC5MVU1JTkFOQ0U7Y2FzZSAyOnJldHVybiB0aGlzLl9nbC5MVU1JTkFOQ0VfQUxQSEE7Y2FzZSA0OnJldHVybiBpP3RoaXMuX2dsLlNSR0I6dGhpcy5fZ2wuUkdCfXJldHVybiB0aGlzLl9nbC5SR0JBfXN3aXRjaChlKXtjYXNlIDM6c3dpdGNoKHQpe2Nhc2UgNjpyZXR1cm4gdGhpcy5fZ2wuUjhfU05PUk07Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5SRzhfU05PUk07Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5SR0I4X1NOT1JNO2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjhJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkc4STtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0I4STtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBOEk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQThfU05PUk19Y2FzZSAwOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlI4O2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkc4O2Nhc2UgNDpyZXR1cm4gaT90aGlzLl9nbC5TUkdCODp0aGlzLl9nbC5SR0I4O2Nhc2UgNTpyZXR1cm4gaT90aGlzLl9nbC5TUkdCOF9BTFBIQTg6dGhpcy5fZ2wuUkdCQTg7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SOFVJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkc4VUk7Y2FzZSAxMDpyZXR1cm4gdGhpcy5fZ2wuUkdCOFVJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkE4VUk7Y2FzZSAwOnJldHVybiB0aGlzLl9nbC5BTFBIQTtjYXNlIDE6cmV0dXJuIHRoaXMuX2dsLkxVTUlOQU5DRTtjYXNlIDI6cmV0dXJuIHRoaXMuX2dsLkxVTUlOQU5DRV9BTFBIQTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBOH1jYXNlIDQ6c3dpdGNoKHQpe2Nhc2UgODpyZXR1cm4gdGhpcy5fZ2wuUjE2STtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHMTZJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjE2STtjYXNlIDExOnJldHVybiB0aGlzLl9nbC5SR0JBMTZJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkExNkl9Y2FzZSA1OnN3aXRjaCh0KXtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlIxNlVJO2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkcxNlVJO2Nhc2UgMTA6cmV0dXJuIHRoaXMuX2dsLlJHQjE2VUk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2VUk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2VUl9Y2FzZSA2OnN3aXRjaCh0KXtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlIzMkk7Y2FzZSA5OnJldHVybiB0aGlzLl9nbC5SRzMySTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0IzMkk7Y2FzZSAxMTpyZXR1cm4gdGhpcy5fZ2wuUkdCQTMySTtkZWZhdWx0OnJldHVybiB0aGlzLl9nbC5SR0JBMzJJfWNhc2UgNzpzd2l0Y2godCl7Y2FzZSA4OnJldHVybiB0aGlzLl9nbC5SMzJVSTtjYXNlIDk6cmV0dXJuIHRoaXMuX2dsLlJHMzJVSTtjYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0IzMlVJO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMlVJO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMlVJfWNhc2UgMTpzd2l0Y2godCl7Y2FzZSA2OnJldHVybiB0aGlzLl9nbC5SMzJGO2Nhc2UgNzpyZXR1cm4gdGhpcy5fZ2wuUkczMkY7Y2FzZSA0OnJldHVybiB0aGlzLl9nbC5SR0IzMkY7Y2FzZSA1OnJldHVybiB0aGlzLl9nbC5SR0JBMzJGO2RlZmF1bHQ6cmV0dXJuIHRoaXMuX2dsLlJHQkEzMkZ9Y2FzZSAyOnN3aXRjaCh0KXtjYXNlIDY6cmV0dXJuIHRoaXMuX2dsLlIxNkY7Y2FzZSA3OnJldHVybiB0aGlzLl9nbC5SRzE2RjtjYXNlIDQ6cmV0dXJuIHRoaXMuX2dsLlJHQjE2RjtjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLlJHQkExNkY7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCQTE2Rn1jYXNlIDEwOnJldHVybiB0aGlzLl9nbC5SR0I1NjU7Y2FzZSAxMzpyZXR1cm4gdGhpcy5fZ2wuUjExRl9HMTFGX0IxMEY7Y2FzZSAxNDpyZXR1cm4gdGhpcy5fZ2wuUkdCOV9FNTtjYXNlIDg6cmV0dXJuIHRoaXMuX2dsLlJHQkE0O2Nhc2UgOTpyZXR1cm4gdGhpcy5fZ2wuUkdCNV9BMTtjYXNlIDExOnN3aXRjaCh0KXtjYXNlIDU6cmV0dXJuIHRoaXMuX2dsLlJHQjEwX0EyO2Nhc2UgMTE6cmV0dXJuIHRoaXMuX2dsLlJHQjEwX0EyVUk7ZGVmYXVsdDpyZXR1cm4gdGhpcy5fZ2wuUkdCMTBfQTJ9fXJldHVybiBpP3RoaXMuX2dsLlNSR0I4X0FMUEhBODp0aGlzLl9nbC5SR0JBOH1fZ2V0UkdCQU11bHRpU2FtcGxlQnVmZmVyRm9ybWF0KGUpe3JldHVybiBlPT09MT90aGlzLl9nbC5SR0JBMzJGOmU9PT0yP3RoaXMuX2dsLlJHQkExNkY6dGhpcy5fZ2wuUkdCQTh9X2xvYWRGaWxlKGUsdCxpLHMscixuKXtjb25zdCBhPWRlLl9GaWxlVG9vbHNMb2FkRmlsZShlLHQsaSxzLHIsbik7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2goYSksYS5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQobz0+e3RoaXMuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZSh0aGlzLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKG8pLDEpfSksYX1zdGF0aWMgX0ZpbGVUb29sc0xvYWRGaWxlKGUsdCxpLHMscixuKXt0aHJvdyBRKCJGaWxlVG9vbHMiKX1yZWFkUGl4ZWxzKGUsdCxpLHMscj0hMCxuPSEwKXtjb25zdCBhPXI/NDozLG89cj90aGlzLl9nbC5SR0JBOnRoaXMuX2dsLlJHQixoPW5ldyBVaW50OEFycmF5KHMqaSphKTtyZXR1cm4gbiYmdGhpcy5mbHVzaEZyYW1lYnVmZmVyKCksdGhpcy5fZ2wucmVhZFBpeGVscyhlLHQsaSxzLG8sdGhpcy5fZ2wuVU5TSUdORURfQllURSxoKSxQcm9taXNlLnJlc29sdmUoaCl9c3RhdGljIGdldCBJc1N1cHBvcnRlZEFzeW5jKCl7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmlzU3VwcG9ydGVkKCkpfXN0YXRpYyBnZXQgSXNTdXBwb3J0ZWQoKXtyZXR1cm4gdGhpcy5pc1N1cHBvcnRlZCgpfXN0YXRpYyBpc1N1cHBvcnRlZCgpe2lmKHRoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQhPT1udWxsKXJldHVybiF0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0O2lmKHRoaXMuX0lzU3VwcG9ydGVkPT09bnVsbCl0cnl7Y29uc3QgZT10aGlzLl9DcmVhdGVDYW52YXMoMSwxKSx0PWUuZ2V0Q29udGV4dCgid2ViZ2wiKXx8ZS5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiKTt0aGlzLl9Jc1N1cHBvcnRlZD10IT1udWxsJiYhIXdpbmRvdy5XZWJHTFJlbmRlcmluZ0NvbnRleHR9Y2F0Y2h7dGhpcy5fSXNTdXBwb3J0ZWQ9ITF9cmV0dXJuIHRoaXMuX0lzU3VwcG9ydGVkfXN0YXRpYyBnZXQgSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdCgpe2lmKHRoaXMuX0hhc01ham9yUGVyZm9ybWFuY2VDYXZlYXQ9PT1udWxsKXRyeXtjb25zdCBlPXRoaXMuX0NyZWF0ZUNhbnZhcygxLDEpLHQ9ZS5nZXRDb250ZXh0KCJ3ZWJnbCIse2ZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITB9KXx8ZS5nZXRDb250ZXh0KCJleHBlcmltZW50YWwtd2ViZ2wiLHtmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiEwfSk7dGhpcy5fSGFzTWFqb3JQZXJmb3JtYW5jZUNhdmVhdD0hdH1jYXRjaHt0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PSExfXJldHVybiB0aGlzLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0fXN0YXRpYyBDZWlsaW5nUE9UKGUpe3JldHVybiBlLS0sZXw9ZT4+MSxlfD1lPj4yLGV8PWU+PjQsZXw9ZT4+OCxlfD1lPj4xNixlKyssZX1zdGF0aWMgRmxvb3JQT1QoZSl7cmV0dXJuIGU9ZXxlPj4xLGU9ZXxlPj4yLGU9ZXxlPj40LGU9ZXxlPj44LGU9ZXxlPj4xNixlLShlPj4xKX1zdGF0aWMgTmVhcmVzdFBPVChlKXtjb25zdCB0PWRlLkNlaWxpbmdQT1QoZSksaT1kZS5GbG9vclBPVChlKTtyZXR1cm4gdC1lPmUtaT9pOnR9c3RhdGljIEdldEV4cG9uZW50T2ZUd28oZSx0LGk9Mil7bGV0IHM7c3dpdGNoKGkpe2Nhc2UgMTpzPWRlLkZsb29yUE9UKGUpO2JyZWFrO2Nhc2UgMjpzPWRlLk5lYXJlc3RQT1QoZSk7YnJlYWs7Y2FzZSAzOmRlZmF1bHQ6cz1kZS5DZWlsaW5nUE9UKGUpO2JyZWFrfXJldHVybiBNYXRoLm1pbihzLHQpfXN0YXRpYyBRdWV1ZU5ld0ZyYW1lKGUsdCl7aWYoamUoKSl7Y29uc3R7cmVxdWVzdFBvc3RBbmltYXRpb25GcmFtZTppLHJlcXVlc3RBbmltYXRpb25GcmFtZTpzfT10fHx3aW5kb3c7aWYodHlwZW9mIGk9PSJmdW5jdGlvbiIpcmV0dXJuIGkoZSk7aWYodHlwZW9mIHM9PSJmdW5jdGlvbiIpcmV0dXJuIHMoZSl9ZWxzZSBpZih0eXBlb2YgcmVxdWVzdEFuaW1hdGlvbkZyYW1lPT0iZnVuY3Rpb24iKXJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSk7cmV0dXJuIHNldFRpbWVvdXQoZSwxNil9Z2V0SG9zdERvY3VtZW50KCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmdGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQ/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLm93bmVyRG9jdW1lbnQ6RmkoKT9kb2N1bWVudDpudWxsfX1kZS5FeGNlcHRpb25MaXN0PVt7a2V5OiJDaHJvbWUvNjMuMCIsY2FwdHVyZToiNjNcXC4wXFwuMzIzOVxcLihcXGQrKSIsY2FwdHVyZUNvbnN0cmFpbnQ6MTA4LHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkZpcmVmb3gvNTgiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkZpcmVmb3gvNTkiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ1bmlmb3JtQnVmZmVyIl19LHtrZXk6IkNocm9tZS83Mi4rP01vYmlsZSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbInZhbyJdfSx7a2V5OiJDaHJvbWUvNzMuKz9Nb2JpbGUiLGNhcHR1cmU6bnVsbCxjYXB0dXJlQ29uc3RyYWludDpudWxsLHRhcmdldHM6WyJ2YW8iXX0se2tleToiQ2hyb21lLzc0Lis/TW9iaWxlIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lLzcxIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lLzcyIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidmFvIl19LHtrZXk6Ik1hYyBPUy4rQ2hyb21lIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsidW5pZm9ybUJ1ZmZlciJdfSx7a2V5OiIuKkFwcGxlV2ViS2l0LiooMTUuNCkuKlNhZmFyaSIsY2FwdHVyZTpudWxsLGNhcHR1cmVDb25zdHJhaW50Om51bGwsdGFyZ2V0czpbImFudGlhbGlhcyIsIm1heE1TQUFTYW1wbGVzIl19LHtrZXk6Ii4qKDE1LjQpLipBcHBsZVdlYktpdC4qU2FmYXJpIixjYXB0dXJlOm51bGwsY2FwdHVyZUNvbnN0cmFpbnQ6bnVsbCx0YXJnZXRzOlsiYW50aWFsaWFzIiwibWF4TVNBQVNhbXBsZXMiXX1dLGRlLl9UZXh0dXJlTG9hZGVycz1bXSxkZS5Db2xsaXNpb25zRXBzaWxvbj0uMDAxLGRlLl9Jc1N1cHBvcnRlZD1udWxsLGRlLl9IYXNNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0PW51bGw7Y2xhc3MgcG57Y29uc3RydWN0b3IoZT0zMCl7dGhpcy5fZW5hYmxlZD0hMCx0aGlzLl9yb2xsaW5nRnJhbWVUaW1lPW5ldyBtbihlKX1zYW1wbGVGcmFtZShlPWhpLk5vdyl7aWYodGhpcy5fZW5hYmxlZCl7aWYodGhpcy5fbGFzdEZyYW1lVGltZU1zIT1udWxsKXtjb25zdCB0PWUtdGhpcy5fbGFzdEZyYW1lVGltZU1zO3RoaXMuX3JvbGxpbmdGcmFtZVRpbWUuYWRkKHQpfXRoaXMuX2xhc3RGcmFtZVRpbWVNcz1lfX1nZXQgYXZlcmFnZUZyYW1lVGltZSgpe3JldHVybiB0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmF2ZXJhZ2V9Z2V0IGF2ZXJhZ2VGcmFtZVRpbWVWYXJpYW5jZSgpe3JldHVybiB0aGlzLl9yb2xsaW5nRnJhbWVUaW1lLnZhcmlhbmNlfWdldCBpbnN0YW50YW5lb3VzRnJhbWVUaW1lKCl7cmV0dXJuIHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUuaGlzdG9yeSgwKX1nZXQgYXZlcmFnZUZQUygpe3JldHVybiAxZTMvdGhpcy5fcm9sbGluZ0ZyYW1lVGltZS5hdmVyYWdlfWdldCBpbnN0YW50YW5lb3VzRlBTKCl7Y29uc3QgZT10aGlzLl9yb2xsaW5nRnJhbWVUaW1lLmhpc3RvcnkoMCk7cmV0dXJuIGU9PT0wPzA6MWUzL2V9Z2V0IGlzU2F0dXJhdGVkKCl7cmV0dXJuIHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUuaXNTYXR1cmF0ZWQoKX1lbmFibGUoKXt0aGlzLl9lbmFibGVkPSEwfWRpc2FibGUoKXt0aGlzLl9lbmFibGVkPSExLHRoaXMuX2xhc3RGcmFtZVRpbWVNcz1udWxsfWdldCBpc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fZW5hYmxlZH1yZXNldCgpe3RoaXMuX2xhc3RGcmFtZVRpbWVNcz1udWxsLHRoaXMuX3JvbGxpbmdGcmFtZVRpbWUucmVzZXQoKX19Y2xhc3MgbW57Y29uc3RydWN0b3IoZSl7dGhpcy5fc2FtcGxlcz1uZXcgQXJyYXkoZSksdGhpcy5yZXNldCgpfWFkZChlKXtsZXQgdDtpZih0aGlzLmlzU2F0dXJhdGVkKCkpe2NvbnN0IGk9dGhpcy5fc2FtcGxlc1t0aGlzLl9wb3NdO3Q9aS10aGlzLmF2ZXJhZ2UsdGhpcy5hdmVyYWdlLT10Lyh0aGlzLl9zYW1wbGVDb3VudC0xKSx0aGlzLl9tMi09dCooaS10aGlzLmF2ZXJhZ2UpfWVsc2UgdGhpcy5fc2FtcGxlQ291bnQrKzt0PWUtdGhpcy5hdmVyYWdlLHRoaXMuYXZlcmFnZSs9dC90aGlzLl9zYW1wbGVDb3VudCx0aGlzLl9tMis9dCooZS10aGlzLmF2ZXJhZ2UpLHRoaXMudmFyaWFuY2U9dGhpcy5fbTIvKHRoaXMuX3NhbXBsZUNvdW50LTEpLHRoaXMuX3NhbXBsZXNbdGhpcy5fcG9zXT1lLHRoaXMuX3BvcysrLHRoaXMuX3BvcyU9dGhpcy5fc2FtcGxlcy5sZW5ndGh9aGlzdG9yeShlKXtpZihlPj10aGlzLl9zYW1wbGVDb3VudHx8ZT49dGhpcy5fc2FtcGxlcy5sZW5ndGgpcmV0dXJuIDA7Y29uc3QgdD10aGlzLl93cmFwUG9zaXRpb24odGhpcy5fcG9zLTEpO3JldHVybiB0aGlzLl9zYW1wbGVzW3RoaXMuX3dyYXBQb3NpdGlvbih0LWUpXX1pc1NhdHVyYXRlZCgpe3JldHVybiB0aGlzLl9zYW1wbGVDb3VudD49dGhpcy5fc2FtcGxlcy5sZW5ndGh9cmVzZXQoKXt0aGlzLmF2ZXJhZ2U9MCx0aGlzLnZhcmlhbmNlPTAsdGhpcy5fc2FtcGxlQ291bnQ9MCx0aGlzLl9wb3M9MCx0aGlzLl9tMj0wfV93cmFwUG9zaXRpb24oZSl7Y29uc3QgdD10aGlzLl9zYW1wbGVzLmxlbmd0aDtyZXR1cm4oZSV0K3QpJXR9fWNsYXNzIEN0e2dldCBtaW4oKXtyZXR1cm4gdGhpcy5fbWlufWdldCBtYXgoKXtyZXR1cm4gdGhpcy5fbWF4fWdldCBhdmVyYWdlKCl7cmV0dXJuIHRoaXMuX2F2ZXJhZ2V9Z2V0IGxhc3RTZWNBdmVyYWdlKCl7cmV0dXJuIHRoaXMuX2xhc3RTZWNBdmVyYWdlfWdldCBjdXJyZW50KCl7cmV0dXJuIHRoaXMuX2N1cnJlbnR9Z2V0IHRvdGFsKCl7cmV0dXJuIHRoaXMuX3RvdGFsQWNjdW11bGF0ZWR9Z2V0IGNvdW50KCl7cmV0dXJuIHRoaXMuX3RvdGFsVmFsdWVDb3VudH1jb25zdHJ1Y3Rvcigpe3RoaXMuX3N0YXJ0TW9uaXRvcmluZ1RpbWU9MCx0aGlzLl9taW49MCx0aGlzLl9tYXg9MCx0aGlzLl9hdmVyYWdlPTAsdGhpcy5fbGFzdFNlY0F2ZXJhZ2U9MCx0aGlzLl9jdXJyZW50PTAsdGhpcy5fdG90YWxWYWx1ZUNvdW50PTAsdGhpcy5fdG90YWxBY2N1bXVsYXRlZD0wLHRoaXMuX2xhc3RTZWNBY2N1bXVsYXRlZD0wLHRoaXMuX2xhc3RTZWNUaW1lPTAsdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQ9MH1mZXRjaE5ld0ZyYW1lKCl7dGhpcy5fdG90YWxWYWx1ZUNvdW50KyssdGhpcy5fY3VycmVudD0wLHRoaXMuX2xhc3RTZWNWYWx1ZUNvdW50Kyt9YWRkQ291bnQoZSx0KXtDdC5FbmFibGVkJiYodGhpcy5fY3VycmVudCs9ZSx0JiZ0aGlzLl9mZXRjaFJlc3VsdCgpKX1iZWdpbk1vbml0b3JpbmcoKXtDdC5FbmFibGVkJiYodGhpcy5fc3RhcnRNb25pdG9yaW5nVGltZT1oaS5Ob3cpfWVuZE1vbml0b3JpbmcoZT0hMCl7aWYoIUN0LkVuYWJsZWQpcmV0dXJuO2UmJnRoaXMuZmV0Y2hOZXdGcmFtZSgpO2NvbnN0IHQ9aGkuTm93O3RoaXMuX2N1cnJlbnQ9dC10aGlzLl9zdGFydE1vbml0b3JpbmdUaW1lLGUmJnRoaXMuX2ZldGNoUmVzdWx0KCl9X2ZldGNoUmVzdWx0KCl7dGhpcy5fdG90YWxBY2N1bXVsYXRlZCs9dGhpcy5fY3VycmVudCx0aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQrPXRoaXMuX2N1cnJlbnQsdGhpcy5fbWluPU1hdGgubWluKHRoaXMuX21pbix0aGlzLl9jdXJyZW50KSx0aGlzLl9tYXg9TWF0aC5tYXgodGhpcy5fbWF4LHRoaXMuX2N1cnJlbnQpLHRoaXMuX2F2ZXJhZ2U9dGhpcy5fdG90YWxBY2N1bXVsYXRlZC90aGlzLl90b3RhbFZhbHVlQ291bnQ7Y29uc3QgZT1oaS5Ob3c7ZS10aGlzLl9sYXN0U2VjVGltZT4xZTMmJih0aGlzLl9sYXN0U2VjQXZlcmFnZT10aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQvdGhpcy5fbGFzdFNlY1ZhbHVlQ291bnQsdGhpcy5fbGFzdFNlY1RpbWU9ZSx0aGlzLl9sYXN0U2VjQWNjdW11bGF0ZWQ9MCx0aGlzLl9sYXN0U2VjVmFsdWVDb3VudD0wKX19Q3QuRW5hYmxlZD0hMCxkZS5wcm90b3R5cGUuc2V0QWxwaGFDb25zdGFudHM9ZnVuY3Rpb24oYyxlLHQsaSl7dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kQ29uc3RhbnRzKGMsZSx0LGkpfSxkZS5wcm90b3R5cGUuc2V0QWxwaGFNb2RlPWZ1bmN0aW9uKGMsZT0hMSl7aWYodGhpcy5fYWxwaGFNb2RlPT09Yyl7aWYoIWUpe2NvbnN0IHQ9Yz09PTA7dGhpcy5kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2shPT10JiYodGhpcy5kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aE1hc2s9dCl9cmV0dXJufXN3aXRjaChjKXtjYXNlIDA6dGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSExO2JyZWFrO2Nhc2UgNzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgODp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDI6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlNSQ19BTFBIQSx0aGlzLl9nbC5PTkVfTUlOVVNfU1JDX0FMUEhBLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDY6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlNSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDM6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA0OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5EU1RfQ09MT1IsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA1OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5TUkNfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSA5OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5DT05TVEFOVF9DT0xPUix0aGlzLl9nbC5PTkVfTUlOVVNfQ09OU1RBTlRfQ09MT1IsdGhpcy5fZ2wuQ09OU1RBTlRfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX0NPTlNUQU5UX0FMUEhBKSx0aGlzLl9hbHBoYVN0YXRlLmFscGhhQmxlbmQ9ITA7YnJlYWs7Y2FzZSAxMDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhQmxlbmRGdW5jdGlvblBhcmFtZXRlcnModGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDExOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDEyOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5EU1RfQUxQSEEsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLlpFUk8sdGhpcy5fZ2wuWkVSTyksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTM6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORV9NSU5VU19EU1RfQ09MT1IsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19DT0xPUix0aGlzLl9nbC5PTkVfTUlOVVNfRFNUX0FMUEhBLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQUxQSEEpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE0OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrO2Nhc2UgMTU6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUJsZW5kRnVuY3Rpb25QYXJhbWV0ZXJzKHRoaXMuX2dsLk9ORSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FLHRoaXMuX2dsLlpFUk8pLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE2OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5PTkVfTUlOVVNfRFNUX0NPTE9SLHRoaXMuX2dsLk9ORV9NSU5VU19TUkNfQ09MT1IsdGhpcy5fZ2wuWkVSTyx0aGlzLl9nbC5PTkUpLHRoaXMuX2FscGhhU3RhdGUuYWxwaGFCbGVuZD0hMDticmVhaztjYXNlIDE3OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFCbGVuZEZ1bmN0aW9uUGFyYW1ldGVycyh0aGlzLl9nbC5TUkNfQUxQSEEsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSx0aGlzLl9nbC5PTkUsdGhpcy5fZ2wuT05FX01JTlVTX1NSQ19BTFBIQSksdGhpcy5fYWxwaGFTdGF0ZS5hbHBoYUJsZW5kPSEwO2JyZWFrfWV8fCh0aGlzLmRlcHRoQ3VsbGluZ1N0YXRlLmRlcHRoTWFzaz1jPT09MCksdGhpcy5fYWxwaGFNb2RlPWN9LGRlLnByb3RvdHlwZS5nZXRBbHBoYU1vZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYWxwaGFNb2RlfSxkZS5wcm90b3R5cGUuc2V0QWxwaGFFcXVhdGlvbj1mdW5jdGlvbihjKXtpZih0aGlzLl9hbHBoYUVxdWF0aW9uIT09Yyl7c3dpdGNoKGMpe2Nhc2UgMDp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc0LDMyNzc0KTticmVhaztjYXNlIDE6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3OCwzMjc3OCk7YnJlYWs7Y2FzZSAyOnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzksMzI3NzkpO2JyZWFrO2Nhc2UgMzp0aGlzLl9hbHBoYVN0YXRlLnNldEFscGhhRXF1YXRpb25QYXJhbWV0ZXJzKDMyNzc2LDMyNzc2KTticmVhaztjYXNlIDQ6dGhpcy5fYWxwaGFTdGF0ZS5zZXRBbHBoYUVxdWF0aW9uUGFyYW1ldGVycygzMjc3NSwzMjc3NSk7YnJlYWs7Y2FzZSA1OnRoaXMuX2FscGhhU3RhdGUuc2V0QWxwaGFFcXVhdGlvblBhcmFtZXRlcnMoMzI3NzUsMzI3NzQpO2JyZWFrfXRoaXMuX2FscGhhRXF1YXRpb249Y319LGRlLnByb3RvdHlwZS5nZXRBbHBoYUVxdWF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2FscGhhRXF1YXRpb259O2Z1bmN0aW9uIHZuKGMsZSx0PSExLGkpe3N3aXRjaChjKXtjYXNlIDM6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBJbnQ4QXJyYXkoZSk6bmV3IEludDhBcnJheShlKTtyZXR1cm4gaSYmci5zZXQobmV3IEludDhBcnJheShpKSkscn1jYXNlIDA6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50OEFycmF5KGUpOm5ldyBVaW50OEFycmF5KGUpO3JldHVybiBpJiZyLnNldChuZXcgVWludDhBcnJheShpKSkscn1jYXNlIDQ6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBJbnQxNkFycmF5KGUpOm5ldyBJbnQxNkFycmF5KHQ/ZS8yOmUpO3JldHVybiBpJiZyLnNldChuZXcgSW50MTZBcnJheShpKSkscn1jYXNlIDU6Y2FzZSA4OmNhc2UgOTpjYXNlIDEwOmNhc2UgMjp7Y29uc3Qgcj1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQxNkFycmF5KGUpOm5ldyBVaW50MTZBcnJheSh0P2UvMjplKTtyZXR1cm4gaSYmci5zZXQobmV3IFVpbnQxNkFycmF5KGkpKSxyfWNhc2UgNjp7Y29uc3Qgcj1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IEludDMyQXJyYXkoZSk6bmV3IEludDMyQXJyYXkodD9lLzQ6ZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBJbnQzMkFycmF5KGkpKSxyfWNhc2UgNzpjYXNlIDExOmNhc2UgMTI6Y2FzZSAxMzpjYXNlIDE0OmNhc2UgMTU6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBVaW50MzJBcnJheShlKTpuZXcgVWludDMyQXJyYXkodD9lLzQ6ZSk7cmV0dXJuIGkmJnIuc2V0KG5ldyBVaW50MzJBcnJheShpKSkscn1jYXNlIDE6e2NvbnN0IHI9ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP25ldyBGbG9hdDMyQXJyYXkoZSk6bmV3IEZsb2F0MzJBcnJheSh0P2UvNDplKTtyZXR1cm4gaSYmci5zZXQobmV3IEZsb2F0MzJBcnJheShpKSkscn19Y29uc3Qgcz1lIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/bmV3IFVpbnQ4QXJyYXkoZSk6bmV3IFVpbnQ4QXJyYXkoZSk7cmV0dXJuIGkmJnMuc2V0KG5ldyBVaW50OEFycmF5KGkpKSxzfWRlLnByb3RvdHlwZS5fcmVhZFRleHR1cmVQaXhlbHNTeW5jPWZ1bmN0aW9uKGMsZSx0LGk9LTEscz0wLHI9bnVsbCxuPSEwLGE9ITEsbz0wLGg9MCl7dmFyIGwsdTtjb25zdCBkPXRoaXMuX2dsO2lmKCFkKXRocm93IG5ldyBFcnJvcigiRW5naW5lIGRvZXMgbm90IGhhdmUgZ2wgcmVuZGVyaW5nIGNvbnRleHQuIik7aWYoIXRoaXMuX2R1bW15RnJhbWVidWZmZXIpe2NvbnN0IGY9ZC5jcmVhdGVGcmFtZWJ1ZmZlcigpO2lmKCFmKXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBkdW1teSBmcmFtZWJ1ZmZlciIpO3RoaXMuX2R1bW15RnJhbWVidWZmZXI9Zn1kLmJpbmRGcmFtZWJ1ZmZlcihkLkZSQU1FQlVGRkVSLHRoaXMuX2R1bW15RnJhbWVidWZmZXIpLGk+LTE/ZC5mcmFtZWJ1ZmZlclRleHR1cmUyRChkLkZSQU1FQlVGRkVSLGQuQ09MT1JfQVRUQUNITUVOVDAsZC5URVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1graSwobD1jLl9oYXJkd2FyZVRleHR1cmUpPT09bnVsbHx8bD09PXZvaWQgMD92b2lkIDA6bC51bmRlcmx5aW5nUmVzb3VyY2Uscyk6ZC5mcmFtZWJ1ZmZlclRleHR1cmUyRChkLkZSQU1FQlVGRkVSLGQuQ09MT1JfQVRUQUNITUVOVDAsZC5URVhUVVJFXzJELCh1PWMuX2hhcmR3YXJlVGV4dHVyZSk9PT1udWxsfHx1PT09dm9pZCAwP3ZvaWQgMDp1LnVuZGVybHlpbmdSZXNvdXJjZSxzKTtsZXQgXz1jLnR5cGUhPT12b2lkIDA/dGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShjLnR5cGUpOmQuVU5TSUdORURfQllURTtpZihhKXJ8fChyPXZuKGMudHlwZSw0KmUqdCkpO2Vsc2Ugc3dpdGNoKF8pe2Nhc2UgZC5VTlNJR05FRF9CWVRFOnJ8fChyPW5ldyBVaW50OEFycmF5KDQqZSp0KSksXz1kLlVOU0lHTkVEX0JZVEU7YnJlYWs7ZGVmYXVsdDpyfHwocj1uZXcgRmxvYXQzMkFycmF5KDQqZSp0KSksXz1kLkZMT0FUO2JyZWFrfXJldHVybiBuJiZ0aGlzLmZsdXNoRnJhbWVidWZmZXIoKSxkLnJlYWRQaXhlbHMobyxoLGUsdCxkLlJHQkEsXyxyKSxkLmJpbmRGcmFtZWJ1ZmZlcihkLkZSQU1FQlVGRkVSLHRoaXMuX2N1cnJlbnRGcmFtZWJ1ZmZlcikscn0sZGUucHJvdG90eXBlLl9yZWFkVGV4dHVyZVBpeGVscz1mdW5jdGlvbihjLGUsdCxpPS0xLHM9MCxyPW51bGwsbj0hMCxhPSExLG89MCxoPTApe3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fcmVhZFRleHR1cmVQaXhlbHNTeW5jKGMsZSx0LGkscyxyLG4sYSxvLGgpKX0sZGUucHJvdG90eXBlLnVwZGF0ZUR5bmFtaWNJbmRleEJ1ZmZlcj1mdW5jdGlvbihjLGUsdD0wKXt0aGlzLl9jdXJyZW50Qm91bmRCdWZmZXJbdGhpcy5fZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVJdPW51bGwsdGhpcy5iaW5kSW5kZXhCdWZmZXIoYyk7bGV0IGk7Yy5pczMyQml0cz9pPWUgaW5zdGFuY2VvZiBVaW50MzJBcnJheT9lOm5ldyBVaW50MzJBcnJheShlKTppPWUgaW5zdGFuY2VvZiBVaW50MTZBcnJheT9lOm5ldyBVaW50MTZBcnJheShlKSx0aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLGksdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKSx0aGlzLl9yZXNldEluZGV4QnVmZmVyQmluZGluZygpfSxkZS5wcm90b3R5cGUudXBkYXRlRHluYW1pY1ZlcnRleEJ1ZmZlcj1mdW5jdGlvbihjLGUsdCxpKXt0aGlzLmJpbmRBcnJheUJ1ZmZlcihjKSx0PT09dm9pZCAwJiYodD0wKTtjb25zdCBzPWUuYnl0ZUxlbmd0aHx8ZS5sZW5ndGg7aT09PXZvaWQgMHx8aT49cyYmdD09PTA/ZSBpbnN0YW5jZW9mIEFycmF5P3RoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLHQsbmV3IEZsb2F0MzJBcnJheShlKSk6dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsdCxlKTplIGluc3RhbmNlb2YgQXJyYXk/dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5BUlJBWV9CVUZGRVIsMCxuZXcgRmxvYXQzMkFycmF5KGUpLnN1YmFycmF5KHQsdCtpKSk6KGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9lPW5ldyBVaW50OEFycmF5KGUsdCxpKTplPW5ldyBVaW50OEFycmF5KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCt0LGkpLHRoaXMuX2dsLmJ1ZmZlclN1YkRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLDAsZSkpLHRoaXMuX3Jlc2V0VmVydGV4QnVmZmVyQmluZGluZygpfTtjbGFzcyBQIGV4dGVuZHMgZGV7c3RhdGljIGdldCBOcG1QYWNrYWdlKCl7cmV0dXJuIGRlLk5wbVBhY2thZ2V9c3RhdGljIGdldCBWZXJzaW9uKCl7cmV0dXJuIGRlLlZlcnNpb259c3RhdGljIGdldCBJbnN0YW5jZXMoKXtyZXR1cm4gbGUuSW5zdGFuY2VzfXN0YXRpYyBnZXQgTGFzdENyZWF0ZWRFbmdpbmUoKXtyZXR1cm4gbGUuTGFzdENyZWF0ZWRFbmdpbmV9c3RhdGljIGdldCBMYXN0Q3JlYXRlZFNjZW5lKCl7cmV0dXJuIGxlLkxhc3RDcmVhdGVkU2NlbmV9X2NyZWF0ZUltYWdlQml0bWFwRnJvbVNvdXJjZShlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgocyxyKT0+e2NvbnN0IG49bmV3IEltYWdlO24ub25sb2FkPSgpPT57bi5kZWNvZGUoKS50aGVuKCgpPT57dGhpcy5jcmVhdGVJbWFnZUJpdG1hcChuLHQpLnRoZW4oYT0+e3MoYSl9KX0pfSxuLm9uZXJyb3I9KCk9PntyKGBFcnJvciBsb2FkaW5nIGltYWdlICR7bi5zcmN9YCl9LG4uc3JjPWV9KX1jcmVhdGVJbWFnZUJpdG1hcChlLHQpe3JldHVybiBjcmVhdGVJbWFnZUJpdG1hcChlLHQpfXJlc2l6ZUltYWdlQml0bWFwKGUsdCxpKXtjb25zdCByPXRoaXMuY3JlYXRlQ2FudmFzKHQsaSkuZ2V0Q29udGV4dCgiMmQiKTtpZighcil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBnZXQgMmQgY29udGV4dCBmb3IgcmVzaXplSW1hZ2VCaXRtYXAiKTtyZXR1cm4gci5kcmF3SW1hZ2UoZSwwLDApLHIuZ2V0SW1hZ2VEYXRhKDAsMCx0LGkpLmRhdGF9c3RhdGljIE1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KGUsdCl7Zm9yKGxldCBpPTA7aTxQLkluc3RhbmNlcy5sZW5ndGg7aSsrKXtjb25zdCBzPVAuSW5zdGFuY2VzW2ldO2ZvcihsZXQgcj0wO3I8cy5zY2VuZXMubGVuZ3RoO3IrKylzLnNjZW5lc1tyXS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eShlLHQpfX1zdGF0aWMgRGVmYXVsdExvYWRpbmdTY3JlZW5GYWN0b3J5KGUpe3Rocm93IFEoIkxvYWRpbmdTY3JlZW4iKX1nZXQgX3N1cHBvcnRzSGFyZHdhcmVUZXh0dXJlUmVzY2FsaW5nKCl7cmV0dXJuISFQLl9SZXNjYWxlUG9zdFByb2Nlc3NGYWN0b3J5fWdldCBwZXJmb3JtYW5jZU1vbml0b3IoKXtyZXR1cm4gdGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yfWdldCBjb21wYXRpYmlsaXR5TW9kZSgpe3JldHVybiB0aGlzLl9jb21wYXRpYmlsaXR5TW9kZX1zZXQgY29tcGF0aWJpbGl0eU1vZGUoZSl7dGhpcy5fY29tcGF0aWJpbGl0eU1vZGU9ITB9Z2V0SW5wdXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ0NhbnZhc31jb25zdHJ1Y3RvcihlLHQsaSxzPSExKXtpZihzdXBlcihlLHQsaSxzKSx0aGlzLmVuYWJsZU9mZmxpbmVTdXBwb3J0PSExLHRoaXMuZGlzYWJsZU1hbmlmZXN0Q2hlY2s9ITEsdGhpcy5kaXNhYmxlQ29udGV4dE1lbnU9ITAsdGhpcy5zY2VuZXM9bmV3IEFycmF5LHRoaXMuX3ZpcnR1YWxTY2VuZXM9bmV3IEFycmF5LHRoaXMub25OZXdTY2VuZUFkZGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLnBvc3RQcm9jZXNzZXM9bmV3IEFycmF5LHRoaXMuaXNQb2ludGVyTG9jaz0hMSx0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQ2FudmFzQmx1ck9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkNhbnZhc0ZvY3VzT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQ2FudmFzUG9pbnRlck91dE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkJlZ2luRnJhbWVPYnNlcnZhYmxlPW5ldyB3LHRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXI9bnVsbCx0aGlzLm9uRW5kRnJhbWVPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25CZWZvcmVTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFmdGVyU2hhZGVyQ29tcGlsYXRpb25PYnNlcnZhYmxlPW5ldyB3LHRoaXMuX2RldGVybWluaXN0aWNMb2Nrc3RlcD0hMSx0aGlzLl9sb2Nrc3RlcE1heFN0ZXBzPTQsdGhpcy5fdGltZVN0ZXA9MS82MCx0aGlzLl9mcHM9NjAsdGhpcy5fZGVsdGFUaW1lPTAsdGhpcy5fZHJhd0NhbGxzPW5ldyBDdCx0aGlzLmNhbnZhc1RhYkluZGV4PTEsdGhpcy5kaXNhYmxlUGVyZm9ybWFuY2VNb25pdG9ySW5CYWNrZ3JvdW5kPSExLHRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvcj1uZXcgcG4sdGhpcy5fY29tcGF0aWJpbGl0eU1vZGU9ITAsdGhpcy5jdXJyZW50UmVuZGVyUGFzc0lkPTAsdGhpcy5fcmVuZGVyUGFzc05hbWVzPVsibWFpbiJdLFAuSW5zdGFuY2VzLnB1c2godGhpcyksISFlKXtpZih0aGlzLl9mZWF0dXJlcy5zdXBwb3J0UmVuZGVyUGFzc2VzPSEwLGk9dGhpcy5fY3JlYXRpb25PcHRpb25zLGUuZ2V0Q29udGV4dCl7Y29uc3Qgcj1lO3RoaXMuX3NoYXJlZEluaXQociksdGhpcy5fY29ubmVjdFZSRXZlbnRzKCl9dGhpcy5fcHJlcGFyZVZSQ29tcG9uZW50KCksaS5hdXRvRW5hYmxlV2ViVlImJnRoaXMuaW5pdFdlYlZSKCl9fV9pbml0R0xDb250ZXh0KCl7c3VwZXIuX2luaXRHTENvbnRleHQoKSx0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3M9bnVsbH1fc2hhcmVkSW5pdChlKXtzdXBlci5fc2hhcmVkSW5pdChlKSx0aGlzLl9vbkNhbnZhc0ZvY3VzPSgpPT57dGhpcy5vbkNhbnZhc0ZvY3VzT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9LHRoaXMuX29uQ2FudmFzQmx1cj0oKT0+e3RoaXMub25DYW52YXNCbHVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9LHRoaXMuX29uQ2FudmFzQ29udGV4dE1lbnU9aT0+e3RoaXMuZGlzYWJsZUNvbnRleHRNZW51JiZpLnByZXZlbnREZWZhdWx0KCl9LGUuYWRkRXZlbnRMaXN0ZW5lcigiZm9jdXMiLHRoaXMuX29uQ2FudmFzRm9jdXMpLGUuYWRkRXZlbnRMaXN0ZW5lcigiYmx1ciIsdGhpcy5fb25DYW52YXNCbHVyKSxlLmFkZEV2ZW50TGlzdGVuZXIoImNvbnRleHRtZW51Iix0aGlzLl9vbkNhbnZhc0NvbnRleHRNZW51KSx0aGlzLl9vbkJsdXI9KCk9Pnt0aGlzLmRpc2FibGVQZXJmb3JtYW5jZU1vbml0b3JJbkJhY2tncm91bmQmJnRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvci5kaXNhYmxlKCksdGhpcy5fd2luZG93SXNCYWNrZ3JvdW5kPSEwfSx0aGlzLl9vbkZvY3VzPSgpPT57dGhpcy5kaXNhYmxlUGVyZm9ybWFuY2VNb25pdG9ySW5CYWNrZ3JvdW5kJiZ0aGlzLl9wZXJmb3JtYW5jZU1vbml0b3IuZW5hYmxlKCksdGhpcy5fd2luZG93SXNCYWNrZ3JvdW5kPSExfSx0aGlzLl9vbkNhbnZhc1BvaW50ZXJPdXQ9aT0+e2RvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoaS5jbGllbnRYLGkuY2xpZW50WSkhPT1lJiZ0aGlzLm9uQ2FudmFzUG9pbnRlck91dE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGkpfTtjb25zdCB0PXRoaXMuZ2V0SG9zdFdpbmRvdygpO3QmJnR5cGVvZiB0LmFkZEV2ZW50TGlzdGVuZXI9PSJmdW5jdGlvbiImJih0LmFkZEV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQmx1ciksdC5hZGRFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5fb25Gb2N1cykpLGUuYWRkRXZlbnRMaXN0ZW5lcigicG9pbnRlcm91dCIsdGhpcy5fb25DYW52YXNQb2ludGVyT3V0KSx0aGlzLl9jcmVhdGlvbk9wdGlvbnMuZG9Ob3RIYW5kbGVUb3VjaEFjdGlvbnx8dGhpcy5fZGlzYWJsZVRvdWNoQWN0aW9uKCksIVAuYXVkaW9FbmdpbmUmJnRoaXMuX2NyZWF0aW9uT3B0aW9ucy5hdWRpb0VuZ2luZSYmUC5BdWRpb0VuZ2luZUZhY3RvcnkmJihQLmF1ZGlvRW5naW5lPVAuQXVkaW9FbmdpbmVGYWN0b3J5KHRoaXMuZ2V0UmVuZGVyaW5nQ2FudmFzKCksdGhpcy5nZXRBdWRpb0NvbnRleHQoKSx0aGlzLmdldEF1ZGlvRGVzdGluYXRpb24oKSkpLEZpKCkmJih0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2U9KCk9Pnt0aGlzLmlzRnVsbHNjcmVlbj0hIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50LHRoaXMuaXNGdWxsc2NyZWVuJiZ0aGlzLl9wb2ludGVyTG9ja1JlcXVlc3RlZCYmZSYmUC5fUmVxdWVzdFBvaW50ZXJsb2NrKGUpfSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UsITEpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIndlYmtpdGZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSwhMSksdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZT0oKT0+e3RoaXMuaXNQb2ludGVyTG9jaz1kb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQ9PT1lfSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSwhMSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigid2Via2l0cG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UsITEpKSx0aGlzLmVuYWJsZU9mZmxpbmVTdXBwb3J0PVAuT2ZmbGluZVByb3ZpZGVyRmFjdG9yeSE9PXZvaWQgMCx0aGlzLl9kZXRlcm1pbmlzdGljTG9ja3N0ZXA9ISF0aGlzLl9jcmVhdGlvbk9wdGlvbnMuZGV0ZXJtaW5pc3RpY0xvY2tzdGVwLHRoaXMuX2xvY2tzdGVwTWF4U3RlcHM9dGhpcy5fY3JlYXRpb25PcHRpb25zLmxvY2tzdGVwTWF4U3RlcHN8fDAsdGhpcy5fdGltZVN0ZXA9dGhpcy5fY3JlYXRpb25PcHRpb25zLnRpbWVTdGVwfHwxLzYwfV92ZXJpZnlQb2ludGVyTG9jaygpe3ZhciBlOyhlPXRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5jYWxsKHRoaXMpfWdldEFzcGVjdFJhdGlvKGUsdD0hMSl7Y29uc3QgaT1lLnZpZXdwb3J0O3JldHVybiB0aGlzLmdldFJlbmRlcldpZHRoKHQpKmkud2lkdGgvKHRoaXMuZ2V0UmVuZGVySGVpZ2h0KHQpKmkuaGVpZ2h0KX1nZXRTY3JlZW5Bc3BlY3RSYXRpbygpe3JldHVybiB0aGlzLmdldFJlbmRlcldpZHRoKCEwKS90aGlzLmdldFJlbmRlckhlaWdodCghMCl9Z2V0UmVuZGVyaW5nQ2FudmFzQ2xpZW50UmVjdCgpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5fcmVuZGVyaW5nQ2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOm51bGx9Z2V0SW5wdXRFbGVtZW50Q2xpZW50UmVjdCgpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdDYW52YXM/dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTpudWxsfWlzRGV0ZXJtaW5pc3RpY0xvY2tTdGVwKCl7cmV0dXJuIHRoaXMuX2RldGVybWluaXN0aWNMb2Nrc3RlcH1nZXRMb2Nrc3RlcE1heFN0ZXBzKCl7cmV0dXJuIHRoaXMuX2xvY2tzdGVwTWF4U3RlcHN9Z2V0VGltZVN0ZXAoKXtyZXR1cm4gdGhpcy5fdGltZVN0ZXAqMWUzfWdlbmVyYXRlTWlwTWFwc0ZvckN1YmVtYXAoZSx0PSEwKXtpZihlLmdlbmVyYXRlTWlwTWFwcyl7Y29uc3QgaT10aGlzLl9nbDt0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KGkuVEVYVFVSRV9DVUJFX01BUCxlLCEwKSxpLmdlbmVyYXRlTWlwbWFwKGkuVEVYVFVSRV9DVUJFX01BUCksdCYmdGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShpLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCl9fWdldERlcHRoV3JpdGUoKXtyZXR1cm4gdGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrfXNldERlcHRoV3JpdGUoZSl7dGhpcy5fZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhNYXNrPWV9Z2V0U3RlbmNpbEJ1ZmZlcigpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3R9c2V0U3RlbmNpbEJ1ZmZlcihlKXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbFRlc3Q9ZX1nZXRTdGVuY2lsTWFzaygpe3JldHVybiB0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE1hc2t9c2V0U3RlbmNpbE1hc2soZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxNYXNrPWV9Z2V0U3RlbmNpbEZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY31nZXRTdGVuY2lsRnVuY3Rpb25SZWZlcmVuY2UoKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jUmVmfWdldFN0ZW5jaWxGdW5jdGlvbk1hc2soKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jTWFza31zZXRTdGVuY2lsRnVuY3Rpb24oZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jPWV9c2V0U3RlbmNpbEZ1bmN0aW9uUmVmZXJlbmNlKGUpe3RoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsRnVuY1JlZj1lfXNldFN0ZW5jaWxGdW5jdGlvbk1hc2soZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxGdW5jTWFzaz1lfWdldFN0ZW5jaWxPcGVyYXRpb25GYWlsKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BTdGVuY2lsRmFpbH1nZXRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsKCl7cmV0dXJuIHRoaXMuX3N0ZW5jaWxTdGF0ZS5zdGVuY2lsT3BEZXB0aEZhaWx9Z2V0U3RlbmNpbE9wZXJhdGlvblBhc3MoKXtyZXR1cm4gdGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcFN0ZW5jaWxEZXB0aFBhc3N9c2V0U3RlbmNpbE9wZXJhdGlvbkZhaWwoZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcFN0ZW5jaWxGYWlsPWV9c2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbChlKXt0aGlzLl9zdGVuY2lsU3RhdGUuc3RlbmNpbE9wRGVwdGhGYWlsPWV9c2V0U3RlbmNpbE9wZXJhdGlvblBhc3MoZSl7dGhpcy5fc3RlbmNpbFN0YXRlLnN0ZW5jaWxPcFN0ZW5jaWxEZXB0aFBhc3M9ZX1zZXREaXRoZXJpbmdTdGF0ZShlKXtlP3RoaXMuX2dsLmVuYWJsZSh0aGlzLl9nbC5ESVRIRVIpOnRoaXMuX2dsLmRpc2FibGUodGhpcy5fZ2wuRElUSEVSKX1zZXRSYXN0ZXJpemVyU3RhdGUoZSl7ZT90aGlzLl9nbC5kaXNhYmxlKHRoaXMuX2dsLlJBU1RFUklaRVJfRElTQ0FSRCk6dGhpcy5fZ2wuZW5hYmxlKHRoaXMuX2dsLlJBU1RFUklaRVJfRElTQ0FSRCl9Z2V0RGVwdGhGdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmN9c2V0RGVwdGhGdW5jdGlvbihlKXt0aGlzLl9kZXB0aEN1bGxpbmdTdGF0ZS5kZXB0aEZ1bmM9ZX1zZXREZXB0aEZ1bmN0aW9uVG9HcmVhdGVyKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxNil9c2V0RGVwdGhGdW5jdGlvblRvR3JlYXRlck9yRXF1YWwoKXt0aGlzLnNldERlcHRoRnVuY3Rpb24oNTE4KX1zZXREZXB0aEZ1bmN0aW9uVG9MZXNzKCl7dGhpcy5zZXREZXB0aEZ1bmN0aW9uKDUxMyl9c2V0RGVwdGhGdW5jdGlvblRvTGVzc09yRXF1YWwoKXt0aGlzLnNldERlcHRoRnVuY3Rpb24oNTE1KX1jYWNoZVN0ZW5jaWxTdGF0ZSgpe3RoaXMuX2NhY2hlZFN0ZW5jaWxCdWZmZXI9dGhpcy5nZXRTdGVuY2lsQnVmZmVyKCksdGhpcy5fY2FjaGVkU3RlbmNpbEZ1bmN0aW9uPXRoaXMuZ2V0U3RlbmNpbEZ1bmN0aW9uKCksdGhpcy5fY2FjaGVkU3RlbmNpbE1hc2s9dGhpcy5nZXRTdGVuY2lsTWFzaygpLHRoaXMuX2NhY2hlZFN0ZW5jaWxPcGVyYXRpb25QYXNzPXRoaXMuZ2V0U3RlbmNpbE9wZXJhdGlvblBhc3MoKSx0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uRmFpbD10aGlzLmdldFN0ZW5jaWxPcGVyYXRpb25GYWlsKCksdGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbD10aGlzLmdldFN0ZW5jaWxPcGVyYXRpb25EZXB0aEZhaWwoKSx0aGlzLl9jYWNoZWRTdGVuY2lsUmVmZXJlbmNlPXRoaXMuZ2V0U3RlbmNpbEZ1bmN0aW9uUmVmZXJlbmNlKCl9cmVzdG9yZVN0ZW5jaWxTdGF0ZSgpe3RoaXMuc2V0U3RlbmNpbEZ1bmN0aW9uKHRoaXMuX2NhY2hlZFN0ZW5jaWxGdW5jdGlvbiksdGhpcy5zZXRTdGVuY2lsTWFzayh0aGlzLl9jYWNoZWRTdGVuY2lsTWFzayksdGhpcy5zZXRTdGVuY2lsQnVmZmVyKHRoaXMuX2NhY2hlZFN0ZW5jaWxCdWZmZXIpLHRoaXMuc2V0U3RlbmNpbE9wZXJhdGlvblBhc3ModGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvblBhc3MpLHRoaXMuc2V0U3RlbmNpbE9wZXJhdGlvbkZhaWwodGhpcy5fY2FjaGVkU3RlbmNpbE9wZXJhdGlvbkZhaWwpLHRoaXMuc2V0U3RlbmNpbE9wZXJhdGlvbkRlcHRoRmFpbCh0aGlzLl9jYWNoZWRTdGVuY2lsT3BlcmF0aW9uRGVwdGhGYWlsKSx0aGlzLnNldFN0ZW5jaWxGdW5jdGlvblJlZmVyZW5jZSh0aGlzLl9jYWNoZWRTdGVuY2lsUmVmZXJlbmNlKX1zZXREaXJlY3RWaWV3cG9ydChlLHQsaSxzKXtjb25zdCByPXRoaXMuX2NhY2hlZFZpZXdwb3J0O3JldHVybiB0aGlzLl9jYWNoZWRWaWV3cG9ydD1udWxsLHRoaXMuX3ZpZXdwb3J0KGUsdCxpLHMpLHJ9c2Npc3NvckNsZWFyKGUsdCxpLHMscil7dGhpcy5lbmFibGVTY2lzc29yKGUsdCxpLHMpLHRoaXMuY2xlYXIociwhMCwhMCwhMCksdGhpcy5kaXNhYmxlU2Npc3NvcigpfWVuYWJsZVNjaXNzb3IoZSx0LGkscyl7Y29uc3Qgcj10aGlzLl9nbDtyLmVuYWJsZShyLlNDSVNTT1JfVEVTVCksci5zY2lzc29yKGUsdCxpLHMpfWRpc2FibGVTY2lzc29yKCl7Y29uc3QgZT10aGlzLl9nbDtlLmRpc2FibGUoZS5TQ0lTU09SX1RFU1QpfV9yZXBvcnREcmF3Q2FsbChlPTEpe3RoaXMuX2RyYXdDYWxscy5hZGRDb3VudChlLCExKX1pbml0V2ViVlIoKXt0aHJvdyBRKCJXZWJWUkNhbWVyYSIpfV9wcmVwYXJlVlJDb21wb25lbnQoKXt9X2Nvbm5lY3RWUkV2ZW50cyhlLHQpe31fc3VibWl0VlJGcmFtZSgpe31kaXNhYmxlVlIoKXt9aXNWUlByZXNlbnRpbmcoKXtyZXR1cm4hMX1fcmVxdWVzdFZSRnJhbWUoKXt9X2xvYWRGaWxlQXN5bmMoZSx0LGkpe3JldHVybiBuZXcgUHJvbWlzZSgocyxyKT0+e3RoaXMuX2xvYWRGaWxlKGUsbj0+e3Mobil9LHZvaWQgMCx0LGksKG4sYSk9PntyKGEpfSl9KX1nZXRWZXJ0ZXhTaGFkZXJTb3VyY2UoZSl7Y29uc3QgdD10aGlzLl9nbC5nZXRBdHRhY2hlZFNoYWRlcnMoZSk7cmV0dXJuIHQ/dGhpcy5fZ2wuZ2V0U2hhZGVyU291cmNlKHRbMF0pOm51bGx9Z2V0RnJhZ21lbnRTaGFkZXJTb3VyY2UoZSl7Y29uc3QgdD10aGlzLl9nbC5nZXRBdHRhY2hlZFNoYWRlcnMoZSk7cmV0dXJuIHQ/dGhpcy5fZ2wuZ2V0U2hhZGVyU291cmNlKHRbMV0pOm51bGx9c2V0RGVwdGhTdGVuY2lsVGV4dHVyZShlLHQsaSxzKXtlIT09dm9pZCAwJiYodCYmKHRoaXMuX2JvdW5kVW5pZm9ybXNbZV09dCksIWl8fCFpLmRlcHRoU3RlbmNpbFRleHR1cmU/dGhpcy5fc2V0VGV4dHVyZShlLG51bGwsdm9pZCAwLHZvaWQgMCxzKTp0aGlzLl9zZXRUZXh0dXJlKGUsaSwhMSwhMCxzKSl9c2V0VGV4dHVyZUZyb21Qb3N0UHJvY2VzcyhlLHQsaSl7dmFyIHM7bGV0IHI9bnVsbDt0JiYodC5fdGV4dHVyZXMuZGF0YVt0Ll9jdXJyZW50UmVuZGVyVGV4dHVyZUluZF0/cj10Ll90ZXh0dXJlcy5kYXRhW3QuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kXTp0Ll9mb3JjZWRPdXRwdXRUZXh0dXJlJiYocj10Ll9mb3JjZWRPdXRwdXRUZXh0dXJlKSksdGhpcy5fYmluZFRleHR1cmUoZSwocz1yPT1udWxsP3ZvaWQgMDpyLnRleHR1cmUpIT09bnVsbCYmcyE9PXZvaWQgMD9zOm51bGwsaSl9c2V0VGV4dHVyZUZyb21Qb3N0UHJvY2Vzc091dHB1dChlLHQsaSl7dmFyIHMscjt0aGlzLl9iaW5kVGV4dHVyZShlLChyPShzPXQ9PW51bGw/dm9pZCAwOnQuX291dHB1dFRleHR1cmUpPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6cy50ZXh0dXJlKSE9PW51bGwmJnIhPT12b2lkIDA/cjpudWxsLGkpfV9yZWJ1aWxkQnVmZmVycygpe2Zvcihjb25zdCBlIG9mIHRoaXMuc2NlbmVzKWUucmVzZXRDYWNoZWRNYXRlcmlhbCgpLGUuX3JlYnVpbGRHZW9tZXRyaWVzKCksZS5fcmVidWlsZFRleHR1cmVzKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fdmlydHVhbFNjZW5lcyllLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSxlLl9yZWJ1aWxkR2VvbWV0cmllcygpLGUuX3JlYnVpbGRUZXh0dXJlcygpO3N1cGVyLl9yZWJ1aWxkQnVmZmVycygpfV9yZW5kZXJGcmFtZSgpe2ZvcihsZXQgZT0wO2U8dGhpcy5fYWN0aXZlUmVuZGVyTG9vcHMubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLl9hY3RpdmVSZW5kZXJMb29wc1tlXTt0KCl9fV9yZW5kZXJMb29wKCl7aWYoIXRoaXMuX2NvbnRleHRXYXNMb3N0KXtsZXQgZT0hMDsodGhpcy5pc0Rpc3Bvc2VkfHwhdGhpcy5yZW5kZXJFdmVuSW5CYWNrZ3JvdW5kJiZ0aGlzLl93aW5kb3dJc0JhY2tncm91bmQpJiYoZT0hMSksZSYmKHRoaXMuYmVnaW5GcmFtZSgpLHRoaXMuX3JlbmRlclZpZXdzKCl8fHRoaXMuX3JlbmRlckZyYW1lKCksdGhpcy5lbmRGcmFtZSgpKX10aGlzLl9hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg+MD90aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyPyh0aGlzLmN1c3RvbUFuaW1hdGlvbkZyYW1lUmVxdWVzdGVyLnJlcXVlc3RJRD10aGlzLl9xdWV1ZU5ld0ZyYW1lKHRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXIucmVuZGVyRnVuY3Rpb258fHRoaXMuX2JvdW5kUmVuZGVyRnVuY3Rpb24sdGhpcy5jdXN0b21BbmltYXRpb25GcmFtZVJlcXVlc3RlciksdGhpcy5fZnJhbWVIYW5kbGVyPXRoaXMuY3VzdG9tQW5pbWF0aW9uRnJhbWVSZXF1ZXN0ZXIucmVxdWVzdElEKTp0aGlzLmlzVlJQcmVzZW50aW5nKCk/dGhpcy5fcmVxdWVzdFZSRnJhbWUoKTp0aGlzLl9mcmFtZUhhbmRsZXI9dGhpcy5fcXVldWVOZXdGcmFtZSh0aGlzLl9ib3VuZFJlbmRlckZ1bmN0aW9uLHRoaXMuZ2V0SG9zdFdpbmRvdygpKTp0aGlzLl9yZW5kZXJpbmdRdWV1ZUxhdW5jaGVkPSExfV9yZW5kZXJWaWV3cygpe3JldHVybiExfXN3aXRjaEZ1bGxzY3JlZW4oZSl7dGhpcy5pc0Z1bGxzY3JlZW4/dGhpcy5leGl0RnVsbHNjcmVlbigpOnRoaXMuZW50ZXJGdWxsc2NyZWVuKGUpfWVudGVyRnVsbHNjcmVlbihlKXt0aGlzLmlzRnVsbHNjcmVlbnx8KHRoaXMuX3BvaW50ZXJMb2NrUmVxdWVzdGVkPWUsdGhpcy5fcmVuZGVyaW5nQ2FudmFzJiZQLl9SZXF1ZXN0RnVsbHNjcmVlbih0aGlzLl9yZW5kZXJpbmdDYW52YXMpKX1leGl0RnVsbHNjcmVlbigpe3RoaXMuaXNGdWxsc2NyZWVuJiZQLl9FeGl0RnVsbHNjcmVlbigpfWVudGVyUG9pbnRlcmxvY2soKXt0aGlzLl9yZW5kZXJpbmdDYW52YXMmJlAuX1JlcXVlc3RQb2ludGVybG9jayh0aGlzLl9yZW5kZXJpbmdDYW52YXMpfWV4aXRQb2ludGVybG9jaygpe1AuX0V4aXRQb2ludGVybG9jaygpfWJlZ2luRnJhbWUoKXt0aGlzLl9tZWFzdXJlRnBzKCksdGhpcy5vbkJlZ2luRnJhbWVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxzdXBlci5iZWdpbkZyYW1lKCl9ZW5kRnJhbWUoKXtzdXBlci5lbmRGcmFtZSgpLHRoaXMuX3N1Ym1pdFZSRnJhbWUoKSx0aGlzLm9uRW5kRnJhbWVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKX1yZXNpemUoZT0hMSl7dGhpcy5pc1ZSUHJlc2VudGluZygpfHxzdXBlci5yZXNpemUoZSl9c2V0U2l6ZShlLHQsaT0hMSl7aWYoIXRoaXMuX3JlbmRlcmluZ0NhbnZhc3x8IXN1cGVyLnNldFNpemUoZSx0LGkpKXJldHVybiExO2lmKHRoaXMuc2NlbmVzKXtmb3IobGV0IHM9MDtzPHRoaXMuc2NlbmVzLmxlbmd0aDtzKyspe2NvbnN0IHI9dGhpcy5zY2VuZXNbc107Zm9yKGxldCBuPTA7bjxyLmNhbWVyYXMubGVuZ3RoO24rKyl7Y29uc3QgYT1yLmNhbWVyYXNbbl07YS5fY3VycmVudFJlbmRlcklkPTB9fXRoaXMub25SZXNpemVPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9cmV0dXJuITB9X2RlbGV0ZVBpcGVsaW5lQ29udGV4dChlKXtjb25zdCB0PWU7dCYmdC5wcm9ncmFtJiZ0LnRyYW5zZm9ybUZlZWRiYWNrJiYodGhpcy5kZWxldGVUcmFuc2Zvcm1GZWVkYmFjayh0LnRyYW5zZm9ybUZlZWRiYWNrKSx0LnRyYW5zZm9ybUZlZWRiYWNrPW51bGwpLHN1cGVyLl9kZWxldGVQaXBlbGluZUNvbnRleHQoZSl9Y3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHIsbj1udWxsKXtyPXJ8fHRoaXMuX2dsLHRoaXMub25CZWZvcmVTaGFkZXJDb21waWxhdGlvbk9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IGE9c3VwZXIuY3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHIsbik7cmV0dXJuIHRoaXMub25BZnRlclNoYWRlckNvbXBpbGF0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksYX1fY3JlYXRlU2hhZGVyUHJvZ3JhbShlLHQsaSxzLHI9bnVsbCl7Y29uc3Qgbj1zLmNyZWF0ZVByb2dyYW0oKTtpZihlLnByb2dyYW09biwhbil0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgcHJvZ3JhbSIpO2lmKHMuYXR0YWNoU2hhZGVyKG4sdCkscy5hdHRhY2hTaGFkZXIobixpKSx0aGlzLndlYkdMVmVyc2lvbj4xJiZyKXtjb25zdCBhPXRoaXMuY3JlYXRlVHJhbnNmb3JtRmVlZGJhY2soKTt0aGlzLmJpbmRUcmFuc2Zvcm1GZWVkYmFjayhhKSx0aGlzLnNldFRyYW5mb3JtRmVlZGJhY2tWYXJ5aW5ncyhuLHIpLGUudHJhbnNmb3JtRmVlZGJhY2s9YX1yZXR1cm4gcy5saW5rUHJvZ3JhbShuKSx0aGlzLndlYkdMVmVyc2lvbj4xJiZyJiZ0aGlzLmJpbmRUcmFuc2Zvcm1GZWVkYmFjayhudWxsKSxlLmNvbnRleHQ9cyxlLnZlcnRleFNoYWRlcj10LGUuZnJhZ21lbnRTaGFkZXI9aSxlLmlzUGFyYWxsZWxDb21waWxlZHx8dGhpcy5fZmluYWxpemVQaXBlbGluZUNvbnRleHQoZSksbn1fcmVsZWFzZVRleHR1cmUoZSl7c3VwZXIuX3JlbGVhc2VUZXh0dXJlKGUpfV9yZWxlYXNlUmVuZGVyVGFyZ2V0V3JhcHBlcihlKXtzdXBlci5fcmVsZWFzZVJlbmRlclRhcmdldFdyYXBwZXIoZSksdGhpcy5zY2VuZXMuZm9yRWFjaCh0PT57dC5wb3N0UHJvY2Vzc2VzLmZvckVhY2goaT0+e2kuX291dHB1dFRleHR1cmU9PT1lJiYoaS5fb3V0cHV0VGV4dHVyZT1udWxsKX0pLHQuY2FtZXJhcy5mb3JFYWNoKGk9PntpLl9wb3N0UHJvY2Vzc2VzLmZvckVhY2gocz0+e3MmJnMuX291dHB1dFRleHR1cmU9PT1lJiYocy5fb3V0cHV0VGV4dHVyZT1udWxsKX0pfSl9KX1nZXRSZW5kZXJQYXNzTmFtZXMoKXtyZXR1cm4gdGhpcy5fcmVuZGVyUGFzc05hbWVzfWdldEN1cnJlbnRSZW5kZXJQYXNzTmFtZSgpe3JldHVybiB0aGlzLl9yZW5kZXJQYXNzTmFtZXNbdGhpcy5jdXJyZW50UmVuZGVyUGFzc0lkXX1jcmVhdGVSZW5kZXJQYXNzSWQoZSl7Y29uc3QgdD0rK1AuX1JlbmRlclBhc3NJZENvdW50ZXI7cmV0dXJuIHRoaXMuX3JlbmRlclBhc3NOYW1lc1t0XT1lPz8iTk9OQU1FIix0fXJlbGVhc2VSZW5kZXJQYXNzSWQoZSl7dGhpcy5fcmVuZGVyUGFzc05hbWVzW2VdPXZvaWQgMDtmb3IobGV0IHQ9MDt0PHRoaXMuc2NlbmVzLmxlbmd0aDsrK3Qpe2NvbnN0IGk9dGhpcy5zY2VuZXNbdF07Zm9yKGxldCBzPTA7czxpLm1lc2hlcy5sZW5ndGg7KytzKXtjb25zdCByPWkubWVzaGVzW3NdO2lmKHIuc3ViTWVzaGVzKWZvcihsZXQgbj0wO248ci5zdWJNZXNoZXMubGVuZ3RoOysrbilyLnN1Yk1lc2hlc1tuXS5fcmVtb3ZlRHJhd1dyYXBwZXIoZSl9fX1fcmVzY2FsZVRleHR1cmUoZSx0LGkscyxyKXt0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9NQUdfRklMVEVSLHRoaXMuX2dsLkxJTkVBUiksdGhpcy5fZ2wudGV4UGFyYW1ldGVyaSh0aGlzLl9nbC5URVhUVVJFXzJELHRoaXMuX2dsLlRFWFRVUkVfTUlOX0ZJTFRFUix0aGlzLl9nbC5MSU5FQVIpLHRoaXMuX2dsLnRleFBhcmFtZXRlcmkodGhpcy5fZ2wuVEVYVFVSRV8yRCx0aGlzLl9nbC5URVhUVVJFX1dSQVBfUyx0aGlzLl9nbC5DTEFNUF9UT19FREdFKSx0aGlzLl9nbC50ZXhQYXJhbWV0ZXJpKHRoaXMuX2dsLlRFWFRVUkVfMkQsdGhpcy5fZ2wuVEVYVFVSRV9XUkFQX1QsdGhpcy5fZ2wuQ0xBTVBfVE9fRURHRSk7Y29uc3Qgbj10aGlzLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoe3dpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fSx7Z2VuZXJhdGVNaXBNYXBzOiExLHR5cGU6MCxzYW1wbGluZ01vZGU6MixnZW5lcmF0ZURlcHRoQnVmZmVyOiExLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjohMX0pOyF0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3MmJlAuX1Jlc2NhbGVQb3N0UHJvY2Vzc0ZhY3RvcnkmJih0aGlzLl9yZXNjYWxlUG9zdFByb2Nlc3M9UC5fUmVzY2FsZVBvc3RQcm9jZXNzRmFjdG9yeSh0aGlzKSksdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzJiYodGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSEwLHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2Vzcy5nZXRFZmZlY3QoKS5leGVjdXRlV2hlbkNvbXBpbGVkKCgpPT57dGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLm9uQXBwbHk9ZnVuY3Rpb24obyl7by5fYmluZFRleHR1cmUoInRleHR1cmVTYW1wbGVyIixlKX07bGV0IGE9aTthfHwoYT10aGlzLnNjZW5lc1t0aGlzLnNjZW5lcy5sZW5ndGgtMV0pLGEucG9zdFByb2Nlc3NNYW5hZ2VyLmRpcmVjdFJlbmRlcihbdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzXSxuLCEwKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsdCwhMCksdGhpcy5fZ2wuY29weVRleEltYWdlMkQodGhpcy5fZ2wuVEVYVFVSRV8yRCwwLHMsMCwwLHQud2lkdGgsdC5oZWlnaHQsMCksdGhpcy51bkJpbmRGcmFtZWJ1ZmZlcihuKSxuLmRpc3Bvc2UoKSxyJiZyKCl9KSl9Z2V0RnBzKCl7cmV0dXJuIHRoaXMuX2Zwc31nZXREZWx0YVRpbWUoKXtyZXR1cm4gdGhpcy5fZGVsdGFUaW1lfV9tZWFzdXJlRnBzKCl7dGhpcy5fcGVyZm9ybWFuY2VNb25pdG9yLnNhbXBsZUZyYW1lKCksdGhpcy5fZnBzPXRoaXMuX3BlcmZvcm1hbmNlTW9uaXRvci5hdmVyYWdlRlBTLHRoaXMuX2RlbHRhVGltZT10aGlzLl9wZXJmb3JtYW5jZU1vbml0b3IuaW5zdGFudGFuZW91c0ZyYW1lVGltZXx8MH13cmFwV2ViR0xUZXh0dXJlKGUsdD0hMSxpPTMpe2NvbnN0IHM9bmV3IG5yKGUsdGhpcy5fZ2wpLHI9bmV3IEx0KHRoaXMsTGUuVW5rbm93biwhMCk7cmV0dXJuIHIuX2hhcmR3YXJlVGV4dHVyZT1zLHIuaXNSZWFkeT0hMCxyLnVzZU1pcE1hcHM9dCx0aGlzLnVwZGF0ZVRleHR1cmVTYW1wbGluZ01vZGUoaSxyKSxyfV91cGxvYWRJbWFnZVRvVGV4dHVyZShlLHQsaT0wLHM9MCl7Y29uc3Qgcj10aGlzLl9nbCxuPXRoaXMuX2dldFdlYkdMVGV4dHVyZVR5cGUoZS50eXBlKSxhPXRoaXMuX2dldEludGVybmFsRm9ybWF0KGUuZm9ybWF0KSxvPXRoaXMuX2dldFJHQkFCdWZmZXJJbnRlcm5hbFNpemVkRm9ybWF0KGUudHlwZSxhKSxoPWUuaXNDdWJlP3IuVEVYVFVSRV9DVUJFX01BUDpyLlRFWFRVUkVfMkQ7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShoLGUsITApLHRoaXMuX3VucGFja0ZsaXBZKGUuaW52ZXJ0WSk7bGV0IGw9ci5URVhUVVJFXzJEO2UuaXNDdWJlJiYobD1yLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtpKSxyLnRleEltYWdlMkQobCxzLG8sYSxuLHQpLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkoaCxudWxsLCEwKX11cGRhdGVUZXh0dXJlQ29tcGFyaXNvbkZ1bmN0aW9uKGUsdCl7aWYodGhpcy53ZWJHTFZlcnNpb249PT0xKXtPLkVycm9yKCJXZWJHTCAxIGRvZXMgbm90IHN1cHBvcnQgdGV4dHVyZSBjb21wYXJpc29uLiIpO3JldHVybn1jb25zdCBpPXRoaXMuX2dsO2UuaXNDdWJlPyh0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsZSwhMCksdD09PTA/KGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfQ1VCRV9NQVAsaS5URVhUVVJFX0NPTVBBUkVfRlVOQyw1MTUpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfQ1VCRV9NQVAsaS5URVhUVVJFX0NPTVBBUkVfTU9ERSxpLk5PTkUpKTooaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV9DVUJFX01BUCxpLlRFWFRVUkVfQ09NUEFSRV9GVU5DLHQpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfQ1VCRV9NQVAsaS5URVhUVVJFX0NPTVBBUkVfTU9ERSxpLkNPTVBBUkVfUkVGX1RPX1RFWFRVUkUpKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfQ1VCRV9NQVAsbnVsbCkpOih0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsZSwhMCksdD09PTA/KGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX0NPTVBBUkVfRlVOQyw1MTUpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX0NPTVBBUkVfTU9ERSxpLk5PTkUpKTooaS50ZXhQYXJhbWV0ZXJpKGkuVEVYVFVSRV8yRCxpLlRFWFRVUkVfQ09NUEFSRV9GVU5DLHQpLGkudGV4UGFyYW1ldGVyaShpLlRFWFRVUkVfMkQsaS5URVhUVVJFX0NPTVBBUkVfTU9ERSxpLkNPTVBBUkVfUkVGX1RPX1RFWFRVUkUpKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHRoaXMuX2dsLlRFWFRVUkVfMkQsbnVsbCkpLGUuX2NvbXBhcmlzb25GdW5jdGlvbj10fWNyZWF0ZUluc3RhbmNlc0J1ZmZlcihlKXtjb25zdCB0PXRoaXMuX2dsLmNyZWF0ZUJ1ZmZlcigpO2lmKCF0KXRocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGNyZWF0ZSBpbnN0YW5jZSBidWZmZXIiKTtjb25zdCBpPW5ldyBMaSh0KTtyZXR1cm4gaS5jYXBhY2l0eT1lLHRoaXMuYmluZEFycmF5QnVmZmVyKGkpLHRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuQVJSQVlfQlVGRkVSLGUsdGhpcy5fZ2wuRFlOQU1JQ19EUkFXKSxpLnJlZmVyZW5jZXM9MSxpfWRlbGV0ZUluc3RhbmNlc0J1ZmZlcihlKXt0aGlzLl9nbC5kZWxldGVCdWZmZXIoZSl9X2NsaWVudFdhaXRBc3luYyhlLHQ9MCxpPTEwKXtjb25zdCBzPXRoaXMuX2dsO3JldHVybiBuZXcgUHJvbWlzZSgocixuKT0+e2NvbnN0IGE9KCk9Pntjb25zdCBvPXMuY2xpZW50V2FpdFN5bmMoZSx0LDApO2lmKG89PXMuV0FJVF9GQUlMRUQpe24oKTtyZXR1cm59aWYobz09cy5USU1FT1VUX0VYUElSRUQpe3NldFRpbWVvdXQoYSxpKTtyZXR1cm59cigpfTthKCl9KX1fcmVhZFBpeGVsc0FzeW5jKGUsdCxpLHMscixuLGEpe2lmKHRoaXMuX3dlYkdMVmVyc2lvbjwyKXRocm93IG5ldyBFcnJvcigiX3JlYWRQaXhlbHNBc3luYyBvbmx5IHdvcmsgb24gV2ViR0wyKyIpO2NvbnN0IG89dGhpcy5fZ2wsaD1vLmNyZWF0ZUJ1ZmZlcigpO28uYmluZEJ1ZmZlcihvLlBJWEVMX1BBQ0tfQlVGRkVSLGgpLG8uYnVmZmVyRGF0YShvLlBJWEVMX1BBQ0tfQlVGRkVSLGEuYnl0ZUxlbmd0aCxvLlNUUkVBTV9SRUFEKSxvLnJlYWRQaXhlbHMoZSx0LGkscyxyLG4sMCksby5iaW5kQnVmZmVyKG8uUElYRUxfUEFDS19CVUZGRVIsbnVsbCk7Y29uc3QgbD1vLmZlbmNlU3luYyhvLlNZTkNfR1BVX0NPTU1BTkRTX0NPTVBMRVRFLDApO3JldHVybiBsPyhvLmZsdXNoKCksdGhpcy5fY2xpZW50V2FpdEFzeW5jKGwsMCwxMCkudGhlbigoKT0+KG8uZGVsZXRlU3luYyhsKSxvLmJpbmRCdWZmZXIoby5QSVhFTF9QQUNLX0JVRkZFUixoKSxvLmdldEJ1ZmZlclN1YkRhdGEoby5QSVhFTF9QQUNLX0JVRkZFUiwwLGEpLG8uYmluZEJ1ZmZlcihvLlBJWEVMX1BBQ0tfQlVGRkVSLG51bGwpLG8uZGVsZXRlQnVmZmVyKGgpLGEpKSk6bnVsbH1kaXNwb3NlKCl7Zm9yKHRoaXMuaGlkZUxvYWRpbmdVSSgpLHRoaXMub25OZXdTY2VuZUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpO3RoaXMucG9zdFByb2Nlc3Nlcy5sZW5ndGg7KXRoaXMucG9zdFByb2Nlc3Nlc1swXS5kaXNwb3NlKCk7Zm9yKHRoaXMuX3Jlc2NhbGVQb3N0UHJvY2VzcyYmdGhpcy5fcmVzY2FsZVBvc3RQcm9jZXNzLmRpc3Bvc2UoKTt0aGlzLnNjZW5lcy5sZW5ndGg7KXRoaXMuc2NlbmVzWzBdLmRpc3Bvc2UoKTtmb3IoO3RoaXMuX3ZpcnR1YWxTY2VuZXMubGVuZ3RoOyl0aGlzLl92aXJ0dWFsU2NlbmVzWzBdLmRpc3Bvc2UoKTtsZS5JbnN0YW5jZXMubGVuZ3RoPT09MSYmUC5hdWRpb0VuZ2luZSYmKFAuYXVkaW9FbmdpbmUuZGlzcG9zZSgpLFAuYXVkaW9FbmdpbmU9bnVsbCksdGhpcy5kaXNhYmxlVlIoKTtjb25zdCBlPXRoaXMuZ2V0SG9zdFdpbmRvdygpO2UmJnR5cGVvZiBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9PSJmdW5jdGlvbiImJihlLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQmx1ciksZS5yZW1vdmVFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5fb25Gb2N1cykpLHRoaXMuX3JlbmRlcmluZ0NhbnZhcyYmKHRoaXMuX3JlbmRlcmluZ0NhbnZhcy5yZW1vdmVFdmVudExpc3RlbmVyKCJmb2N1cyIsdGhpcy5fb25DYW52YXNGb2N1cyksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX29uQ2FudmFzQmx1ciksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoInBvaW50ZXJvdXQiLHRoaXMuX29uQ2FudmFzUG9pbnRlck91dCksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoImNvbnRleHRtZW51Iix0aGlzLl9vbkNhbnZhc0NvbnRleHRNZW51KSksRmkoKSYmKGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImZ1bGxzY3JlZW5jaGFuZ2UiLHRoaXMuX29uRnVsbHNjcmVlbkNoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW96ZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJ3ZWJraXRmdWxsc2NyZWVuY2hhbmdlIix0aGlzLl9vbkZ1bGxzY3JlZW5DaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1zZnVsbHNjcmVlbmNoYW5nZSIsdGhpcy5fb25GdWxsc2NyZWVuQ2hhbmdlKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibXNwb2ludGVybG9ja2NoYW5nZSIsdGhpcy5fb25Qb2ludGVyTG9ja0NoYW5nZSksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW96cG9pbnRlcmxvY2tjaGFuZ2UiLHRoaXMuX29uUG9pbnRlckxvY2tDaGFuZ2UpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIndlYmtpdHBvaW50ZXJsb2NrY2hhbmdlIix0aGlzLl9vblBvaW50ZXJMb2NrQ2hhbmdlKSksc3VwZXIuZGlzcG9zZSgpO2NvbnN0IHQ9bGUuSW5zdGFuY2VzLmluZGV4T2YodGhpcyk7dD49MCYmbGUuSW5zdGFuY2VzLnNwbGljZSh0LDEpLFAuSW5zdGFuY2VzLmxlbmd0aHx8KGxlLk9uRW5naW5lc0Rpc3Bvc2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksbGUuT25FbmdpbmVzRGlzcG9zZWRPYnNlcnZhYmxlLmNsZWFyKCkpLHRoaXMub25SZXNpemVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNhbnZhc0JsdXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNhbnZhc0ZvY3VzT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DYW52YXNQb2ludGVyT3V0T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWdpbkZyYW1lT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25FbmRGcmFtZU9ic2VydmFibGUuY2xlYXIoKX1fZGlzYWJsZVRvdWNoQWN0aW9uKCl7IXRoaXMuX3JlbmRlcmluZ0NhbnZhc3x8IXRoaXMuX3JlbmRlcmluZ0NhbnZhcy5zZXRBdHRyaWJ1dGV8fCh0aGlzLl9yZW5kZXJpbmdDYW52YXMuc2V0QXR0cmlidXRlKCJ0b3VjaC1hY3Rpb24iLCJub25lIiksdGhpcy5fcmVuZGVyaW5nQ2FudmFzLnN0eWxlLnRvdWNoQWN0aW9uPSJub25lIix0aGlzLl9yZW5kZXJpbmdDYW52YXMuc3R5bGUud2Via2l0VGFwSGlnaGxpZ2h0Q29sb3I9InRyYW5zcGFyZW50Iil9ZGlzcGxheUxvYWRpbmdVSSgpe2lmKCFqZSgpKXJldHVybjtjb25zdCBlPXRoaXMubG9hZGluZ1NjcmVlbjtlJiZlLmRpc3BsYXlMb2FkaW5nVUkoKX1oaWRlTG9hZGluZ1VJKCl7aWYoIWplKCkpcmV0dXJuO2NvbnN0IGU9dGhpcy5fbG9hZGluZ1NjcmVlbjtlJiZlLmhpZGVMb2FkaW5nVUkoKX1nZXQgbG9hZGluZ1NjcmVlbigpe3JldHVybiF0aGlzLl9sb2FkaW5nU2NyZWVuJiZ0aGlzLl9yZW5kZXJpbmdDYW52YXMmJih0aGlzLl9sb2FkaW5nU2NyZWVuPVAuRGVmYXVsdExvYWRpbmdTY3JlZW5GYWN0b3J5KHRoaXMuX3JlbmRlcmluZ0NhbnZhcykpLHRoaXMuX2xvYWRpbmdTY3JlZW59c2V0IGxvYWRpbmdTY3JlZW4oZSl7dGhpcy5fbG9hZGluZ1NjcmVlbj1lfXNldCBsb2FkaW5nVUlUZXh0KGUpe3RoaXMubG9hZGluZ1NjcmVlbi5sb2FkaW5nVUlUZXh0PWV9c2V0IGxvYWRpbmdVSUJhY2tncm91bmRDb2xvcihlKXt0aGlzLmxvYWRpbmdTY3JlZW4ubG9hZGluZ1VJQmFja2dyb3VuZENvbG9yPWV9Y3JlYXRlVmlkZW9FbGVtZW50KGUpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ2aWRlbyIpfXN0YXRpYyBfUmVxdWVzdFBvaW50ZXJsb2NrKGUpe2lmKGUucmVxdWVzdFBvaW50ZXJMb2NrKXtjb25zdCB0PWUucmVxdWVzdFBvaW50ZXJMb2NrKCk7dCBpbnN0YW5jZW9mIFByb21pc2U/dC50aGVuKCgpPT57ZS5mb2N1cygpfSkuY2F0Y2goKCk9Pnt9KTplLmZvY3VzKCl9fXN0YXRpYyBfRXhpdFBvaW50ZXJsb2NrKCl7ZG9jdW1lbnQuZXhpdFBvaW50ZXJMb2NrJiZkb2N1bWVudC5leGl0UG9pbnRlckxvY2soKX1zdGF0aWMgX1JlcXVlc3RGdWxsc2NyZWVuKGUpe2NvbnN0IHQ9ZS5yZXF1ZXN0RnVsbHNjcmVlbnx8ZS53ZWJraXRSZXF1ZXN0RnVsbHNjcmVlbjt0JiZ0LmNhbGwoZSl9c3RhdGljIF9FeGl0RnVsbHNjcmVlbigpe2NvbnN0IGU9ZG9jdW1lbnQ7ZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4/ZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTplLndlYmtpdENhbmNlbEZ1bGxTY3JlZW4mJmUud2Via2l0Q2FuY2VsRnVsbFNjcmVlbigpfWdldEZvbnRPZmZzZXQoZSl7Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzcGFuIik7dC5pbm5lckhUTUw9IkhnIix0LnNldEF0dHJpYnV0ZSgic3R5bGUiLGBmb250OiAke2V9ICFpbXBvcnRhbnRgKTtjb25zdCBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2kuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIixpLnN0eWxlLndpZHRoPSIxcHgiLGkuc3R5bGUuaGVpZ2h0PSIwcHgiLGkuc3R5bGUudmVydGljYWxBbGlnbj0iYm90dG9tIjtjb25zdCBzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Muc3R5bGUud2hpdGVTcGFjZT0ibm93cmFwIixzLmFwcGVuZENoaWxkKHQpLHMuYXBwZW5kQ2hpbGQoaSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzKTtsZXQgcj0wLG49MDt0cnl7bj1pLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcC10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCxpLnN0eWxlLnZlcnRpY2FsQWxpZ249ImJhc2VsaW5lIixyPWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wfWZpbmFsbHl7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzKX1yZXR1cm57YXNjZW50OnIsaGVpZ2h0Om4sZGVzY2VudDpuLXJ9fX1QLkFMUEhBX0RJU0FCTEU9MCxQLkFMUEhBX0FERD0xLFAuQUxQSEFfQ09NQklORT0yLFAuQUxQSEFfU1VCVFJBQ1Q9MyxQLkFMUEhBX01VTFRJUExZPTQsUC5BTFBIQV9NQVhJTUlaRUQ9NSxQLkFMUEhBX09ORU9ORT02LFAuQUxQSEFfUFJFTVVMVElQTElFRD03LFAuQUxQSEFfUFJFTVVMVElQTElFRF9QT1JURVJEVUZGPTgsUC5BTFBIQV9JTlRFUlBPTEFURT05LFAuQUxQSEFfU0NSRUVOTU9ERT0xMCxQLkRFTEFZTE9BRFNUQVRFX05PTkU9MCxQLkRFTEFZTE9BRFNUQVRFX0xPQURFRD0xLFAuREVMQVlMT0FEU1RBVEVfTE9BRElORz0yLFAuREVMQVlMT0FEU1RBVEVfTk9UTE9BREVEPTQsUC5ORVZFUj01MTIsUC5BTFdBWVM9NTE5LFAuTEVTUz01MTMsUC5FUVVBTD01MTQsUC5MRVFVQUw9NTE1LFAuR1JFQVRFUj01MTYsUC5HRVFVQUw9NTE4LFAuTk9URVFVQUw9NTE3LFAuS0VFUD03NjgwLFAuUkVQTEFDRT03NjgxLFAuSU5DUj03NjgyLFAuREVDUj03NjgzLFAuSU5WRVJUPTUzODYsUC5JTkNSX1dSQVA9MzQwNTUsUC5ERUNSX1dSQVA9MzQwNTYsUC5URVhUVVJFX0NMQU1QX0FERFJFU1NNT0RFPTAsUC5URVhUVVJFX1dSQVBfQUREUkVTU01PREU9MSxQLlRFWFRVUkVfTUlSUk9SX0FERFJFU1NNT0RFPTIsUC5URVhUVVJFRk9STUFUX0FMUEhBPTAsUC5URVhUVVJFRk9STUFUX0xVTUlOQU5DRT0xLFAuVEVYVFVSRUZPUk1BVF9MVU1JTkFOQ0VfQUxQSEE9MixQLlRFWFRVUkVGT1JNQVRfUkdCPTQsUC5URVhUVVJFRk9STUFUX1JHQkE9NSxQLlRFWFRVUkVGT1JNQVRfUkVEPTYsUC5URVhUVVJFRk9STUFUX1I9NixQLlRFWFRVUkVGT1JNQVRfUkc9NyxQLlRFWFRVUkVGT1JNQVRfUkVEX0lOVEVHRVI9OCxQLlRFWFRVUkVGT1JNQVRfUl9JTlRFR0VSPTgsUC5URVhUVVJFRk9STUFUX1JHX0lOVEVHRVI9OSxQLlRFWFRVUkVGT1JNQVRfUkdCX0lOVEVHRVI9MTAsUC5URVhUVVJFRk9STUFUX1JHQkFfSU5URUdFUj0xMSxQLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0JZVEU9MCxQLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVD0wLFAuVEVYVFVSRVRZUEVfRkxPQVQ9MSxQLlRFWFRVUkVUWVBFX0hBTEZfRkxPQVQ9MixQLlRFWFRVUkVUWVBFX0JZVEU9MyxQLlRFWFRVUkVUWVBFX1NIT1JUPTQsUC5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVD01LFAuVEVYVFVSRVRZUEVfSU5UPTYsUC5URVhUVVJFVFlQRV9VTlNJR05FRF9JTlRFR0VSPTcsUC5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVF80XzRfNF80PTgsUC5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVF81XzVfNV8xPTksUC5URVhUVVJFVFlQRV9VTlNJR05FRF9TSE9SVF81XzZfNT0xMCxQLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF8yXzEwXzEwXzEwX1JFVj0xMSxQLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF8yNF84PTEyLFAuVEVYVFVSRVRZUEVfVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVj0xMyxQLlRFWFRVUkVUWVBFX1VOU0lHTkVEX0lOVF81XzlfOV85X1JFVj0xNCxQLlRFWFRVUkVUWVBFX0ZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVj0xNSxQLlRFWFRVUkVfTkVBUkVTVF9TQU1QTElOR01PREU9MSxQLlRFWFRVUkVfQklMSU5FQVJfU0FNUExJTkdNT0RFPTIsUC5URVhUVVJFX1RSSUxJTkVBUl9TQU1QTElOR01PREU9MyxQLlRFWFRVUkVfTkVBUkVTVF9ORUFSRVNUX01JUExJTkVBUj04LFAuVEVYVFVSRV9MSU5FQVJfTElORUFSX01JUE5FQVJFU1Q9MTEsUC5URVhUVVJFX0xJTkVBUl9MSU5FQVJfTUlQTElORUFSPTMsUC5URVhUVVJFX05FQVJFU1RfTkVBUkVTVF9NSVBORUFSRVNUPTQsUC5URVhUVVJFX05FQVJFU1RfTElORUFSX01JUE5FQVJFU1Q9NSxQLlRFWFRVUkVfTkVBUkVTVF9MSU5FQVJfTUlQTElORUFSPTYsUC5URVhUVVJFX05FQVJFU1RfTElORUFSPTcsUC5URVhUVVJFX05FQVJFU1RfTkVBUkVTVD0xLFAuVEVYVFVSRV9MSU5FQVJfTkVBUkVTVF9NSVBORUFSRVNUPTksUC5URVhUVVJFX0xJTkVBUl9ORUFSRVNUX01JUExJTkVBUj0xMCxQLlRFWFRVUkVfTElORUFSX0xJTkVBUj0yLFAuVEVYVFVSRV9MSU5FQVJfTkVBUkVTVD0xMixQLlRFWFRVUkVfRVhQTElDSVRfTU9ERT0wLFAuVEVYVFVSRV9TUEhFUklDQUxfTU9ERT0xLFAuVEVYVFVSRV9QTEFOQVJfTU9ERT0yLFAuVEVYVFVSRV9DVUJJQ19NT0RFPTMsUC5URVhUVVJFX1BST0pFQ1RJT05fTU9ERT00LFAuVEVYVFVSRV9TS1lCT1hfTU9ERT01LFAuVEVYVFVSRV9JTlZDVUJJQ19NT0RFPTYsUC5URVhUVVJFX0VRVUlSRUNUQU5HVUxBUl9NT0RFPTcsUC5URVhUVVJFX0ZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NT0RFPTgsUC5URVhUVVJFX0ZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NSVJST1JFRF9NT0RFPTksUC5TQ0FMRU1PREVfRkxPT1I9MSxQLlNDQUxFTU9ERV9ORUFSRVNUPTIsUC5TQ0FMRU1PREVfQ0VJTElORz0zLFAuX1Jlc2NhbGVQb3N0UHJvY2Vzc0ZhY3Rvcnk9bnVsbCxQLl9SZW5kZXJQYXNzSWRDb3VudGVyPTA7ZnVuY3Rpb24gRW4oYyl7cmV0dXJuIG5ldyBQKGMsITAse3ByZXNlcnZlRHJhd2luZ0J1ZmZlcjohMCxzdGVuY2lsOiEwfSl9ZnVuY3Rpb24gRWkoYyl7cmV0dXJuIE1hdGgucG93KGMsT2UpfWZ1bmN0aW9uIFRpKGMpe3JldHVybiBjPD0uMDQwNDU/LjA3NzM5OTM4MDgqYzpNYXRoLnBvdyguOTQ3ODY3Mjk5KihjKy4wNTUpLDIuNCl9ZnVuY3Rpb24gYmkoYyl7cmV0dXJuIE1hdGgucG93KGMsQ2UpfWZ1bmN0aW9uIFNpKGMpe3JldHVybiBjPD0uMDAzMTMwOD8xMi45MipjOjEuMDU1Kk1hdGgucG93KGMsLjQxNjY2KS0uMDU1fWNsYXNzIHJle2NvbnN0cnVjdG9yKGU9MCx0PTAsaT0wKXt0aGlzLnI9ZSx0aGlzLmc9dCx0aGlzLmI9aX10b1N0cmluZygpe3JldHVybiJ7UjogIit0aGlzLnIrIiBHOiIrdGhpcy5nKyIgQjoiK3RoaXMuYisifSJ9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkNvbG9yMyJ9Z2V0SGFzaENvZGUoKXtsZXQgZT10aGlzLnIqMjU1fDA7cmV0dXJuIGU9ZSozOTdeKHRoaXMuZyoyNTV8MCksZT1lKjM5N14odGhpcy5iKjI1NXwwKSxlfXRvQXJyYXkoZSx0PTApe3JldHVybiBlW3RdPXRoaXMucixlW3QrMV09dGhpcy5nLGVbdCsyXT10aGlzLmIsdGhpc31mcm9tQXJyYXkoZSx0PTApe3JldHVybiByZS5Gcm9tQXJyYXlUb1JlZihlLHQsdGhpcyksdGhpc310b0NvbG9yNChlPTEpe3JldHVybiBuZXcgTmUodGhpcy5yLHRoaXMuZyx0aGlzLmIsZSl9YXNBcnJheSgpe3JldHVyblt0aGlzLnIsdGhpcy5nLHRoaXMuYl19dG9MdW1pbmFuY2UoKXtyZXR1cm4gdGhpcy5yKi4zK3RoaXMuZyouNTkrdGhpcy5iKi4xMX1tdWx0aXBseShlKXtyZXR1cm4gbmV3IHJlKHRoaXMuciplLnIsdGhpcy5nKmUuZyx0aGlzLmIqZS5iKX1tdWx0aXBseVRvUmVmKGUsdCl7cmV0dXJuIHQucj10aGlzLnIqZS5yLHQuZz10aGlzLmcqZS5nLHQuYj10aGlzLmIqZS5iLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlJiZ0aGlzLnI9PT1lLnImJnRoaXMuZz09PWUuZyYmdGhpcy5iPT09ZS5ifWVxdWFsc0Zsb2F0cyhlLHQsaSl7cmV0dXJuIHRoaXMucj09PWUmJnRoaXMuZz09PXQmJnRoaXMuYj09PWl9c2NhbGUoZSl7cmV0dXJuIG5ldyByZSh0aGlzLnIqZSx0aGlzLmcqZSx0aGlzLmIqZSl9c2NhbGVJblBsYWNlKGUpe3JldHVybiB0aGlzLnIqPWUsdGhpcy5nKj1lLHRoaXMuYio9ZSx0aGlzfXNjYWxlVG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMuciplLHQuZz10aGlzLmcqZSx0LmI9dGhpcy5iKmUsdGhpc31zY2FsZUFuZEFkZFRvUmVmKGUsdCl7cmV0dXJuIHQucis9dGhpcy5yKmUsdC5nKz10aGlzLmcqZSx0LmIrPXRoaXMuYiplLHRoaXN9Y2xhbXBUb1JlZihlPTAsdD0xLGkpe3JldHVybiBpLnI9Vy5DbGFtcCh0aGlzLnIsZSx0KSxpLmc9Vy5DbGFtcCh0aGlzLmcsZSx0KSxpLmI9Vy5DbGFtcCh0aGlzLmIsZSx0KSx0aGlzfWFkZChlKXtyZXR1cm4gbmV3IHJlKHRoaXMucitlLnIsdGhpcy5nK2UuZyx0aGlzLmIrZS5iKX1hZGRUb1JlZihlLHQpe3JldHVybiB0LnI9dGhpcy5yK2Uucix0Lmc9dGhpcy5nK2UuZyx0LmI9dGhpcy5iK2UuYix0aGlzfXN1YnRyYWN0KGUpe3JldHVybiBuZXcgcmUodGhpcy5yLWUucix0aGlzLmctZS5nLHRoaXMuYi1lLmIpfXN1YnRyYWN0VG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMuci1lLnIsdC5nPXRoaXMuZy1lLmcsdC5iPXRoaXMuYi1lLmIsdGhpc31jbG9uZSgpe3JldHVybiBuZXcgcmUodGhpcy5yLHRoaXMuZyx0aGlzLmIpfWNvcHlGcm9tKGUpe3JldHVybiB0aGlzLnI9ZS5yLHRoaXMuZz1lLmcsdGhpcy5iPWUuYix0aGlzfWNvcHlGcm9tRmxvYXRzKGUsdCxpKXtyZXR1cm4gdGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPWksdGhpc31zZXQoZSx0LGkpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCxpKX10b0hleFN0cmluZygpe2NvbnN0IGU9TWF0aC5yb3VuZCh0aGlzLnIqMjU1KSx0PU1hdGgucm91bmQodGhpcy5nKjI1NSksaT1NYXRoLnJvdW5kKHRoaXMuYioyNTUpO3JldHVybiIjIitXLlRvSGV4KGUpK1cuVG9IZXgodCkrVy5Ub0hleChpKX10b0hTVigpe2NvbnN0IGU9bmV3IHJlO3JldHVybiB0aGlzLnRvSFNWVG9SZWYoZSksZX10b0hTVlRvUmVmKGUpe2NvbnN0IHQ9dGhpcy5yLGk9dGhpcy5nLHM9dGhpcy5iLHI9TWF0aC5tYXgodCxpLHMpLG49TWF0aC5taW4odCxpLHMpO2xldCBhPTAsbz0wO2NvbnN0IGg9cixsPXItbjtyIT09MCYmKG89bC9yKSxyIT1uJiYocj09dD8oYT0oaS1zKS9sLGk8cyYmKGErPTYpKTpyPT1pP2E9KHMtdCkvbCsyOnI9PXMmJihhPSh0LWkpL2wrNCksYSo9NjApLGUucj1hLGUuZz1vLGUuYj1ofXRvTGluZWFyU3BhY2UoZT0hMSl7Y29uc3QgdD1uZXcgcmU7cmV0dXJuIHRoaXMudG9MaW5lYXJTcGFjZVRvUmVmKHQsZSksdH10b0xpbmVhclNwYWNlVG9SZWYoZSx0PSExKXtyZXR1cm4gdD8oZS5yPVRpKHRoaXMuciksZS5nPVRpKHRoaXMuZyksZS5iPVRpKHRoaXMuYikpOihlLnI9RWkodGhpcy5yKSxlLmc9RWkodGhpcy5nKSxlLmI9RWkodGhpcy5iKSksdGhpc310b0dhbW1hU3BhY2UoZT0hMSl7Y29uc3QgdD1uZXcgcmU7cmV0dXJuIHRoaXMudG9HYW1tYVNwYWNlVG9SZWYodCxlKSx0fXRvR2FtbWFTcGFjZVRvUmVmKGUsdD0hMSl7cmV0dXJuIHQ/KGUucj1TaSh0aGlzLnIpLGUuZz1TaSh0aGlzLmcpLGUuYj1TaSh0aGlzLmIpKTooZS5yPWJpKHRoaXMuciksZS5nPWJpKHRoaXMuZyksZS5iPWJpKHRoaXMuYikpLHRoaXN9c3RhdGljIEhTVnRvUkdCVG9SZWYoZSx0LGkscyl7Y29uc3Qgcj1pKnQsbj1lLzYwLGE9ciooMS1NYXRoLmFicyhuJTItMSkpO2xldCBvPTAsaD0wLGw9MDtuPj0wJiZuPD0xPyhvPXIsaD1hKTpuPj0xJiZuPD0yPyhvPWEsaD1yKTpuPj0yJiZuPD0zPyhoPXIsbD1hKTpuPj0zJiZuPD00PyhoPWEsbD1yKTpuPj00JiZuPD01PyhvPWEsbD1yKTpuPj01JiZuPD02JiYobz1yLGw9YSk7Y29uc3QgdT1pLXI7cy5zZXQobyt1LGgrdSxsK3UpfXN0YXRpYyBGcm9tSFNWKGUsdCxpKXtjb25zdCBzPW5ldyByZSgwLDAsMCk7cmV0dXJuIHJlLkhTVnRvUkdCVG9SZWYoZSx0LGkscyksc31zdGF0aWMgRnJvbUhleFN0cmluZyhlKXtpZihlLnN1YnN0cmluZygwLDEpIT09IiMifHxlLmxlbmd0aCE9PTcpcmV0dXJuIG5ldyByZSgwLDAsMCk7Y29uc3QgdD1wYXJzZUludChlLnN1YnN0cmluZygxLDMpLDE2KSxpPXBhcnNlSW50KGUuc3Vic3RyaW5nKDMsNSksMTYpLHM9cGFyc2VJbnQoZS5zdWJzdHJpbmcoNSw3KSwxNik7cmV0dXJuIHJlLkZyb21JbnRzKHQsaSxzKX1zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gbmV3IHJlKGVbdF0sZVt0KzFdLGVbdCsyXSl9c3RhdGljIEZyb21BcnJheVRvUmVmKGUsdD0wLGkpe2kucj1lW3RdLGkuZz1lW3QrMV0saS5iPWVbdCsyXX1zdGF0aWMgRnJvbUludHMoZSx0LGkpe3JldHVybiBuZXcgcmUoZS8yNTUsdC8yNTUsaS8yNTUpfXN0YXRpYyBMZXJwKGUsdCxpKXtjb25zdCBzPW5ldyByZSgwLDAsMCk7cmV0dXJuIHJlLkxlcnBUb1JlZihlLHQsaSxzKSxzfXN0YXRpYyBMZXJwVG9SZWYoZSx0LGkscyl7cy5yPWUucisodC5yLWUucikqaSxzLmc9ZS5nKyh0LmctZS5nKSppLHMuYj1lLmIrKHQuYi1lLmIpKml9c3RhdGljIEhlcm1pdGUoZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPTIqYS0zKm4rMSxoPS0yKmErMypuLGw9YS0yKm4rcix1PWEtbixkPWUucipvK2kucipoK3QucipsK3Mucip1LF89ZS5nKm8raS5nKmgrdC5nKmwrcy5nKnUsZj1lLmIqbytpLmIqaCt0LmIqbCtzLmIqdTtyZXR1cm4gbmV3IHJlKGQsXyxmKX1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmUoZSx0LGkscyxyKXtjb25zdCBuPXJlLkJsYWNrKCk7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbiksbn1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1yKnI7bi5yPShhLXIpKjYqZS5yKygzKmEtNCpyKzEpKnQucisoLWErcikqNippLnIrKDMqYS0yKnIpKnMucixuLmc9KGEtcikqNiplLmcrKDMqYS00KnIrMSkqdC5nKygtYStyKSo2KmkuZysoMyphLTIqcikqcy5nLG4uYj0oYS1yKSo2KmUuYisoMyphLTQqcisxKSp0LmIrKC1hK3IpKjYqaS5iKygzKmEtMipyKSpzLmJ9c3RhdGljIFJlZCgpe3JldHVybiBuZXcgcmUoMSwwLDApfXN0YXRpYyBHcmVlbigpe3JldHVybiBuZXcgcmUoMCwxLDApfXN0YXRpYyBCbHVlKCl7cmV0dXJuIG5ldyByZSgwLDAsMSl9c3RhdGljIEJsYWNrKCl7cmV0dXJuIG5ldyByZSgwLDAsMCl9c3RhdGljIGdldCBCbGFja1JlYWRPbmx5KCl7cmV0dXJuIHJlLl9CbGFja1JlYWRPbmx5fXN0YXRpYyBXaGl0ZSgpe3JldHVybiBuZXcgcmUoMSwxLDEpfXN0YXRpYyBQdXJwbGUoKXtyZXR1cm4gbmV3IHJlKC41LDAsLjUpfXN0YXRpYyBNYWdlbnRhKCl7cmV0dXJuIG5ldyByZSgxLDAsMSl9c3RhdGljIFllbGxvdygpe3JldHVybiBuZXcgcmUoMSwxLDApfXN0YXRpYyBHcmF5KCl7cmV0dXJuIG5ldyByZSguNSwuNSwuNSl9c3RhdGljIFRlYWwoKXtyZXR1cm4gbmV3IHJlKDAsMSwxKX1zdGF0aWMgUmFuZG9tKCl7cmV0dXJuIG5ldyByZShNYXRoLnJhbmRvbSgpLE1hdGgucmFuZG9tKCksTWF0aC5yYW5kb20oKSl9fXJlLl9CbGFja1JlYWRPbmx5PXJlLkJsYWNrKCk7bGV0IE5lPWNsYXNzIFFle2NvbnN0cnVjdG9yKGU9MCx0PTAsaT0wLHM9MSl7dGhpcy5yPWUsdGhpcy5nPXQsdGhpcy5iPWksdGhpcy5hPXN9YWRkSW5QbGFjZShlKXtyZXR1cm4gdGhpcy5yKz1lLnIsdGhpcy5nKz1lLmcsdGhpcy5iKz1lLmIsdGhpcy5hKz1lLmEsdGhpc31hc0FycmF5KCl7cmV0dXJuW3RoaXMucix0aGlzLmcsdGhpcy5iLHRoaXMuYV19dG9BcnJheShlLHQ9MCl7cmV0dXJuIGVbdF09dGhpcy5yLGVbdCsxXT10aGlzLmcsZVt0KzJdPXRoaXMuYixlW3QrM109dGhpcy5hLHRoaXN9ZnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gUWUuRnJvbUFycmF5VG9SZWYoZSx0LHRoaXMpLHRoaXN9ZXF1YWxzKGUpe3JldHVybiBlJiZ0aGlzLnI9PT1lLnImJnRoaXMuZz09PWUuZyYmdGhpcy5iPT09ZS5iJiZ0aGlzLmE9PT1lLmF9YWRkKGUpe3JldHVybiBuZXcgUWUodGhpcy5yK2Uucix0aGlzLmcrZS5nLHRoaXMuYitlLmIsdGhpcy5hK2UuYSl9c3VidHJhY3QoZSl7cmV0dXJuIG5ldyBRZSh0aGlzLnItZS5yLHRoaXMuZy1lLmcsdGhpcy5iLWUuYix0aGlzLmEtZS5hKX1zdWJ0cmFjdFRvUmVmKGUsdCl7cmV0dXJuIHQucj10aGlzLnItZS5yLHQuZz10aGlzLmctZS5nLHQuYj10aGlzLmItZS5iLHQuYT10aGlzLmEtZS5hLHRoaXN9c2NhbGUoZSl7cmV0dXJuIG5ldyBRZSh0aGlzLnIqZSx0aGlzLmcqZSx0aGlzLmIqZSx0aGlzLmEqZSl9c2NhbGVJblBsYWNlKGUpe3JldHVybiB0aGlzLnIqPWUsdGhpcy5nKj1lLHRoaXMuYio9ZSx0aGlzLmEqPWUsdGhpc31zY2FsZVRvUmVmKGUsdCl7cmV0dXJuIHQucj10aGlzLnIqZSx0Lmc9dGhpcy5nKmUsdC5iPXRoaXMuYiplLHQuYT10aGlzLmEqZSx0aGlzfXNjYWxlQW5kQWRkVG9SZWYoZSx0KXtyZXR1cm4gdC5yKz10aGlzLnIqZSx0LmcrPXRoaXMuZyplLHQuYis9dGhpcy5iKmUsdC5hKz10aGlzLmEqZSx0aGlzfWNsYW1wVG9SZWYoZT0wLHQ9MSxpKXtyZXR1cm4gaS5yPVcuQ2xhbXAodGhpcy5yLGUsdCksaS5nPVcuQ2xhbXAodGhpcy5nLGUsdCksaS5iPVcuQ2xhbXAodGhpcy5iLGUsdCksaS5hPVcuQ2xhbXAodGhpcy5hLGUsdCksdGhpc31tdWx0aXBseShlKXtyZXR1cm4gbmV3IFFlKHRoaXMuciplLnIsdGhpcy5nKmUuZyx0aGlzLmIqZS5iLHRoaXMuYSplLmEpfW11bHRpcGx5VG9SZWYoZSx0KXtyZXR1cm4gdC5yPXRoaXMuciplLnIsdC5nPXRoaXMuZyplLmcsdC5iPXRoaXMuYiplLmIsdC5hPXRoaXMuYSplLmEsdH10b1N0cmluZygpe3JldHVybiJ7UjogIit0aGlzLnIrIiBHOiIrdGhpcy5nKyIgQjoiK3RoaXMuYisiIEE6Iit0aGlzLmErIn0ifWdldENsYXNzTmFtZSgpe3JldHVybiJDb2xvcjQifWdldEhhc2hDb2RlKCl7bGV0IGU9dGhpcy5yKjI1NXwwO3JldHVybiBlPWUqMzk3Xih0aGlzLmcqMjU1fDApLGU9ZSozOTdeKHRoaXMuYioyNTV8MCksZT1lKjM5N14odGhpcy5hKjI1NXwwKSxlfWNsb25lKCl7cmV0dXJuIG5ldyBRZSh0aGlzLnIsdGhpcy5nLHRoaXMuYix0aGlzLmEpfWNvcHlGcm9tKGUpe3JldHVybiB0aGlzLnI9ZS5yLHRoaXMuZz1lLmcsdGhpcy5iPWUuYix0aGlzLmE9ZS5hLHRoaXN9Y29weUZyb21GbG9hdHMoZSx0LGkscyl7cmV0dXJuIHRoaXMucj1lLHRoaXMuZz10LHRoaXMuYj1pLHRoaXMuYT1zLHRoaXN9c2V0KGUsdCxpLHMpe3JldHVybiB0aGlzLmNvcHlGcm9tRmxvYXRzKGUsdCxpLHMpfXRvSGV4U3RyaW5nKGU9ITEpe2NvbnN0IHQ9TWF0aC5yb3VuZCh0aGlzLnIqMjU1KSxpPU1hdGgucm91bmQodGhpcy5nKjI1NSkscz1NYXRoLnJvdW5kKHRoaXMuYioyNTUpO2lmKGUpcmV0dXJuIiMiK1cuVG9IZXgodCkrVy5Ub0hleChpKStXLlRvSGV4KHMpO2NvbnN0IHI9TWF0aC5yb3VuZCh0aGlzLmEqMjU1KTtyZXR1cm4iIyIrVy5Ub0hleCh0KStXLlRvSGV4KGkpK1cuVG9IZXgocykrVy5Ub0hleChyKX10b0xpbmVhclNwYWNlKGU9ITEpe2NvbnN0IHQ9bmV3IFFlO3JldHVybiB0aGlzLnRvTGluZWFyU3BhY2VUb1JlZih0LGUpLHR9dG9MaW5lYXJTcGFjZVRvUmVmKGUsdD0hMSl7cmV0dXJuIHQ/KGUucj1UaSh0aGlzLnIpLGUuZz1UaSh0aGlzLmcpLGUuYj1UaSh0aGlzLmIpKTooZS5yPUVpKHRoaXMuciksZS5nPUVpKHRoaXMuZyksZS5iPUVpKHRoaXMuYikpLGUuYT10aGlzLmEsdGhpc310b0dhbW1hU3BhY2UoZT0hMSl7Y29uc3QgdD1uZXcgUWU7cmV0dXJuIHRoaXMudG9HYW1tYVNwYWNlVG9SZWYodCxlKSx0fXRvR2FtbWFTcGFjZVRvUmVmKGUsdD0hMSl7cmV0dXJuIHQ/KGUucj1TaSh0aGlzLnIpLGUuZz1TaSh0aGlzLmcpLGUuYj1TaSh0aGlzLmIpKTooZS5yPWJpKHRoaXMuciksZS5nPWJpKHRoaXMuZyksZS5iPWJpKHRoaXMuYikpLGUuYT10aGlzLmEsdGhpc31zdGF0aWMgRnJvbUhleFN0cmluZyhlKXtpZihlLnN1YnN0cmluZygwLDEpIT09IiMifHxlLmxlbmd0aCE9PTkmJmUubGVuZ3RoIT09NylyZXR1cm4gbmV3IFFlKDAsMCwwLDApO2NvbnN0IHQ9cGFyc2VJbnQoZS5zdWJzdHJpbmcoMSwzKSwxNiksaT1wYXJzZUludChlLnN1YnN0cmluZygzLDUpLDE2KSxzPXBhcnNlSW50KGUuc3Vic3RyaW5nKDUsNyksMTYpLHI9ZS5sZW5ndGg9PT05P3BhcnNlSW50KGUuc3Vic3RyaW5nKDcsOSksMTYpOjI1NTtyZXR1cm4gUWUuRnJvbUludHModCxpLHMscil9c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9bmV3IFFlKDAsMCwwLDApO3JldHVybiBRZS5MZXJwVG9SZWYoZSx0LGkscyksc31zdGF0aWMgTGVycFRvUmVmKGUsdCxpLHMpe3Mucj1lLnIrKHQuci1lLnIpKmkscy5nPWUuZysodC5nLWUuZykqaSxzLmI9ZS5iKyh0LmItZS5iKSppLHMuYT1lLmErKHQuYS1lLmEpKml9c3RhdGljIEhlcm1pdGUoZSx0LGkscyxyKXtjb25zdCBuPXIqcixhPXIqbixvPTIqYS0zKm4rMSxoPS0yKmErMypuLGw9YS0yKm4rcix1PWEtbixkPWUucipvK2kucipoK3QucipsK3Mucip1LF89ZS5nKm8raS5nKmgrdC5nKmwrcy5nKnUsZj1lLmIqbytpLmIqaCt0LmIqbCtzLmIqdSxtPWUuYSpvK2kuYSpoK3QuYSpsK3MuYSp1O3JldHVybiBuZXcgUWUoZCxfLGYsbSl9c3RhdGljIEhlcm1pdGUxc3REZXJpdmF0aXZlKGUsdCxpLHMscil7Y29uc3Qgbj1uZXcgUWU7cmV0dXJuIHRoaXMuSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbiksbn1zdGF0aWMgSGVybWl0ZTFzdERlcml2YXRpdmVUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1yKnI7bi5yPShhLXIpKjYqZS5yKygzKmEtNCpyKzEpKnQucisoLWErcikqNippLnIrKDMqYS0yKnIpKnMucixuLmc9KGEtcikqNiplLmcrKDMqYS00KnIrMSkqdC5nKygtYStyKSo2KmkuZysoMyphLTIqcikqcy5nLG4uYj0oYS1yKSo2KmUuYisoMyphLTQqcisxKSp0LmIrKC1hK3IpKjYqaS5iKygzKmEtMipyKSpzLmIsbi5hPShhLXIpKjYqZS5hKygzKmEtNCpyKzEpKnQuYSsoLWErcikqNippLmErKDMqYS0yKnIpKnMuYX1zdGF0aWMgRnJvbUNvbG9yMyhlLHQ9MSl7cmV0dXJuIG5ldyBRZShlLnIsZS5nLGUuYix0KX1zdGF0aWMgRnJvbUFycmF5KGUsdD0wKXtyZXR1cm4gbmV3IFFlKGVbdF0sZVt0KzFdLGVbdCsyXSxlW3QrM10pfXN0YXRpYyBGcm9tQXJyYXlUb1JlZihlLHQ9MCxpKXtpLnI9ZVt0XSxpLmc9ZVt0KzFdLGkuYj1lW3QrMl0saS5hPWVbdCszXX1zdGF0aWMgRnJvbUludHMoZSx0LGkscyl7cmV0dXJuIG5ldyBRZShlLzI1NSx0LzI1NSxpLzI1NSxzLzI1NSl9c3RhdGljIENoZWNrQ29sb3JzNChlLHQpe2lmKGUubGVuZ3RoPT09dCozKXtjb25zdCBpPVtdO2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cys9Myl7Y29uc3Qgcj1zLzMqNDtpW3JdPWVbc10saVtyKzFdPWVbcysxXSxpW3IrMl09ZVtzKzJdLGlbciszXT0xfXJldHVybiBpfXJldHVybiBlfX07Y2xhc3MgeGl7fXhpLkNvbG9yMz1CZS5CdWlsZEFycmF5KDMscmUuQmxhY2spLHhpLkNvbG9yND1CZS5CdWlsZEFycmF5KDMsKCk9Pm5ldyBOZSgwLDAsMCwwKSksc3QoIkJBQllMT04uQ29sb3IzIixyZSksc3QoIkJBQllMT04uQ29sb3I0IixOZSk7Y29uc3QgYXI9KGMsZSk9PiFjfHxjLmdldENsYXNzTmFtZSYmYy5nZXRDbGFzc05hbWUoKT09PSJNZXNoIj9udWxsOmMuZ2V0Q2xhc3NOYW1lJiZjLmdldENsYXNzTmFtZSgpPT09IlN1Yk1lc2giP2MuY2xvbmUoZSk6Yy5jbG9uZT9jLmNsb25lKCk6bnVsbDtmdW5jdGlvbiBUbihjKXtjb25zdCBlPVtdO2RvIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5pbmRleE9mKHQpPT09LTEmJmUucHVzaCh0KX0pO3doaWxlKGM9T2JqZWN0LmdldFByb3RvdHlwZU9mKGMpKTtyZXR1cm4gZX1jbGFzcyBNc3tzdGF0aWMgRGVlcENvcHkoZSx0LGkscyl7Y29uc3Qgcj1UbihlKTtmb3IoY29uc3QgbiBvZiByKXtpZihuWzBdPT09Il8iJiYoIXN8fHMuaW5kZXhPZihuKT09PS0xKXx8bi5lbmRzV2l0aCgiT2JzZXJ2YWJsZSIpfHxpJiZpLmluZGV4T2YobikhPT0tMSljb250aW51ZTtjb25zdCBhPWVbbl0sbz10eXBlb2YgYTtpZihvIT09ImZ1bmN0aW9uIil0cnl7aWYobz09PSJvYmplY3QiKWlmKGEgaW5zdGFuY2VvZiBBcnJheSl7aWYodFtuXT1bXSxhLmxlbmd0aD4wKWlmKHR5cGVvZiBhWzBdPT0ib2JqZWN0Iilmb3IobGV0IGg9MDtoPGEubGVuZ3RoO2grKyl7Y29uc3QgbD1hcihhW2hdLHQpO3Rbbl0uaW5kZXhPZihsKT09PS0xJiZ0W25dLnB1c2gobCl9ZWxzZSB0W25dPWEuc2xpY2UoMCl9ZWxzZSB0W25dPWFyKGEsdCk7ZWxzZSB0W25dPWF9Y2F0Y2goaCl7Ty5XYXJuKGgubWVzc2FnZSl9fX19ZnVuY3Rpb24gYm4oKXtyZXR1cm4gdHlwZW9mIF9uYXRpdmU8InUiJiZfbmF0aXZlLlhNTEh0dHBSZXF1ZXN0P25ldyBfbmF0aXZlLlhNTEh0dHBSZXF1ZXN0Om5ldyBYTUxIdHRwUmVxdWVzdH1jbGFzcyB1dHtjb25zdHJ1Y3Rvcigpe3RoaXMuX3hocj1ibigpLHRoaXMuX3JlcXVlc3RVUkw9IiJ9X2luamVjdEN1c3RvbVJlcXVlc3RIZWFkZXJzKCl7aWYoIXRoaXMuX3Nob3VsZFNraXBSZXF1ZXN0TW9kaWZpY2F0aW9ucyh0aGlzLl9yZXF1ZXN0VVJMKSlmb3IoY29uc3QgZSBpbiB1dC5DdXN0b21SZXF1ZXN0SGVhZGVycyl7Y29uc3QgdD11dC5DdXN0b21SZXF1ZXN0SGVhZGVyc1tlXTt0JiZ0aGlzLl94aHIuc2V0UmVxdWVzdEhlYWRlcihlLHQpfX1fc2hvdWxkU2tpcFJlcXVlc3RNb2RpZmljYXRpb25zKGUpe3JldHVybiB1dC5Ta2lwUmVxdWVzdE1vZGlmaWNhdGlvbkZvckJhYnlsb25DRE4mJihlLmluY2x1ZGVzKCJwcmV2aWV3LmJhYnlsb25qcy5jb20iKXx8ZS5pbmNsdWRlcygiY2RuLmJhYnlsb25qcy5jb20iKSl9Z2V0IG9ucHJvZ3Jlc3MoKXtyZXR1cm4gdGhpcy5feGhyLm9ucHJvZ3Jlc3N9c2V0IG9ucHJvZ3Jlc3MoZSl7dGhpcy5feGhyLm9ucHJvZ3Jlc3M9ZX1nZXQgcmVhZHlTdGF0ZSgpe3JldHVybiB0aGlzLl94aHIucmVhZHlTdGF0ZX1nZXQgc3RhdHVzKCl7cmV0dXJuIHRoaXMuX3hoci5zdGF0dXN9Z2V0IHN0YXR1c1RleHQoKXtyZXR1cm4gdGhpcy5feGhyLnN0YXR1c1RleHR9Z2V0IHJlc3BvbnNlKCl7cmV0dXJuIHRoaXMuX3hoci5yZXNwb25zZX1nZXQgcmVzcG9uc2VVUkwoKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlVVJMfWdldCByZXNwb25zZVRleHQoKXtyZXR1cm4gdGhpcy5feGhyLnJlc3BvbnNlVGV4dH1nZXQgcmVzcG9uc2VUeXBlKCl7cmV0dXJuIHRoaXMuX3hoci5yZXNwb25zZVR5cGV9c2V0IHJlc3BvbnNlVHlwZShlKXt0aGlzLl94aHIucmVzcG9uc2VUeXBlPWV9Z2V0IHRpbWVvdXQoKXtyZXR1cm4gdGhpcy5feGhyLnRpbWVvdXR9c2V0IHRpbWVvdXQoZSl7dGhpcy5feGhyLnRpbWVvdXQ9ZX1hZGRFdmVudExpc3RlbmVyKGUsdCxpKXt0aGlzLl94aHIuYWRkRXZlbnRMaXN0ZW5lcihlLHQsaSl9cmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHQsaSl7dGhpcy5feGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSx0LGkpfWFib3J0KCl7dGhpcy5feGhyLmFib3J0KCl9c2VuZChlKXt1dC5DdXN0b21SZXF1ZXN0SGVhZGVycyYmdGhpcy5faW5qZWN0Q3VzdG9tUmVxdWVzdEhlYWRlcnMoKSx0aGlzLl94aHIuc2VuZChlKX1vcGVuKGUsdCl7Zm9yKGNvbnN0IGkgb2YgdXQuQ3VzdG9tUmVxdWVzdE1vZGlmaWVycyl7aWYodGhpcy5fc2hvdWxkU2tpcFJlcXVlc3RNb2RpZmljYXRpb25zKHQpKXJldHVybjtpKHRoaXMuX3hocix0KX1yZXR1cm4gdD10LnJlcGxhY2UoImZpbGU6aHR0cDoiLCJodHRwOiIpLHQ9dC5yZXBsYWNlKCJmaWxlOmh0dHBzOiIsImh0dHBzOiIpLHRoaXMuX3JlcXVlc3RVUkw9dCx0aGlzLl94aHIub3BlbihlLHQsITApfXNldFJlcXVlc3RIZWFkZXIoZSx0KXt0aGlzLl94aHIuc2V0UmVxdWVzdEhlYWRlcihlLHQpfWdldFJlc3BvbnNlSGVhZGVyKGUpe3JldHVybiB0aGlzLl94aHIuZ2V0UmVzcG9uc2VIZWFkZXIoZSl9fXV0LkN1c3RvbVJlcXVlc3RIZWFkZXJzPXt9LHV0LkN1c3RvbVJlcXVlc3RNb2RpZmllcnM9bmV3IEFycmF5LHV0LlNraXBSZXF1ZXN0TW9kaWZpY2F0aW9uRm9yQmFieWxvbkNETj0hMDtjbGFzcyBOaXt9TmkuRmlsZXNUb0xvYWQ9e307Y2xhc3MgU257c3RhdGljIEV4cG9uZW50aWFsQmFja29mZihlPTMsdD01MDApe3JldHVybihpLHMscik9PnMuc3RhdHVzIT09MHx8cj49ZXx8aS5pbmRleE9mKCJmaWxlOiIpIT09LTE/LTE6TWF0aC5wb3coMixyKSp0fX1jbGFzcyBNaSBleHRlbmRzIEVycm9ye31NaS5fc2V0UHJvdG90eXBlT2Y9T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoKGMsZSk9PihjLl9fcHJvdG9fXz1lLGMpKTtjb25zdCBsaT17TWVzaEludmFsaWRQb3NpdGlvbnNFcnJvcjowLFVuc3VwcG9ydGVkVGV4dHVyZUVycm9yOjFlMyxHTFRGTG9hZGVyVW5leHBlY3RlZE1hZ2ljRXJyb3I6MmUzLFNjZW5lTG9hZGVyRXJyb3I6M2UzLExvYWRGaWxlRXJyb3I6NGUzLFJlcXVlc3RGaWxlRXJyb3I6NDAwMSxSZWFkRmlsZUVycm9yOjQwMDJ9O2NsYXNzIEJ0IGV4dGVuZHMgTWl7Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUpLHRoaXMuZXJyb3JDb2RlPXQsdGhpcy5pbm5lckVycm9yPWksdGhpcy5uYW1lPSJSdW50aW1lRXJyb3IiLE1pLl9zZXRQcm90b3R5cGVPZih0aGlzLEJ0LnByb3RvdHlwZSl9fWNvbnN0IG9yPWM9Pntjb25zdCBlPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSI7bGV0IHQ9IiIsaSxzLHIsbixhLG8saCxsPTA7Y29uc3QgdT1BcnJheUJ1ZmZlci5pc1ZpZXcoYyk/bmV3IFVpbnQ4QXJyYXkoYy5idWZmZXIsYy5ieXRlT2Zmc2V0LGMuYnl0ZUxlbmd0aCk6bmV3IFVpbnQ4QXJyYXkoYyk7Zm9yKDtsPHUubGVuZ3RoOylpPXVbbCsrXSxzPWw8dS5sZW5ndGg/dVtsKytdOk51bWJlci5OYU4scj1sPHUubGVuZ3RoP3VbbCsrXTpOdW1iZXIuTmFOLG49aT4+MixhPShpJjMpPDw0fHM+PjQsbz0ocyYxNSk8PDJ8cj4+NixoPXImNjMsaXNOYU4ocyk/bz1oPTY0OmlzTmFOKHIpJiYoaD02NCksdCs9ZS5jaGFyQXQobikrZS5jaGFyQXQoYSkrZS5jaGFyQXQobykrZS5jaGFyQXQoaCk7cmV0dXJuIHR9LGhyPWM9PmF0b2IoYykseG49Yz0+e2NvbnN0IGU9aHIoYyksdD1lLmxlbmd0aCxpPW5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcih0KSk7Zm9yKGxldCBzPTA7czx0O3MrKylpW3NdPWUuY2hhckNvZGVBdChzKTtyZXR1cm4gaS5idWZmZXJ9O2NsYXNzIFppe3N0YXRpYyBTZXRJbW1lZGlhdGUoZSl7amUoKSYmd2luZG93LnNldEltbWVkaWF0ZT93aW5kb3cuc2V0SW1tZWRpYXRlKGUpOnNldFRpbWVvdXQoZSwxKX19Y29uc3QgbHI9bmV3IFJlZ0V4cCgvXmRhdGE6KFteLF0rXC9bXixdKyk/O2Jhc2U2NCwvaSk7Y2xhc3MgcWkgZXh0ZW5kcyBCdHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsbGkuTG9hZEZpbGVFcnJvciksdGhpcy5uYW1lPSJMb2FkRmlsZUVycm9yIixNaS5fc2V0UHJvdG90eXBlT2YodGhpcyxxaS5wcm90b3R5cGUpLHQgaW5zdGFuY2VvZiB1dD90aGlzLnJlcXVlc3Q9dDp0aGlzLmZpbGU9dH19Y2xhc3MgamkgZXh0ZW5kcyBCdHtjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsbGkuUmVxdWVzdEZpbGVFcnJvciksdGhpcy5yZXF1ZXN0PXQsdGhpcy5uYW1lPSJSZXF1ZXN0RmlsZUVycm9yIixNaS5fc2V0UHJvdG90eXBlT2YodGhpcyxqaS5wcm90b3R5cGUpfX1jbGFzcyBBcyBleHRlbmRzIEJ0e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSxsaS5SZWFkRmlsZUVycm9yKSx0aGlzLmZpbGU9dCx0aGlzLm5hbWU9IlJlYWRGaWxlRXJyb3IiLE1pLl9zZXRQcm90b3R5cGVPZih0aGlzLEFzLnByb3RvdHlwZSl9fWNvbnN0IHFlPXtEZWZhdWx0UmV0cnlTdHJhdGVneTpTbi5FeHBvbmVudGlhbEJhY2tvZmYoKSxCYXNlVXJsOiIiLENvcnNCZWhhdmlvcjoiYW5vbnltb3VzIixQcmVwcm9jZXNzVXJsOmM9PmN9LGNyPWM9PihjPWMucmVwbGFjZSgvIy9nbSwiJTIzIiksYyksUnM9KGMsZSk9PntpZighKGMmJmMuaW5kZXhPZigiZGF0YToiKT09PTApJiZxZS5Db3JzQmVoYXZpb3IpaWYodHlwZW9mIHFlLkNvcnNCZWhhdmlvcj09InN0cmluZyJ8fHFlLkNvcnNCZWhhdmlvciBpbnN0YW5jZW9mIFN0cmluZyllLmNyb3NzT3JpZ2luPXFlLkNvcnNCZWhhdmlvcjtlbHNle2NvbnN0IHQ9cWUuQ29yc0JlaGF2aW9yKGMpO3QmJihlLmNyb3NzT3JpZ2luPXQpfX0seXM9KGMsZSx0LGkscz0iIixyKT0+e3ZhciBuO2xldCBhLG89ITE7YyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHxBcnJheUJ1ZmZlci5pc1ZpZXcoYyk/dHlwZW9mIEJsb2I8InUiJiZ0eXBlb2YgVVJMPCJ1Ij8oYT1VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtjXSx7dHlwZTpzfSkpLG89ITApOmE9YGRhdGE6JHtzfTtiYXNlNjQsYCtvcihjKTpjIGluc3RhbmNlb2YgQmxvYj8oYT1VUkwuY3JlYXRlT2JqZWN0VVJMKGMpLG89ITApOihhPWNyKGMpLGE9cWUuUHJlcHJvY2Vzc1VybChjKSk7Y29uc3QgaD1sZS5MYXN0Q3JlYXRlZEVuZ2luZSxsPWI9PntpZih0KXtjb25zdCB4PWF8fGMudG9TdHJpbmcoKTt0KGBFcnJvciB3aGlsZSB0cnlpbmcgdG8gbG9hZCBpbWFnZTogJHt4LmluZGV4T2YoImh0dHAiKT09PTB8fHgubGVuZ3RoPD0xMjg/eDp4LnNsaWNlKDAsMTI4KSsiLi4uIn1gLGIpfX07aWYodHlwZW9mIEltYWdlPiJ1Inx8KG49aD09bnVsbD92b2lkIDA6aC5fZmVhdHVyZXMuZm9yY2VCaXRtYXBPdmVySFRNTEltYWdlRWxlbWVudCkhPT1udWxsJiZuIT09dm9pZCAwJiZuKXJldHVybiAkdChhLGI9PntoLmNyZWF0ZUltYWdlQml0bWFwKG5ldyBCbG9iKFtiXSx7dHlwZTpzfSkse3ByZW11bHRpcGx5QWxwaGE6Im5vbmUiLC4uLnJ9KS50aGVuKHg9PntlKHgpLG8mJlVSTC5yZXZva2VPYmplY3RVUkwoYSl9KS5jYXRjaCh4PT57dCYmdCgiRXJyb3Igd2hpbGUgdHJ5aW5nIHRvIGxvYWQgaW1hZ2U6ICIrYyx4KX0pfSx2b2lkIDAsaXx8dm9pZCAwLCEwLChiLHgpPT57bCh4KX0pLG51bGw7Y29uc3QgdT1uZXcgSW1hZ2U7UnMoYSx1KTtjb25zdCBkPVtdLF89KCk9PntkLmZvckVhY2goYj0+e2IudGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoYi5uYW1lLGIuaGFuZGxlcil9KX0sZj0oKT0+e2QuZm9yRWFjaChiPT57Yi50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLm5hbWUsYi5oYW5kbGVyKX0pLGQubGVuZ3RoPTB9LG09KCk9PntmKCksZSh1KSxvJiZ1LnNyYyYmVVJMLnJldm9rZU9iamVjdFVSTCh1LnNyYyl9LHY9Yj0+e2YoKSxsKGIpLG8mJnUuc3JjJiZVUkwucmV2b2tlT2JqZWN0VVJMKHUuc3JjKX0sRT1iPT57aWYoYi5ibG9ja2VkVVJJIT09dS5zcmMpcmV0dXJuO2YoKTtjb25zdCB4PW5ldyBFcnJvcihgQ1NQIHZpb2xhdGlvbiBvZiBwb2xpY3kgJHtiLmVmZmVjdGl2ZURpcmVjdGl2ZX0gJHtiLmJsb2NrZWRVUkl9LiBDdXJyZW50IHBvbGljeSBpcyAke2Iub3JpZ2luYWxQb2xpY3l9YCk7bGUuVXNlRmFsbGJhY2tUZXh0dXJlPSExLGwoeCksbyYmdS5zcmMmJlVSTC5yZXZva2VPYmplY3RVUkwodS5zcmMpLHUuc3JjPSIifTtkLnB1c2goe3RhcmdldDp1LG5hbWU6ImxvYWQiLGhhbmRsZXI6bX0pLGQucHVzaCh7dGFyZ2V0OnUsbmFtZToiZXJyb3IiLGhhbmRsZXI6dn0pLGQucHVzaCh7dGFyZ2V0OmRvY3VtZW50LG5hbWU6InNlY3VyaXR5cG9saWN5dmlvbGF0aW9uIixoYW5kbGVyOkV9KSxfKCk7Y29uc3QgUz1hLnN1YnN0cmluZygwLDUpPT09ImJsb2I6IixSPWEuc3Vic3RyaW5nKDAsNSk9PT0iZGF0YToiLEE9KCk9PntTfHxSP3Uuc3JjPWE6JHQoYSwoYix4LEkpPT57Y29uc3QgVT0hcyYmST9JOnMsaz1uZXcgQmxvYihbYl0se3R5cGU6VX0pLG1lPVVSTC5jcmVhdGVPYmplY3RVUkwoayk7bz0hMCx1LnNyYz1tZX0sdm9pZCAwLGl8fHZvaWQgMCwhMCwoYix4KT0+e2woeCl9KX0sQz0oKT0+e2kmJmkubG9hZEltYWdlKGEsdSl9O2lmKCFTJiYhUiYmaSYmaS5lbmFibGVUZXh0dXJlc09mZmxpbmUpaS5vcGVuKEMsQSk7ZWxzZXtpZihhLmluZGV4T2YoImZpbGU6IikhPT0tMSl7Y29uc3QgYj1kZWNvZGVVUklDb21wb25lbnQoYS5zdWJzdHJpbmcoNSkudG9Mb3dlckNhc2UoKSk7aWYoTmkuRmlsZXNUb0xvYWRbYl0mJnR5cGVvZiBVUkw8InUiKXt0cnl7bGV0IHg7dHJ5e3g9VVJMLmNyZWF0ZU9iamVjdFVSTChOaS5GaWxlc1RvTG9hZFtiXSl9Y2F0Y2h7eD1VUkwuY3JlYXRlT2JqZWN0VVJMKE5pLkZpbGVzVG9Mb2FkW2JdKX11LnNyYz14LG89ITB9Y2F0Y2h7dS5zcmM9IiJ9cmV0dXJuIHV9fUEoKX1yZXR1cm4gdX0sQmk9KGMsZSx0LGkscyk9Pntjb25zdCByPW5ldyBGaWxlUmVhZGVyLG49e29uQ29tcGxldGVPYnNlcnZhYmxlOm5ldyB3LGFib3J0OigpPT5yLmFib3J0KCl9O3JldHVybiByLm9ubG9hZGVuZD0oKT0+bi5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMobikscyYmKHIub25lcnJvcj0oKT0+e3MobmV3IEFzKGBVbmFibGUgdG8gcmVhZCAke2MubmFtZX1gLGMpKX0pLHIub25sb2FkPWE9PntlKGEudGFyZ2V0LnJlc3VsdCl9LHQmJihyLm9ucHJvZ3Jlc3M9dCksaT9yLnJlYWRBc0FycmF5QnVmZmVyKGMpOnIucmVhZEFzVGV4dChjKSxufSwkdD0oYyxlLHQsaSxzLHIsbik9PntpZihjLm5hbWUpcmV0dXJuIEJpKGMsZSx0LHMscj9sPT57cih2b2lkIDAsbCl9OnZvaWQgMCk7Y29uc3QgYT1jO2lmKGEuaW5kZXhPZigiZmlsZToiKSE9PS0xKXtsZXQgbD1kZWNvZGVVUklDb21wb25lbnQoYS5zdWJzdHJpbmcoNSkudG9Mb3dlckNhc2UoKSk7bC5pbmRleE9mKCIuLyIpPT09MCYmKGw9bC5zdWJzdHJpbmcoMikpO2NvbnN0IHU9TmkuRmlsZXNUb0xvYWRbbF07aWYodSlyZXR1cm4gQmkodSxlLHQscyxyP2Q9PnIodm9pZCAwLG5ldyBxaShkLm1lc3NhZ2UsZC5maWxlKSk6dm9pZCAwKX1jb25zdHttYXRjaDpvLHR5cGU6aH09TW4oYSk7aWYobyl7Y29uc3QgbD17b25Db21wbGV0ZU9ic2VydmFibGU6bmV3IHcsYWJvcnQ6KCk9PigpPT57fX07dHJ5e2NvbnN0IHU9cz9QcyhhKTpkcihhKTtlKHUsdm9pZCAwLGgpfWNhdGNoKHUpe3I/cih2b2lkIDAsdSk6Ty5FcnJvcih1Lm1lc3NhZ2V8fCJGYWlsZWQgdG8gcGFyc2UgdGhlIERhdGEgVVJMIil9cmV0dXJuIFppLlNldEltbWVkaWF0ZSgoKT0+e2wub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGwpfSksbH1yZXR1cm4gQ3MoYSwobCx1KT0+e2UobCx1PT1udWxsP3ZvaWQgMDp1LnJlc3BvbnNlVVJMLHU9PW51bGw/dm9pZCAwOnUuZ2V0UmVzcG9uc2VIZWFkZXIoImNvbnRlbnQtdHlwZSIpKX0sdCxpLHMscj9sPT57cihsLnJlcXVlc3QsbmV3IHFpKGwubWVzc2FnZSxsLnJlcXVlc3QpKX06dm9pZCAwLG4pfSxDcz0oYyxlLHQsaSxzLHIsbik9PntjPWNyKGMpLGM9cWUuUHJlcHJvY2Vzc1VybChjKTtjb25zdCBhPXFlLkJhc2VVcmwrYztsZXQgbz0hMTtjb25zdCBoPXtvbkNvbXBsZXRlT2JzZXJ2YWJsZTpuZXcgdyxhYm9ydDooKT0+bz0hMH0sbD0oKT0+e2xldCB1PW5ldyB1dCxkPW51bGwsXztjb25zdCBmPSgpPT57dSYmKHQmJnUucmVtb3ZlRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLHQpLF8mJnUucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVhZHlzdGF0ZWNoYW5nZSIsXyksdS5yZW1vdmVFdmVudExpc3RlbmVyKCJsb2FkZW5kIixtKSl9O2xldCBtPSgpPT57ZigpLGgub25Db21wbGV0ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgpLGgub25Db21wbGV0ZU9ic2VydmFibGUuY2xlYXIoKSx0PXZvaWQgMCxfPW51bGwsbT1udWxsLHI9dm9pZCAwLG49dm9pZCAwLGU9dm9pZCAwfTtoLmFib3J0PSgpPT57bz0hMCxtJiZtKCksdSYmdS5yZWFkeVN0YXRlIT09KFhNTEh0dHBSZXF1ZXN0LkRPTkV8fDQpJiZ1LmFib3J0KCksZCE9PW51bGwmJihjbGVhclRpbWVvdXQoZCksZD1udWxsKSx1PW51bGx9O2NvbnN0IHY9Uz0+e2NvbnN0IFI9Uy5tZXNzYWdlfHwiVW5rbm93biBlcnJvciI7ciYmdT9yKG5ldyBqaShSLHUpKTpPLkVycm9yKFIpfSxFPVM9PntpZih1KXtpZih1Lm9wZW4oIkdFVCIsYSksbil0cnl7bih1KX1jYXRjaChSKXt2KFIpO3JldHVybn1zJiYodS5yZXNwb25zZVR5cGU9ImFycmF5YnVmZmVyIiksdCYmdS5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsdCksbSYmdS5hZGRFdmVudExpc3RlbmVyKCJsb2FkZW5kIixtKSxfPSgpPT57aWYoIShvfHwhdSkmJnUucmVhZHlTdGF0ZT09PShYTUxIdHRwUmVxdWVzdC5ET05FfHw0KSl7aWYoXyYmdS5yZW1vdmVFdmVudExpc3RlbmVyKCJyZWFkeXN0YXRlY2hhbmdlIixfKSx1LnN0YXR1cz49MjAwJiZ1LnN0YXR1czwzMDB8fHUuc3RhdHVzPT09MCYmKCFqZSgpfHx1cigpKSl7dHJ5e2UmJmUocz91LnJlc3BvbnNlOnUucmVzcG9uc2VUZXh0LHUpfWNhdGNoKEMpe3YoQyl9cmV0dXJufWNvbnN0IFI9cWUuRGVmYXVsdFJldHJ5U3RyYXRlZ3k7aWYoUil7Y29uc3QgQz1SKGEsdSxTKTtpZihDIT09LTEpe2YoKSx1PW5ldyB1dCxkPXNldFRpbWVvdXQoKCk9PkUoUysxKSxDKTtyZXR1cm59fWNvbnN0IEE9bmV3IGppKCJFcnJvciBzdGF0dXM6ICIrdS5zdGF0dXMrIiAiK3Uuc3RhdHVzVGV4dCsiIC0gVW5hYmxlIHRvIGxvYWQgIithLHUpO3ImJnIoQSl9fSx1LmFkZEV2ZW50TGlzdGVuZXIoInJlYWR5c3RhdGVjaGFuZ2UiLF8pLHUuc2VuZCgpfX07RSgwKX07aWYoaSYmaS5lbmFibGVTY2VuZU9mZmxpbmUpe2NvbnN0IHU9Xz0+e18mJl8uc3RhdHVzPjQwMD9yJiZyKF8pOmwoKX0sZD0oKT0+e2kmJmkubG9hZEZpbGUocWUuQmFzZVVybCtjLF89PnshbyYmZSYmZShfKSxoLm9uQ29tcGxldGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhoKX0sdD9fPT57IW8mJnQmJnQoXyl9OnZvaWQgMCx1LHMpfTtpLm9wZW4oZCx1KX1lbHNlIGwoKTtyZXR1cm4gaH0sdXI9KCk9PnR5cGVvZiBsb2NhdGlvbjwidSImJmxvY2F0aW9uLnByb3RvY29sPT09ImZpbGU6IixJcz1jPT5sci50ZXN0KGMpLE1uPWM9Pntjb25zdCBlPWxyLmV4ZWMoYyk7cmV0dXJuIGU9PT1udWxsfHxlLmxlbmd0aD09PTA/e21hdGNoOiExLHR5cGU6IiJ9OnttYXRjaDohMCx0eXBlOmVbMF0ucmVwbGFjZSgiZGF0YToiLCIiKS5yZXBsYWNlKCJiYXNlNjQsIiwiIil9fTtmdW5jdGlvbiBQcyhjKXtyZXR1cm4geG4oYy5zcGxpdCgiLCIpWzFdKX1jb25zdCBkcj1jPT5ocihjLnNwbGl0KCIsIilbMV0pOygoKT0+e2RlLl9GaWxlVG9vbHNMb2FkSW1hZ2U9eXMsZGUuX0ZpbGVUb29sc0xvYWRGaWxlPSR0LG9pLl9GaWxlVG9vbHNMb2FkRmlsZT0kdH0pKCk7bGV0IFVpOygoYyxlLHQsaSxzLHIsbixhLG8saCk9PntVaT17RGVjb2RlQmFzZTY0VXJsVG9CaW5hcnk6YyxEZWNvZGVCYXNlNjRVcmxUb1N0cmluZzplLERlZmF1bHRSZXRyeVN0cmF0ZWd5OnQuRGVmYXVsdFJldHJ5U3RyYXRlZ3ksQmFzZVVybDp0LkJhc2VVcmwsQ29yc0JlaGF2aW9yOnQuQ29yc0JlaGF2aW9yLFByZXByb2Nlc3NVcmw6dC5QcmVwcm9jZXNzVXJsLElzQmFzZTY0RGF0YVVybDppLElzRmlsZVVSTDpzLExvYWRGaWxlOnIsTG9hZEltYWdlOm4sUmVhZEZpbGU6YSxSZXF1ZXN0RmlsZTpvLFNldENvcnNCZWhhdmlvcjpofSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVWksIkRlZmF1bHRSZXRyeVN0cmF0ZWd5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuRGVmYXVsdFJldHJ5U3RyYXRlZ3l9LHNldDpmdW5jdGlvbihsKXt0LkRlZmF1bHRSZXRyeVN0cmF0ZWd5PWx9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFVpLCJCYXNlVXJsIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQuQmFzZVVybH0sc2V0OmZ1bmN0aW9uKGwpe3QuQmFzZVVybD1sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVaSwiUHJlcHJvY2Vzc1VybCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LlByZXByb2Nlc3NVcmx9LHNldDpmdW5jdGlvbihsKXt0LlByZXByb2Nlc3NVcmw9bH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoVWksIkNvcnNCZWhhdmlvciIse2dldDpmdW5jdGlvbigpe3JldHVybiB0LkNvcnNCZWhhdmlvcn0sc2V0OmZ1bmN0aW9uKGwpe3QuQ29yc0JlaGF2aW9yPWx9fSl9KShQcyxkcixxZSxJcyx1ciwkdCx5cyxCaSxDcyxScyk7Y2xhc3Mga2l7c3RhdGljIEluc3RhbnRpYXRlKGUpe2lmKHRoaXMuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3NlcyYmdGhpcy5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzW2VdKXJldHVybiB0aGlzLlJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXNbZV07Y29uc3QgdD1haShlKTtpZih0KXJldHVybiB0O08uV2FybihlKyIgbm90IGZvdW5kLCB5b3UgbWF5IGhhdmUgbWlzc2VkIGFuIGltcG9ydC4iKTtjb25zdCBpPWUuc3BsaXQoIi4iKTtsZXQgcz13aW5kb3d8fHRoaXM7Zm9yKGxldCByPTAsbj1pLmxlbmd0aDtyPG47cisrKXM9c1tpW3JdXTtyZXR1cm4gdHlwZW9mIHMhPSJmdW5jdGlvbiI/bnVsbDpzfX1raS5SZWdpc3RlcmVkRXh0ZXJuYWxDbGFzc2VzPXt9O2Z1bmN0aW9uIGZyKCl7cmV0dXJuInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCIucmVwbGFjZSgvW3h5XS9nLGM9Pntjb25zdCBlPU1hdGgucmFuZG9tKCkqMTZ8MDtyZXR1cm4oYz09PSJ4Ij9lOmUmM3w4KS50b1N0cmluZygxNil9KX1jbGFzcyBYe3N0YXRpYyBnZXQgQmFzZVVybCgpe3JldHVybiBxZS5CYXNlVXJsfXN0YXRpYyBzZXQgQmFzZVVybChlKXtxZS5CYXNlVXJsPWV9c3RhdGljIGdldCBEZWZhdWx0UmV0cnlTdHJhdGVneSgpe3JldHVybiBxZS5EZWZhdWx0UmV0cnlTdHJhdGVneX1zdGF0aWMgc2V0IERlZmF1bHRSZXRyeVN0cmF0ZWd5KGUpe3FlLkRlZmF1bHRSZXRyeVN0cmF0ZWd5PWV9c3RhdGljIGdldCBDb3JzQmVoYXZpb3IoKXtyZXR1cm4gcWUuQ29yc0JlaGF2aW9yfXN0YXRpYyBzZXQgQ29yc0JlaGF2aW9yKGUpe3FlLkNvcnNCZWhhdmlvcj1lfXN0YXRpYyBnZXQgVXNlRmFsbGJhY2tUZXh0dXJlKCl7cmV0dXJuIGxlLlVzZUZhbGxiYWNrVGV4dHVyZX1zdGF0aWMgc2V0IFVzZUZhbGxiYWNrVGV4dHVyZShlKXtsZS5Vc2VGYWxsYmFja1RleHR1cmU9ZX1zdGF0aWMgZ2V0IFJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXMoKXtyZXR1cm4ga2kuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlc31zdGF0aWMgc2V0IFJlZ2lzdGVyZWRFeHRlcm5hbENsYXNzZXMoZSl7a2kuUmVnaXN0ZXJlZEV4dGVybmFsQ2xhc3Nlcz1lfXN0YXRpYyBnZXQgZmFsbGJhY2tUZXh0dXJlKCl7cmV0dXJuIGxlLkZhbGxiYWNrVGV4dHVyZX1zdGF0aWMgc2V0IGZhbGxiYWNrVGV4dHVyZShlKXtsZS5GYWxsYmFja1RleHR1cmU9ZX1zdGF0aWMgRmV0Y2hUb1JlZihlLHQsaSxzLHIsbil7Y29uc3QgYT1NYXRoLmFicyhlKSppJWl8MCxvPU1hdGguYWJzKHQpKnMlc3wwLGg9KGErbyppKSo0O24ucj1yW2hdLzI1NSxuLmc9cltoKzFdLzI1NSxuLmI9cltoKzJdLzI1NSxuLmE9cltoKzNdLzI1NX1zdGF0aWMgTWl4KGUsdCxpKXtyZXR1cm4gZSooMS1pKSt0Kml9c3RhdGljIEluc3RhbnRpYXRlKGUpe3JldHVybiBraS5JbnN0YW50aWF0ZShlKX1zdGF0aWMgU2V0SW1tZWRpYXRlKGUpe1ppLlNldEltbWVkaWF0ZShlKX1zdGF0aWMgSXNFeHBvbmVudE9mVHdvKGUpe2xldCB0PTE7ZG8gdCo9Mjt3aGlsZSh0PGUpO3JldHVybiB0PT09ZX1zdGF0aWMgRmxvYXRSb3VuZChlKXtyZXR1cm4gTWF0aC5mcm91bmQ/TWF0aC5mcm91bmQoZSk6KFguX1RtcEZsb2F0QXJyYXlbMF09ZSxYLl9UbXBGbG9hdEFycmF5WzBdKX1zdGF0aWMgR2V0RmlsZW5hbWUoZSl7Y29uc3QgdD1lLmxhc3RJbmRleE9mKCIvIik7cmV0dXJuIHQ8MD9lOmUuc3Vic3RyaW5nKHQrMSl9c3RhdGljIEdldEZvbGRlclBhdGgoZSx0PSExKXtjb25zdCBpPWUubGFzdEluZGV4T2YoIi8iKTtyZXR1cm4gaTwwP3Q/ZToiIjplLnN1YnN0cmluZygwLGkrMSl9c3RhdGljIFRvRGVncmVlcyhlKXtyZXR1cm4gZSoxODAvTWF0aC5QSX1zdGF0aWMgVG9SYWRpYW5zKGUpe3JldHVybiBlKk1hdGguUEkvMTgwfXN0YXRpYyBTbW9vdGhBbmdsZUNoYW5nZShlLHQsaT0uOSl7Y29uc3Qgcz10aGlzLlRvUmFkaWFucyhlKSxyPXRoaXMuVG9SYWRpYW5zKHQpO3JldHVybiB0aGlzLlRvRGVncmVlcyhNYXRoLmF0YW4yKCgxLWkpKk1hdGguc2luKHIpK2kqTWF0aC5zaW4ocyksKDEtaSkqTWF0aC5jb3MocikraSpNYXRoLmNvcyhzKSkpfXN0YXRpYyBNYWtlQXJyYXkoZSx0KXtyZXR1cm4gdCE9PSEwJiYoZT09PXZvaWQgMHx8ZT09bnVsbCk/bnVsbDpBcnJheS5pc0FycmF5KGUpP2U6W2VdfXN0YXRpYyBHZXRQb2ludGVyUHJlZml4KGUpe2xldCB0PSJwb2ludGVyIjtyZXR1cm4gamUoKSYmIXdpbmRvdy5Qb2ludGVyRXZlbnQmJih0PSJtb3VzZSIpLGUuX2JhZERlc2t0b3BPUyYmIWUuX2JhZE9TJiYhKGRvY3VtZW50JiYib250b3VjaGVuZCJpbiBkb2N1bWVudCkmJih0PSJtb3VzZSIpLHR9c3RhdGljIFNldENvcnNCZWhhdmlvcihlLHQpe1JzKGUsdCl9c3RhdGljIFNldFJlZmVycmVyUG9saWN5QmVoYXZpb3IoZSx0KXt0LnJlZmVycmVyUG9saWN5PWV9c3RhdGljIENsZWFuVXJsKGUpe3JldHVybiBlPWUucmVwbGFjZSgvIy9nbSwiJTIzIiksZX1zdGF0aWMgZ2V0IFByZXByb2Nlc3NVcmwoKXtyZXR1cm4gcWUuUHJlcHJvY2Vzc1VybH1zdGF0aWMgc2V0IFByZXByb2Nlc3NVcmwoZSl7cWUuUHJlcHJvY2Vzc1VybD1lfXN0YXRpYyBMb2FkSW1hZ2UoZSx0LGkscyxyLG4pe3JldHVybiB5cyhlLHQsaSxzLHIsbil9c3RhdGljIExvYWRGaWxlKGUsdCxpLHMscixuKXtyZXR1cm4gJHQoZSx0LGkscyxyLG4pfXN0YXRpYyBMb2FkRmlsZUFzeW5jKGUsdD0hMCl7cmV0dXJuIG5ldyBQcm9taXNlKChpLHMpPT57JHQoZSxyPT57aShyKX0sdm9pZCAwLHZvaWQgMCx0LChyLG4pPT57cyhuKX0pfSl9c3RhdGljIExvYWRTY3JpcHQoZSx0LGkscyl7aWYodHlwZW9mIGltcG9ydFNjcmlwdHM9PSJmdW5jdGlvbiIpe3RyeXtpbXBvcnRTY3JpcHRzKGUpLHQoKX1jYXRjaChhKXtpPT1udWxsfHxpKGBVbmFibGUgdG8gbG9hZCBzY3JpcHQgJyR7ZX0nIGluIHdvcmtlcmAsYSl9cmV0dXJufWVsc2UgaWYoIWplKCkpe2k9PW51bGx8fGkoYENhbm5vdCBsb2FkIHNjcmlwdCAnJHtlfScgb3V0c2lkZSBvZiBhIHdpbmRvdyBvciBhIHdvcmtlcmApO3JldHVybn1jb25zdCByPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0sbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTtuLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQvamF2YXNjcmlwdCIpLG4uc2V0QXR0cmlidXRlKCJzcmMiLGUpLHMmJihuLmlkPXMpLG4ub25sb2FkPSgpPT57dCYmdCgpfSxuLm9uZXJyb3I9YT0+e2kmJmkoYFVuYWJsZSB0byBsb2FkIHNjcmlwdCAnJHtlfSdgLGEpfSxyLmFwcGVuZENoaWxkKG4pfXN0YXRpYyBMb2FkU2NyaXB0QXN5bmMoZSl7cmV0dXJuIG5ldyBQcm9taXNlKCh0LGkpPT57dGhpcy5Mb2FkU2NyaXB0KGUsKCk9Pnt0KCl9LChzLHIpPT57aShyfHxuZXcgRXJyb3IocykpfSl9KX1zdGF0aWMgUmVhZEZpbGVBc0RhdGFVUkwoZSx0LGkpe2NvbnN0IHM9bmV3IEZpbGVSZWFkZXIscj17b25Db21wbGV0ZU9ic2VydmFibGU6bmV3IHcsYWJvcnQ6KCk9PnMuYWJvcnQoKX07cmV0dXJuIHMub25sb2FkZW5kPSgpPT57ci5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocil9LHMub25sb2FkPW49Pnt0KG4udGFyZ2V0LnJlc3VsdCl9LHMub25wcm9ncmVzcz1pLHMucmVhZEFzRGF0YVVSTChlKSxyfXN0YXRpYyBSZWFkRmlsZShlLHQsaSxzLHIpe3JldHVybiBCaShlLHQsaSxzLHIpfXN0YXRpYyBGaWxlQXNVUkwoZSl7Y29uc3QgdD1uZXcgQmxvYihbZV0pO3JldHVybiB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTCh0KX1zdGF0aWMgRm9ybWF0KGUsdD0yKXtyZXR1cm4gZS50b0ZpeGVkKHQpfXN0YXRpYyBEZWVwQ29weShlLHQsaSxzKXtNcy5EZWVwQ29weShlLHQsaSxzKX1zdGF0aWMgSXNFbXB0eShlKXtmb3IoY29uc3QgdCBpbiBlKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpKXJldHVybiExO3JldHVybiEwfXN0YXRpYyBSZWdpc3RlclRvcFJvb3RFdmVudHMoZSx0KXtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgcz10W2ldO2UuYWRkRXZlbnRMaXN0ZW5lcihzLm5hbWUscy5oYW5kbGVyLCExKTt0cnl7d2luZG93LnBhcmVudCYmd2luZG93LnBhcmVudC5hZGRFdmVudExpc3RlbmVyKHMubmFtZSxzLmhhbmRsZXIsITEpfWNhdGNoe319fXN0YXRpYyBVbnJlZ2lzdGVyVG9wUm9vdEV2ZW50cyhlLHQpe2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKXtjb25zdCBzPXRbaV07ZS5yZW1vdmVFdmVudExpc3RlbmVyKHMubmFtZSxzLmhhbmRsZXIpO3RyeXtlLnBhcmVudCYmZS5wYXJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihzLm5hbWUscy5oYW5kbGVyKX1jYXRjaHt9fX1zdGF0aWMgYXN5bmMgRHVtcEZyYW1lYnVmZmVyKGUsdCxpLHMscj0iaW1hZ2UvcG5nIixuKXt0aHJvdyBRKCJEdW1wVG9vbHMiKX1zdGF0aWMgRHVtcERhdGEoZSx0LGkscyxyPSJpbWFnZS9wbmciLG4sYT0hMSxvPSExLGgpe3Rocm93IFEoIkR1bXBUb29scyIpfXN0YXRpYyBEdW1wRGF0YUFzeW5jKGUsdCxpLHM9ImltYWdlL3BuZyIscixuPSExLGE9ITEsbyl7dGhyb3cgUSgiRHVtcFRvb2xzIil9c3RhdGljIFRvQmxvYihlLHQsaT0iaW1hZ2UvcG5nIixzKXtlLnRvQmxvYnx8KGUudG9CbG9iPWZ1bmN0aW9uKHIsbixhKXtzZXRUaW1lb3V0KCgpPT57Y29uc3Qgbz1hdG9iKHRoaXMudG9EYXRhVVJMKG4sYSkuc3BsaXQoIiwiKVsxXSksaD1vLmxlbmd0aCxsPW5ldyBVaW50OEFycmF5KGgpO2ZvcihsZXQgdT0wO3U8aDt1KyspbFt1XT1vLmNoYXJDb2RlQXQodSk7cihuZXcgQmxvYihbbF0pKX0pfSksZS50b0Jsb2IoZnVuY3Rpb24ocil7dChyKX0saSxzKX1zdGF0aWMgRG93bmxvYWRCbG9iKGUsdCl7aWYoImRvd25sb2FkImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSl7aWYoIXQpe2NvbnN0IGk9bmV3IERhdGU7dD0ic2NyZWVuc2hvdF8iKygoaS5nZXRGdWxsWWVhcigpKyItIisoaS5nZXRNb250aCgpKzEpKS5zbGljZSgyKSsiLSIraS5nZXREYXRlKCkrIl8iK2kuZ2V0SG91cnMoKSsiLSIrKCIwIitpLmdldE1pbnV0ZXMoKSkuc2xpY2UoLTIpKSsiLnBuZyJ9WC5Eb3dubG9hZChlLHQpfWVsc2UgaWYoZSYmdHlwZW9mIFVSTDwidSIpe2NvbnN0IGk9VVJMLmNyZWF0ZU9iamVjdFVSTChlKSxzPXdpbmRvdy5vcGVuKCIiKTtpZighcylyZXR1cm47Y29uc3Qgcj1zLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO3Iub25sb2FkPWZ1bmN0aW9uKCl7VVJMLnJldm9rZU9iamVjdFVSTChpKX0sci5zcmM9aSxzLmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocil9fXN0YXRpYyBFbmNvZGVTY3JlZW5zaG90Q2FudmFzRGF0YShlLHQsaT0iaW1hZ2UvcG5nIixzLHIpe2lmKHQpe2NvbnN0IG49ZS50b0RhdGFVUkwoaSxyKTt0KG4pfWVsc2UgdGhpcy5Ub0Jsb2IoZSxmdW5jdGlvbihuKXtuJiZYLkRvd25sb2FkQmxvYihuLHMpfSxpLHIpfXN0YXRpYyBEb3dubG9hZChlLHQpe2lmKHR5cGVvZiBVUkw+InUiKXJldHVybjtjb25zdCBpPXdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGUpLHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocykscy5zdHlsZS5kaXNwbGF5PSJub25lIixzLmhyZWY9aSxzLmRvd25sb2FkPXQscy5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsKCk9PntzLnBhcmVudEVsZW1lbnQmJnMucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChzKX0pLHMuY2xpY2soKSx3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChpKX1zdGF0aWMgQmFja0NvbXBhdENhbWVyYU5vUHJldmVudERlZmF1bHQoZSl7cmV0dXJuIHR5cGVvZiBlWzBdPT0iYm9vbGVhbiI/ZVswXTp0eXBlb2YgZVsxXT09ImJvb2xlYW4iP2VbMV06ITF9c3RhdGljIENyZWF0ZVNjcmVlbnNob3QoZSx0LGkscyxyPSJpbWFnZS9wbmciKXt0aHJvdyBRKCJTY3JlZW5zaG90VG9vbHMiKX1zdGF0aWMgQ3JlYXRlU2NyZWVuc2hvdEFzeW5jKGUsdCxpLHM9ImltYWdlL3BuZyIpe3Rocm93IFEoIlNjcmVlbnNob3RUb29scyIpfXN0YXRpYyBDcmVhdGVTY3JlZW5zaG90VXNpbmdSZW5kZXJUYXJnZXQoZSx0LGkscyxyPSJpbWFnZS9wbmciLG49MSxhPSExLG8pe3Rocm93IFEoIlNjcmVlbnNob3RUb29scyIpfXN0YXRpYyBDcmVhdGVTY3JlZW5zaG90VXNpbmdSZW5kZXJUYXJnZXRBc3luYyhlLHQsaSxzPSJpbWFnZS9wbmciLHI9MSxuPSExLGEpe3Rocm93IFEoIlNjcmVlbnNob3RUb29scyIpfXN0YXRpYyBSYW5kb21JZCgpe3JldHVybiBmcigpfXN0YXRpYyBJc0Jhc2U2NChlKXtyZXR1cm4gSXMoZSl9c3RhdGljIERlY29kZUJhc2U2NChlKXtyZXR1cm4gUHMoZSl9c3RhdGljIGdldCBlcnJvcnNDb3VudCgpe3JldHVybiBPLmVycm9yc0NvdW50fXN0YXRpYyBMb2coZSl7Ty5Mb2coZSl9c3RhdGljIFdhcm4oZSl7Ty5XYXJuKGUpfXN0YXRpYyBFcnJvcihlKXtPLkVycm9yKGUpfXN0YXRpYyBnZXQgTG9nQ2FjaGUoKXtyZXR1cm4gTy5Mb2dDYWNoZX1zdGF0aWMgQ2xlYXJMb2dDYWNoZSgpe08uQ2xlYXJMb2dDYWNoZSgpfXN0YXRpYyBzZXQgTG9nTGV2ZWxzKGUpe08uTG9nTGV2ZWxzPWV9c3RhdGljIHNldCBQZXJmb3JtYW5jZUxvZ0xldmVsKGUpe2lmKChlJlguUGVyZm9ybWFuY2VVc2VyTWFya0xvZ0xldmVsKT09PVguUGVyZm9ybWFuY2VVc2VyTWFya0xvZ0xldmVsKXtYLlN0YXJ0UGVyZm9ybWFuY2VDb3VudGVyPVguX1N0YXJ0VXNlck1hcmssWC5FbmRQZXJmb3JtYW5jZUNvdW50ZXI9WC5fRW5kVXNlck1hcms7cmV0dXJufWlmKChlJlguUGVyZm9ybWFuY2VDb25zb2xlTG9nTGV2ZWwpPT09WC5QZXJmb3JtYW5jZUNvbnNvbGVMb2dMZXZlbCl7WC5TdGFydFBlcmZvcm1hbmNlQ291bnRlcj1YLl9TdGFydFBlcmZvcm1hbmNlQ29uc29sZSxYLkVuZFBlcmZvcm1hbmNlQ291bnRlcj1YLl9FbmRQZXJmb3JtYW5jZUNvbnNvbGU7cmV0dXJufVguU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXI9WC5fU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZCxYLkVuZFBlcmZvcm1hbmNlQ291bnRlcj1YLl9FbmRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZH1zdGF0aWMgX1N0YXJ0UGVyZm9ybWFuY2VDb3VudGVyRGlzYWJsZWQoZSx0KXt9c3RhdGljIF9FbmRQZXJmb3JtYW5jZUNvdW50ZXJEaXNhYmxlZChlLHQpe31zdGF0aWMgX1N0YXJ0VXNlck1hcmsoZSx0PSEwKXtpZighWC5fUGVyZm9ybWFuY2Upe2lmKCFqZSgpKXJldHVybjtYLl9QZXJmb3JtYW5jZT13aW5kb3cucGVyZm9ybWFuY2V9IXR8fCFYLl9QZXJmb3JtYW5jZS5tYXJrfHxYLl9QZXJmb3JtYW5jZS5tYXJrKGUrIi1CZWdpbiIpfXN0YXRpYyBfRW5kVXNlck1hcmsoZSx0PSEwKXshdHx8IVguX1BlcmZvcm1hbmNlLm1hcmt8fChYLl9QZXJmb3JtYW5jZS5tYXJrKGUrIi1FbmQiKSxYLl9QZXJmb3JtYW5jZS5tZWFzdXJlKGUsZSsiLUJlZ2luIixlKyItRW5kIikpfXN0YXRpYyBfU3RhcnRQZXJmb3JtYW5jZUNvbnNvbGUoZSx0PSEwKXt0JiYoWC5fU3RhcnRVc2VyTWFyayhlLHQpLGNvbnNvbGUudGltZSYmY29uc29sZS50aW1lKGUpKX1zdGF0aWMgX0VuZFBlcmZvcm1hbmNlQ29uc29sZShlLHQ9ITApe3QmJihYLl9FbmRVc2VyTWFyayhlLHQpLGNvbnNvbGUudGltZUVuZChlKSl9c3RhdGljIGdldCBOb3coKXtyZXR1cm4gaGkuTm93fXN0YXRpYyBHZXRDbGFzc05hbWUoZSx0PSExKXtsZXQgaT1udWxsO3JldHVybiF0JiZlLmdldENsYXNzTmFtZT9pPWUuZ2V0Q2xhc3NOYW1lKCk6KGUgaW5zdGFuY2VvZiBPYmplY3QmJihpPSh0P2U6T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpKS5jb25zdHJ1Y3Rvci5fX2Jqc2NsYXNzTmFtZV9fKSxpfHwoaT10eXBlb2YgZSkpLGl9c3RhdGljIEZpcnN0KGUsdCl7Zm9yKGNvbnN0IGkgb2YgZSlpZih0KGkpKXJldHVybiBpO3JldHVybiBudWxsfXN0YXRpYyBnZXRGdWxsQ2xhc3NOYW1lKGUsdD0hMSl7bGV0IGk9bnVsbCxzPW51bGw7aWYoIXQmJmUuZ2V0Q2xhc3NOYW1lKWk9ZS5nZXRDbGFzc05hbWUoKTtlbHNle2lmKGUgaW5zdGFuY2VvZiBPYmplY3Qpe2NvbnN0IHI9dD9lOk9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtpPXIuY29uc3RydWN0b3IuX19ianNjbGFzc05hbWVfXyxzPXIuY29uc3RydWN0b3IuX19ianNtb2R1bGVOYW1lX199aXx8KGk9dHlwZW9mIGUpfXJldHVybiBpPyhzIT1udWxsP3MrIi4iOiIiKStpOm51bGx9c3RhdGljIERlbGF5QXN5bmMoZSl7cmV0dXJuIG5ldyBQcm9taXNlKHQ9PntzZXRUaW1lb3V0KCgpPT57dCgpfSxlKX0pfXN0YXRpYyBJc1NhZmFyaSgpe3JldHVybiBFcygpPy9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk6ITF9fVguVXNlQ3VzdG9tUmVxdWVzdEhlYWRlcnM9ITEsWC5DdXN0b21SZXF1ZXN0SGVhZGVycz11dC5DdXN0b21SZXF1ZXN0SGVhZGVycyxYLl9UbXBGbG9hdEFycmF5PW5ldyBGbG9hdDMyQXJyYXkoMSksWC5HZXRET01UZXh0Q29udGVudD1UcyxYLkdldEFic29sdXRlVXJsPXR5cGVvZiBkb2N1bWVudD09Im9iamVjdCI/Yz0+e2NvbnN0IGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3JldHVybiBlLmhyZWY9YyxlLmhyZWZ9OnR5cGVvZiBVUkw9PSJmdW5jdGlvbiImJnR5cGVvZiBsb2NhdGlvbj09Im9iamVjdCI/Yz0+bmV3IFVSTChjLGxvY2F0aW9uLm9yaWdpbikuaHJlZjooKT0+e3Rocm93IG5ldyBFcnJvcigiVW5hYmxlIHRvIGdldCBhYnNvbHV0ZSBVUkwuIE92ZXJyaWRlIEJBQllMT04uVG9vbHMuR2V0QWJzb2x1dGVVcmwgdG8gYSBjdXN0b20gaW1wbGVtZW50YXRpb24gZm9yIHRoZSBjdXJyZW50IGNvbnRleHQuIil9LFguTm9uZUxvZ0xldmVsPU8uTm9uZUxvZ0xldmVsLFguTWVzc2FnZUxvZ0xldmVsPU8uTWVzc2FnZUxvZ0xldmVsLFguV2FybmluZ0xvZ0xldmVsPU8uV2FybmluZ0xvZ0xldmVsLFguRXJyb3JMb2dMZXZlbD1PLkVycm9yTG9nTGV2ZWwsWC5BbGxMb2dMZXZlbD1PLkFsbExvZ0xldmVsLFguSXNXaW5kb3dPYmplY3RFeGlzdD1qZSxYLlBlcmZvcm1hbmNlTm9uZUxvZ0xldmVsPTAsWC5QZXJmb3JtYW5jZVVzZXJNYXJrTG9nTGV2ZWw9MSxYLlBlcmZvcm1hbmNlQ29uc29sZUxvZ0xldmVsPTIsWC5TdGFydFBlcmZvcm1hbmNlQ291bnRlcj1YLl9TdGFydFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkLFguRW5kUGVyZm9ybWFuY2VDb3VudGVyPVguX0VuZFBlcmZvcm1hbmNlQ291bnRlckRpc2FibGVkO2NsYXNzICRpe2NvbnN0cnVjdG9yKGUsdCxpLHM9MCl7dGhpcy5pdGVyYXRpb25zPWUsdGhpcy5pbmRleD1zLTEsdGhpcy5fZG9uZT0hMSx0aGlzLl9mbj10LHRoaXMuX3N1Y2Nlc3NDYWxsYmFjaz1pfWV4ZWN1dGVOZXh0KCl7dGhpcy5fZG9uZXx8KHRoaXMuaW5kZXgrMTx0aGlzLml0ZXJhdGlvbnM/KCsrdGhpcy5pbmRleCx0aGlzLl9mbih0aGlzKSk6dGhpcy5icmVha0xvb3AoKSl9YnJlYWtMb29wKCl7dGhpcy5fZG9uZT0hMCx0aGlzLl9zdWNjZXNzQ2FsbGJhY2soKX1zdGF0aWMgUnVuKGUsdCxpLHM9MCl7Y29uc3Qgcj1uZXcgJGkoZSx0LGkscyk7cmV0dXJuIHIuZXhlY3V0ZU5leHQoKSxyfXN0YXRpYyBTeW5jQXN5bmNGb3JMb29wKGUsdCxpLHMscixuPTApe3JldHVybiAkaS5SdW4oTWF0aC5jZWlsKGUvdCksYT0+e3ImJnIoKT9hLmJyZWFrTG9vcCgpOnNldFRpbWVvdXQoKCk9Pntmb3IobGV0IG89MDtvPHQ7KytvKXtjb25zdCBoPWEuaW5kZXgqdCtvO2lmKGg+PWUpYnJlYWs7aWYoaShoKSxyJiZyKCkpe2EuYnJlYWtMb29wKCk7YnJlYWt9fWEuZXhlY3V0ZU5leHQoKX0sbil9LHMpfX1sZS5GYWxsYmFja1RleHR1cmU9ImRhdGE6aW1hZ2UvanBnO2Jhc2U2NCwvOWovNEFBUVNrWkpSZ0FCQVFFQVlBQmdBQUQvNFFCbVJYaHBaZ0FBVFUwQUtnQUFBQWdBQkFFYUFBVUFBQUFCQUFBQVBnRWJBQVVBQUFBQkFBQUFSZ0VvQUFNQUFBQUJBQUlBQUFFeEFBSUFBQUFRQUFBQVRnQUFBQUFBQUFCZ0FBQUFBUUFBQUdBQUFBQUJjR0ZwYm5RdWJtVjBJRFF1TUM0MUFQL2JBRU1BQkFJREF3TUNCQU1EQXdRRUJBUUZDUVlGQlFVRkN3Z0lCZ2tOQ3cwTkRRc01EQTRRRkJFT0R4TVBEQXdTR0JJVEZSWVhGeGNPRVJrYkdSWWFGQllYRnYvYkFFTUJCQVFFQlFVRkNnWUdDaFlQREE4V0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGaFlXRmhZV0ZoWVdGdi9BQUJFSUFRQUJBQU1CSWdBQ0VRRURFUUgveEFBZkFBQUJCUUVCQVFFQkFRQUFBQUFBQUFBQUFRSURCQVVHQndnSkNndi94QUMxRUFBQ0FRTURBZ1FEQlFVRUJBQUFBWDBCQWdNQUJCRUZFaUV4UVFZVFVXRUhJbkVVTW9HUm9RZ2pRckhCRlZMUjhDUXpZbktDQ1FvV0Z4Z1pHaVVtSnlncEtqUTFOamM0T1RwRFJFVkdSMGhKU2xOVVZWWlhXRmxhWTJSbFptZG9hV3B6ZEhWMmQzaDVlb09FaFlhSGlJbUtrcE9VbFphWG1KbWFvcU9rcGFhbnFLbXFzck8wdGJhM3VMbTZ3c1BFeGNiSHlNbkswdFBVMWRiWDJObmE0ZUxqNU9YbTUranA2dkh5OC9UMTl2ZjQrZnIveEFBZkFRQURBUUVCQVFFQkFRRUJBQUFBQUFBQUFRSURCQVVHQndnSkNndi94QUMxRVFBQ0FRSUVCQU1FQndVRUJBQUJBbmNBQVFJREVRUUZJVEVHRWtGUkIyRnhFeUl5Z1FnVVFwR2hzY0VKSXpOUzhCVmljdEVLRmlRMDRTWHhGeGdaR2lZbktDa3FOVFkzT0RrNlEwUkZSa2RJU1VwVFZGVldWMWhaV21Oa1pXWm5hR2xxYzNSMWRuZDRlWHFDZzRTRmhvZUlpWXFTazVTVmxwZVltWnFpbzZTbHBxZW9xYXF5czdTMXRyZTR1YnJDdzhURnhzZkl5Y3JTMDlUVjF0ZlkyZHJpNCtUbDV1Zm82ZXJ5OC9UMTl2ZjQrZnIvMmdBTUF3RUFBaEVERVFBL0FQSDZLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGQ2lpaWdENmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2dvb29vQStYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVS0tLS0FQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NkNpaWlnRDVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JRb29vb0Erb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92b0tLS0tBUGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZDaWlpZ0Q2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrZ29vb29BK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1VLS0tLQVBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2Q2lpaWdENWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlFvb29vQStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvS0tLS0FQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RkNpaWlnRDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytnb29vb0ErWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQbCtpaWl2dWorQlQ2Z29vb3I0VS92bytYNktLSys2UDRGUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVUtLS0tBUHFDaWlpdmhUKytqNWZvb29yN28vZ1Urb0tLS0srRlA3NlBsK2lpaXZ1aitCVDZnb29vcjRVL3ZvK1g2S0tLKzZQNEZQcUNpaWl2aFQrK2o1Zm9vb3I3by9nVStvS0tLSytGUDc2UGwraWlpdnVqK0JUNmdvb29yNFUvdm8rWDZLS0srNlA0RlBxQ2lpaXZoVCsrajVmb29vcjdvL2dVK29LS0tLK0ZQNzZQLy9aIjtjbGFzcyBKZXtjb25zdHJ1Y3RvcihlKXt0aGlzLmxlbmd0aD0wLHRoaXMuZGF0YT1uZXcgQXJyYXkoZSksdGhpcy5faWQ9SmUuX0dsb2JhbElkKyt9cHVzaChlKXt0aGlzLmRhdGFbdGhpcy5sZW5ndGgrK109ZSx0aGlzLmxlbmd0aD50aGlzLmRhdGEubGVuZ3RoJiYodGhpcy5kYXRhLmxlbmd0aCo9Mil9Zm9yRWFjaChlKXtmb3IobGV0IHQ9MDt0PHRoaXMubGVuZ3RoO3QrKyllKHRoaXMuZGF0YVt0XSl9c29ydChlKXt0aGlzLmRhdGEuc29ydChlKX1yZXNldCgpe3RoaXMubGVuZ3RoPTB9ZGlzcG9zZSgpe3RoaXMucmVzZXQoKSx0aGlzLmRhdGEmJih0aGlzLmRhdGEubGVuZ3RoPTApfWNvbmNhdChlKXtpZihlLmxlbmd0aCE9PTApe3RoaXMubGVuZ3RoK2UubGVuZ3RoPnRoaXMuZGF0YS5sZW5ndGgmJih0aGlzLmRhdGEubGVuZ3RoPSh0aGlzLmxlbmd0aCtlLmxlbmd0aCkqMik7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspdGhpcy5kYXRhW3RoaXMubGVuZ3RoKytdPShlLmRhdGF8fGUpW3RdfX1pbmRleE9mKGUpe2NvbnN0IHQ9dGhpcy5kYXRhLmluZGV4T2YoZSk7cmV0dXJuIHQ+PXRoaXMubGVuZ3RoPy0xOnR9Y29udGFpbnMoZSl7cmV0dXJuIHRoaXMuaW5kZXhPZihlKSE9PS0xfX1KZS5fR2xvYmFsSWQ9MDtjbGFzcyBjaSBleHRlbmRzIEple2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9kdXBsaWNhdGVJZD0wfXB1c2goZSl7c3VwZXIucHVzaChlKSxlLl9fc21hcnRBcnJheUZsYWdzfHwoZS5fX3NtYXJ0QXJyYXlGbGFncz17fSksZS5fX3NtYXJ0QXJyYXlGbGFnc1t0aGlzLl9pZF09dGhpcy5fZHVwbGljYXRlSWR9cHVzaE5vRHVwbGljYXRlKGUpe3JldHVybiBlLl9fc21hcnRBcnJheUZsYWdzJiZlLl9fc21hcnRBcnJheUZsYWdzW3RoaXMuX2lkXT09PXRoaXMuX2R1cGxpY2F0ZUlkPyExOih0aGlzLnB1c2goZSksITApfXJlc2V0KCl7c3VwZXIucmVzZXQoKSx0aGlzLl9kdXBsaWNhdGVJZCsrfWNvbmNhdFdpdGhOb0R1cGxpY2F0ZShlKXtpZihlLmxlbmd0aCE9PTApe3RoaXMubGVuZ3RoK2UubGVuZ3RoPnRoaXMuZGF0YS5sZW5ndGgmJih0aGlzLmRhdGEubGVuZ3RoPSh0aGlzLmxlbmd0aCtlLmxlbmd0aCkqMik7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IGk9KGUuZGF0YXx8ZSlbdF07dGhpcy5wdXNoTm9EdXBsaWNhdGUoaSl9fX19Y2xhc3MgX3J7Y29uc3RydWN0b3IoKXt0aGlzLl9jb3VudD0wLHRoaXMuX2RhdGE9e319Y29weUZyb20oZSl7dGhpcy5jbGVhcigpLGUuZm9yRWFjaCgodCxpKT0+dGhpcy5hZGQodCxpKSl9Z2V0KGUpe2NvbnN0IHQ9dGhpcy5fZGF0YVtlXTtpZih0IT09dm9pZCAwKXJldHVybiB0fWdldE9yQWRkV2l0aEZhY3RvcnkoZSx0KXtsZXQgaT10aGlzLmdldChlKTtyZXR1cm4gaSE9PXZvaWQgMHx8KGk9dChlKSxpJiZ0aGlzLmFkZChlLGkpKSxpfWdldE9yQWRkKGUsdCl7Y29uc3QgaT10aGlzLmdldChlKTtyZXR1cm4gaSE9PXZvaWQgMD9pOih0aGlzLmFkZChlLHQpLHQpfWNvbnRhaW5zKGUpe3JldHVybiB0aGlzLl9kYXRhW2VdIT09dm9pZCAwfWFkZChlLHQpe3JldHVybiB0aGlzLl9kYXRhW2VdIT09dm9pZCAwPyExOih0aGlzLl9kYXRhW2VdPXQsKyt0aGlzLl9jb3VudCwhMCl9c2V0KGUsdCl7cmV0dXJuIHRoaXMuX2RhdGFbZV09PT12b2lkIDA/ITE6KHRoaXMuX2RhdGFbZV09dCwhMCl9Z2V0QW5kUmVtb3ZlKGUpe2NvbnN0IHQ9dGhpcy5nZXQoZSk7cmV0dXJuIHQhPT12b2lkIDA/KGRlbGV0ZSB0aGlzLl9kYXRhW2VdLC0tdGhpcy5fY291bnQsdCk6bnVsbH1yZW1vdmUoZSl7cmV0dXJuIHRoaXMuY29udGFpbnMoZSk/KGRlbGV0ZSB0aGlzLl9kYXRhW2VdLC0tdGhpcy5fY291bnQsITApOiExfWNsZWFyKCl7dGhpcy5fZGF0YT17fSx0aGlzLl9jb3VudD0wfWdldCBjb3VudCgpe3JldHVybiB0aGlzLl9jb3VudH1mb3JFYWNoKGUpe2Zvcihjb25zdCB0IGluIHRoaXMuX2RhdGEpe2NvbnN0IGk9dGhpcy5fZGF0YVt0XTtlKHQsaSl9fWZpcnN0KGUpe2Zvcihjb25zdCB0IGluIHRoaXMuX2RhdGEpe2NvbnN0IGk9dGhpcy5fZGF0YVt0XSxzPWUodCxpKTtpZihzKXJldHVybiBzfXJldHVybiBudWxsfX1jbGFzcyB1aXtzdGF0aWMgRXZhbChlLHQpe3JldHVybiBlLm1hdGNoKC9cKFteKCldKlwpL2cpP2U9ZS5yZXBsYWNlKC9cKFteKCldKlwpL2csaT0+KGk9aS5zbGljZSgxLGkubGVuZ3RoLTEpLHVpLl9IYW5kbGVQYXJlbnRoZXNpc0NvbnRlbnQoaSx0KSkpOmU9dWkuX0hhbmRsZVBhcmVudGhlc2lzQ29udGVudChlLHQpLGU9PT0idHJ1ZSI/ITA6ZT09PSJmYWxzZSI/ITE6dWkuRXZhbChlLHQpfXN0YXRpYyBfSGFuZGxlUGFyZW50aGVzaXNDb250ZW50KGUsdCl7dD10fHwocj0+cj09PSJ0cnVlIik7bGV0IGk7Y29uc3Qgcz1lLnNwbGl0KCJ8fCIpO2Zvcihjb25zdCByIGluIHMpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscikpe2xldCBuPXVpLl9TaW1wbGlmeU5lZ2F0aW9uKHNbcl0udHJpbSgpKTtjb25zdCBhPW4uc3BsaXQoIiYmIik7aWYoYS5sZW5ndGg+MSlmb3IobGV0IG89MDtvPGEubGVuZ3RoOysrbyl7Y29uc3QgaD11aS5fU2ltcGxpZnlOZWdhdGlvbihhW29dLnRyaW0oKSk7aWYoaCE9PSJ0cnVlIiYmaCE9PSJmYWxzZSI/aFswXT09PSIhIj9pPSF0KGguc3Vic3RyaW5nKDEpKTppPXQoaCk6aT1oPT09InRydWUiLCFpKXtuPSJmYWxzZSI7YnJlYWt9fWlmKGl8fG49PT0idHJ1ZSIpe2k9ITA7YnJlYWt9biE9PSJ0cnVlIiYmbiE9PSJmYWxzZSI/blswXT09PSIhIj9pPSF0KG4uc3Vic3RyaW5nKDEpKTppPXQobik6aT1uPT09InRydWUifXJldHVybiBpPyJ0cnVlIjoiZmFsc2UifXN0YXRpYyBfU2ltcGxpZnlOZWdhdGlvbihlKXtyZXR1cm4gZT1lLnJlcGxhY2UoL15bXHMhXSsvLHQ9Pih0PXQucmVwbGFjZSgvW1xzXS9nLCgpPT4iIiksdC5sZW5ndGglMj8iISI6IiIpKSxlPWUudHJpbSgpLGU9PT0iIXRydWUiP2U9ImZhbHNlIjplPT09IiFmYWxzZSImJihlPSJ0cnVlIiksZX19Y2xhc3MgZmV7c3RhdGljIEVuYWJsZUZvcihlKXtlLl90YWdzPWUuX3RhZ3N8fHt9LGUuaGFzVGFncz0oKT0+ZmUuSGFzVGFncyhlKSxlLmFkZFRhZ3M9dD0+ZmUuQWRkVGFnc1RvKGUsdCksZS5yZW1vdmVUYWdzPXQ9PmZlLlJlbW92ZVRhZ3NGcm9tKGUsdCksZS5tYXRjaGVzVGFnc1F1ZXJ5PXQ9PmZlLk1hdGNoZXNRdWVyeShlLHQpfXN0YXRpYyBEaXNhYmxlRm9yKGUpe2RlbGV0ZSBlLl90YWdzLGRlbGV0ZSBlLmhhc1RhZ3MsZGVsZXRlIGUuYWRkVGFncyxkZWxldGUgZS5yZW1vdmVUYWdzLGRlbGV0ZSBlLm1hdGNoZXNUYWdzUXVlcnl9c3RhdGljIEhhc1RhZ3MoZSl7aWYoIWUuX3RhZ3MpcmV0dXJuITE7Y29uc3QgdD1lLl90YWdzO2Zvcihjb25zdCBpIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkpcmV0dXJuITA7cmV0dXJuITF9c3RhdGljIEdldFRhZ3MoZSx0PSEwKXtpZighZS5fdGFncylyZXR1cm4gbnVsbDtpZih0KXtjb25zdCBpPVtdO2Zvcihjb25zdCBzIGluIGUuX3RhZ3MpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUuX3RhZ3MscykmJmUuX3RhZ3Nbc109PT0hMCYmaS5wdXNoKHMpO3JldHVybiBpLmpvaW4oIiAiKX1lbHNlIHJldHVybiBlLl90YWdzfXN0YXRpYyBBZGRUYWdzVG8oZSx0KXtpZighdHx8dHlwZW9mIHQhPSJzdHJpbmciKXJldHVybjt0LnNwbGl0KCIgIikuZm9yRWFjaChmdW5jdGlvbihzKXtmZS5fQWRkVGFnVG8oZSxzKX0pfXN0YXRpYyBfQWRkVGFnVG8oZSx0KXt0PXQudHJpbSgpLCEodD09PSIifHx0PT09InRydWUifHx0PT09ImZhbHNlIikmJih0Lm1hdGNoKC9bXHNdLyl8fHQubWF0Y2goL14oWyFdfChbfF18WyZdKXsyfSkvKXx8KGZlLkVuYWJsZUZvcihlKSxlLl90YWdzW3RdPSEwKSl9c3RhdGljIFJlbW92ZVRhZ3NGcm9tKGUsdCl7aWYoIWZlLkhhc1RhZ3MoZSkpcmV0dXJuO2NvbnN0IGk9dC5zcGxpdCgiICIpO2Zvcihjb25zdCBzIGluIGkpZmUuX1JlbW92ZVRhZ0Zyb20oZSxpW3NdKX1zdGF0aWMgX1JlbW92ZVRhZ0Zyb20oZSx0KXtkZWxldGUgZS5fdGFnc1t0XX1zdGF0aWMgTWF0Y2hlc1F1ZXJ5KGUsdCl7cmV0dXJuIHQ9PT12b2lkIDA/ITA6dD09PSIiP2ZlLkhhc1RhZ3MoZSk6dWkuRXZhbCh0LGk9PmZlLkhhc1RhZ3MoZSkmJmUuX3RhZ3NbaV0pfX1jbGFzcyBRaXtjb25zdHJ1Y3Rvcigpe3RoaXMucm9vdE5vZGVzPW5ldyBBcnJheSx0aGlzLmNhbWVyYXM9bmV3IEFycmF5LHRoaXMubGlnaHRzPW5ldyBBcnJheSx0aGlzLm1lc2hlcz1uZXcgQXJyYXksdGhpcy5za2VsZXRvbnM9bmV3IEFycmF5LHRoaXMucGFydGljbGVTeXN0ZW1zPW5ldyBBcnJheSx0aGlzLmFuaW1hdGlvbnM9W10sdGhpcy5hbmltYXRpb25Hcm91cHM9bmV3IEFycmF5LHRoaXMubXVsdGlNYXRlcmlhbHM9bmV3IEFycmF5LHRoaXMubWF0ZXJpYWxzPW5ldyBBcnJheSx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnM9bmV3IEFycmF5LHRoaXMuZ2VvbWV0cmllcz1uZXcgQXJyYXksdGhpcy50cmFuc2Zvcm1Ob2Rlcz1uZXcgQXJyYXksdGhpcy5hY3Rpb25NYW5hZ2Vycz1uZXcgQXJyYXksdGhpcy50ZXh0dXJlcz1uZXcgQXJyYXksdGhpcy5fZW52aXJvbm1lbnRUZXh0dXJlPW51bGwsdGhpcy5wb3N0UHJvY2Vzc2VzPW5ldyBBcnJheX1zdGF0aWMgQWRkUGFyc2VyKGUsdCl7dGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW2VdPXR9c3RhdGljIEdldFBhcnNlcihlKXtyZXR1cm4gdGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzW2VdP3RoaXMuX0JhYnlsb25GaWxlUGFyc2Vyc1tlXTpudWxsfXN0YXRpYyBBZGRJbmRpdmlkdWFsUGFyc2VyKGUsdCl7dGhpcy5fSW5kaXZpZHVhbEJhYnlsb25GaWxlUGFyc2Vyc1tlXT10fXN0YXRpYyBHZXRJbmRpdmlkdWFsUGFyc2VyKGUpe3JldHVybiB0aGlzLl9JbmRpdmlkdWFsQmFieWxvbkZpbGVQYXJzZXJzW2VdP3RoaXMuX0luZGl2aWR1YWxCYWJ5bG9uRmlsZVBhcnNlcnNbZV06bnVsbH1zdGF0aWMgUGFyc2UoZSx0LGkscyl7Zm9yKGNvbnN0IHIgaW4gdGhpcy5fQmFieWxvbkZpbGVQYXJzZXJzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9CYWJ5bG9uRmlsZVBhcnNlcnMscikmJnRoaXMuX0JhYnlsb25GaWxlUGFyc2Vyc1tyXShlLHQsaSxzKX1nZXQgZW52aXJvbm1lbnRUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2Vudmlyb25tZW50VGV4dHVyZX1zZXQgZW52aXJvbm1lbnRUZXh0dXJlKGUpe3RoaXMuX2Vudmlyb25tZW50VGV4dHVyZT1lfWdldE5vZGVzKCl7bGV0IGU9bmV3IEFycmF5O3JldHVybiBlPWUuY29uY2F0KHRoaXMubWVzaGVzKSxlPWUuY29uY2F0KHRoaXMubGlnaHRzKSxlPWUuY29uY2F0KHRoaXMuY2FtZXJhcyksZT1lLmNvbmNhdCh0aGlzLnRyYW5zZm9ybU5vZGVzKSx0aGlzLnNrZWxldG9ucy5mb3JFYWNoKHQ9PmU9ZS5jb25jYXQodC5ib25lcykpLGV9fVFpLl9CYWJ5bG9uRmlsZVBhcnNlcnM9e30sUWkuX0luZGl2aWR1YWxCYWJ5bG9uRmlsZVBhcnNlcnM9e307ZnVuY3Rpb24gVChjLGUsdCxpKXt2YXIgcz1hcmd1bWVudHMubGVuZ3RoLHI9czwzP2U6aT09PW51bGw/aT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCk6aSxuO2lmKHR5cGVvZiBSZWZsZWN0PT0ib2JqZWN0IiYmdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGU9PSJmdW5jdGlvbiIpcj1SZWZsZWN0LmRlY29yYXRlKGMsZSx0LGkpO2Vsc2UgZm9yKHZhciBhPWMubGVuZ3RoLTE7YT49MDthLS0pKG49Y1thXSkmJihyPShzPDM/bihyKTpzPjM/bihlLHQscik6bihlLHQpKXx8cik7cmV0dXJuIHM+MyYmciYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxyKSxyfWNvbnN0IEppPXt9LGVzPXt9LGdyPWZ1bmN0aW9uKGMsZSx0KXtjb25zdCBpPWMoKTtmZSYmZmUuSGFzVGFncyhlKSYmZmUuQWRkVGFnc1RvKGksZmUuR2V0VGFncyhlLCEwKSk7Y29uc3Qgcz1EcyhpKTtmb3IoY29uc3QgciBpbiBzKXtjb25zdCBuPXNbcl0sYT1lW3JdLG89bi50eXBlO2lmKGEhPW51bGwmJihyIT09InVuaXF1ZUlkInx8bmUuQWxsb3dMb2FkaW5nVW5pcXVlSWQpKXN3aXRjaChvKXtjYXNlIDA6Y2FzZSA2OmNhc2UgMTE6aVtyXT1hO2JyZWFrO2Nhc2UgMTppW3JdPXR8fGEuaXNSZW5kZXJUYXJnZXQ/YTphLmNsb25lKCk7YnJlYWs7Y2FzZSAyOmNhc2UgMzpjYXNlIDQ6Y2FzZSA1OmNhc2UgNzpjYXNlIDEwOmNhc2UgMTI6aVtyXT10P2E6YS5jbG9uZSgpO2JyZWFrfX1yZXR1cm4gaX07ZnVuY3Rpb24gQW4oYyl7Y29uc3QgZT1jLmdldENsYXNzTmFtZSgpO3JldHVybiBKaVtlXXx8KEppW2VdPXt9KSxKaVtlXX1mdW5jdGlvbiBEcyhjKXtjb25zdCBlPWMuZ2V0Q2xhc3NOYW1lKCk7aWYoZXNbZV0pcmV0dXJuIGVzW2VdO2VzW2VdPXt9O2NvbnN0IHQ9ZXNbZV07bGV0IGk9YyxzPWU7Zm9yKDtzOyl7Y29uc3Qgcj1KaVtzXTtmb3IoY29uc3QgbyBpbiByKXRbb109cltvXTtsZXQgbixhPSExO2Rve2lmKG49T2JqZWN0LmdldFByb3RvdHlwZU9mKGkpLCFuLmdldENsYXNzTmFtZSl7YT0hMDticmVha31pZihuLmdldENsYXNzTmFtZSgpIT09cylicmVhaztpPW59d2hpbGUobik7aWYoYSlicmVhaztzPW4uZ2V0Q2xhc3NOYW1lKCksaT1ufXJldHVybiB0fWZ1bmN0aW9uIEl0KGMsZSl7cmV0dXJuKHQsaSk9Pntjb25zdCBzPUFuKHQpO3NbaV18fChzW2ldPXt0eXBlOmMsc291cmNlTmFtZTplfSl9fWZ1bmN0aW9uIFJuKGMsZT1udWxsKXtyZXR1cm4odCxpKT0+e2NvbnN0IHM9ZXx8Il8iK2k7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsaSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbc119LHNldDpmdW5jdGlvbihyKXt0eXBlb2YgdGhpcy5lcXVhbHM9PSJmdW5jdGlvbiImJnRoaXMuZXF1YWxzKHIpfHx0aGlzW3NdIT09ciYmKHRoaXNbc109cix0W2NdLmFwcGx5KHRoaXMpKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX19ZnVuY3Rpb24gVGUoYyxlPW51bGwpe3JldHVybiBSbihjLGUpfWZ1bmN0aW9uIHkoYyl7cmV0dXJuIEl0KDAsYyl9ZnVuY3Rpb24gdnQoYyl7cmV0dXJuIEl0KDEsYyl9ZnVuY3Rpb24gZGkoYyl7cmV0dXJuIEl0KDIsYyl9ZnVuY3Rpb24gVmkoYyl7cmV0dXJuIEl0KDMsYyl9ZnVuY3Rpb24geW4oYyl7cmV0dXJuIEl0KDQsYyl9ZnVuY3Rpb24gVXQoYyl7cmV0dXJuIEl0KDUsYyl9ZnVuY3Rpb24gQ24oYyl7cmV0dXJuIEl0KDYsYyl9ZnVuY3Rpb24gSW4oYyl7cmV0dXJuIEl0KDcsYyl9ZnVuY3Rpb24gcHIoYyl7cmV0dXJuIEl0KDgsYyl9ZnVuY3Rpb24gUG4oYyl7cmV0dXJuIEl0KDEwLGMpfWNsYXNzIG5le3N0YXRpYyBBcHBlbmRTZXJpYWxpemVkQW5pbWF0aW9ucyhlLHQpe2lmKGUuYW5pbWF0aW9ucyl7dC5hbmltYXRpb25zPVtdO2ZvcihsZXQgaT0wO2k8ZS5hbmltYXRpb25zLmxlbmd0aDtpKyspe2NvbnN0IHM9ZS5hbmltYXRpb25zW2ldO3QuYW5pbWF0aW9ucy5wdXNoKHMuc2VyaWFsaXplKCkpfX19c3RhdGljIFNlcmlhbGl6ZShlLHQpe3R8fCh0PXt9KSxmZSYmKHQudGFncz1mZS5HZXRUYWdzKGUpKTtjb25zdCBpPURzKGUpO2Zvcihjb25zdCBzIGluIGkpe2NvbnN0IHI9aVtzXSxuPXIuc291cmNlTmFtZXx8cyxhPXIudHlwZSxvPWVbc107aWYobyE9bnVsbCYmKHMhPT0idW5pcXVlSWQifHxuZS5BbGxvd0xvYWRpbmdVbmlxdWVJZCkpc3dpdGNoKGEpe2Nhc2UgMDp0W25dPW87YnJlYWs7Y2FzZSAxOnRbbl09by5zZXJpYWxpemUoKTticmVhaztjYXNlIDI6dFtuXT1vLmFzQXJyYXkoKTticmVhaztjYXNlIDM6dFtuXT1vLnNlcmlhbGl6ZSgpO2JyZWFrO2Nhc2UgNDp0W25dPW8uYXNBcnJheSgpO2JyZWFrO2Nhc2UgNTp0W25dPW8uYXNBcnJheSgpO2JyZWFrO2Nhc2UgNjp0W25dPW8uaWQ7YnJlYWs7Y2FzZSA3OnRbbl09by5zZXJpYWxpemUoKTticmVhaztjYXNlIDg6dFtuXT1vLmFzQXJyYXkoKTticmVhaztjYXNlIDk6dFtuXT1vLnNlcmlhbGl6ZSgpO2JyZWFrO2Nhc2UgMTA6dFtuXT1vLmFzQXJyYXkoKTticmVhaztjYXNlIDExOnRbbl09by5pZDticmVhaztjYXNlIDEyOnRbbl09by5hc0FycmF5KCk7YnJlYWt9fXJldHVybiB0fXN0YXRpYyBQYXJzZVByb3BlcnRpZXMoZSx0LGkscyl7c3x8KHM9IiIpO2NvbnN0IHI9RHModCk7Zm9yKGNvbnN0IG4gaW4gcil7Y29uc3QgYT1yW25dLG89ZVthLnNvdXJjZU5hbWV8fG5dLGg9YS50eXBlO2lmKG8hPW51bGwmJihuIT09InVuaXF1ZUlkInx8bmUuQWxsb3dMb2FkaW5nVW5pcXVlSWQpKXtjb25zdCBsPXQ7c3dpdGNoKGgpe2Nhc2UgMDpsW25dPW87YnJlYWs7Y2FzZSAxOmkmJihsW25dPW5lLl9UZXh0dXJlUGFyc2VyKG8saSxzKSk7YnJlYWs7Y2FzZSAyOmxbbl09cmUuRnJvbUFycmF5KG8pO2JyZWFrO2Nhc2UgMzpsW25dPW5lLl9GcmVzbmVsUGFyYW1ldGVyc1BhcnNlcihvKTticmVhaztjYXNlIDQ6bFtuXT12ZS5Gcm9tQXJyYXkobyk7YnJlYWs7Y2FzZSA1Omxbbl09cC5Gcm9tQXJyYXkobyk7YnJlYWs7Y2FzZSA2OmkmJihsW25dPWkuZ2V0TGFzdE1lc2hCeUlkKG8pKTticmVhaztjYXNlIDc6bFtuXT1uZS5fQ29sb3JDdXJ2ZXNQYXJzZXIobyk7YnJlYWs7Y2FzZSA4Omxbbl09TmUuRnJvbUFycmF5KG8pO2JyZWFrO2Nhc2UgOTpsW25dPW5lLl9JbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uUGFyc2VyKG8pO2JyZWFrO2Nhc2UgMTA6bFtuXT1aLkZyb21BcnJheShvKTticmVhaztjYXNlIDExOmkmJihsW25dPWkuZ2V0Q2FtZXJhQnlJZChvKSk7YnJlYWs7Y2FzZSAxMjpsW25dPU0uRnJvbUFycmF5KG8pO2JyZWFrfX19fXN0YXRpYyBQYXJzZShlLHQsaSxzPW51bGwpe2NvbnN0IHI9ZSgpO3JldHVybiBmZSYmZmUuQWRkVGFnc1RvKHIsdC50YWdzKSxuZS5QYXJzZVByb3BlcnRpZXModCxyLGkscykscn1zdGF0aWMgQ2xvbmUoZSx0KXtyZXR1cm4gZ3IoZSx0LCExKX1zdGF0aWMgSW5zdGFuY2lhdGUoZSx0KXtyZXR1cm4gZ3IoZSx0LCEwKX19bmUuQWxsb3dMb2FkaW5nVW5pcXVlSWQ9ITEsbmUuX0ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb25QYXJzZXI9Yz0+e3Rocm93IFEoIkltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24iKX0sbmUuX0ZyZXNuZWxQYXJhbWV0ZXJzUGFyc2VyPWM9Pnt0aHJvdyBRKCJGcmVzbmVsUGFyYW1ldGVycyIpfSxuZS5fQ29sb3JDdXJ2ZXNQYXJzZXI9Yz0+e3Rocm93IFEoIkNvbG9yQ3VydmVzIil9LG5lLl9UZXh0dXJlUGFyc2VyPShjLGUsdCk9Pnt0aHJvdyBRKCJUZXh0dXJlIil9O2Z1bmN0aW9uIFF0KGMsZSx0LGkpe2NvbnN0IHM9dC52YWx1ZTt0LnZhbHVlPSguLi5yKT0+e2xldCBuPXM7aWYodHlwZW9mIF9uYXRpdmU8InUiJiZfbmF0aXZlW2VdKXtjb25zdCBhPV9uYXRpdmVbZV07aT9uPSguLi5vKT0+aSguLi5vKT9hKC4uLm8pOnMoLi4ubyk6bj1hfXJldHVybiBjW2VdPW4sbiguLi5yKX19UXQuZmlsdGVyPWZ1bmN0aW9uKGMpe3JldHVybihlLHQsaSk9PlF0KGUsdCxpLGMpfTtjbGFzcyBGc3tjb25zdHJ1Y3RvcihlKXtpZih0aGlzLl9rZXlzPVtdLHRoaXMuX2lzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlzcG9zZWQ9ITEsdGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSEwLHRoaXMuX2FyZVRleHR1cmVzRGlydHk9ITAsdGhpcy5fYXJlRnJlc25lbERpcnR5PSEwLHRoaXMuX2FyZU1pc2NEaXJ0eT0hMCx0aGlzLl9hcmVQcmVQYXNzRGlydHk9ITAsdGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITAsdGhpcy5fbm9ybWFscz0hMSx0aGlzLl91dnM9ITEsdGhpcy5fbmVlZE5vcm1hbHM9ITEsdGhpcy5fbmVlZFVWcz0hMSx0aGlzLl9leHRlcm5hbFByb3BlcnRpZXM9ZSxlKWZvcihjb25zdCB0IGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkmJnRoaXMuX3NldERlZmF1bHRWYWx1ZSh0KX1nZXQgaXNEaXJ0eSgpe3JldHVybiB0aGlzLl9pc0RpcnR5fW1hcmtBc1Byb2Nlc3NlZCgpe3RoaXMuX2lzRGlydHk9ITEsdGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSExLHRoaXMuX2FyZVRleHR1cmVzRGlydHk9ITEsdGhpcy5fYXJlRnJlc25lbERpcnR5PSExLHRoaXMuX2FyZUxpZ2h0c0RpcnR5PSExLHRoaXMuX2FyZUxpZ2h0c0Rpc3Bvc2VkPSExLHRoaXMuX2FyZU1pc2NEaXJ0eT0hMSx0aGlzLl9hcmVQcmVQYXNzRGlydHk9ITEsdGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITF9bWFya0FzVW5wcm9jZXNzZWQoKXt0aGlzLl9pc0RpcnR5PSEwfW1hcmtBbGxBc0RpcnR5KCl7dGhpcy5fYXJlVGV4dHVyZXNEaXJ0eT0hMCx0aGlzLl9hcmVBdHRyaWJ1dGVzRGlydHk9ITAsdGhpcy5fYXJlTGlnaHRzRGlydHk9ITAsdGhpcy5fYXJlRnJlc25lbERpcnR5PSEwLHRoaXMuX2FyZU1pc2NEaXJ0eT0hMCx0aGlzLl9hcmVJbWFnZVByb2Nlc3NpbmdEaXJ0eT0hMCx0aGlzLl9pc0RpcnR5PSEwfW1hcmtBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCl7dGhpcy5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNMaWdodERpcnR5KGU9ITEpe3RoaXMuX2FyZUxpZ2h0c0RpcnR5PSEwLHRoaXMuX2FyZUxpZ2h0c0Rpc3Bvc2VkPXRoaXMuX2FyZUxpZ2h0c0Rpc3Bvc2VkfHxlLHRoaXMuX2lzRGlydHk9ITB9bWFya0FzQXR0cmlidXRlc0RpcnR5KCl7dGhpcy5fYXJlQXR0cmlidXRlc0RpcnR5PSEwLHRoaXMuX2lzRGlydHk9ITB9bWFya0FzVGV4dHVyZXNEaXJ0eSgpe3RoaXMuX2FyZVRleHR1cmVzRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNGcmVzbmVsRGlydHkoKXt0aGlzLl9hcmVGcmVzbmVsRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNNaXNjRGlydHkoKXt0aGlzLl9hcmVNaXNjRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1tYXJrQXNQcmVQYXNzRGlydHkoKXt0aGlzLl9hcmVQcmVQYXNzRGlydHk9ITAsdGhpcy5faXNEaXJ0eT0hMH1yZWJ1aWxkKCl7dGhpcy5fa2V5cy5sZW5ndGg9MDtmb3IoY29uc3QgZSBvZiBPYmplY3Qua2V5cyh0aGlzKSllWzBdIT09Il8iJiZ0aGlzLl9rZXlzLnB1c2goZSk7aWYodGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKWZvcihjb25zdCBlIGluIHRoaXMuX2V4dGVybmFsUHJvcGVydGllcyl0aGlzLl9rZXlzLmluZGV4T2YoZSk9PT0tMSYmdGhpcy5fa2V5cy5wdXNoKGUpfWlzRXF1YWwoZSl7aWYodGhpcy5fa2V5cy5sZW5ndGghPT1lLl9rZXlzLmxlbmd0aClyZXR1cm4hMTtmb3IobGV0IHQ9MDt0PHRoaXMuX2tleXMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLl9rZXlzW3RdO2lmKHRoaXNbaV0hPT1lW2ldKXJldHVybiExfXJldHVybiEwfWNsb25lVG8oZSl7dGhpcy5fa2V5cy5sZW5ndGghPT1lLl9rZXlzLmxlbmd0aCYmKGUuX2tleXM9dGhpcy5fa2V5cy5zbGljZSgwKSk7Zm9yKGxldCB0PTA7dDx0aGlzLl9rZXlzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5fa2V5c1t0XTtlW2ldPXRoaXNbaV19fXJlc2V0KCl7dGhpcy5fa2V5cy5mb3JFYWNoKGU9PnRoaXMuX3NldERlZmF1bHRWYWx1ZShlKSl9X3NldERlZmF1bHRWYWx1ZShlKXt2YXIgdCxpLHMscixuO2NvbnN0IGE9KHM9KGk9KHQ9dGhpcy5fZXh0ZXJuYWxQcm9wZXJ0aWVzKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnRbZV0pPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS50eXBlKSE9PW51bGwmJnMhPT12b2lkIDA/czp0eXBlb2YgdGhpc1tlXSxvPShuPShyPXRoaXMuX2V4dGVybmFsUHJvcGVydGllcyk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyW2VdKT09PW51bGx8fG49PT12b2lkIDA/dm9pZCAwOm4uZGVmYXVsdDtzd2l0Y2goYSl7Y2FzZSJudW1iZXIiOnRoaXNbZV09bz8/MDticmVhaztjYXNlInN0cmluZyI6dGhpc1tlXT1vPz8iIjticmVhaztkZWZhdWx0OnRoaXNbZV09bz8/ITE7YnJlYWt9fXRvU3RyaW5nKCl7bGV0IGU9IiI7Zm9yKGxldCB0PTA7dDx0aGlzLl9rZXlzLmxlbmd0aDt0Kyspe2NvbnN0IGk9dGhpcy5fa2V5c1t0XSxzPXRoaXNbaV07c3dpdGNoKHR5cGVvZiBzKXtjYXNlIm51bWJlciI6Y2FzZSJzdHJpbmciOmUrPSIjZGVmaW5lICIraSsiICIrcytgCmA7YnJlYWs7ZGVmYXVsdDpzJiYoZSs9IiNkZWZpbmUgIitpK2AKYCk7YnJlYWt9fXJldHVybiBlfX1jbGFzcyBBZXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2RpcnR5PSEwLHRoaXMuX3RlbXBDb2xvcj1uZXcgTmUoMCwwLDAsMCksdGhpcy5fZ2xvYmFsQ3VydmU9bmV3IE5lKDAsMCwwLDApLHRoaXMuX2hpZ2hsaWdodHNDdXJ2ZT1uZXcgTmUoMCwwLDAsMCksdGhpcy5fbWlkdG9uZXNDdXJ2ZT1uZXcgTmUoMCwwLDAsMCksdGhpcy5fc2hhZG93c0N1cnZlPW5ldyBOZSgwLDAsMCwwKSx0aGlzLl9wb3NpdGl2ZUN1cnZlPW5ldyBOZSgwLDAsMCwwKSx0aGlzLl9uZWdhdGl2ZUN1cnZlPW5ldyBOZSgwLDAsMCwwKSx0aGlzLl9nbG9iYWxIdWU9MzAsdGhpcy5fZ2xvYmFsRGVuc2l0eT0wLHRoaXMuX2dsb2JhbFNhdHVyYXRpb249MCx0aGlzLl9nbG9iYWxFeHBvc3VyZT0wLHRoaXMuX2hpZ2hsaWdodHNIdWU9MzAsdGhpcy5faGlnaGxpZ2h0c0RlbnNpdHk9MCx0aGlzLl9oaWdobGlnaHRzU2F0dXJhdGlvbj0wLHRoaXMuX2hpZ2hsaWdodHNFeHBvc3VyZT0wLHRoaXMuX21pZHRvbmVzSHVlPTMwLHRoaXMuX21pZHRvbmVzRGVuc2l0eT0wLHRoaXMuX21pZHRvbmVzU2F0dXJhdGlvbj0wLHRoaXMuX21pZHRvbmVzRXhwb3N1cmU9MCx0aGlzLl9zaGFkb3dzSHVlPTMwLHRoaXMuX3NoYWRvd3NEZW5zaXR5PTAsdGhpcy5fc2hhZG93c1NhdHVyYXRpb249MCx0aGlzLl9zaGFkb3dzRXhwb3N1cmU9MH1nZXQgZ2xvYmFsSHVlKCl7cmV0dXJuIHRoaXMuX2dsb2JhbEh1ZX1zZXQgZ2xvYmFsSHVlKGUpe3RoaXMuX2dsb2JhbEh1ZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBnbG9iYWxEZW5zaXR5KCl7cmV0dXJuIHRoaXMuX2dsb2JhbERlbnNpdHl9c2V0IGdsb2JhbERlbnNpdHkoZSl7dGhpcy5fZ2xvYmFsRGVuc2l0eT1lLHRoaXMuX2RpcnR5PSEwfWdldCBnbG9iYWxTYXR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX2dsb2JhbFNhdHVyYXRpb259c2V0IGdsb2JhbFNhdHVyYXRpb24oZSl7dGhpcy5fZ2xvYmFsU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfWdldCBnbG9iYWxFeHBvc3VyZSgpe3JldHVybiB0aGlzLl9nbG9iYWxFeHBvc3VyZX1zZXQgZ2xvYmFsRXhwb3N1cmUoZSl7dGhpcy5fZ2xvYmFsRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgaGlnaGxpZ2h0c0h1ZSgpe3JldHVybiB0aGlzLl9oaWdobGlnaHRzSHVlfXNldCBoaWdobGlnaHRzSHVlKGUpe3RoaXMuX2hpZ2hsaWdodHNIdWU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgaGlnaGxpZ2h0c0RlbnNpdHkoKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0c0RlbnNpdHl9c2V0IGhpZ2hsaWdodHNEZW5zaXR5KGUpe3RoaXMuX2hpZ2hsaWdodHNEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9Z2V0IGhpZ2hsaWdodHNTYXR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX2hpZ2hsaWdodHNTYXR1cmF0aW9ufXNldCBoaWdobGlnaHRzU2F0dXJhdGlvbihlKXt0aGlzLl9oaWdobGlnaHRzU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfWdldCBoaWdobGlnaHRzRXhwb3N1cmUoKXtyZXR1cm4gdGhpcy5faGlnaGxpZ2h0c0V4cG9zdXJlfXNldCBoaWdobGlnaHRzRXhwb3N1cmUoZSl7dGhpcy5faGlnaGxpZ2h0c0V4cG9zdXJlPWUsdGhpcy5fZGlydHk9ITB9Z2V0IG1pZHRvbmVzSHVlKCl7cmV0dXJuIHRoaXMuX21pZHRvbmVzSHVlfXNldCBtaWR0b25lc0h1ZShlKXt0aGlzLl9taWR0b25lc0h1ZT1lLHRoaXMuX2RpcnR5PSEwfWdldCBtaWR0b25lc0RlbnNpdHkoKXtyZXR1cm4gdGhpcy5fbWlkdG9uZXNEZW5zaXR5fXNldCBtaWR0b25lc0RlbnNpdHkoZSl7dGhpcy5fbWlkdG9uZXNEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9Z2V0IG1pZHRvbmVzU2F0dXJhdGlvbigpe3JldHVybiB0aGlzLl9taWR0b25lc1NhdHVyYXRpb259c2V0IG1pZHRvbmVzU2F0dXJhdGlvbihlKXt0aGlzLl9taWR0b25lc1NhdHVyYXRpb249ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgbWlkdG9uZXNFeHBvc3VyZSgpe3JldHVybiB0aGlzLl9taWR0b25lc0V4cG9zdXJlfXNldCBtaWR0b25lc0V4cG9zdXJlKGUpe3RoaXMuX21pZHRvbmVzRXhwb3N1cmU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgc2hhZG93c0h1ZSgpe3JldHVybiB0aGlzLl9zaGFkb3dzSHVlfXNldCBzaGFkb3dzSHVlKGUpe3RoaXMuX3NoYWRvd3NIdWU9ZSx0aGlzLl9kaXJ0eT0hMH1nZXQgc2hhZG93c0RlbnNpdHkoKXtyZXR1cm4gdGhpcy5fc2hhZG93c0RlbnNpdHl9c2V0IHNoYWRvd3NEZW5zaXR5KGUpe3RoaXMuX3NoYWRvd3NEZW5zaXR5PWUsdGhpcy5fZGlydHk9ITB9Z2V0IHNoYWRvd3NTYXR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX3NoYWRvd3NTYXR1cmF0aW9ufXNldCBzaGFkb3dzU2F0dXJhdGlvbihlKXt0aGlzLl9zaGFkb3dzU2F0dXJhdGlvbj1lLHRoaXMuX2RpcnR5PSEwfWdldCBzaGFkb3dzRXhwb3N1cmUoKXtyZXR1cm4gdGhpcy5fc2hhZG93c0V4cG9zdXJlfXNldCBzaGFkb3dzRXhwb3N1cmUoZSl7dGhpcy5fc2hhZG93c0V4cG9zdXJlPWUsdGhpcy5fZGlydHk9ITB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkNvbG9yQ3VydmVzIn1zdGF0aWMgQmluZChlLHQsaT0idkNhbWVyYUNvbG9yQ3VydmVQb3NpdGl2ZSIscz0idkNhbWVyYUNvbG9yQ3VydmVOZXV0cmFsIixyPSJ2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlIil7ZS5fZGlydHkmJihlLl9kaXJ0eT0hMSxlLl9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWYoZS5fZ2xvYmFsSHVlLGUuX2dsb2JhbERlbnNpdHksZS5fZ2xvYmFsU2F0dXJhdGlvbixlLl9nbG9iYWxFeHBvc3VyZSxlLl9nbG9iYWxDdXJ2ZSksZS5fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX2hpZ2hsaWdodHNIdWUsZS5faGlnaGxpZ2h0c0RlbnNpdHksZS5faGlnaGxpZ2h0c1NhdHVyYXRpb24sZS5faGlnaGxpZ2h0c0V4cG9zdXJlLGUuX3RlbXBDb2xvciksZS5fdGVtcENvbG9yLm11bHRpcGx5VG9SZWYoZS5fZ2xvYmFsQ3VydmUsZS5faGlnaGxpZ2h0c0N1cnZlKSxlLl9nZXRDb2xvckdyYWRpbmdEYXRhVG9SZWYoZS5fbWlkdG9uZXNIdWUsZS5fbWlkdG9uZXNEZW5zaXR5LGUuX21pZHRvbmVzU2F0dXJhdGlvbixlLl9taWR0b25lc0V4cG9zdXJlLGUuX3RlbXBDb2xvciksZS5fdGVtcENvbG9yLm11bHRpcGx5VG9SZWYoZS5fZ2xvYmFsQ3VydmUsZS5fbWlkdG9uZXNDdXJ2ZSksZS5fZ2V0Q29sb3JHcmFkaW5nRGF0YVRvUmVmKGUuX3NoYWRvd3NIdWUsZS5fc2hhZG93c0RlbnNpdHksZS5fc2hhZG93c1NhdHVyYXRpb24sZS5fc2hhZG93c0V4cG9zdXJlLGUuX3RlbXBDb2xvciksZS5fdGVtcENvbG9yLm11bHRpcGx5VG9SZWYoZS5fZ2xvYmFsQ3VydmUsZS5fc2hhZG93c0N1cnZlKSxlLl9oaWdobGlnaHRzQ3VydmUuc3VidHJhY3RUb1JlZihlLl9taWR0b25lc0N1cnZlLGUuX3Bvc2l0aXZlQ3VydmUpLGUuX21pZHRvbmVzQ3VydmUuc3VidHJhY3RUb1JlZihlLl9zaGFkb3dzQ3VydmUsZS5fbmVnYXRpdmVDdXJ2ZSkpLHQmJih0LnNldEZsb2F0NChpLGUuX3Bvc2l0aXZlQ3VydmUucixlLl9wb3NpdGl2ZUN1cnZlLmcsZS5fcG9zaXRpdmVDdXJ2ZS5iLGUuX3Bvc2l0aXZlQ3VydmUuYSksdC5zZXRGbG9hdDQocyxlLl9taWR0b25lc0N1cnZlLnIsZS5fbWlkdG9uZXNDdXJ2ZS5nLGUuX21pZHRvbmVzQ3VydmUuYixlLl9taWR0b25lc0N1cnZlLmEpLHQuc2V0RmxvYXQ0KHIsZS5fbmVnYXRpdmVDdXJ2ZS5yLGUuX25lZ2F0aXZlQ3VydmUuZyxlLl9uZWdhdGl2ZUN1cnZlLmIsZS5fbmVnYXRpdmVDdXJ2ZS5hKSl9c3RhdGljIFByZXBhcmVVbmlmb3JtcyhlKXtlLnB1c2goInZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbCIsInZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmUiLCJ2Q2FtZXJhQ29sb3JDdXJ2ZU5lZ2F0aXZlIil9X2dldENvbG9yR3JhZGluZ0RhdGFUb1JlZihlLHQsaSxzLHIpe2UhPW51bGwmJihlPUFlLl9DbGFtcChlLDAsMzYwKSx0PUFlLl9DbGFtcCh0LC0xMDAsMTAwKSxpPUFlLl9DbGFtcChpLC0xMDAsMTAwKSxzPUFlLl9DbGFtcChzLC0xMDAsMTAwKSx0PUFlLl9BcHBseUNvbG9yR3JhZGluZ1NsaWRlck5vbmxpbmVhcih0KSx0Kj0uNSxzPUFlLl9BcHBseUNvbG9yR3JhZGluZ1NsaWRlck5vbmxpbmVhcihzKSx0PDAmJih0Kj0tMSxlPShlKzE4MCklMzYwKSxBZS5fRnJvbUhTQlRvUmVmKGUsdCw1MCsuMjUqcyxyKSxyLnNjYWxlVG9SZWYoMixyKSxyLmE9MSsuMDEqaSl9c3RhdGljIF9BcHBseUNvbG9yR3JhZGluZ1NsaWRlck5vbmxpbmVhcihlKXtlLz0xMDA7bGV0IHQ9TWF0aC5hYnMoZSk7cmV0dXJuIHQ9TWF0aC5wb3codCwyKSxlPDAmJih0Kj0tMSksdCo9MTAwLHR9c3RhdGljIF9Gcm9tSFNCVG9SZWYoZSx0LGkscyl7bGV0IHI9QWUuX0NsYW1wKGUsMCwzNjApO2NvbnN0IG49QWUuX0NsYW1wKHQvMTAwLDAsMSksYT1BZS5fQ2xhbXAoaS8xMDAsMCwxKTtpZihuPT09MClzLnI9YSxzLmc9YSxzLmI9YTtlbHNle3IvPTYwO2NvbnN0IG89TWF0aC5mbG9vcihyKSxoPXItbyxsPWEqKDEtbiksdT1hKigxLW4qaCksZD1hKigxLW4qKDEtaCkpO3N3aXRjaChvKXtjYXNlIDA6cy5yPWEscy5nPWQscy5iPWw7YnJlYWs7Y2FzZSAxOnMucj11LHMuZz1hLHMuYj1sO2JyZWFrO2Nhc2UgMjpzLnI9bCxzLmc9YSxzLmI9ZDticmVhaztjYXNlIDM6cy5yPWwscy5nPXUscy5iPWE7YnJlYWs7Y2FzZSA0OnMucj1kLHMuZz1sLHMuYj1hO2JyZWFrO2RlZmF1bHQ6cy5yPWEscy5nPWwscy5iPXU7YnJlYWt9fXMuYT0xfXN0YXRpYyBfQ2xhbXAoZSx0LGkpe3JldHVybiBNYXRoLm1pbihNYXRoLm1heChlLHQpLGkpfWNsb25lKCl7cmV0dXJuIG5lLkNsb25lKCgpPT5uZXcgQWUsdGhpcyl9c2VyaWFsaXplKCl7cmV0dXJuIG5lLlNlcmlhbGl6ZSh0aGlzKX1zdGF0aWMgUGFyc2UoZSl7cmV0dXJuIG5lLlBhcnNlKCgpPT5uZXcgQWUsZSxudWxsLG51bGwpfX1UKFt5KCldLEFlLnByb3RvdHlwZSwiX2dsb2JhbEh1ZSIsdm9pZCAwKSxUKFt5KCldLEFlLnByb3RvdHlwZSwiX2dsb2JhbERlbnNpdHkiLHZvaWQgMCksVChbeSgpXSxBZS5wcm90b3R5cGUsIl9nbG9iYWxTYXR1cmF0aW9uIix2b2lkIDApLFQoW3koKV0sQWUucHJvdG90eXBlLCJfZ2xvYmFsRXhwb3N1cmUiLHZvaWQgMCksVChbeSgpXSxBZS5wcm90b3R5cGUsIl9oaWdobGlnaHRzSHVlIix2b2lkIDApLFQoW3koKV0sQWUucHJvdG90eXBlLCJfaGlnaGxpZ2h0c0RlbnNpdHkiLHZvaWQgMCksVChbeSgpXSxBZS5wcm90b3R5cGUsIl9oaWdobGlnaHRzU2F0dXJhdGlvbiIsdm9pZCAwKSxUKFt5KCldLEFlLnByb3RvdHlwZSwiX2hpZ2hsaWdodHNFeHBvc3VyZSIsdm9pZCAwKSxUKFt5KCldLEFlLnByb3RvdHlwZSwiX21pZHRvbmVzSHVlIix2b2lkIDApLFQoW3koKV0sQWUucHJvdG90eXBlLCJfbWlkdG9uZXNEZW5zaXR5Iix2b2lkIDApLFQoW3koKV0sQWUucHJvdG90eXBlLCJfbWlkdG9uZXNTYXR1cmF0aW9uIix2b2lkIDApLFQoW3koKV0sQWUucHJvdG90eXBlLCJfbWlkdG9uZXNFeHBvc3VyZSIsdm9pZCAwKSxuZS5fQ29sb3JDdXJ2ZXNQYXJzZXI9QWUuUGFyc2U7Y2xhc3MgZ2V7Y29uc3RydWN0b3IoKXt0aGlzLmNvbG9yQ3VydmVzPW5ldyBBZSx0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWQ9ITEsdGhpcy5fY29sb3JHcmFkaW5nRW5hYmxlZD0hMSx0aGlzLl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aD0hMCx0aGlzLl9jb2xvckdyYWRpbmdCR1I9ITAsdGhpcy5fZXhwb3N1cmU9MSx0aGlzLl90b25lTWFwcGluZ0VuYWJsZWQ9ITEsdGhpcy5fdG9uZU1hcHBpbmdUeXBlPWdlLlRPTkVNQVBQSU5HX1NUQU5EQVJELHRoaXMuX2NvbnRyYXN0PTEsdGhpcy52aWduZXR0ZVN0cmV0Y2g9MCx0aGlzLnZpZ25ldHRlQ2VudGVyWD0wLHRoaXMudmlnbmV0dGVDZW50ZXJZPTAsdGhpcy52aWduZXR0ZVdlaWdodD0xLjUsdGhpcy52aWduZXR0ZUNvbG9yPW5ldyBOZSgwLDAsMCwwKSx0aGlzLnZpZ25ldHRlQ2FtZXJhRm92PS41LHRoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlPWdlLlZJR05FVFRFTU9ERV9NVUxUSVBMWSx0aGlzLl92aWduZXR0ZUVuYWJsZWQ9ITEsdGhpcy5fZGl0aGVyaW5nRW5hYmxlZD0hMSx0aGlzLl9kaXRoZXJpbmdJbnRlbnNpdHk9MS8yNTUsdGhpcy5fc2tpcEZpbmFsQ29sb3JDbGFtcD0hMSx0aGlzLl9hcHBseUJ5UG9zdFByb2Nlc3M9ITEsdGhpcy5faXNFbmFibGVkPSEwLHRoaXMub25VcGRhdGVQYXJhbWV0ZXJzPW5ldyB3fWdldCBjb2xvckN1cnZlc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkfXNldCBjb2xvckN1cnZlc0VuYWJsZWQoZSl7dGhpcy5fY29sb3JDdXJ2ZXNFbmFibGVkIT09ZSYmKHRoaXMuX2NvbG9yQ3VydmVzRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IGNvbG9yR3JhZGluZ1RleHR1cmUoKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nVGV4dHVyZX1zZXQgY29sb3JHcmFkaW5nVGV4dHVyZShlKXt0aGlzLl9jb2xvckdyYWRpbmdUZXh0dXJlIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ1RleHR1cmU9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBjb2xvckdyYWRpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2NvbG9yR3JhZGluZ0VuYWJsZWR9c2V0IGNvbG9yR3JhZGluZ0VuYWJsZWQoZSl7dGhpcy5fY29sb3JHcmFkaW5nRW5hYmxlZCE9PWUmJih0aGlzLl9jb2xvckdyYWRpbmdFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGgoKXtyZXR1cm4gdGhpcy5fY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGh9c2V0IGNvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoKGUpe3RoaXMuX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoIT09ZSYmKHRoaXMuX2NvbG9yR3JhZGluZ1dpdGhHcmVlbkRlcHRoPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgY29sb3JHcmFkaW5nQkdSKCl7cmV0dXJuIHRoaXMuX2NvbG9yR3JhZGluZ0JHUn1zZXQgY29sb3JHcmFkaW5nQkdSKGUpe3RoaXMuX2NvbG9yR3JhZGluZ0JHUiE9PWUmJih0aGlzLl9jb2xvckdyYWRpbmdCR1I9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBleHBvc3VyZSgpe3JldHVybiB0aGlzLl9leHBvc3VyZX1zZXQgZXhwb3N1cmUoZSl7dGhpcy5fZXhwb3N1cmUhPT1lJiYodGhpcy5fZXhwb3N1cmU9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCB0b25lTWFwcGluZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fdG9uZU1hcHBpbmdFbmFibGVkfXNldCB0b25lTWFwcGluZ0VuYWJsZWQoZSl7dGhpcy5fdG9uZU1hcHBpbmdFbmFibGVkIT09ZSYmKHRoaXMuX3RvbmVNYXBwaW5nRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9Z2V0IHRvbmVNYXBwaW5nVHlwZSgpe3JldHVybiB0aGlzLl90b25lTWFwcGluZ1R5cGV9c2V0IHRvbmVNYXBwaW5nVHlwZShlKXt0aGlzLl90b25lTWFwcGluZ1R5cGUhPT1lJiYodGhpcy5fdG9uZU1hcHBpbmdUeXBlPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgY29udHJhc3QoKXtyZXR1cm4gdGhpcy5fY29udHJhc3R9c2V0IGNvbnRyYXN0KGUpe3RoaXMuX2NvbnRyYXN0IT09ZSYmKHRoaXMuX2NvbnRyYXN0PWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgdmlnbmV0dGVDZW50cmVZKCl7cmV0dXJuIHRoaXMudmlnbmV0dGVDZW50ZXJZfXNldCB2aWduZXR0ZUNlbnRyZVkoZSl7dGhpcy52aWduZXR0ZUNlbnRlclk9ZX1nZXQgdmlnbmV0dGVDZW50cmVYKCl7cmV0dXJuIHRoaXMudmlnbmV0dGVDZW50ZXJYfXNldCB2aWduZXR0ZUNlbnRyZVgoZSl7dGhpcy52aWduZXR0ZUNlbnRlclg9ZX1nZXQgdmlnbmV0dGVCbGVuZE1vZGUoKXtyZXR1cm4gdGhpcy5fdmlnbmV0dGVCbGVuZE1vZGV9c2V0IHZpZ25ldHRlQmxlbmRNb2RlKGUpe3RoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlIT09ZSYmKHRoaXMuX3ZpZ25ldHRlQmxlbmRNb2RlPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgdmlnbmV0dGVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3ZpZ25ldHRlRW5hYmxlZH1zZXQgdmlnbmV0dGVFbmFibGVkKGUpe3RoaXMuX3ZpZ25ldHRlRW5hYmxlZCE9PWUmJih0aGlzLl92aWduZXR0ZUVuYWJsZWQ9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBkaXRoZXJpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2RpdGhlcmluZ0VuYWJsZWR9c2V0IGRpdGhlcmluZ0VuYWJsZWQoZSl7dGhpcy5fZGl0aGVyaW5nRW5hYmxlZCE9PWUmJih0aGlzLl9kaXRoZXJpbmdFbmFibGVkPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgZGl0aGVyaW5nSW50ZW5zaXR5KCl7cmV0dXJuIHRoaXMuX2RpdGhlcmluZ0ludGVuc2l0eX1zZXQgZGl0aGVyaW5nSW50ZW5zaXR5KGUpe3RoaXMuX2RpdGhlcmluZ0ludGVuc2l0eSE9PWUmJih0aGlzLl9kaXRoZXJpbmdJbnRlbnNpdHk9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBza2lwRmluYWxDb2xvckNsYW1wKCl7cmV0dXJuIHRoaXMuX3NraXBGaW5hbENvbG9yQ2xhbXB9c2V0IHNraXBGaW5hbENvbG9yQ2xhbXAoZSl7dGhpcy5fc2tpcEZpbmFsQ29sb3JDbGFtcCE9PWUmJih0aGlzLl9za2lwRmluYWxDb2xvckNsYW1wPWUsdGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgYXBwbHlCeVBvc3RQcm9jZXNzKCl7cmV0dXJuIHRoaXMuX2FwcGx5QnlQb3N0UHJvY2Vzc31zZXQgYXBwbHlCeVBvc3RQcm9jZXNzKGUpe3RoaXMuX2FwcGx5QnlQb3N0UHJvY2VzcyE9PWUmJih0aGlzLl9hcHBseUJ5UG9zdFByb2Nlc3M9ZSx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBpc0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5faXNFbmFibGVkfXNldCBpc0VuYWJsZWQoZSl7dGhpcy5faXNFbmFibGVkIT09ZSYmKHRoaXMuX2lzRW5hYmxlZD1lLHRoaXMuX3VwZGF0ZVBhcmFtZXRlcnMoKSl9X3VwZGF0ZVBhcmFtZXRlcnMoKXt0aGlzLm9uVXBkYXRlUGFyYW1ldGVycy5ub3RpZnlPYnNlcnZlcnModGhpcyl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ifXN0YXRpYyBQcmVwYXJlVW5pZm9ybXMoZSx0KXt0LkVYUE9TVVJFJiZlLnB1c2goImV4cG9zdXJlTGluZWFyIiksdC5DT05UUkFTVCYmZS5wdXNoKCJjb250cmFzdCIpLHQuQ09MT1JHUkFESU5HJiZlLnB1c2goImNvbG9yVHJhbnNmb3JtU2V0dGluZ3MiKSwodC5WSUdORVRURXx8dC5ESVRIRVIpJiZlLnB1c2goInZJbnZlcnNlU2NyZWVuU2l6ZSIpLHQuVklHTkVUVEUmJihlLnB1c2goInZpZ25ldHRlU2V0dGluZ3MxIiksZS5wdXNoKCJ2aWduZXR0ZVNldHRpbmdzMiIpKSx0LkNPTE9SQ1VSVkVTJiZBZS5QcmVwYXJlVW5pZm9ybXMoZSksdC5ESVRIRVImJmUucHVzaCgiZGl0aGVySW50ZW5zaXR5Iil9c3RhdGljIFByZXBhcmVTYW1wbGVycyhlLHQpe3QuQ09MT1JHUkFESU5HJiZlLnB1c2goInR4Q29sb3JUcmFuc2Zvcm0iKX1wcmVwYXJlRGVmaW5lcyhlLHQ9ITEpe2lmKHQhPT10aGlzLmFwcGx5QnlQb3N0UHJvY2Vzc3x8IXRoaXMuX2lzRW5hYmxlZCl7ZS5WSUdORVRURT0hMSxlLlRPTkVNQVBQSU5HPSExLGUuVE9ORU1BUFBJTkdfQUNFUz0hMSxlLkNPTlRSQVNUPSExLGUuRVhQT1NVUkU9ITEsZS5DT0xPUkNVUlZFUz0hMSxlLkNPTE9SR1JBRElORz0hMSxlLkNPTE9SR1JBRElORzNEPSExLGUuRElUSEVSPSExLGUuSU1BR0VQUk9DRVNTSU5HPSExLGUuU0tJUEZJTkFMQ09MT1JDTEFNUD10aGlzLnNraXBGaW5hbENvbG9yQ2xhbXAsZS5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz10aGlzLmFwcGx5QnlQb3N0UHJvY2VzcyYmdGhpcy5faXNFbmFibGVkO3JldHVybn1zd2l0Y2goZS5WSUdORVRURT10aGlzLnZpZ25ldHRlRW5hYmxlZCxlLlZJR05FVFRFQkxFTkRNT0RFTVVMVElQTFk9dGhpcy52aWduZXR0ZUJsZW5kTW9kZT09PWdlLl9WSUdORVRURU1PREVfTVVMVElQTFksZS5WSUdORVRURUJMRU5ETU9ERU9QQVFVRT0hZS5WSUdORVRURUJMRU5ETU9ERU1VTFRJUExZLGUuVE9ORU1BUFBJTkc9dGhpcy50b25lTWFwcGluZ0VuYWJsZWQsdGhpcy5fdG9uZU1hcHBpbmdUeXBlKXtjYXNlIGdlLlRPTkVNQVBQSU5HX0FDRVM6ZS5UT05FTUFQUElOR19BQ0VTPSEwO2JyZWFrO2RlZmF1bHQ6ZS5UT05FTUFQUElOR19BQ0VTPSExO2JyZWFrfWUuQ09OVFJBU1Q9dGhpcy5jb250cmFzdCE9PTEsZS5FWFBPU1VSRT10aGlzLmV4cG9zdXJlIT09MSxlLkNPTE9SQ1VSVkVTPXRoaXMuY29sb3JDdXJ2ZXNFbmFibGVkJiYhIXRoaXMuY29sb3JDdXJ2ZXMsZS5DT0xPUkdSQURJTkc9dGhpcy5jb2xvckdyYWRpbmdFbmFibGVkJiYhIXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZSxlLkNPTE9SR1JBRElORz9lLkNPTE9SR1JBRElORzNEPXRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5pczNEOmUuQ09MT1JHUkFESU5HM0Q9ITEsZS5TQU1QTEVSM0RHUkVFTkRFUFRIPXRoaXMuY29sb3JHcmFkaW5nV2l0aEdyZWVuRGVwdGgsZS5TQU1QTEVSM0RCR1JNQVA9dGhpcy5jb2xvckdyYWRpbmdCR1IsZS5ESVRIRVI9dGhpcy5fZGl0aGVyaW5nRW5hYmxlZCxlLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPXRoaXMuYXBwbHlCeVBvc3RQcm9jZXNzLGUuU0tJUEZJTkFMQ09MT1JDTEFNUD10aGlzLnNraXBGaW5hbENvbG9yQ2xhbXAsZS5JTUFHRVBST0NFU1NJTkc9ZS5WSUdORVRURXx8ZS5UT05FTUFQUElOR3x8ZS5DT05UUkFTVHx8ZS5FWFBPU1VSRXx8ZS5DT0xPUkNVUlZFU3x8ZS5DT0xPUkdSQURJTkd8fGUuRElUSEVSfWlzUmVhZHkoKXtyZXR1cm4hdGhpcy5jb2xvckdyYWRpbmdFbmFibGVkfHwhdGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlfHx0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUuaXNSZWFkeSgpfWJpbmQoZSx0KXtpZih0aGlzLl9jb2xvckN1cnZlc0VuYWJsZWQmJnRoaXMuY29sb3JDdXJ2ZXMmJkFlLkJpbmQodGhpcy5jb2xvckN1cnZlcyxlKSx0aGlzLl92aWduZXR0ZUVuYWJsZWR8fHRoaXMuX2RpdGhlcmluZ0VuYWJsZWQpe2NvbnN0IGk9MS9lLmdldEVuZ2luZSgpLmdldFJlbmRlcldpZHRoKCkscz0xL2UuZ2V0RW5naW5lKCkuZ2V0UmVuZGVySGVpZ2h0KCk7aWYoZS5zZXRGbG9hdDIoInZJbnZlcnNlU2NyZWVuU2l6ZSIsaSxzKSx0aGlzLl9kaXRoZXJpbmdFbmFibGVkJiZlLnNldEZsb2F0KCJkaXRoZXJJbnRlbnNpdHkiLC41KnRoaXMuX2RpdGhlcmluZ0ludGVuc2l0eSksdGhpcy5fdmlnbmV0dGVFbmFibGVkKXtjb25zdCByPXQ/P3MvaTtsZXQgbj1NYXRoLnRhbih0aGlzLnZpZ25ldHRlQ2FtZXJhRm92Ki41KSxhPW4qcjtjb25zdCBvPU1hdGguc3FydChhKm4pO2E9WC5NaXgoYSxvLHRoaXMudmlnbmV0dGVTdHJldGNoKSxuPVguTWl4KG4sbyx0aGlzLnZpZ25ldHRlU3RyZXRjaCksZS5zZXRGbG9hdDQoInZpZ25ldHRlU2V0dGluZ3MxIixhLG4sLWEqdGhpcy52aWduZXR0ZUNlbnRlclgsLW4qdGhpcy52aWduZXR0ZUNlbnRlclkpO2NvbnN0IGg9LTIqdGhpcy52aWduZXR0ZVdlaWdodDtlLnNldEZsb2F0NCgidmlnbmV0dGVTZXR0aW5nczIiLHRoaXMudmlnbmV0dGVDb2xvci5yLHRoaXMudmlnbmV0dGVDb2xvci5nLHRoaXMudmlnbmV0dGVDb2xvci5iLGgpfX1pZihlLnNldEZsb2F0KCJleHBvc3VyZUxpbmVhciIsdGhpcy5leHBvc3VyZSksZS5zZXRGbG9hdCgiY29udHJhc3QiLHRoaXMuY29udHJhc3QpLHRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZSl7ZS5zZXRUZXh0dXJlKCJ0eENvbG9yVHJhbnNmb3JtIix0aGlzLmNvbG9yR3JhZGluZ1RleHR1cmUpO2NvbnN0IGk9dGhpcy5jb2xvckdyYWRpbmdUZXh0dXJlLmdldFNpemUoKS5oZWlnaHQ7ZS5zZXRGbG9hdDQoImNvbG9yVHJhbnNmb3JtU2V0dGluZ3MiLChpLTEpL2ksLjUvaSxpLHRoaXMuY29sb3JHcmFkaW5nVGV4dHVyZS5sZXZlbCl9fWNsb25lKCl7cmV0dXJuIG5lLkNsb25lKCgpPT5uZXcgZ2UsdGhpcyl9c2VyaWFsaXplKCl7cmV0dXJuIG5lLlNlcmlhbGl6ZSh0aGlzKX1zdGF0aWMgUGFyc2UoZSl7Y29uc3QgdD1uZS5QYXJzZSgoKT0+bmV3IGdlLGUsbnVsbCxudWxsKTtyZXR1cm4gZS52aWduZXR0ZUNlbnRyZVghPT12b2lkIDAmJih0LnZpZ25ldHRlQ2VudGVyWD1lLnZpZ25ldHRlQ2VudHJlWCksZS52aWduZXR0ZUNlbnRyZVkhPT12b2lkIDAmJih0LnZpZ25ldHRlQ2VudGVyWT1lLnZpZ25ldHRlQ2VudHJlWSksdH1zdGF0aWMgZ2V0IFZJR05FVFRFTU9ERV9NVUxUSVBMWSgpe3JldHVybiB0aGlzLl9WSUdORVRURU1PREVfTVVMVElQTFl9c3RhdGljIGdldCBWSUdORVRURU1PREVfT1BBUVVFKCl7cmV0dXJuIHRoaXMuX1ZJR05FVFRFTU9ERV9PUEFRVUV9fWdlLlRPTkVNQVBQSU5HX1NUQU5EQVJEPTAsZ2UuVE9ORU1BUFBJTkdfQUNFUz0xLGdlLl9WSUdORVRURU1PREVfTVVMVElQTFk9MCxnZS5fVklHTkVUVEVNT0RFX09QQVFVRT0xLFQoW0luKCldLGdlLnByb3RvdHlwZSwiY29sb3JDdXJ2ZXMiLHZvaWQgMCksVChbeSgpXSxnZS5wcm90b3R5cGUsIl9jb2xvckN1cnZlc0VuYWJsZWQiLHZvaWQgMCksVChbdnQoImNvbG9yR3JhZGluZ1RleHR1cmUiKV0sZ2UucHJvdG90eXBlLCJfY29sb3JHcmFkaW5nVGV4dHVyZSIsdm9pZCAwKSxUKFt5KCldLGdlLnByb3RvdHlwZSwiX2NvbG9yR3JhZGluZ0VuYWJsZWQiLHZvaWQgMCksVChbeSgpXSxnZS5wcm90b3R5cGUsIl9jb2xvckdyYWRpbmdXaXRoR3JlZW5EZXB0aCIsdm9pZCAwKSxUKFt5KCldLGdlLnByb3RvdHlwZSwiX2NvbG9yR3JhZGluZ0JHUiIsdm9pZCAwKSxUKFt5KCldLGdlLnByb3RvdHlwZSwiX2V4cG9zdXJlIix2b2lkIDApLFQoW3koKV0sZ2UucHJvdG90eXBlLCJfdG9uZU1hcHBpbmdFbmFibGVkIix2b2lkIDApLFQoW3koKV0sZ2UucHJvdG90eXBlLCJfdG9uZU1hcHBpbmdUeXBlIix2b2lkIDApLFQoW3koKV0sZ2UucHJvdG90eXBlLCJfY29udHJhc3QiLHZvaWQgMCksVChbeSgpXSxnZS5wcm90b3R5cGUsInZpZ25ldHRlU3RyZXRjaCIsdm9pZCAwKSxUKFt5KCldLGdlLnByb3RvdHlwZSwidmlnbmV0dGVDZW50ZXJYIix2b2lkIDApLFQoW3koKV0sZ2UucHJvdG90eXBlLCJ2aWduZXR0ZUNlbnRlclkiLHZvaWQgMCksVChbeSgpXSxnZS5wcm90b3R5cGUsInZpZ25ldHRlV2VpZ2h0Iix2b2lkIDApLFQoW3ByKCldLGdlLnByb3RvdHlwZSwidmlnbmV0dGVDb2xvciIsdm9pZCAwKSxUKFt5KCldLGdlLnByb3RvdHlwZSwidmlnbmV0dGVDYW1lcmFGb3YiLHZvaWQgMCksVChbeSgpXSxnZS5wcm90b3R5cGUsIl92aWduZXR0ZUJsZW5kTW9kZSIsdm9pZCAwKSxUKFt5KCldLGdlLnByb3RvdHlwZSwiX3ZpZ25ldHRlRW5hYmxlZCIsdm9pZCAwKSxUKFt5KCldLGdlLnByb3RvdHlwZSwiX2RpdGhlcmluZ0VuYWJsZWQiLHZvaWQgMCksVChbeSgpXSxnZS5wcm90b3R5cGUsIl9kaXRoZXJpbmdJbnRlbnNpdHkiLHZvaWQgMCksVChbeSgpXSxnZS5wcm90b3R5cGUsIl9za2lwRmluYWxDb2xvckNsYW1wIix2b2lkIDApLFQoW3koKV0sZ2UucHJvdG90eXBlLCJfYXBwbHlCeVBvc3RQcm9jZXNzIix2b2lkIDApLFQoW3koKV0sZ2UucHJvdG90eXBlLCJfaXNFbmFibGVkIix2b2lkIDApLG5lLl9JbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uUGFyc2VyPWdlLlBhcnNlLGRlLnByb3RvdHlwZS5jcmVhdGVVbmlmb3JtQnVmZmVyPWZ1bmN0aW9uKGMpe2NvbnN0IGU9dGhpcy5fZ2wuY3JlYXRlQnVmZmVyKCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIHVuaWZvcm0gYnVmZmVyIik7Y29uc3QgdD1uZXcgTGkoZSk7cmV0dXJuIHRoaXMuYmluZFVuaWZvcm1CdWZmZXIodCksYyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90aGlzLl9nbC5idWZmZXJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGMsdGhpcy5fZ2wuU1RBVElDX0RSQVcpOnRoaXMuX2dsLmJ1ZmZlckRhdGEodGhpcy5fZ2wuVU5JRk9STV9CVUZGRVIsbmV3IEZsb2F0MzJBcnJheShjKSx0aGlzLl9nbC5TVEFUSUNfRFJBVyksdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcihudWxsKSx0LnJlZmVyZW5jZXM9MSx0fSxkZS5wcm90b3R5cGUuY3JlYXRlRHluYW1pY1VuaWZvcm1CdWZmZXI9ZnVuY3Rpb24oYyl7Y29uc3QgZT10aGlzLl9nbC5jcmVhdGVCdWZmZXIoKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgZHluYW1pYyB1bmlmb3JtIGJ1ZmZlciIpO2NvbnN0IHQ9bmV3IExpKGUpO3JldHVybiB0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKHQpLGMgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixjLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyk6dGhpcy5fZ2wuYnVmZmVyRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUixuZXcgRmxvYXQzMkFycmF5KGMpLHRoaXMuX2dsLkRZTkFNSUNfRFJBVyksdGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcihudWxsKSx0LnJlZmVyZW5jZXM9MSx0fSxkZS5wcm90b3R5cGUudXBkYXRlVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihjLGUsdCxpKXt0aGlzLmJpbmRVbmlmb3JtQnVmZmVyKGMpLHQ9PT12b2lkIDAmJih0PTApLGk9PT12b2lkIDA/ZSBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLHQsZSk6dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUix0LG5ldyBGbG9hdDMyQXJyYXkoZSkpOmUgaW5zdGFuY2VvZiBGbG9hdDMyQXJyYXk/dGhpcy5fZ2wuYnVmZmVyU3ViRGF0YSh0aGlzLl9nbC5VTklGT1JNX0JVRkZFUiwwLGUuc3ViYXJyYXkodCx0K2kpKTp0aGlzLl9nbC5idWZmZXJTdWJEYXRhKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLDAsbmV3IEZsb2F0MzJBcnJheShlKS5zdWJhcnJheSh0LHQraSkpLHRoaXMuYmluZFVuaWZvcm1CdWZmZXIobnVsbCl9LGRlLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJ1ZmZlcj1mdW5jdGlvbihjKXt0aGlzLl9nbC5iaW5kQnVmZmVyKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGM/Yy51bmRlcmx5aW5nUmVzb3VyY2U6bnVsbCl9LGRlLnByb3RvdHlwZS5iaW5kVW5pZm9ybUJ1ZmZlckJhc2U9ZnVuY3Rpb24oYyxlLHQpe3RoaXMuX2dsLmJpbmRCdWZmZXJCYXNlKHRoaXMuX2dsLlVOSUZPUk1fQlVGRkVSLGUsYz9jLnVuZGVybHlpbmdSZXNvdXJjZTpudWxsKX0sZGUucHJvdG90eXBlLmJpbmRVbmlmb3JtQmxvY2s9ZnVuY3Rpb24oYyxlLHQpe2NvbnN0IGk9Yy5wcm9ncmFtLHM9dGhpcy5fZ2wuZ2V0VW5pZm9ybUJsb2NrSW5kZXgoaSxlKTtzIT09NDI5NDk2NzI5NSYmdGhpcy5fZ2wudW5pZm9ybUJsb2NrQmluZGluZyhpLHMsdCl9O2NsYXNzIFZ7Y29uc3RydWN0b3IoZSx0LGkscyxyPSExKXt0aGlzLl92YWx1ZUNhY2hlPXt9LHRoaXMuX2VuZ2luZT1lLHRoaXMuX25vVUJPPSFlLnN1cHBvcnRzVW5pZm9ybUJ1ZmZlcnN8fHIsdGhpcy5fZHluYW1pYz1pLHRoaXMuX25hbWU9cz8/Im5vLW5hbWUiLHRoaXMuX2RhdGE9dHx8W10sdGhpcy5fdW5pZm9ybUxvY2F0aW9ucz17fSx0aGlzLl91bmlmb3JtU2l6ZXM9e30sdGhpcy5fdW5pZm9ybUFycmF5U2l6ZXM9e30sdGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlcj0wLHRoaXMuX25lZWRTeW5jPSExLHRoaXMuX2VuZ2luZS5fZmVhdHVyZXMudHJhY2tVYm9zSW5GcmFtZSYmKHRoaXMuX2J1ZmZlcnM9W10sdGhpcy5fYnVmZmVySW5kZXg9LTEsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9jdXJyZW50RnJhbWVJZD0wKSx0aGlzLl9ub1VCTz8odGhpcy51cGRhdGVNYXRyaXgzeDM9dGhpcy5fdXBkYXRlTWF0cml4M3gzRm9yRWZmZWN0LHRoaXMudXBkYXRlTWF0cml4MngyPXRoaXMuX3VwZGF0ZU1hdHJpeDJ4MkZvckVmZmVjdCx0aGlzLnVwZGF0ZUZsb2F0PXRoaXMuX3VwZGF0ZUZsb2F0Rm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXQyPXRoaXMuX3VwZGF0ZUZsb2F0MkZvckVmZmVjdCx0aGlzLnVwZGF0ZUZsb2F0Mz10aGlzLl91cGRhdGVGbG9hdDNGb3JFZmZlY3QsdGhpcy51cGRhdGVGbG9hdDQ9dGhpcy5fdXBkYXRlRmxvYXQ0Rm9yRWZmZWN0LHRoaXMudXBkYXRlRmxvYXRBcnJheT10aGlzLl91cGRhdGVGbG9hdEFycmF5Rm9yRWZmZWN0LHRoaXMudXBkYXRlQXJyYXk9dGhpcy5fdXBkYXRlQXJyYXlGb3JFZmZlY3QsdGhpcy51cGRhdGVJbnRBcnJheT10aGlzLl91cGRhdGVJbnRBcnJheUZvckVmZmVjdCx0aGlzLnVwZGF0ZVVJbnRBcnJheT10aGlzLl91cGRhdGVVSW50QXJyYXlGb3JFZmZlY3QsdGhpcy51cGRhdGVNYXRyaXg9dGhpcy5fdXBkYXRlTWF0cml4Rm9yRWZmZWN0LHRoaXMudXBkYXRlTWF0cmljZXM9dGhpcy5fdXBkYXRlTWF0cmljZXNGb3JFZmZlY3QsdGhpcy51cGRhdGVWZWN0b3IzPXRoaXMuX3VwZGF0ZVZlY3RvcjNGb3JFZmZlY3QsdGhpcy51cGRhdGVWZWN0b3I0PXRoaXMuX3VwZGF0ZVZlY3RvcjRGb3JFZmZlY3QsdGhpcy51cGRhdGVDb2xvcjM9dGhpcy5fdXBkYXRlQ29sb3IzRm9yRWZmZWN0LHRoaXMudXBkYXRlQ29sb3I0PXRoaXMuX3VwZGF0ZUNvbG9yNEZvckVmZmVjdCx0aGlzLnVwZGF0ZURpcmVjdENvbG9yND10aGlzLl91cGRhdGVEaXJlY3RDb2xvcjRGb3JFZmZlY3QsdGhpcy51cGRhdGVJbnQ9dGhpcy5fdXBkYXRlSW50Rm9yRWZmZWN0LHRoaXMudXBkYXRlSW50Mj10aGlzLl91cGRhdGVJbnQyRm9yRWZmZWN0LHRoaXMudXBkYXRlSW50Mz10aGlzLl91cGRhdGVJbnQzRm9yRWZmZWN0LHRoaXMudXBkYXRlSW50ND10aGlzLl91cGRhdGVJbnQ0Rm9yRWZmZWN0LHRoaXMudXBkYXRlVUludD10aGlzLl91cGRhdGVVSW50Rm9yRWZmZWN0LHRoaXMudXBkYXRlVUludDI9dGhpcy5fdXBkYXRlVUludDJGb3JFZmZlY3QsdGhpcy51cGRhdGVVSW50Mz10aGlzLl91cGRhdGVVSW50M0ZvckVmZmVjdCx0aGlzLnVwZGF0ZVVJbnQ0PXRoaXMuX3VwZGF0ZVVJbnQ0Rm9yRWZmZWN0KToodGhpcy5fZW5naW5lLl91bmlmb3JtQnVmZmVycy5wdXNoKHRoaXMpLHRoaXMudXBkYXRlTWF0cml4M3gzPXRoaXMuX3VwZGF0ZU1hdHJpeDN4M0ZvclVuaWZvcm0sdGhpcy51cGRhdGVNYXRyaXgyeDI9dGhpcy5fdXBkYXRlTWF0cml4MngyRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0PXRoaXMuX3VwZGF0ZUZsb2F0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0Mj10aGlzLl91cGRhdGVGbG9hdDJGb3JVbmlmb3JtLHRoaXMudXBkYXRlRmxvYXQzPXRoaXMuX3VwZGF0ZUZsb2F0M0ZvclVuaWZvcm0sdGhpcy51cGRhdGVGbG9hdDQ9dGhpcy5fdXBkYXRlRmxvYXQ0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUZsb2F0QXJyYXk9dGhpcy5fdXBkYXRlRmxvYXRBcnJheUZvclVuaWZvcm0sdGhpcy51cGRhdGVBcnJheT10aGlzLl91cGRhdGVBcnJheUZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnRBcnJheT10aGlzLl91cGRhdGVJbnRBcnJheUZvclVuaWZvcm0sdGhpcy51cGRhdGVVSW50QXJyYXk9dGhpcy5fdXBkYXRlVUludEFycmF5Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZU1hdHJpeD10aGlzLl91cGRhdGVNYXRyaXhGb3JVbmlmb3JtLHRoaXMudXBkYXRlTWF0cmljZXM9dGhpcy5fdXBkYXRlTWF0cmljZXNGb3JVbmlmb3JtLHRoaXMudXBkYXRlVmVjdG9yMz10aGlzLl91cGRhdGVWZWN0b3IzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVZlY3RvcjQ9dGhpcy5fdXBkYXRlVmVjdG9yNEZvclVuaWZvcm0sdGhpcy51cGRhdGVDb2xvcjM9dGhpcy5fdXBkYXRlQ29sb3IzRm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUNvbG9yND10aGlzLl91cGRhdGVDb2xvcjRGb3JVbmlmb3JtLHRoaXMudXBkYXRlRGlyZWN0Q29sb3I0PXRoaXMuX3VwZGF0ZURpcmVjdENvbG9yNEZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnQ9dGhpcy5fdXBkYXRlSW50Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZUludDI9dGhpcy5fdXBkYXRlSW50MkZvclVuaWZvcm0sdGhpcy51cGRhdGVJbnQzPXRoaXMuX3VwZGF0ZUludDNGb3JVbmlmb3JtLHRoaXMudXBkYXRlSW50ND10aGlzLl91cGRhdGVJbnQ0Rm9yVW5pZm9ybSx0aGlzLnVwZGF0ZVVJbnQ9dGhpcy5fdXBkYXRlVUludEZvclVuaWZvcm0sdGhpcy51cGRhdGVVSW50Mj10aGlzLl91cGRhdGVVSW50MkZvclVuaWZvcm0sdGhpcy51cGRhdGVVSW50Mz10aGlzLl91cGRhdGVVSW50M0ZvclVuaWZvcm0sdGhpcy51cGRhdGVVSW50ND10aGlzLl91cGRhdGVVSW50NEZvclVuaWZvcm0pfWdldCB1c2VVYm8oKXtyZXR1cm4hdGhpcy5fbm9VQk99Z2V0IGlzU3luYygpe3JldHVybiF0aGlzLl9uZWVkU3luY31pc0R5bmFtaWMoKXtyZXR1cm4gdGhpcy5fZHluYW1pYyE9PXZvaWQgMH1nZXREYXRhKCl7cmV0dXJuIHRoaXMuX2J1ZmZlckRhdGF9Z2V0QnVmZmVyKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcn1fZmlsbEFsaWdubWVudChlKXtsZXQgdDtpZihlPD0yP3Q9ZTp0PTQsdGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlciV0IT09MCl7Y29uc3QgaT10aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyO3RoaXMuX3VuaWZvcm1Mb2NhdGlvblBvaW50ZXIrPXQtdGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlciV0O2NvbnN0IHM9dGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlci1pO2ZvcihsZXQgcj0wO3I8cztyKyspdGhpcy5fZGF0YS5wdXNoKDApfX1hZGRVbmlmb3JtKGUsdCxpPTApe2lmKHRoaXMuX25vVUJPfHx0aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdIT09dm9pZCAwKXJldHVybjtsZXQgcztpZihpPjApe2lmKHQgaW5zdGFuY2VvZiBBcnJheSl0aHJvdyJhZGRVbmlmb3JtIHNob3VsZCBub3QgYmUgdXNlIHdpdGggQXJyYXkgaW4gVUJPOiAiK2U7aWYodGhpcy5fZmlsbEFsaWdubWVudCg0KSx0aGlzLl91bmlmb3JtQXJyYXlTaXplc1tlXT17c3RyaWRlU2l6ZTp0LGFycmF5U2l6ZTppfSx0PT0xNil0PXQqaTtlbHNle2NvbnN0IG49KDQtdCkqaTt0PXQqaStufXM9W107Zm9yKGxldCByPTA7cjx0O3IrKylzLnB1c2goMCl9ZWxzZXtpZih0IGluc3RhbmNlb2YgQXJyYXkpcz10LHQ9cy5sZW5ndGg7ZWxzZXt0PXQscz1bXTtmb3IobGV0IHI9MDtyPHQ7cisrKXMucHVzaCgwKX10aGlzLl9maWxsQWxpZ25tZW50KHQpfXRoaXMuX3VuaWZvcm1TaXplc1tlXT10LHRoaXMuX3VuaWZvcm1Mb2NhdGlvbnNbZV09dGhpcy5fdW5pZm9ybUxvY2F0aW9uUG9pbnRlcix0aGlzLl91bmlmb3JtTG9jYXRpb25Qb2ludGVyKz10O2ZvcihsZXQgcj0wO3I8dDtyKyspdGhpcy5fZGF0YS5wdXNoKHNbcl0pO3RoaXMuX25lZWRTeW5jPSEwfWFkZE1hdHJpeChlLHQpe3RoaXMuYWRkVW5pZm9ybShlLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHQudG9BcnJheSgpKSl9YWRkRmxvYXQyKGUsdCxpKXtjb25zdCBzPVt0LGldO3RoaXMuYWRkVW5pZm9ybShlLHMpfWFkZEZsb2F0MyhlLHQsaSxzKXtjb25zdCByPVt0LGksc107dGhpcy5hZGRVbmlmb3JtKGUscil9YWRkQ29sb3IzKGUsdCl7Y29uc3QgaT1bdC5yLHQuZyx0LmJdO3RoaXMuYWRkVW5pZm9ybShlLGkpfWFkZENvbG9yNChlLHQsaSl7Y29uc3Qgcz1bdC5yLHQuZyx0LmIsaV07dGhpcy5hZGRVbmlmb3JtKGUscyl9YWRkVmVjdG9yMyhlLHQpe2NvbnN0IGk9W3QueCx0LnksdC56XTt0aGlzLmFkZFVuaWZvcm0oZSxpKX1hZGRNYXRyaXgzeDMoZSl7dGhpcy5hZGRVbmlmb3JtKGUsMTIpfWFkZE1hdHJpeDJ4MihlKXt0aGlzLmFkZFVuaWZvcm0oZSw4KX1jcmVhdGUoKXt0aGlzLl9ub1VCT3x8dGhpcy5fYnVmZmVyfHwodGhpcy5fZmlsbEFsaWdubWVudCg0KSx0aGlzLl9idWZmZXJEYXRhPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5fZGF0YSksdGhpcy5fcmVidWlsZCgpLHRoaXMuX25lZWRTeW5jPSEwKX1fcmVidWlsZCgpe3RoaXMuX25vVUJPfHwhdGhpcy5fYnVmZmVyRGF0YXx8KHRoaXMuX2R5bmFtaWM/dGhpcy5fYnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVEeW5hbWljVW5pZm9ybUJ1ZmZlcih0aGlzLl9idWZmZXJEYXRhKTp0aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZVVuaWZvcm1CdWZmZXIodGhpcy5fYnVmZmVyRGF0YSksdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiYodGhpcy5fYnVmZmVycy5wdXNoKFt0aGlzLl9idWZmZXIsdGhpcy5fZW5naW5lLl9mZWF0dXJlcy5jaGVja1Vib3NDb250ZW50QmVmb3JlVXBsb2FkP3RoaXMuX2J1ZmZlckRhdGEuc2xpY2UoKTp2b2lkIDBdKSx0aGlzLl9idWZmZXJJbmRleD10aGlzLl9idWZmZXJzLmxlbmd0aC0xLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9ITEpKX1nZXQgX251bUJ1ZmZlcnMoKXtyZXR1cm4gdGhpcy5fYnVmZmVycy5sZW5ndGh9Z2V0IF9pbmRleEJ1ZmZlcigpe3JldHVybiB0aGlzLl9idWZmZXJJbmRleH1nZXQgbmFtZSgpe3JldHVybiB0aGlzLl9uYW1lfWdldCBjdXJyZW50RWZmZWN0KCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRFZmZlY3R9X2J1ZmZlcnNFcXVhbChlLHQpe2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7KytpKWlmKGVbaV0hPT10W2ldKXJldHVybiExO3JldHVybiEwfV9jb3B5QnVmZmVyKGUsdCl7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDsrK2kpdFtpXT1lW2ldfXVwZGF0ZSgpe2lmKCF0aGlzLl9ub1VCTyl7aWYodGhpcy5iaW5kVW5pZm9ybUJ1ZmZlcigpLCF0aGlzLl9idWZmZXIpe3RoaXMuY3JlYXRlKCk7cmV0dXJufWlmKCF0aGlzLl9keW5hbWljJiYhdGhpcy5fbmVlZFN5bmMpe3RoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lO3JldHVybn1pZih0aGlzLl9idWZmZXJzJiZ0aGlzLl9idWZmZXJzLmxlbmd0aD4xJiZ0aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVsxXSlpZih0aGlzLl9idWZmZXJzRXF1YWwodGhpcy5fYnVmZmVyRGF0YSx0aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVsxXSkpe3RoaXMuX25lZWRTeW5jPSExLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lO3JldHVybn1lbHNlIHRoaXMuX2NvcHlCdWZmZXIodGhpcy5fYnVmZmVyRGF0YSx0aGlzLl9idWZmZXJzW3RoaXMuX2J1ZmZlckluZGV4XVsxXSk7dGhpcy5fZW5naW5lLnVwZGF0ZVVuaWZvcm1CdWZmZXIodGhpcy5fYnVmZmVyLHRoaXMuX2J1ZmZlckRhdGEpLHRoaXMuX2VuZ2luZS5fZmVhdHVyZXMuX2NvbGxlY3RVYm9zVXBkYXRlZEluRnJhbWUmJihWLl9VcGRhdGVkVWJvc0luRnJhbWVbdGhpcy5fbmFtZV18fChWLl9VcGRhdGVkVWJvc0luRnJhbWVbdGhpcy5fbmFtZV09MCksVi5fVXBkYXRlZFVib3NJbkZyYW1lW3RoaXMuX25hbWVdKyspLHRoaXMuX25lZWRTeW5jPSExLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGU9dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lfX1fY3JlYXRlTmV3QnVmZmVyKCl7dGhpcy5fYnVmZmVySW5kZXgrMTx0aGlzLl9idWZmZXJzLmxlbmd0aD8odGhpcy5fYnVmZmVySW5kZXgrKyx0aGlzLl9idWZmZXI9dGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMF0sdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9uZWVkU3luYz0hMCk6dGhpcy5fcmVidWlsZCgpfV9jaGVja05ld0ZyYW1lKCl7dGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiZ0aGlzLl9jdXJyZW50RnJhbWVJZCE9PXRoaXMuX2VuZ2luZS5mcmFtZUlkJiYodGhpcy5fY3VycmVudEZyYW1lSWQ9dGhpcy5fZW5naW5lLmZyYW1lSWQsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9idWZmZXJzJiZ0aGlzLl9idWZmZXJzLmxlbmd0aD4wPyh0aGlzLl9uZWVkU3luYz10aGlzLl9idWZmZXJJbmRleCE9PTAsdGhpcy5fYnVmZmVySW5kZXg9MCx0aGlzLl9idWZmZXI9dGhpcy5fYnVmZmVyc1t0aGlzLl9idWZmZXJJbmRleF1bMF0pOnRoaXMuX2J1ZmZlckluZGV4PS0xKX11cGRhdGVVbmlmb3JtKGUsdCxpKXt0aGlzLl9jaGVja05ld0ZyYW1lKCk7bGV0IHM9dGhpcy5fdW5pZm9ybUxvY2F0aW9uc1tlXTtpZihzPT09dm9pZCAwKXtpZih0aGlzLl9idWZmZXIpe08uRXJyb3IoIkNhbm5vdCBhZGQgYW4gdW5pZm9ybSBhZnRlciBVQk8gaGFzIGJlZW4gY3JlYXRlZC4iKTtyZXR1cm59dGhpcy5hZGRVbmlmb3JtKGUsaSkscz10aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdfWlmKHRoaXMuX2J1ZmZlcnx8dGhpcy5jcmVhdGUoKSx0aGlzLl9keW5hbWljKWZvcihsZXQgcj0wO3I8aTtyKyspdGhpcy5fYnVmZmVyRGF0YVtzK3JdPXRbcl07ZWxzZXtsZXQgcj0hMTtmb3IobGV0IG49MDtuPGk7bisrKShpPT09MTYmJiF0aGlzLl9lbmdpbmUuX2ZlYXR1cmVzLnVuaWZvcm1CdWZmZXJIYXJkQ2hlY2tNYXRyaXh8fHRoaXMuX2J1ZmZlckRhdGFbcytuXSE9PVguRmxvYXRSb3VuZCh0W25dKSkmJihyPSEwLHRoaXMuX2NyZWF0ZUJ1ZmZlck9uV3JpdGUmJnRoaXMuX2NyZWF0ZU5ld0J1ZmZlcigpLHRoaXMuX2J1ZmZlckRhdGFbcytuXT10W25dKTt0aGlzLl9uZWVkU3luYz10aGlzLl9uZWVkU3luY3x8cn19dXBkYXRlVW5pZm9ybUFycmF5KGUsdCxpKXt0aGlzLl9jaGVja05ld0ZyYW1lKCk7Y29uc3Qgcz10aGlzLl91bmlmb3JtTG9jYXRpb25zW2VdO2lmKHM9PT12b2lkIDApe08uRXJyb3IoIkNhbm5vdCBhZGQgYW4gdW5pZm9ybSBBcnJheSBkeW5hbWljYWxseS4gUGxlYXNlLCBhZGQgaXQgdXNpbmcgYWRkVW5pZm9ybSBhbmQgbWFrZSBzdXJlIHRoYXQgdW5pZm9ybSBidWZmZXJzIGFyZSBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgZW5naW5lLiIpO3JldHVybn10aGlzLl9idWZmZXJ8fHRoaXMuY3JlYXRlKCk7Y29uc3Qgcj10aGlzLl91bmlmb3JtQXJyYXlTaXplc1tlXTtpZih0aGlzLl9keW5hbWljKWZvcihsZXQgbj0wO248aTtuKyspdGhpcy5fYnVmZmVyRGF0YVtzK25dPXRbbl07ZWxzZXtsZXQgbj0hMSxhPTAsbz0wO2ZvcihsZXQgaD0wO2g8aTtoKyspaWYodGhpcy5fYnVmZmVyRGF0YVtzK28qNCthXSE9PVguRmxvYXRSb3VuZCh0W2hdKSYmKG49ITAsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZSYmdGhpcy5fY3JlYXRlTmV3QnVmZmVyKCksdGhpcy5fYnVmZmVyRGF0YVtzK28qNCthXT10W2hdKSxhKyssYT09PXIuc3RyaWRlU2l6ZSl7Zm9yKDthPDQ7YSsrKXRoaXMuX2J1ZmZlckRhdGFbcytvKjQrYV09MDthPTAsbysrfXRoaXMuX25lZWRTeW5jPXRoaXMuX25lZWRTeW5jfHxufX1fY2FjaGVNYXRyaXgoZSx0KXt0aGlzLl9jaGVja05ld0ZyYW1lKCk7Y29uc3QgaT10aGlzLl92YWx1ZUNhY2hlW2VdLHM9dC51cGRhdGVGbGFnO3JldHVybiBpIT09dm9pZCAwJiZpPT09cz8hMToodGhpcy5fdmFsdWVDYWNoZVtlXT1zLCEwKX1fdXBkYXRlTWF0cml4M3gzRm9yVW5pZm9ybShlLHQpe2ZvcihsZXQgaT0wO2k8MztpKyspVi5fVGVtcEJ1ZmZlcltpKjRdPXRbaSozXSxWLl9UZW1wQnVmZmVyW2kqNCsxXT10W2kqMysxXSxWLl9UZW1wQnVmZmVyW2kqNCsyXT10W2kqMysyXSxWLl9UZW1wQnVmZmVyW2kqNCszXT0wO3RoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMTIpfV91cGRhdGVNYXRyaXgzeDNGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpeDN4MyhlLHQpfV91cGRhdGVNYXRyaXgyeDJGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpeDJ4MihlLHQpfV91cGRhdGVNYXRyaXgyeDJGb3JVbmlmb3JtKGUsdCl7Zm9yKGxldCBpPTA7aTwyO2krKylWLl9UZW1wQnVmZmVyW2kqNF09dFtpKjJdLFYuX1RlbXBCdWZmZXJbaSo0KzFdPXRbaSoyKzFdLFYuX1RlbXBCdWZmZXJbaSo0KzJdPTAsVi5fVGVtcEJ1ZmZlcltpKjQrM109MDt0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDgpfV91cGRhdGVGbG9hdEZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RmxvYXQoZSx0KX1fdXBkYXRlRmxvYXRGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlclswXT10LHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMSl9X3VwZGF0ZUZsb2F0MkZvckVmZmVjdChlLHQsaSxzPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0MihlK3MsdCxpKX1fdXBkYXRlRmxvYXQyRm9yVW5pZm9ybShlLHQsaSl7Vi5fVGVtcEJ1ZmZlclswXT10LFYuX1RlbXBCdWZmZXJbMV09aSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDIpfV91cGRhdGVGbG9hdDNGb3JFZmZlY3QoZSx0LGkscyxyPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0MyhlK3IsdCxpLHMpfV91cGRhdGVGbG9hdDNGb3JVbmlmb3JtKGUsdCxpLHMpe1YuX1RlbXBCdWZmZXJbMF09dCxWLl9UZW1wQnVmZmVyWzFdPWksVi5fVGVtcEJ1ZmZlclsyXT1zLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsMyl9X3VwZGF0ZUZsb2F0NEZvckVmZmVjdChlLHQsaSxzLHIsbj0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRGbG9hdDQoZStuLHQsaSxzLHIpfV91cGRhdGVGbG9hdDRGb3JVbmlmb3JtKGUsdCxpLHMscil7Vi5fVGVtcEJ1ZmZlclswXT10LFYuX1RlbXBCdWZmZXJbMV09aSxWLl9UZW1wQnVmZmVyWzJdPXMsVi5fVGVtcEJ1ZmZlclszXT1yLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZUZsb2F0QXJyYXlGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEZsb2F0QXJyYXkoZSx0KX1fdXBkYXRlRmxvYXRBcnJheUZvclVuaWZvcm0oZSx0KXt0aGlzLnVwZGF0ZVVuaWZvcm1BcnJheShlLHQsdC5sZW5ndGgpfV91cGRhdGVBcnJheUZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0QXJyYXkoZSx0KX1fdXBkYXRlQXJyYXlGb3JVbmlmb3JtKGUsdCl7dGhpcy51cGRhdGVVbmlmb3JtQXJyYXkoZSx0LHQubGVuZ3RoKX1fdXBkYXRlSW50QXJyYXlGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEludEFycmF5KGUsdCl9X3VwZGF0ZUludEFycmF5Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXcuc2V0KHQpLHRoaXMudXBkYXRlVW5pZm9ybUFycmF5KGUsVi5fVGVtcEJ1ZmZlcix0Lmxlbmd0aCl9X3VwZGF0ZVVJbnRBcnJheUZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VUludEFycmF5KGUsdCl9X3VwZGF0ZVVJbnRBcnJheUZvclVuaWZvcm0oZSx0KXtWLl9UZW1wQnVmZmVyVUludDMyVmlldy5zZXQodCksdGhpcy51cGRhdGVVbmlmb3JtQXJyYXkoZSxWLl9UZW1wQnVmZmVyLHQubGVuZ3RoKX1fdXBkYXRlTWF0cml4Rm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRNYXRyaXgoZSx0KX1fdXBkYXRlTWF0cml4Rm9yVW5pZm9ybShlLHQpe3RoaXMuX2NhY2hlTWF0cml4KGUsdCkmJnRoaXMudXBkYXRlVW5pZm9ybShlLHQudG9BcnJheSgpLDE2KX1fdXBkYXRlTWF0cmljZXNGb3JFZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldE1hdHJpY2VzKGUsdCl9X3VwZGF0ZU1hdHJpY2VzRm9yVW5pZm9ybShlLHQpe3RoaXMudXBkYXRlVW5pZm9ybShlLHQsdC5sZW5ndGgpfV91cGRhdGVWZWN0b3IzRm9yRWZmZWN0KGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRWZWN0b3IzKGUsdCl9X3VwZGF0ZVZlY3RvcjNGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlclswXT10LngsVi5fVGVtcEJ1ZmZlclsxXT10LnksVi5fVGVtcEJ1ZmZlclsyXT10LnosdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwzKX1fdXBkYXRlVmVjdG9yNEZvckVmZmVjdChlLHQpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0VmVjdG9yNChlLHQpfV91cGRhdGVWZWN0b3I0Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJbMF09dC54LFYuX1RlbXBCdWZmZXJbMV09dC55LFYuX1RlbXBCdWZmZXJbMl09dC56LFYuX1RlbXBCdWZmZXJbM109dC53LHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZUNvbG9yM0ZvckVmZmVjdChlLHQsaT0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRDb2xvcjMoZStpLHQpfV91cGRhdGVDb2xvcjNGb3JVbmlmb3JtKGUsdCl7Vi5fVGVtcEJ1ZmZlclswXT10LnIsVi5fVGVtcEJ1ZmZlclsxXT10LmcsVi5fVGVtcEJ1ZmZlclsyXT10LmIsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwzKX1fdXBkYXRlQ29sb3I0Rm9yRWZmZWN0KGUsdCxpLHM9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0Q29sb3I0KGUrcyx0LGkpfV91cGRhdGVEaXJlY3RDb2xvcjRGb3JFZmZlY3QoZSx0LGk9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0RGlyZWN0Q29sb3I0KGUraSx0KX1fdXBkYXRlQ29sb3I0Rm9yVW5pZm9ybShlLHQsaSl7Vi5fVGVtcEJ1ZmZlclswXT10LnIsVi5fVGVtcEJ1ZmZlclsxXT10LmcsVi5fVGVtcEJ1ZmZlclsyXT10LmIsVi5fVGVtcEJ1ZmZlclszXT1pLHRoaXMudXBkYXRlVW5pZm9ybShlLFYuX1RlbXBCdWZmZXIsNCl9X3VwZGF0ZURpcmVjdENvbG9yNEZvclVuaWZvcm0oZSx0KXtWLl9UZW1wQnVmZmVyWzBdPXQucixWLl9UZW1wQnVmZmVyWzFdPXQuZyxWLl9UZW1wQnVmZmVyWzJdPXQuYixWLl9UZW1wQnVmZmVyWzNdPXQuYSx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDQpfV91cGRhdGVJbnRGb3JFZmZlY3QoZSx0LGk9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50KGUraSx0KX1fdXBkYXRlSW50Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDEpfV91cGRhdGVJbnQyRm9yRWZmZWN0KGUsdCxpLHM9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50MihlK3MsdCxpKX1fdXBkYXRlSW50MkZvclVuaWZvcm0oZSx0LGkpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCxWLl9UZW1wQnVmZmVySW50MzJWaWV3WzFdPWksdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwyKX1fdXBkYXRlSW50M0ZvckVmZmVjdChlLHQsaSxzLHI9IiIpe3RoaXMuX2N1cnJlbnRFZmZlY3Quc2V0SW50MyhlK3IsdCxpLHMpfV91cGRhdGVJbnQzRm9yVW5pZm9ybShlLHQsaSxzKXtWLl9UZW1wQnVmZmVySW50MzJWaWV3WzBdPXQsVi5fVGVtcEJ1ZmZlckludDMyVmlld1sxXT1pLFYuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMl09cyx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDMpfV91cGRhdGVJbnQ0Rm9yRWZmZWN0KGUsdCxpLHMscixuPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldEludDQoZStuLHQsaSxzLHIpfV91cGRhdGVJbnQ0Rm9yVW5pZm9ybShlLHQsaSxzLHIpe1YuX1RlbXBCdWZmZXJJbnQzMlZpZXdbMF09dCxWLl9UZW1wQnVmZmVySW50MzJWaWV3WzFdPWksVi5fVGVtcEJ1ZmZlckludDMyVmlld1syXT1zLFYuX1RlbXBCdWZmZXJJbnQzMlZpZXdbM109cix0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDQpfV91cGRhdGVVSW50Rm9yRWZmZWN0KGUsdCxpPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFVJbnQoZStpLHQpfV91cGRhdGVVSW50Rm9yVW5pZm9ybShlLHQpe1YuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzBdPXQsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwxKX1fdXBkYXRlVUludDJGb3JFZmZlY3QoZSx0LGkscz0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRVSW50MihlK3MsdCxpKX1fdXBkYXRlVUludDJGb3JVbmlmb3JtKGUsdCxpKXtWLl9UZW1wQnVmZmVyVUludDMyVmlld1swXT10LFYuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzFdPWksdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciwyKX1fdXBkYXRlVUludDNGb3JFZmZlY3QoZSx0LGkscyxyPSIiKXt0aGlzLl9jdXJyZW50RWZmZWN0LnNldFVJbnQzKGUrcix0LGkscyl9X3VwZGF0ZVVJbnQzRm9yVW5pZm9ybShlLHQsaSxzKXtWLl9UZW1wQnVmZmVyVUludDMyVmlld1swXT10LFYuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzFdPWksVi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbMl09cyx0aGlzLnVwZGF0ZVVuaWZvcm0oZSxWLl9UZW1wQnVmZmVyLDMpfV91cGRhdGVVSW50NEZvckVmZmVjdChlLHQsaSxzLHIsbj0iIil7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRVSW50NChlK24sdCxpLHMscil9X3VwZGF0ZVVJbnQ0Rm9yVW5pZm9ybShlLHQsaSxzLHIpe1YuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzBdPXQsVi5fVGVtcEJ1ZmZlclVJbnQzMlZpZXdbMV09aSxWLl9UZW1wQnVmZmVyVUludDMyVmlld1syXT1zLFYuX1RlbXBCdWZmZXJVSW50MzJWaWV3WzNdPXIsdGhpcy51cGRhdGVVbmlmb3JtKGUsVi5fVGVtcEJ1ZmZlciw0KX1zZXRUZXh0dXJlKGUsdCl7dGhpcy5fY3VycmVudEVmZmVjdC5zZXRUZXh0dXJlKGUsdCl9dXBkYXRlVW5pZm9ybURpcmVjdGx5KGUsdCl7dGhpcy51cGRhdGVVbmlmb3JtKGUsdCx0Lmxlbmd0aCksdGhpcy51cGRhdGUoKX1iaW5kVG9FZmZlY3QoZSx0KXt0aGlzLl9jdXJyZW50RWZmZWN0PWUsdGhpcy5fY3VycmVudEVmZmVjdE5hbWU9dH1iaW5kVW5pZm9ybUJ1ZmZlcigpeyF0aGlzLl9ub1VCTyYmdGhpcy5fYnVmZmVyJiZ0aGlzLl9jdXJyZW50RWZmZWN0JiZ0aGlzLl9jdXJyZW50RWZmZWN0LmJpbmRVbmlmb3JtQnVmZmVyKHRoaXMuX2J1ZmZlcix0aGlzLl9jdXJyZW50RWZmZWN0TmFtZSl9dW5iaW5kRWZmZWN0KCl7dGhpcy5fY3VycmVudEVmZmVjdD12b2lkIDAsdGhpcy5fY3VycmVudEVmZmVjdE5hbWU9dm9pZCAwfXNldERhdGFCdWZmZXIoZSl7aWYoIXRoaXMuX2J1ZmZlcnMpcmV0dXJuIHRoaXMuX2J1ZmZlcj09PWU7Zm9yKGxldCB0PTA7dDx0aGlzLl9idWZmZXJzLmxlbmd0aDsrK3QpaWYodGhpcy5fYnVmZmVyc1t0XVswXT09PWUpcmV0dXJuIHRoaXMuX2J1ZmZlckluZGV4PXQsdGhpcy5fYnVmZmVyPWUsdGhpcy5fY3JlYXRlQnVmZmVyT25Xcml0ZT0hMSx0aGlzLl9jdXJyZW50RWZmZWN0PXZvaWQgMCwhMDtyZXR1cm4hMX1kaXNwb3NlKCl7aWYodGhpcy5fbm9VQk8pcmV0dXJuO2NvbnN0IGU9dGhpcy5fZW5naW5lLl91bmlmb3JtQnVmZmVycyx0PWUuaW5kZXhPZih0aGlzKTtpZih0IT09LTEmJihlW3RdPWVbZS5sZW5ndGgtMV0sZS5wb3AoKSksdGhpcy5fZW5naW5lLl9mZWF0dXJlcy50cmFja1Vib3NJbkZyYW1lJiZ0aGlzLl9idWZmZXJzKWZvcihsZXQgaT0wO2k8dGhpcy5fYnVmZmVycy5sZW5ndGg7KytpKXtjb25zdCBzPXRoaXMuX2J1ZmZlcnNbaV1bMF07dGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHMpfWVsc2UgdGhpcy5fYnVmZmVyJiZ0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5fYnVmZmVyKSYmKHRoaXMuX2J1ZmZlcj1udWxsKX19Vi5fVXBkYXRlZFVib3NJbkZyYW1lPXt9LFYuX01BWF9VTklGT1JNX1NJWkU9MjU2LFYuX1RlbXBCdWZmZXI9bmV3IEZsb2F0MzJBcnJheShWLl9NQVhfVU5JRk9STV9TSVpFKSxWLl9UZW1wQnVmZmVySW50MzJWaWV3PW5ldyBJbnQzMkFycmF5KFYuX1RlbXBCdWZmZXIuYnVmZmVyKSxWLl9UZW1wQnVmZmVyVUludDMyVmlldz1uZXcgVWludDMyQXJyYXkoVi5fVGVtcEJ1ZmZlci5idWZmZXIpO2NsYXNzIHRze2NvbnN0cnVjdG9yKGUsdCxpLHM9MCxyPSExLG49ITEsYT0hMSxvKXt0aGlzLl9pc0FscmVhZHlPd25lZD0hMSxlLmdldFNjZW5lP3RoaXMuX2VuZ2luZT1lLmdldFNjZW5lKCkuZ2V0RW5naW5lKCk6dGhpcy5fZW5naW5lPWUsdGhpcy5fdXBkYXRhYmxlPWksdGhpcy5faW5zdGFuY2VkPW4sdGhpcy5fZGl2aXNvcj1vfHwxLHQgaW5zdGFuY2VvZiBPaT8odGhpcy5fZGF0YT1udWxsLHRoaXMuX2J1ZmZlcj10KToodGhpcy5fZGF0YT10LHRoaXMuX2J1ZmZlcj1udWxsKSx0aGlzLmJ5dGVTdHJpZGU9YT9zOnMqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULHJ8fHRoaXMuY3JlYXRlKCl9Y3JlYXRlVmVydGV4QnVmZmVyKGUsdCxpLHMscixuPSExLGEpe2NvbnN0IG89bj90OnQqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULGg9cz9uP3M6cypGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQ6dGhpcy5ieXRlU3RyaWRlO3JldHVybiBuZXcgZyh0aGlzLl9lbmdpbmUsdGhpcyxlLHRoaXMuX3VwZGF0YWJsZSwhMCxoLHI9PT12b2lkIDA/dGhpcy5faW5zdGFuY2VkOnIsbyxpLHZvaWQgMCx2b2lkIDAsITAsdGhpcy5fZGl2aXNvcnx8YSl9aXNVcGRhdGFibGUoKXtyZXR1cm4gdGhpcy5fdXBkYXRhYmxlfWdldERhdGEoKXtyZXR1cm4gdGhpcy5fZGF0YX1nZXRCdWZmZXIoKXtyZXR1cm4gdGhpcy5fYnVmZmVyfWdldFN0cmlkZVNpemUoKXtyZXR1cm4gdGhpcy5ieXRlU3RyaWRlL0Zsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVH1jcmVhdGUoZT1udWxsKXshZSYmdGhpcy5fYnVmZmVyfHwoZT1lfHx0aGlzLl9kYXRhLGUmJih0aGlzLl9idWZmZXI/dGhpcy5fdXBkYXRhYmxlJiYodGhpcy5fZW5naW5lLnVwZGF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXIodGhpcy5fYnVmZmVyLGUpLHRoaXMuX2RhdGE9ZSk6dGhpcy5fdXBkYXRhYmxlPyh0aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXIoZSksdGhpcy5fZGF0YT1lKTp0aGlzLl9idWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZVZlcnRleEJ1ZmZlcihlKSkpfV9yZWJ1aWxkKCl7dGhpcy5fYnVmZmVyPW51bGwsdGhpcy5jcmVhdGUodGhpcy5fZGF0YSl9dXBkYXRlKGUpe3RoaXMuY3JlYXRlKGUpfXVwZGF0ZURpcmVjdGx5KGUsdCxpLHM9ITEpe3RoaXMuX2J1ZmZlciYmdGhpcy5fdXBkYXRhYmxlJiYodGhpcy5fZW5naW5lLnVwZGF0ZUR5bmFtaWNWZXJ0ZXhCdWZmZXIodGhpcy5fYnVmZmVyLGUscz90OnQqRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5ULGk/aSp0aGlzLmJ5dGVTdHJpZGU6dm9pZCAwKSx0PT09MCYmaT09PXZvaWQgMD90aGlzLl9kYXRhPWU6dGhpcy5fZGF0YT1udWxsKX1faW5jcmVhc2VSZWZlcmVuY2VzKCl7aWYodGhpcy5fYnVmZmVyKXtpZighdGhpcy5faXNBbHJlYWR5T3duZWQpe3RoaXMuX2lzQWxyZWFkeU93bmVkPSEwO3JldHVybn10aGlzLl9idWZmZXIucmVmZXJlbmNlcysrfX1kaXNwb3NlKCl7dGhpcy5fYnVmZmVyJiZ0aGlzLl9lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5fYnVmZmVyKSYmKHRoaXMuX2J1ZmZlcj1udWxsLHRoaXMuX2RhdGE9bnVsbCl9fWNsYXNzIGd7Z2V0IGluc3RhbmNlRGl2aXNvcigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURpdmlzb3J9c2V0IGluc3RhbmNlRGl2aXNvcihlKXtjb25zdCB0PWUhPTA7dGhpcy5faW5zdGFuY2VEaXZpc29yPWUsdCE9PXRoaXMuX2luc3RhbmNlZCYmKHRoaXMuX2luc3RhbmNlZD10LHRoaXMuX2NvbXB1dGVIYXNoQ29kZSgpKX1jb25zdHJ1Y3RvcihlLHQsaSxzLHIsbixhLG8saCxsLHU9ITEsZD0hMSxfPTEsZj0hMSl7aWYodCBpbnN0YW5jZW9mIHRzPyh0aGlzLl9idWZmZXI9dCx0aGlzLl9vd25zQnVmZmVyPWYpOih0aGlzLl9idWZmZXI9bmV3IHRzKGUsdCxzLG4scixhLGQpLHRoaXMuX293bnNCdWZmZXI9ITApLHRoaXMudW5pcXVlSWQ9Zy5fQ291bnRlcisrLHRoaXMuX2tpbmQ9aSxsPT1udWxsKXtjb25zdCB2PXRoaXMuZ2V0RGF0YSgpO3RoaXMudHlwZT1nLkZMT0FULHYgaW5zdGFuY2VvZiBJbnQ4QXJyYXk/dGhpcy50eXBlPWcuQllURTp2IGluc3RhbmNlb2YgVWludDhBcnJheT90aGlzLnR5cGU9Zy5VTlNJR05FRF9CWVRFOnYgaW5zdGFuY2VvZiBJbnQxNkFycmF5P3RoaXMudHlwZT1nLlNIT1JUOnYgaW5zdGFuY2VvZiBVaW50MTZBcnJheT90aGlzLnR5cGU9Zy5VTlNJR05FRF9TSE9SVDp2IGluc3RhbmNlb2YgSW50MzJBcnJheT90aGlzLnR5cGU9Zy5JTlQ6diBpbnN0YW5jZW9mIFVpbnQzMkFycmF5JiYodGhpcy50eXBlPWcuVU5TSUdORURfSU5UKX1lbHNlIHRoaXMudHlwZT1sO2NvbnN0IG09Zy5HZXRUeXBlQnl0ZUxlbmd0aCh0aGlzLnR5cGUpO2Q/KHRoaXMuX3NpemU9aHx8KG4/bi9tOmcuRGVkdWNlU3RyaWRlKGkpKSx0aGlzLmJ5dGVTdHJpZGU9bnx8dGhpcy5fYnVmZmVyLmJ5dGVTdHJpZGV8fHRoaXMuX3NpemUqbSx0aGlzLmJ5dGVPZmZzZXQ9b3x8MCk6KHRoaXMuX3NpemU9aHx8bnx8Zy5EZWR1Y2VTdHJpZGUoaSksdGhpcy5ieXRlU3RyaWRlPW4/biptOnRoaXMuX2J1ZmZlci5ieXRlU3RyaWRlfHx0aGlzLl9zaXplKm0sdGhpcy5ieXRlT2Zmc2V0PShvfHwwKSptKSx0aGlzLm5vcm1hbGl6ZWQ9dSx0aGlzLl9pbnN0YW5jZWQ9YSE9PXZvaWQgMD9hOiExLHRoaXMuX2luc3RhbmNlRGl2aXNvcj1hP186MCx0aGlzLl9jb21wdXRlSGFzaENvZGUoKX1fY29tcHV0ZUhhc2hDb2RlKCl7dGhpcy5oYXNoQ29kZT0odGhpcy50eXBlLTUxMjA8PDApKygodGhpcy5ub3JtYWxpemVkPzE6MCk8PDMpKyh0aGlzLl9zaXplPDw0KSsoKHRoaXMuX2luc3RhbmNlZD8xOjApPDw2KSsodGhpcy5ieXRlU3RyaWRlPDwxMil9X3JlYnVpbGQoKXt0aGlzLl9idWZmZXImJnRoaXMuX2J1ZmZlci5fcmVidWlsZCgpfWdldEtpbmQoKXtyZXR1cm4gdGhpcy5fa2luZH1pc1VwZGF0YWJsZSgpe3JldHVybiB0aGlzLl9idWZmZXIuaXNVcGRhdGFibGUoKX1nZXREYXRhKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5nZXREYXRhKCl9Z2V0RmxvYXREYXRhKGUsdCl7Y29uc3QgaT10aGlzLmdldERhdGEoKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBzPXRoaXMuZ2V0U2l6ZSgpKmcuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKSxyPWUqdGhpcy5nZXRTaXplKCk7aWYodGhpcy50eXBlIT09Zy5GTE9BVHx8dGhpcy5ieXRlU3RyaWRlIT09cyl7Y29uc3Qgbj1uZXcgRmxvYXQzMkFycmF5KHIpO3JldHVybiB0aGlzLmZvckVhY2gociwoYSxvKT0+bltvXT1hKSxufWlmKCEoaSBpbnN0YW5jZW9mIEFycmF5fHxpIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXx8dGhpcy5ieXRlT2Zmc2V0IT09MHx8aS5sZW5ndGghPT1yKWlmKGkgaW5zdGFuY2VvZiBBcnJheSl7Y29uc3Qgbj10aGlzLmJ5dGVPZmZzZXQvNDtyZXR1cm4gaS5zbGljZShuLG4rcil9ZWxzZXtpZihpIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpcmV0dXJuIG5ldyBGbG9hdDMyQXJyYXkoaSx0aGlzLmJ5dGVPZmZzZXQscik7e2xldCBuPWkuYnl0ZU9mZnNldCt0aGlzLmJ5dGVPZmZzZXQ7aWYodCl7Y29uc3Qgbz1uZXcgRmxvYXQzMkFycmF5KHIpLGg9bmV3IEZsb2F0MzJBcnJheShpLmJ1ZmZlcixuLHIpO3JldHVybiBvLnNldChoKSxvfWNvbnN0IGE9biU0O3JldHVybiBhJiYobj1NYXRoLm1heCgwLG4tYSkpLG5ldyBGbG9hdDMyQXJyYXkoaS5idWZmZXIsbixyKX19cmV0dXJuIHQ/aS5zbGljZSgpOml9Z2V0QnVmZmVyKCl7cmV0dXJuIHRoaXMuX2J1ZmZlci5nZXRCdWZmZXIoKX1nZXRTdHJpZGVTaXplKCl7cmV0dXJuIHRoaXMuYnl0ZVN0cmlkZS9nLkdldFR5cGVCeXRlTGVuZ3RoKHRoaXMudHlwZSl9Z2V0T2Zmc2V0KCl7cmV0dXJuIHRoaXMuYnl0ZU9mZnNldC9nLkdldFR5cGVCeXRlTGVuZ3RoKHRoaXMudHlwZSl9Z2V0U2l6ZShlPSExKXtyZXR1cm4gZT90aGlzLl9zaXplKmcuR2V0VHlwZUJ5dGVMZW5ndGgodGhpcy50eXBlKTp0aGlzLl9zaXplfWdldElzSW5zdGFuY2VkKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlZH1nZXRJbnN0YW5jZURpdmlzb3IoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEaXZpc29yfWNyZWF0ZShlKXt0aGlzLl9idWZmZXIuY3JlYXRlKGUpfXVwZGF0ZShlKXt0aGlzLl9idWZmZXIudXBkYXRlKGUpfXVwZGF0ZURpcmVjdGx5KGUsdCxpPSExKXt0aGlzLl9idWZmZXIudXBkYXRlRGlyZWN0bHkoZSx0LHZvaWQgMCxpKX1kaXNwb3NlKCl7dGhpcy5fb3duc0J1ZmZlciYmdGhpcy5fYnVmZmVyLmRpc3Bvc2UoKX1mb3JFYWNoKGUsdCl7Zy5Gb3JFYWNoKHRoaXMuX2J1ZmZlci5nZXREYXRhKCksdGhpcy5ieXRlT2Zmc2V0LHRoaXMuYnl0ZVN0cmlkZSx0aGlzLl9zaXplLHRoaXMudHlwZSxlLHRoaXMubm9ybWFsaXplZCx0KX1zdGF0aWMgRGVkdWNlU3RyaWRlKGUpe3N3aXRjaChlKXtjYXNlIGcuVVZLaW5kOmNhc2UgZy5VVjJLaW5kOmNhc2UgZy5VVjNLaW5kOmNhc2UgZy5VVjRLaW5kOmNhc2UgZy5VVjVLaW5kOmNhc2UgZy5VVjZLaW5kOnJldHVybiAyO2Nhc2UgZy5Ob3JtYWxLaW5kOmNhc2UgZy5Qb3NpdGlvbktpbmQ6cmV0dXJuIDM7Y2FzZSBnLkNvbG9yS2luZDpjYXNlIGcuTWF0cmljZXNJbmRpY2VzS2luZDpjYXNlIGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kOmNhc2UgZy5NYXRyaWNlc1dlaWdodHNLaW5kOmNhc2UgZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQ6Y2FzZSBnLlRhbmdlbnRLaW5kOnJldHVybiA0O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGtpbmQgJyIrZSsiJyIpfX1zdGF0aWMgR2V0VHlwZUJ5dGVMZW5ndGgoZSl7c3dpdGNoKGUpe2Nhc2UgZy5CWVRFOmNhc2UgZy5VTlNJR05FRF9CWVRFOnJldHVybiAxO2Nhc2UgZy5TSE9SVDpjYXNlIGcuVU5TSUdORURfU0hPUlQ6cmV0dXJuIDI7Y2FzZSBnLklOVDpjYXNlIGcuVU5TSUdORURfSU5UOmNhc2UgZy5GTE9BVDpyZXR1cm4gNDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0eXBlICcke2V9J2ApfX1zdGF0aWMgRm9yRWFjaChlLHQsaSxzLHIsbixhLG8pe2lmKGUgaW5zdGFuY2VvZiBBcnJheSl7bGV0IGg9dC80O2NvbnN0IGw9aS80O2ZvcihsZXQgdT0wO3U8bjt1Kz1zKXtmb3IobGV0IGQ9MDtkPHM7ZCsrKW8oZVtoK2RdLHUrZCk7aCs9bH19ZWxzZXtjb25zdCBoPWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcj9uZXcgRGF0YVZpZXcoZSk6bmV3IERhdGFWaWV3KGUuYnVmZmVyLGUuYnl0ZU9mZnNldCxlLmJ5dGVMZW5ndGgpLGw9Zy5HZXRUeXBlQnl0ZUxlbmd0aChyKTtmb3IobGV0IHU9MDt1PG47dSs9cyl7bGV0IGQ9dDtmb3IobGV0IF89MDtfPHM7XysrKXtjb25zdCBmPWcuX0dldEZsb2F0VmFsdWUoaCxyLGQsYSk7byhmLHUrXyksZCs9bH10Kz1pfX19c3RhdGljIF9HZXRGbG9hdFZhbHVlKGUsdCxpLHMpe3N3aXRjaCh0KXtjYXNlIGcuQllURTp7bGV0IHI9ZS5nZXRJbnQ4KGkpO3JldHVybiBzJiYocj1NYXRoLm1heChyLzEyNywtMSkpLHJ9Y2FzZSBnLlVOU0lHTkVEX0JZVEU6e2xldCByPWUuZ2V0VWludDgoaSk7cmV0dXJuIHMmJihyPXIvMjU1KSxyfWNhc2UgZy5TSE9SVDp7bGV0IHI9ZS5nZXRJbnQxNihpLCEwKTtyZXR1cm4gcyYmKHI9TWF0aC5tYXgoci8zMjc2NywtMSkpLHJ9Y2FzZSBnLlVOU0lHTkVEX1NIT1JUOntsZXQgcj1lLmdldFVpbnQxNihpLCEwKTtyZXR1cm4gcyYmKHI9ci82NTUzNSkscn1jYXNlIGcuSU5UOnJldHVybiBlLmdldEludDMyKGksITApO2Nhc2UgZy5VTlNJR05FRF9JTlQ6cmV0dXJuIGUuZ2V0VWludDMyKGksITApO2Nhc2UgZy5GTE9BVDpyZXR1cm4gZS5nZXRGbG9hdDMyKGksITApO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNvbXBvbmVudCB0eXBlICR7dH1gKX19fWcuX0NvdW50ZXI9MCxnLkJZVEU9NTEyMCxnLlVOU0lHTkVEX0JZVEU9NTEyMSxnLlNIT1JUPTUxMjIsZy5VTlNJR05FRF9TSE9SVD01MTIzLGcuSU5UPTUxMjQsZy5VTlNJR05FRF9JTlQ9NTEyNSxnLkZMT0FUPTUxMjYsZy5Qb3NpdGlvbktpbmQ9InBvc2l0aW9uIixnLk5vcm1hbEtpbmQ9Im5vcm1hbCIsZy5UYW5nZW50S2luZD0idGFuZ2VudCIsZy5VVktpbmQ9InV2IixnLlVWMktpbmQ9InV2MiIsZy5VVjNLaW5kPSJ1djMiLGcuVVY0S2luZD0idXY0IixnLlVWNUtpbmQ9InV2NSIsZy5VVjZLaW5kPSJ1djYiLGcuQ29sb3JLaW5kPSJjb2xvciIsZy5Db2xvckluc3RhbmNlS2luZD0iaW5zdGFuY2VDb2xvciIsZy5NYXRyaWNlc0luZGljZXNLaW5kPSJtYXRyaWNlc0luZGljZXMiLGcuTWF0cmljZXNXZWlnaHRzS2luZD0ibWF0cmljZXNXZWlnaHRzIixnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZD0ibWF0cmljZXNJbmRpY2VzRXh0cmEiLGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kPSJtYXRyaWNlc1dlaWdodHNFeHRyYSI7Y2xhc3Mga3R7Y29uc3RydWN0b3IoKXt0aGlzLmhpdD0hMSx0aGlzLmRpc3RhbmNlPTAsdGhpcy5waWNrZWRQb2ludD1udWxsLHRoaXMucGlja2VkTWVzaD1udWxsLHRoaXMuYnU9MCx0aGlzLmJ2PTAsdGhpcy5mYWNlSWQ9LTEsdGhpcy5zdWJNZXNoRmFjZUlkPS0xLHRoaXMuc3ViTWVzaElkPTAsdGhpcy5waWNrZWRTcHJpdGU9bnVsbCx0aGlzLnRoaW5JbnN0YW5jZUluZGV4PS0xLHRoaXMucmF5PW51bGwsdGhpcy5vcmlnaW5NZXNoPW51bGwsdGhpcy5haW1UcmFuc2Zvcm09bnVsbCx0aGlzLmdyaXBUcmFuc2Zvcm09bnVsbH1nZXROb3JtYWwoZT0hMSx0PSEwKXtpZighdGhpcy5waWNrZWRNZXNofHx0JiYhdGhpcy5waWNrZWRNZXNoLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk5vcm1hbEtpbmQpKXJldHVybiBudWxsO2NvbnN0IGk9dGhpcy5waWNrZWRNZXNoLmdldEluZGljZXMoKTtpZighaSlyZXR1cm4gbnVsbDtsZXQgcztpZih0KXtjb25zdCBuPXRoaXMucGlja2VkTWVzaC5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKTtsZXQgYT1wLkZyb21BcnJheShuLGlbdGhpcy5mYWNlSWQqM10qMyksbz1wLkZyb21BcnJheShuLGlbdGhpcy5mYWNlSWQqMysxXSozKSxoPXAuRnJvbUFycmF5KG4saVt0aGlzLmZhY2VJZCozKzJdKjMpO2E9YS5zY2FsZSh0aGlzLmJ1KSxvPW8uc2NhbGUodGhpcy5idiksaD1oLnNjYWxlKDEtdGhpcy5idS10aGlzLmJ2KSxzPW5ldyBwKGEueCtvLngraC54LGEueStvLnkraC55LGEueitvLnoraC56KX1lbHNle2NvbnN0IG49dGhpcy5waWNrZWRNZXNoLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCksYT1wLkZyb21BcnJheShuLGlbdGhpcy5mYWNlSWQqM10qMyksbz1wLkZyb21BcnJheShuLGlbdGhpcy5mYWNlSWQqMysxXSozKSxoPXAuRnJvbUFycmF5KG4saVt0aGlzLmZhY2VJZCozKzJdKjMpLGw9YS5zdWJ0cmFjdChvKSx1PWguc3VidHJhY3Qobyk7cz1wLkNyb3NzKGwsdSl9Y29uc3Qgcj0obixhKT0+e2xldCBvPW4uZ2V0V29ybGRNYXRyaXgoKTtuLm5vblVuaWZvcm1TY2FsaW5nJiYoRi5NYXRyaXhbMF0uY29weUZyb20obyksbz1GLk1hdHJpeFswXSxvLnNldFRyYW5zbGF0aW9uRnJvbUZsb2F0cygwLDAsMCksby5pbnZlcnQoKSxvLnRyYW5zcG9zZVRvUmVmKEYuTWF0cml4WzFdKSxvPUYuTWF0cml4WzFdKSxwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGEsbyxhKX07aWYoZSYmcih0aGlzLnBpY2tlZE1lc2gscyksdGhpcy5yYXkpe2NvbnN0IG49Ri5WZWN0b3IzWzBdLmNvcHlGcm9tKHMpO2V8fHIodGhpcy5waWNrZWRNZXNoLG4pLHAuRG90KG4sdGhpcy5yYXkuZGlyZWN0aW9uKT4wJiZzLm5lZ2F0ZUluUGxhY2UoKX1yZXR1cm4gcy5ub3JtYWxpemUoKSxzfWdldFRleHR1cmVDb29yZGluYXRlcyhlPWcuVVZLaW5kKXtpZighdGhpcy5waWNrZWRNZXNofHwhdGhpcy5waWNrZWRNZXNoLmlzVmVydGljZXNEYXRhUHJlc2VudChlKSlyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMucGlja2VkTWVzaC5nZXRJbmRpY2VzKCk7aWYoIXQpcmV0dXJuIG51bGw7Y29uc3QgaT10aGlzLnBpY2tlZE1lc2guZ2V0VmVydGljZXNEYXRhKGUpO2lmKCFpKXJldHVybiBudWxsO2xldCBzPXZlLkZyb21BcnJheShpLHRbdGhpcy5mYWNlSWQqM10qMikscj12ZS5Gcm9tQXJyYXkoaSx0W3RoaXMuZmFjZUlkKjMrMV0qMiksbj12ZS5Gcm9tQXJyYXkoaSx0W3RoaXMuZmFjZUlkKjMrMl0qMik7cmV0dXJuIHM9cy5zY2FsZSh0aGlzLmJ1KSxyPXIuc2NhbGUodGhpcy5idiksbj1uLnNjYWxlKDEtdGhpcy5idS10aGlzLmJ2KSxuZXcgdmUocy54K3IueCtuLngscy55K3IueStuLnkpfX1jbGFzcyBWZXtjb25zdHJ1Y3RvcihlLHQsaSxzLHIsbil7dGhpcy5zb3VyY2U9ZSx0aGlzLnBvaW50ZXJYPXQsdGhpcy5wb2ludGVyWT1pLHRoaXMubWVzaFVuZGVyUG9pbnRlcj1zLHRoaXMuc291cmNlRXZlbnQ9cix0aGlzLmFkZGl0aW9uYWxEYXRhPW59c3RhdGljIENyZWF0ZU5ldyhlLHQsaSl7Y29uc3Qgcz1lLmdldFNjZW5lKCk7cmV0dXJuIG5ldyBWZShlLHMucG9pbnRlclgscy5wb2ludGVyWSxzLm1lc2hVbmRlclBvaW50ZXJ8fGUsdCxpKX1zdGF0aWMgQ3JlYXRlTmV3RnJvbVNwcml0ZShlLHQsaSxzKXtyZXR1cm4gbmV3IFZlKGUsdC5wb2ludGVyWCx0LnBvaW50ZXJZLHQubWVzaFVuZGVyUG9pbnRlcixpLHMpfXN0YXRpYyBDcmVhdGVOZXdGcm9tU2NlbmUoZSx0KXtyZXR1cm4gbmV3IFZlKG51bGwsZS5wb2ludGVyWCxlLnBvaW50ZXJZLGUubWVzaFVuZGVyUG9pbnRlcix0KX1zdGF0aWMgQ3JlYXRlTmV3RnJvbVByaW1pdGl2ZShlLHQsaSxzKXtyZXR1cm4gbmV3IFZlKGUsdC54LHQueSxudWxsLGkscyl9fWNsYXNzIGlze2NvbnN0cnVjdG9yKGUpe3RoaXMuX3ZlcnRleEJ1ZmZlcnM9e30sdGhpcy5fc2NlbmU9ZX1fcHJlcGFyZUJ1ZmZlcnMoKXtpZih0aGlzLl92ZXJ0ZXhCdWZmZXJzW2cuUG9zaXRpb25LaW5kXSlyZXR1cm47Y29uc3QgZT1bXTtlLnB1c2goMSwxKSxlLnB1c2goLTEsMSksZS5wdXNoKC0xLC0xKSxlLnB1c2goMSwtMSksdGhpcy5fdmVydGV4QnVmZmVyc1tnLlBvc2l0aW9uS2luZF09bmV3IGcodGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksZSxnLlBvc2l0aW9uS2luZCwhMSwhMSwyKSx0aGlzLl9idWlsZEluZGV4QnVmZmVyKCl9X2J1aWxkSW5kZXhCdWZmZXIoKXtjb25zdCBlPVtdO2UucHVzaCgwKSxlLnB1c2goMSksZS5wdXNoKDIpLGUucHVzaCgwKSxlLnB1c2goMiksZS5wdXNoKDMpLHRoaXMuX2luZGV4QnVmZmVyPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmNyZWF0ZUluZGV4QnVmZmVyKGUpfV9yZWJ1aWxkKCl7Y29uc3QgZT10aGlzLl92ZXJ0ZXhCdWZmZXJzW2cuUG9zaXRpb25LaW5kXTtlJiYoZS5fcmVidWlsZCgpLHRoaXMuX2J1aWxkSW5kZXhCdWZmZXIoKSl9X3ByZXBhcmVGcmFtZShlPW51bGwsdD1udWxsKXtjb25zdCBpPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTtyZXR1cm4haXx8KHQ9dHx8aS5fcG9zdFByb2Nlc3Nlcy5maWx0ZXIocz0+cyE9bnVsbCksIXR8fHQubGVuZ3RoPT09MHx8IXRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXNFbmFibGVkKT8hMToodFswXS5hY3RpdmF0ZShpLGUsdCE9bnVsbCksITApfWRpcmVjdFJlbmRlcihlLHQ9bnVsbCxpPSExLHM9MCxyPTAsbj0hMSl7dmFyIGE7Y29uc3Qgbz10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtmb3IobGV0IGg9MDtoPGUubGVuZ3RoO2grKyl7aDxlLmxlbmd0aC0xP2VbaCsxXS5hY3RpdmF0ZSh0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsdD09bnVsbD92b2lkIDA6dC50ZXh0dXJlKToodD9vLmJpbmRGcmFtZWJ1ZmZlcih0LHMsdm9pZCAwLHZvaWQgMCxpLHIpOm58fG8ucmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpLChhPW8uX2RlYnVnSW5zZXJ0TWFya2VyKT09PW51bGx8fGE9PT12b2lkIDB8fGEuY2FsbChvLGBwb3N0IHByb2Nlc3MgJHtlW2hdLm5hbWV9IG91dHB1dGApKTtjb25zdCBsPWVbaF0sdT1sLmFwcGx5KCk7dSYmKGwub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh1KSx0aGlzLl9wcmVwYXJlQnVmZmVycygpLG8uYmluZEJ1ZmZlcnModGhpcy5fdmVydGV4QnVmZmVycyx0aGlzLl9pbmRleEJ1ZmZlcix1KSxvLmRyYXdFbGVtZW50c1R5cGUoMCwwLDYpLGwub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHUpKX1vLnNldERlcHRoQnVmZmVyKCEwKSxvLnNldERlcHRoV3JpdGUoITApfV9maW5hbGl6ZUZyYW1lKGUsdCxpLHMscj0hMSl7dmFyIG47Y29uc3QgYT10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7aWYoIWF8fChzPXN8fGEuX3Bvc3RQcm9jZXNzZXMuZmlsdGVyKGg9PmghPW51bGwpLHMubGVuZ3RoPT09MHx8IXRoaXMuX3NjZW5lLnBvc3RQcm9jZXNzZXNFbmFibGVkKSlyZXR1cm47Y29uc3Qgbz10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtmb3IobGV0IGg9MCxsPXMubGVuZ3RoO2g8bDtoKyspe2NvbnN0IHU9c1toXTtpZihoPGwtMT91Ll9vdXRwdXRUZXh0dXJlPXNbaCsxXS5hY3RpdmF0ZShhLHQ9PW51bGw/dm9pZCAwOnQudGV4dHVyZSk6KHQ/KG8uYmluZEZyYW1lYnVmZmVyKHQsaSx2b2lkIDAsdm9pZCAwLHIpLHUuX291dHB1dFRleHR1cmU9dCk6KG8ucmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpLHUuX291dHB1dFRleHR1cmU9bnVsbCksKG49by5fZGVidWdJbnNlcnRNYXJrZXIpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jYWxsKG8sYHBvc3QgcHJvY2VzcyAke3NbaF0ubmFtZX0gb3V0cHV0YCkpLGUpYnJlYWs7Y29uc3QgZD11LmFwcGx5KCk7ZCYmKHUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhkKSx0aGlzLl9wcmVwYXJlQnVmZmVycygpLG8uYmluZEJ1ZmZlcnModGhpcy5fdmVydGV4QnVmZmVycyx0aGlzLl9pbmRleEJ1ZmZlcixkKSxvLmRyYXdFbGVtZW50c1R5cGUoMCwwLDYpLHUub25BZnRlclJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGQpKX1vLnNldERlcHRoQnVmZmVyKCEwKSxvLnNldERlcHRoV3JpdGUoITApLG8uc2V0QWxwaGFNb2RlKDApfWRpc3Bvc2UoKXtjb25zdCBlPXRoaXMuX3ZlcnRleEJ1ZmZlcnNbZy5Qb3NpdGlvbktpbmRdO2UmJihlLmRpc3Bvc2UoKSx0aGlzLl92ZXJ0ZXhCdWZmZXJzW2cuUG9zaXRpb25LaW5kXT1udWxsKSx0aGlzLl9pbmRleEJ1ZmZlciYmKHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9pbmRleEJ1ZmZlcj1udWxsKX19Y2xhc3MgeHR7c2V0IG9wYXF1ZVNvcnRDb21wYXJlRm4oZSl7ZT90aGlzLl9vcGFxdWVTb3J0Q29tcGFyZUZuPWU6dGhpcy5fb3BhcXVlU29ydENvbXBhcmVGbj14dC5QYWludGVyU29ydENvbXBhcmUsdGhpcy5fcmVuZGVyT3BhcXVlPXRoaXMuX3JlbmRlck9wYXF1ZVNvcnRlZH1zZXQgYWxwaGFUZXN0U29ydENvbXBhcmVGbihlKXtlP3RoaXMuX2FscGhhVGVzdFNvcnRDb21wYXJlRm49ZTp0aGlzLl9hbHBoYVRlc3RTb3J0Q29tcGFyZUZuPXh0LlBhaW50ZXJTb3J0Q29tcGFyZSx0aGlzLl9yZW5kZXJBbHBoYVRlc3Q9dGhpcy5fcmVuZGVyQWxwaGFUZXN0U29ydGVkfXNldCB0cmFuc3BhcmVudFNvcnRDb21wYXJlRm4oZSl7ZT90aGlzLl90cmFuc3BhcmVudFNvcnRDb21wYXJlRm49ZTp0aGlzLl90cmFuc3BhcmVudFNvcnRDb21wYXJlRm49eHQuZGVmYXVsdFRyYW5zcGFyZW50U29ydENvbXBhcmUsdGhpcy5fcmVuZGVyVHJhbnNwYXJlbnQ9dGhpcy5fcmVuZGVyVHJhbnNwYXJlbnRTb3J0ZWR9Y29uc3RydWN0b3IoZSx0LGk9bnVsbCxzPW51bGwscj1udWxsKXt0aGlzLmluZGV4PWUsdGhpcy5fb3BhcXVlU3ViTWVzaGVzPW5ldyBKZSgyNTYpLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzPW5ldyBKZSgyNTYpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcz1uZXcgSmUoMjU2KSx0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXM9bmV3IEplKDI1NiksdGhpcy5fcGFydGljbGVTeXN0ZW1zPW5ldyBKZSgyNTYpLHRoaXMuX3Nwcml0ZU1hbmFnZXJzPW5ldyBKZSgyNTYpLHRoaXMuX2VtcHR5PSEwLHRoaXMuX2VkZ2VzUmVuZGVyZXJzPW5ldyBjaSgxNiksdGhpcy5fc2NlbmU9dCx0aGlzLm9wYXF1ZVNvcnRDb21wYXJlRm49aSx0aGlzLmFscGhhVGVzdFNvcnRDb21wYXJlRm49cyx0aGlzLnRyYW5zcGFyZW50U29ydENvbXBhcmVGbj1yfXJlbmRlcihlLHQsaSxzKXtpZihlKXtlKHRoaXMuX29wYXF1ZVN1Yk1lc2hlcyx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMsdGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMsdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzKTtyZXR1cm59Y29uc3Qgcj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMubGVuZ3RoIT09MCYmKHIuc2V0Q29sb3JXcml0ZSghMSksdGhpcy5fcmVuZGVyQWxwaGFUZXN0KHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcyksci5zZXRDb2xvcldyaXRlKCEwKSksdGhpcy5fb3BhcXVlU3ViTWVzaGVzLmxlbmd0aCE9PTAmJnRoaXMuX3JlbmRlck9wYXF1ZSh0aGlzLl9vcGFxdWVTdWJNZXNoZXMpLHRoaXMuX2FscGhhVGVzdFN1Yk1lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9yZW5kZXJBbHBoYVRlc3QodGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzKTtjb25zdCBuPXIuZ2V0U3RlbmNpbEJ1ZmZlcigpO2lmKHIuc2V0U3RlbmNpbEJ1ZmZlcighMSksdCYmdGhpcy5fcmVuZGVyU3ByaXRlcygpLGkmJnRoaXMuX3JlbmRlclBhcnRpY2xlcyhzKSx0aGlzLm9uQmVmb3JlVHJhbnNwYXJlbnRSZW5kZXJpbmcmJnRoaXMub25CZWZvcmVUcmFuc3BhcmVudFJlbmRlcmluZygpLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLmxlbmd0aCE9PTB8fHRoaXMuX3NjZW5lLnVzZU9yZGVySW5kZXBlbmRlbnRUcmFuc3BhcmVuY3kpe2lmKHIuc2V0U3RlbmNpbEJ1ZmZlcihuKSx0aGlzLl9zY2VuZS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5KXtjb25zdCBhPXRoaXMuX3NjZW5lLmRlcHRoUGVlbGluZ1JlbmRlcmVyLnJlbmRlcih0aGlzLl90cmFuc3BhcmVudFN1Yk1lc2hlcyk7YS5sZW5ndGgmJnRoaXMuX3JlbmRlclRyYW5zcGFyZW50KGEpfWVsc2UgdGhpcy5fcmVuZGVyVHJhbnNwYXJlbnQodGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMpO3Iuc2V0QWxwaGFNb2RlKDApfWlmKHIuc2V0U3RlbmNpbEJ1ZmZlcighMSksdGhpcy5fZWRnZXNSZW5kZXJlcnMubGVuZ3RoKXtmb3IobGV0IGE9MDthPHRoaXMuX2VkZ2VzUmVuZGVyZXJzLmxlbmd0aDthKyspdGhpcy5fZWRnZXNSZW5kZXJlcnMuZGF0YVthXS5yZW5kZXIoKTtyLnNldEFscGhhTW9kZSgwKX1yLnNldFN0ZW5jaWxCdWZmZXIobil9X3JlbmRlck9wYXF1ZVNvcnRlZChlKXtyZXR1cm4geHQuX1JlbmRlclNvcnRlZChlLHRoaXMuX29wYXF1ZVNvcnRDb21wYXJlRm4sdGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhLCExKX1fcmVuZGVyQWxwaGFUZXN0U29ydGVkKGUpe3JldHVybiB4dC5fUmVuZGVyU29ydGVkKGUsdGhpcy5fYWxwaGFUZXN0U29ydENvbXBhcmVGbix0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsITEpfV9yZW5kZXJUcmFuc3BhcmVudFNvcnRlZChlKXtyZXR1cm4geHQuX1JlbmRlclNvcnRlZChlLHRoaXMuX3RyYW5zcGFyZW50U29ydENvbXBhcmVGbix0aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmEsITApfXN0YXRpYyBfUmVuZGVyU29ydGVkKGUsdCxpLHMpe2xldCByPTAsbjtjb25zdCBhPWk/aS5nbG9iYWxQb3NpdGlvbjp4dC5fWmVyb1ZlY3RvcjtpZihzKWZvcig7cjxlLmxlbmd0aDtyKyspbj1lLmRhdGFbcl0sbi5fYWxwaGFJbmRleD1uLmdldE1lc2goKS5hbHBoYUluZGV4LG4uX2Rpc3RhbmNlVG9DYW1lcmE9cC5EaXN0YW5jZShuLmdldEJvdW5kaW5nSW5mbygpLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkLGEpO2NvbnN0IG89ZS5sZW5ndGg9PT1lLmRhdGEubGVuZ3RoP2UuZGF0YTplLmRhdGEuc2xpY2UoMCxlLmxlbmd0aCk7dCYmby5zb3J0KHQpO2NvbnN0IGg9b1swXS5nZXRNZXNoKCkuZ2V0U2NlbmUoKTtmb3Iocj0wO3I8by5sZW5ndGg7cisrKWlmKG49b1tyXSwhKGguX2FjdGl2ZU1lc2hlc0Zyb3plbkJ1dEtlZXBDbGlwcGluZyYmIW4uaXNJbkZydXN0dW0oaC5fZnJ1c3R1bVBsYW5lcykpKXtpZihzKXtjb25zdCBsPW4uZ2V0TWF0ZXJpYWwoKTtpZihsJiZsLm5lZWREZXB0aFByZVBhc3Mpe2NvbnN0IHU9bC5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO3Uuc2V0Q29sb3JXcml0ZSghMSksdS5zZXRBbHBoYU1vZGUoMCksbi5yZW5kZXIoITEpLHUuc2V0Q29sb3JXcml0ZSghMCl9fW4ucmVuZGVyKHMpfX1zdGF0aWMgZGVmYXVsdFRyYW5zcGFyZW50U29ydENvbXBhcmUoZSx0KXtyZXR1cm4gZS5fYWxwaGFJbmRleD50Ll9hbHBoYUluZGV4PzE6ZS5fYWxwaGFJbmRleDx0Ll9hbHBoYUluZGV4Py0xOnh0LmJhY2tUb0Zyb250U29ydENvbXBhcmUoZSx0KX1zdGF0aWMgYmFja1RvRnJvbnRTb3J0Q29tcGFyZShlLHQpe3JldHVybiBlLl9kaXN0YW5jZVRvQ2FtZXJhPHQuX2Rpc3RhbmNlVG9DYW1lcmE/MTplLl9kaXN0YW5jZVRvQ2FtZXJhPnQuX2Rpc3RhbmNlVG9DYW1lcmE/LTE6MH1zdGF0aWMgZnJvbnRUb0JhY2tTb3J0Q29tcGFyZShlLHQpe3JldHVybiBlLl9kaXN0YW5jZVRvQ2FtZXJhPHQuX2Rpc3RhbmNlVG9DYW1lcmE/LTE6ZS5fZGlzdGFuY2VUb0NhbWVyYT50Ll9kaXN0YW5jZVRvQ2FtZXJhPzE6MH1zdGF0aWMgUGFpbnRlclNvcnRDb21wYXJlKGUsdCl7Y29uc3QgaT1lLmdldE1lc2goKSxzPXQuZ2V0TWVzaCgpO3JldHVybiBpLm1hdGVyaWFsJiZzLm1hdGVyaWFsP2kubWF0ZXJpYWwudW5pcXVlSWQtcy5tYXRlcmlhbC51bmlxdWVJZDppLnVuaXF1ZUlkLXMudW5pcXVlSWR9cHJlcGFyZSgpe3RoaXMuX29wYXF1ZVN1Yk1lc2hlcy5yZXNldCgpLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLnJlc2V0KCksdGhpcy5fYWxwaGFUZXN0U3ViTWVzaGVzLnJlc2V0KCksdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLnJlc2V0KCksdGhpcy5fcGFydGljbGVTeXN0ZW1zLnJlc2V0KCksdGhpcy5wcmVwYXJlU3ByaXRlcygpLHRoaXMuX2VkZ2VzUmVuZGVyZXJzLnJlc2V0KCksdGhpcy5fZW1wdHk9ITB9cHJlcGFyZVNwcml0ZXMoKXt0aGlzLl9zcHJpdGVNYW5hZ2Vycy5yZXNldCgpfWRpc3Bvc2UoKXt0aGlzLl9vcGFxdWVTdWJNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3RyYW5zcGFyZW50U3ViTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX2RlcHRoT25seVN1Yk1lc2hlcy5kaXNwb3NlKCksdGhpcy5fcGFydGljbGVTeXN0ZW1zLmRpc3Bvc2UoKSx0aGlzLl9zcHJpdGVNYW5hZ2Vycy5kaXNwb3NlKCksdGhpcy5fZWRnZXNSZW5kZXJlcnMuZGlzcG9zZSgpfWRpc3BhdGNoKGUsdCxpKXt0PT09dm9pZCAwJiYodD1lLmdldE1lc2goKSksaT09PXZvaWQgMCYmKGk9ZS5nZXRNYXRlcmlhbCgpKSxpIT1udWxsJiYoaS5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2godCk/dGhpcy5fdHJhbnNwYXJlbnRTdWJNZXNoZXMucHVzaChlKTppLm5lZWRBbHBoYVRlc3RpbmcoKT8oaS5uZWVkRGVwdGhQcmVQYXNzJiZ0aGlzLl9kZXB0aE9ubHlTdWJNZXNoZXMucHVzaChlKSx0aGlzLl9hbHBoYVRlc3RTdWJNZXNoZXMucHVzaChlKSk6KGkubmVlZERlcHRoUHJlUGFzcyYmdGhpcy5fZGVwdGhPbmx5U3ViTWVzaGVzLnB1c2goZSksdGhpcy5fb3BhcXVlU3ViTWVzaGVzLnB1c2goZSkpLHQuX3JlbmRlcmluZ0dyb3VwPXRoaXMsdC5fZWRnZXNSZW5kZXJlciYmdC5fZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX2VkZ2VzUmVuZGVyZXJzLnB1c2hOb0R1cGxpY2F0ZSh0Ll9lZGdlc1JlbmRlcmVyKSx0aGlzLl9lbXB0eT0hMSl9ZGlzcGF0Y2hTcHJpdGVzKGUpe3RoaXMuX3Nwcml0ZU1hbmFnZXJzLnB1c2goZSksdGhpcy5fZW1wdHk9ITF9ZGlzcGF0Y2hQYXJ0aWNsZXMoZSl7dGhpcy5fcGFydGljbGVTeXN0ZW1zLnB1c2goZSksdGhpcy5fZW1wdHk9ITF9X3JlbmRlclBhcnRpY2xlcyhlKXtpZih0aGlzLl9wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoPT09MClyZXR1cm47Y29uc3QgdD10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7dGhpcy5fc2NlbmUub25CZWZvcmVQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLl9zY2VuZSk7Zm9yKGxldCBpPTA7aTx0aGlzLl9wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLl9wYXJ0aWNsZVN5c3RlbXMuZGF0YVtpXTtpZigodCYmdC5sYXllck1hc2smcy5sYXllck1hc2spPT09MCljb250aW51ZTtjb25zdCByPXMuZW1pdHRlcjsoIXIucG9zaXRpb258fCFlfHxlLmluZGV4T2YocikhPT0tMSkmJnRoaXMuX3NjZW5lLl9hY3RpdmVQYXJ0aWNsZXMuYWRkQ291bnQocy5yZW5kZXIoKSwhMSl9dGhpcy5fc2NlbmUub25BZnRlclBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX3NjZW5lKX1fcmVuZGVyU3ByaXRlcygpe2lmKCF0aGlzLl9zY2VuZS5zcHJpdGVzRW5hYmxlZHx8dGhpcy5fc3ByaXRlTWFuYWdlcnMubGVuZ3RoPT09MClyZXR1cm47Y29uc3QgZT10aGlzLl9zY2VuZS5hY3RpdmVDYW1lcmE7dGhpcy5fc2NlbmUub25CZWZvcmVTcHJpdGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpO2ZvcihsZXQgdD0wO3Q8dGhpcy5fc3ByaXRlTWFuYWdlcnMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLl9zcHJpdGVNYW5hZ2Vycy5kYXRhW3RdOyhlJiZlLmxheWVyTWFzayZpLmxheWVyTWFzaykhPT0wJiZpLnJlbmRlcigpfXRoaXMuX3NjZW5lLm9uQWZ0ZXJTcHJpdGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fc2NlbmUpfX14dC5fWmVyb1ZlY3Rvcj1wLlplcm8oKTtjbGFzcyBEbnt9Y2xhc3MgV2V7Z2V0IG1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzKCl7cmV0dXJuIHRoaXMuX21haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzfXNldCBtYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcyhlKXtpZihlIT09dGhpcy5fbWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMmJih0aGlzLl9tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcz1lLCF0aGlzLl9tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcykpe2Zvcihjb25zdCB0IG9mIHRoaXMuX3NjZW5lLm1lc2hlcylpZih0LnN1Yk1lc2hlcylmb3IoY29uc3QgaSBvZiB0LnN1Yk1lc2hlcylpLl93YXNEaXNwYXRjaGVkPSExO2lmKHRoaXMuX3NjZW5lLnNwcml0ZU1hbmFnZXJzKWZvcihjb25zdCB0IG9mIHRoaXMuX3NjZW5lLnNwcml0ZU1hbmFnZXJzKXQuX3dhc0Rpc3BhdGNoZWQ9ITE7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fc2NlbmUucGFydGljbGVTeXN0ZW1zKXQuX3dhc0Rpc3BhdGNoZWQ9ITF9fWNvbnN0cnVjdG9yKGUpe3RoaXMuX3VzZVNjZW5lQXV0b0NsZWFyU2V0dXA9ITEsdGhpcy5fcmVuZGVyaW5nR3JvdXBzPW5ldyBBcnJheSx0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWw9e30sdGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbj17fSx0aGlzLl9jdXN0b21BbHBoYVRlc3RTb3J0Q29tcGFyZUZuPXt9LHRoaXMuX2N1c3RvbVRyYW5zcGFyZW50U29ydENvbXBhcmVGbj17fSx0aGlzLl9yZW5kZXJpbmdHcm91cEluZm89bmV3IERuLHRoaXMuX21haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzPSExLHRoaXMuX3NjZW5lPWU7Zm9yKGxldCB0PVdlLk1JTl9SRU5ERVJJTkdHUk9VUFM7dDxXZS5NQVhfUkVOREVSSU5HR1JPVVBTO3QrKyl0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbdF09e2F1dG9DbGVhcjohMCxkZXB0aDohMCxzdGVuY2lsOiEwfX1nZXRSZW5kZXJpbmdHcm91cChlKXtjb25zdCB0PWV8fDA7cmV0dXJuIHRoaXMuX3ByZXBhcmVSZW5kZXJpbmdHcm91cCh0KSx0aGlzLl9yZW5kZXJpbmdHcm91cHNbdF19X2NsZWFyRGVwdGhTdGVuY2lsQnVmZmVyKGU9ITAsdD0hMCl7dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyQWxyZWFkeUNsZWFuZWR8fCh0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5jbGVhcihudWxsLCExLGUsdCksdGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyQWxyZWFkeUNsZWFuZWQ9ITApfXJlbmRlcihlLHQsaSxzKXtjb25zdCByPXRoaXMuX3JlbmRlcmluZ0dyb3VwSW5mbztpZihyLnNjZW5lPXRoaXMuX3NjZW5lLHIuY2FtZXJhPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSx0aGlzLl9zY2VuZS5zcHJpdGVNYW5hZ2VycyYmcylmb3IobGV0IG49MDtuPHRoaXMuX3NjZW5lLnNwcml0ZU1hbmFnZXJzLmxlbmd0aDtuKyspe2NvbnN0IGE9dGhpcy5fc2NlbmUuc3ByaXRlTWFuYWdlcnNbbl07dGhpcy5kaXNwYXRjaFNwcml0ZXMoYSl9Zm9yKGxldCBuPVdlLk1JTl9SRU5ERVJJTkdHUk9VUFM7bjxXZS5NQVhfUkVOREVSSU5HR1JPVVBTO24rKyl7dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyQWxyZWFkeUNsZWFuZWQ9bj09PVdlLk1JTl9SRU5ERVJJTkdHUk9VUFM7Y29uc3QgYT10aGlzLl9yZW5kZXJpbmdHcm91cHNbbl07aWYoIWF8fGEuX2VtcHR5KWNvbnRpbnVlO2NvbnN0IG89TWF0aC5wb3coMixuKTtpZihyLnJlbmRlcmluZ0dyb3VwSWQ9bix0aGlzLl9zY2VuZS5vbkJlZm9yZVJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocixvKSxXZS5BVVRPQ0xFQVIpe2NvbnN0IGg9dGhpcy5fdXNlU2NlbmVBdXRvQ2xlYXJTZXR1cD90aGlzLl9zY2VuZS5nZXRBdXRvQ2xlYXJEZXB0aFN0ZW5jaWxTZXR1cChuKTp0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbbl07aCYmaC5hdXRvQ2xlYXImJnRoaXMuX2NsZWFyRGVwdGhTdGVuY2lsQnVmZmVyKGguZGVwdGgsaC5zdGVuY2lsKX1mb3IoY29uc3QgaCBvZiB0aGlzLl9zY2VuZS5fYmVmb3JlUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2UpaC5hY3Rpb24obik7YS5yZW5kZXIoZSxzLGksdCk7Zm9yKGNvbnN0IGggb2YgdGhpcy5fc2NlbmUuX2FmdGVyUmVuZGVyaW5nR3JvdXBEcmF3U3RhZ2UpaC5hY3Rpb24obik7dGhpcy5fc2NlbmUub25BZnRlclJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocixvKX19cmVzZXQoKXtpZighdGhpcy5tYWludGFpblN0YXRlQmV0d2VlbkZyYW1lcylmb3IobGV0IGU9V2UuTUlOX1JFTkRFUklOR0dST1VQUztlPFdlLk1BWF9SRU5ERVJJTkdHUk9VUFM7ZSsrKXtjb25zdCB0PXRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXTt0JiZ0LnByZXBhcmUoKX19cmVzZXRTcHJpdGVzKCl7aWYoIXRoaXMubWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXMpZm9yKGxldCBlPVdlLk1JTl9SRU5ERVJJTkdHUk9VUFM7ZTxXZS5NQVhfUkVOREVSSU5HR1JPVVBTO2UrKyl7Y29uc3QgdD10aGlzLl9yZW5kZXJpbmdHcm91cHNbZV07dCYmdC5wcmVwYXJlU3ByaXRlcygpfX1kaXNwb3NlKCl7dGhpcy5mcmVlUmVuZGVyaW5nR3JvdXBzKCksdGhpcy5fcmVuZGVyaW5nR3JvdXBzLmxlbmd0aD0wLHRoaXMuX3JlbmRlcmluZ0dyb3VwSW5mbz1udWxsfWZyZWVSZW5kZXJpbmdHcm91cHMoKXtmb3IobGV0IGU9V2UuTUlOX1JFTkRFUklOR0dST1VQUztlPFdlLk1BWF9SRU5ERVJJTkdHUk9VUFM7ZSsrKXtjb25zdCB0PXRoaXMuX3JlbmRlcmluZ0dyb3Vwc1tlXTt0JiZ0LmRpc3Bvc2UoKX19X3ByZXBhcmVSZW5kZXJpbmdHcm91cChlKXt0aGlzLl9yZW5kZXJpbmdHcm91cHNbZV09PT12b2lkIDAmJih0aGlzLl9yZW5kZXJpbmdHcm91cHNbZV09bmV3IHh0KGUsdGhpcy5fc2NlbmUsdGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbltlXSx0aGlzLl9jdXN0b21BbHBoYVRlc3RTb3J0Q29tcGFyZUZuW2VdLHRoaXMuX2N1c3RvbVRyYW5zcGFyZW50U29ydENvbXBhcmVGbltlXSkpfWRpc3BhdGNoU3ByaXRlcyhlKXt0aGlzLm1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzJiZlLl93YXNEaXNwYXRjaGVkfHwoZS5fd2FzRGlzcGF0Y2hlZD0hMCx0aGlzLmdldFJlbmRlcmluZ0dyb3VwKGUucmVuZGVyaW5nR3JvdXBJZCkuZGlzcGF0Y2hTcHJpdGVzKGUpKX1kaXNwYXRjaFBhcnRpY2xlcyhlKXt0aGlzLm1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzJiZlLl93YXNEaXNwYXRjaGVkfHwoZS5fd2FzRGlzcGF0Y2hlZD0hMCx0aGlzLmdldFJlbmRlcmluZ0dyb3VwKGUucmVuZGVyaW5nR3JvdXBJZCkuZGlzcGF0Y2hQYXJ0aWNsZXMoZSkpfWRpc3BhdGNoKGUsdCxpKXt0PT09dm9pZCAwJiYodD1lLmdldE1lc2goKSksISh0aGlzLm1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzJiZlLl93YXNEaXNwYXRjaGVkKSYmKGUuX3dhc0Rpc3BhdGNoZWQ9ITAsdGhpcy5nZXRSZW5kZXJpbmdHcm91cCh0LnJlbmRlcmluZ0dyb3VwSWQpLmRpc3BhdGNoKGUsdCxpKSl9c2V0UmVuZGVyaW5nT3JkZXIoZSx0PW51bGwsaT1udWxsLHM9bnVsbCl7aWYodGhpcy5fY3VzdG9tT3BhcXVlU29ydENvbXBhcmVGbltlXT10LHRoaXMuX2N1c3RvbUFscGhhVGVzdFNvcnRDb21wYXJlRm5bZV09aSx0aGlzLl9jdXN0b21UcmFuc3BhcmVudFNvcnRDb21wYXJlRm5bZV09cyx0aGlzLl9yZW5kZXJpbmdHcm91cHNbZV0pe2NvbnN0IHI9dGhpcy5fcmVuZGVyaW5nR3JvdXBzW2VdO3Iub3BhcXVlU29ydENvbXBhcmVGbj10aGlzLl9jdXN0b21PcGFxdWVTb3J0Q29tcGFyZUZuW2VdLHIuYWxwaGFUZXN0U29ydENvbXBhcmVGbj10aGlzLl9jdXN0b21BbHBoYVRlc3RTb3J0Q29tcGFyZUZuW2VdLHIudHJhbnNwYXJlbnRTb3J0Q29tcGFyZUZuPXRoaXMuX2N1c3RvbVRyYW5zcGFyZW50U29ydENvbXBhcmVGbltlXX19c2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKGUsdCxpPSEwLHM9ITApe3RoaXMuX2F1dG9DbGVhckRlcHRoU3RlbmNpbFtlXT17YXV0b0NsZWFyOnQsZGVwdGg6aSxzdGVuY2lsOnN9fWdldEF1dG9DbGVhckRlcHRoU3RlbmNpbFNldHVwKGUpe3JldHVybiB0aGlzLl9hdXRvQ2xlYXJEZXB0aFN0ZW5jaWxbZV19fVdlLk1BWF9SRU5ERVJJTkdHUk9VUFM9NCxXZS5NSU5fUkVOREVSSU5HR1JPVVBTPTAsV2UuQVVUT0NMRUFSPSEwO2NsYXNzIGp7fWouTkFNRV9FRkZFQ1RMQVlFUj0iRWZmZWN0TGF5ZXIiLGouTkFNRV9MQVlFUj0iTGF5ZXIiLGouTkFNRV9MRU5TRkxBUkVTWVNURU09IkxlbnNGbGFyZVN5c3RlbSIsai5OQU1FX0JPVU5ESU5HQk9YUkVOREVSRVI9IkJvdW5kaW5nQm94UmVuZGVyZXIiLGouTkFNRV9QQVJUSUNMRVNZU1RFTT0iUGFydGljbGVTeXN0ZW0iLGouTkFNRV9HQU1FUEFEPSJHYW1lcGFkIixqLk5BTUVfU0lNUExJRklDQVRJT05RVUVVRT0iU2ltcGxpZmljYXRpb25RdWV1ZSIsai5OQU1FX0dFT01FVFJZQlVGRkVSUkVOREVSRVI9Ikdlb21ldHJ5QnVmZmVyUmVuZGVyZXIiLGouTkFNRV9QUkVQQVNTUkVOREVSRVI9IlByZVBhc3NSZW5kZXJlciIsai5OQU1FX0RFUFRIUkVOREVSRVI9IkRlcHRoUmVuZGVyZXIiLGouTkFNRV9ERVBUSFBFRUxJTkdSRU5ERVJFUj0iRGVwdGhQZWVsaW5nUmVuZGVyZXIiLGouTkFNRV9QT1NUUFJPQ0VTU1JFTkRFUlBJUEVMSU5FTUFOQUdFUj0iUG9zdFByb2Nlc3NSZW5kZXJQaXBlbGluZU1hbmFnZXIiLGouTkFNRV9TUFJJVEU9IlNwcml0ZSIsai5OQU1FX1NVQlNVUkZBQ0U9IlN1YlN1cmZhY2UiLGouTkFNRV9PVVRMSU5FUkVOREVSRVI9Ik91dGxpbmUiLGouTkFNRV9QUk9DRURVUkFMVEVYVFVSRT0iUHJvY2VkdXJhbFRleHR1cmUiLGouTkFNRV9TSEFET1dHRU5FUkFUT1I9IlNoYWRvd0dlbmVyYXRvciIsai5OQU1FX09DVFJFRT0iT2N0cmVlIixqLk5BTUVfUEhZU0lDU0VOR0lORT0iUGh5c2ljc0VuZ2luZSIsai5OQU1FX0FVRElPPSJBdWRpbyIsai5OQU1FX0ZMVUlEUkVOREVSRVI9IkZsdWlkUmVuZGVyZXIiLGouU1RFUF9JU1JFQURZRk9STUVTSF9FRkZFQ1RMQVlFUj0wLGouU1RFUF9CRUZPUkVFVkFMVUFURUFDVElWRU1FU0hfQk9VTkRJTkdCT1hSRU5ERVJFUj0wLGouU1RFUF9FVkFMVUFURVNVQk1FU0hfQk9VTkRJTkdCT1hSRU5ERVJFUj0wLGouU1RFUF9QUkVBQ1RJVkVNRVNIX0JPVU5ESU5HQk9YUkVOREVSRVI9MCxqLlNURVBfQ0FNRVJBRFJBV1JFTkRFUlRBUkdFVF9FRkZFQ1RMQVlFUj0xLGouU1RFUF9CRUZPUkVDQU1FUkFEUkFXX1BSRVBBU1M9MCxqLlNURVBfQkVGT1JFQ0FNRVJBRFJBV19FRkZFQ1RMQVlFUj0xLGouU1RFUF9CRUZPUkVDQU1FUkFEUkFXX0xBWUVSPTIsai5TVEVQX0JFRk9SRVJFTkRFUlRBUkdFVERSQVdfUFJFUEFTUz0wLGouU1RFUF9CRUZPUkVSRU5ERVJUQVJHRVREUkFXX0xBWUVSPTEsai5TVEVQX0JFRk9SRVJFTkRFUklOR01FU0hfUFJFUEFTUz0wLGouU1RFUF9CRUZPUkVSRU5ERVJJTkdNRVNIX09VVExJTkU9MSxqLlNURVBfQUZURVJSRU5ERVJJTkdNRVNIX1BSRVBBU1M9MCxqLlNURVBfQUZURVJSRU5ERVJJTkdNRVNIX09VVExJTkU9MSxqLlNURVBfQUZURVJSRU5ERVJJTkdHUk9VUERSQVdfRUZGRUNUTEFZRVJfRFJBVz0wLGouU1RFUF9BRlRFUlJFTkRFUklOR0dST1VQRFJBV19CT1VORElOR0JPWFJFTkRFUkVSPTEsai5TVEVQX0JFRk9SRUNBTUVSQVVQREFURV9TSU1QTElGSUNBVElPTlFVRVVFPTAsai5TVEVQX0JFRk9SRUNBTUVSQVVQREFURV9HQU1FUEFEPTEsai5TVEVQX0JFRk9SRUNMRUFSX1BST0NFRFVSQUxURVhUVVJFPTAsai5TVEVQX0JFRk9SRUNMRUFSX1BSRVBBU1M9MSxqLlNURVBfQkVGT1JFUkVOREVSVEFSR0VUQ0xFQVJfUFJFUEFTUz0wLGouU1RFUF9BRlRFUlJFTkRFUlRBUkdFVERSQVdfUFJFUEFTUz0wLGouU1RFUF9BRlRFUlJFTkRFUlRBUkdFVERSQVdfTEFZRVI9MSxqLlNURVBfQUZURVJDQU1FUkFEUkFXX1BSRVBBU1M9MCxqLlNURVBfQUZURVJDQU1FUkFEUkFXX0VGRkVDVExBWUVSPTEsai5TVEVQX0FGVEVSQ0FNRVJBRFJBV19MRU5TRkxBUkVTWVNURU09MixqLlNURVBfQUZURVJDQU1FUkFEUkFXX0VGRkVDVExBWUVSX0RSQVc9MyxqLlNURVBfQUZURVJDQU1FUkFEUkFXX0xBWUVSPTQsai5TVEVQX0FGVEVSQ0FNRVJBRFJBV19GTFVJRFJFTkRFUkVSPTUsai5TVEVQX0FGVEVSQ0FNRVJBUE9TVFBST0NFU1NfTEFZRVI9MCxqLlNURVBfQUZURVJSRU5ERVJUQVJHRVRQT1NUUFJPQ0VTU19MQVlFUj0wLGouU1RFUF9BRlRFUlJFTkRFUl9BVURJTz0wLGouU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX0RFUFRIUkVOREVSRVI9MCxqLlNURVBfR0FUSEVSUkVOREVSVEFSR0VUU19HRU9NRVRSWUJVRkZFUlJFTkRFUkVSPTEsai5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfU0hBRE9XR0VORVJBVE9SPTIsai5TVEVQX0dBVEhFUlJFTkRFUlRBUkdFVFNfUE9TVFBST0NFU1NSRU5ERVJQSVBFTElORU1BTkFHRVI9MyxqLlNURVBfR0FUSEVSQUNUSVZFQ0FNRVJBUkVOREVSVEFSR0VUU19ERVBUSFJFTkRFUkVSPTAsai5TVEVQX0dBVEhFUkFDVElWRUNBTUVSQVJFTkRFUlRBUkdFVFNfRkxVSURSRU5ERVJFUj0xLGouU1RFUF9QT0lOVEVSTU9WRV9TUFJJVEU9MCxqLlNURVBfUE9JTlRFUkRPV05fU1BSSVRFPTAsai5TVEVQX1BPSU5URVJVUF9TUFJJVEU9MDtjbGFzcyBJZSBleHRlbmRzIEFycmF5e2NvbnN0cnVjdG9yKGUpe3N1cGVyKC4uLmUpfXN0YXRpYyBDcmVhdGUoKXtyZXR1cm4gT2JqZWN0LmNyZWF0ZShJZS5wcm90b3R5cGUpfXJlZ2lzdGVyU3RlcChlLHQsaSl7bGV0IHM9MCxyPU51bWJlci5NQVhfVkFMVUU7Zm9yKDtzPHRoaXMubGVuZ3RoJiYocj10aGlzW3NdLmluZGV4LCEoZTxyKSk7cysrKTt0aGlzLnNwbGljZShzLDAse2luZGV4OmUsY29tcG9uZW50OnQsYWN0aW9uOmkuYmluZCh0KX0pfWNsZWFyKCl7dGhpcy5sZW5ndGg9MH19Y2xhc3MgcGV7fXBlLlBPSU5URVJET1dOPTEscGUuUE9JTlRFUlVQPTIscGUuUE9JTlRFUk1PVkU9NCxwZS5QT0lOVEVSV0hFRUw9OCxwZS5QT0lOVEVSUElDSz0xNixwZS5QT0lOVEVSVEFQPTMyLHBlLlBPSU5URVJET1VCTEVUQVA9NjQ7Y2xhc3MgbXJ7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9ZSx0aGlzLmV2ZW50PXR9fWNsYXNzIEZuIGV4dGVuZHMgbXJ7Y29uc3RydWN0b3IoZSx0LGkscyl7c3VwZXIoZSx0KSx0aGlzLnJheT1udWxsLHRoaXMub3JpZ2luYWxQaWNraW5nSW5mbz1udWxsLHRoaXMuc2tpcE9uUG9pbnRlck9ic2VydmFibGU9ITEsdGhpcy5sb2NhbFBvc2l0aW9uPW5ldyB2ZShpLHMpfX1jbGFzcyBWdCBleHRlbmRzIG1ye2dldCBwaWNrSW5mbygpe3JldHVybiB0aGlzLl9waWNrSW5mb3x8dGhpcy5fZ2VuZXJhdGVQaWNrSW5mbygpLHRoaXMuX3BpY2tJbmZvfWNvbnN0cnVjdG9yKGUsdCxpLHM9bnVsbCl7c3VwZXIoZSx0KSx0aGlzLl9waWNrSW5mbz1pLHRoaXMuX2lucHV0TWFuYWdlcj1zfV9nZW5lcmF0ZVBpY2tJbmZvKCl7dGhpcy5faW5wdXRNYW5hZ2VyJiYodGhpcy5fcGlja0luZm89dGhpcy5faW5wdXRNYW5hZ2VyLl9waWNrTW92ZSh0aGlzLmV2ZW50KSx0aGlzLl9pbnB1dE1hbmFnZXIuX3NldFJheU9uUG9pbnRlckluZm8odGhpcy5fcGlja0luZm8sdGhpcy5ldmVudCksdGhpcy5faW5wdXRNYW5hZ2VyPW51bGwpfX1jbGFzcyBkdHtjb25zdHJ1Y3Rvcigpe3RoaXMuaG92ZXJDdXJzb3I9IiIsdGhpcy5hY3Rpb25zPW5ldyBBcnJheSx0aGlzLmlzUmVjdXJzaXZlPSExfXN0YXRpYyBnZXQgSGFzVHJpZ2dlcnMoKXtmb3IoY29uc3QgZSBpbiBkdC5UcmlnZ2VycylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZHQuVHJpZ2dlcnMsZSkpcmV0dXJuITA7cmV0dXJuITF9c3RhdGljIGdldCBIYXNQaWNrVHJpZ2dlcnMoKXtmb3IoY29uc3QgZSBpbiBkdC5UcmlnZ2VycylpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZHQuVHJpZ2dlcnMsZSkpe2NvbnN0IHQ9cGFyc2VJbnQoZSk7aWYodD49MSYmdDw9NylyZXR1cm4hMH1yZXR1cm4hMX1zdGF0aWMgSGFzU3BlY2lmaWNUcmlnZ2VyKGUpe2Zvcihjb25zdCB0IGluIGR0LlRyaWdnZXJzKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkdC5UcmlnZ2Vycyx0KSYmcGFyc2VJbnQodCk9PT1lKXJldHVybiEwO3JldHVybiExfX1kdC5UcmlnZ2Vycz17fTtjbGFzcyBzc3t9c3MuS0VZRE9XTj0xLHNzLktFWVVQPTI7Y2xhc3Mgd3N7Y29uc3RydWN0b3IoZSx0KXt0aGlzLnR5cGU9ZSx0aGlzLmV2ZW50PXR9fWNsYXNzIHZyIGV4dGVuZHMgd3N7Z2V0IHNraXBPblBvaW50ZXJPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuc2tpcE9uS2V5Ym9hcmRPYnNlcnZhYmxlfXNldCBza2lwT25Qb2ludGVyT2JzZXJ2YWJsZShlKXt0aGlzLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZT1lfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLnR5cGU9ZSx0aGlzLmV2ZW50PXQsdGhpcy5za2lwT25LZXlib2FyZE9ic2VydmFibGU9ITF9fXZhciBHOyhmdW5jdGlvbihjKXtjW2MuR2VuZXJpYz0wXT0iR2VuZXJpYyIsY1tjLktleWJvYXJkPTFdPSJLZXlib2FyZCIsY1tjLk1vdXNlPTJdPSJNb3VzZSIsY1tjLlRvdWNoPTNdPSJUb3VjaCIsY1tjLkR1YWxTaG9jaz00XT0iRHVhbFNob2NrIixjW2MuWGJveD01XT0iWGJveCIsY1tjLlN3aXRjaD02XT0iU3dpdGNoIixjW2MuRHVhbFNlbnNlPTddPSJEdWFsU2Vuc2UifSkoR3x8KEc9e30pKTt2YXIgSjsoZnVuY3Rpb24oYyl7Y1tjLkhvcml6b250YWw9MF09Ikhvcml6b250YWwiLGNbYy5WZXJ0aWNhbD0xXT0iVmVydGljYWwiLGNbYy5MZWZ0Q2xpY2s9Ml09IkxlZnRDbGljayIsY1tjLk1pZGRsZUNsaWNrPTNdPSJNaWRkbGVDbGljayIsY1tjLlJpZ2h0Q2xpY2s9NF09IlJpZ2h0Q2xpY2siLGNbYy5Ccm93c2VyQmFjaz01XT0iQnJvd3NlckJhY2siLGNbYy5Ccm93c2VyRm9yd2FyZD02XT0iQnJvd3NlckZvcndhcmQiLGNbYy5Nb3VzZVdoZWVsWD03XT0iTW91c2VXaGVlbFgiLGNbYy5Nb3VzZVdoZWVsWT04XT0iTW91c2VXaGVlbFkiLGNbYy5Nb3VzZVdoZWVsWj05XT0iTW91c2VXaGVlbFoiLGNbYy5Nb3ZlPTEyXT0iTW92ZSJ9KShKfHwoSj17fSkpO3ZhciByczsoZnVuY3Rpb24oYyl7Y1tjLkhvcml6b250YWw9MF09Ikhvcml6b250YWwiLGNbYy5WZXJ0aWNhbD0xXT0iVmVydGljYWwiLGNbYy5MZWZ0Q2xpY2s9Ml09IkxlZnRDbGljayIsY1tjLk1pZGRsZUNsaWNrPTNdPSJNaWRkbGVDbGljayIsY1tjLlJpZ2h0Q2xpY2s9NF09IlJpZ2h0Q2xpY2siLGNbYy5Ccm93c2VyQmFjaz01XT0iQnJvd3NlckJhY2siLGNbYy5Ccm93c2VyRm9yd2FyZD02XT0iQnJvd3NlckZvcndhcmQiLGNbYy5Nb3VzZVdoZWVsWD03XT0iTW91c2VXaGVlbFgiLGNbYy5Nb3VzZVdoZWVsWT04XT0iTW91c2VXaGVlbFkiLGNbYy5Nb3VzZVdoZWVsWj05XT0iTW91c2VXaGVlbFoiLGNbYy5EZWx0YUhvcml6b250YWw9MTBdPSJEZWx0YUhvcml6b250YWwiLGNbYy5EZWx0YVZlcnRpY2FsPTExXT0iRGVsdGFWZXJ0aWNhbCJ9KShyc3x8KHJzPXt9KSk7dmFyIEVyOyhmdW5jdGlvbihjKXtjW2MuQ3Jvc3M9MF09IkNyb3NzIixjW2MuQ2lyY2xlPTFdPSJDaXJjbGUiLGNbYy5TcXVhcmU9Ml09IlNxdWFyZSIsY1tjLlRyaWFuZ2xlPTNdPSJUcmlhbmdsZSIsY1tjLkwxPTRdPSJMMSIsY1tjLlIxPTVdPSJSMSIsY1tjLkwyPTZdPSJMMiIsY1tjLlIyPTddPSJSMiIsY1tjLlNoYXJlPThdPSJTaGFyZSIsY1tjLk9wdGlvbnM9OV09Ik9wdGlvbnMiLGNbYy5MMz0xMF09IkwzIixjW2MuUjM9MTFdPSJSMyIsY1tjLkRQYWRVcD0xMl09IkRQYWRVcCIsY1tjLkRQYWREb3duPTEzXT0iRFBhZERvd24iLGNbYy5EUGFkTGVmdD0xNF09IkRQYWRMZWZ0IixjW2MuRFBhZFJpZ2h0PTE1XT0iRFBhZFJpZ2h0IixjW2MuSG9tZT0xNl09IkhvbWUiLGNbYy5Ub3VjaFBhZD0xN109IlRvdWNoUGFkIixjW2MuTFN0aWNrWEF4aXM9MThdPSJMU3RpY2tYQXhpcyIsY1tjLkxTdGlja1lBeGlzPTE5XT0iTFN0aWNrWUF4aXMiLGNbYy5SU3RpY2tYQXhpcz0yMF09IlJTdGlja1hBeGlzIixjW2MuUlN0aWNrWUF4aXM9MjFdPSJSU3RpY2tZQXhpcyJ9KShFcnx8KEVyPXt9KSk7dmFyIFRyOyhmdW5jdGlvbihjKXtjW2MuQ3Jvc3M9MF09IkNyb3NzIixjW2MuQ2lyY2xlPTFdPSJDaXJjbGUiLGNbYy5TcXVhcmU9Ml09IlNxdWFyZSIsY1tjLlRyaWFuZ2xlPTNdPSJUcmlhbmdsZSIsY1tjLkwxPTRdPSJMMSIsY1tjLlIxPTVdPSJSMSIsY1tjLkwyPTZdPSJMMiIsY1tjLlIyPTddPSJSMiIsY1tjLkNyZWF0ZT04XT0iQ3JlYXRlIixjW2MuT3B0aW9ucz05XT0iT3B0aW9ucyIsY1tjLkwzPTEwXT0iTDMiLGNbYy5SMz0xMV09IlIzIixjW2MuRFBhZFVwPTEyXT0iRFBhZFVwIixjW2MuRFBhZERvd249MTNdPSJEUGFkRG93biIsY1tjLkRQYWRMZWZ0PTE0XT0iRFBhZExlZnQiLGNbYy5EUGFkUmlnaHQ9MTVdPSJEUGFkUmlnaHQiLGNbYy5Ib21lPTE2XT0iSG9tZSIsY1tjLlRvdWNoUGFkPTE3XT0iVG91Y2hQYWQiLGNbYy5MU3RpY2tYQXhpcz0xOF09IkxTdGlja1hBeGlzIixjW2MuTFN0aWNrWUF4aXM9MTldPSJMU3RpY2tZQXhpcyIsY1tjLlJTdGlja1hBeGlzPTIwXT0iUlN0aWNrWEF4aXMiLGNbYy5SU3RpY2tZQXhpcz0yMV09IlJTdGlja1lBeGlzIn0pKFRyfHwoVHI9e30pKTt2YXIgYnI7KGZ1bmN0aW9uKGMpe2NbYy5BPTBdPSJBIixjW2MuQj0xXT0iQiIsY1tjLlg9Ml09IlgiLGNbYy5ZPTNdPSJZIixjW2MuTEI9NF09IkxCIixjW2MuUkI9NV09IlJCIixjW2MuTFQ9Nl09IkxUIixjW2MuUlQ9N109IlJUIixjW2MuQmFjaz04XT0iQmFjayIsY1tjLlN0YXJ0PTldPSJTdGFydCIsY1tjLkxTPTEwXT0iTFMiLGNbYy5SUz0xMV09IlJTIixjW2MuRFBhZFVwPTEyXT0iRFBhZFVwIixjW2MuRFBhZERvd249MTNdPSJEUGFkRG93biIsY1tjLkRQYWRMZWZ0PTE0XT0iRFBhZExlZnQiLGNbYy5EUGFkUmlnaHQ9MTVdPSJEUGFkUmlnaHQiLGNbYy5Ib21lPTE2XT0iSG9tZSIsY1tjLkxTdGlja1hBeGlzPTE3XT0iTFN0aWNrWEF4aXMiLGNbYy5MU3RpY2tZQXhpcz0xOF09IkxTdGlja1lBeGlzIixjW2MuUlN0aWNrWEF4aXM9MTldPSJSU3RpY2tYQXhpcyIsY1tjLlJTdGlja1lBeGlzPTIwXT0iUlN0aWNrWUF4aXMifSkoYnJ8fChicj17fSkpO3ZhciBTcjsoZnVuY3Rpb24oYyl7Y1tjLkI9MF09IkIiLGNbYy5BPTFdPSJBIixjW2MuWT0yXT0iWSIsY1tjLlg9M109IlgiLGNbYy5MPTRdPSJMIixjW2MuUj01XT0iUiIsY1tjLlpMPTZdPSJaTCIsY1tjLlpSPTddPSJaUiIsY1tjLk1pbnVzPThdPSJNaW51cyIsY1tjLlBsdXM9OV09IlBsdXMiLGNbYy5MUz0xMF09IkxTIixjW2MuUlM9MTFdPSJSUyIsY1tjLkRQYWRVcD0xMl09IkRQYWRVcCIsY1tjLkRQYWREb3duPTEzXT0iRFBhZERvd24iLGNbYy5EUGFkTGVmdD0xNF09IkRQYWRMZWZ0IixjW2MuRFBhZFJpZ2h0PTE1XT0iRFBhZFJpZ2h0IixjW2MuSG9tZT0xNl09IkhvbWUiLGNbYy5DYXB0dXJlPTE3XT0iQ2FwdHVyZSIsY1tjLkxTdGlja1hBeGlzPTE4XT0iTFN0aWNrWEF4aXMiLGNbYy5MU3RpY2tZQXhpcz0xOV09IkxTdGlja1lBeGlzIixjW2MuUlN0aWNrWEF4aXM9MjBdPSJSU3RpY2tYQXhpcyIsY1tjLlJTdGlja1lBeGlzPTIxXT0iUlN0aWNrWUF4aXMifSkoU3J8fChTcj17fSkpO3ZhciB4cjsoZnVuY3Rpb24oYyl7Y1tjLlBvaW50ZXJNb3ZlPTBdPSJQb2ludGVyTW92ZSIsY1tjLlBvaW50ZXJEb3duPTFdPSJQb2ludGVyRG93biIsY1tjLlBvaW50ZXJVcD0yXT0iUG9pbnRlclVwIn0pKHhyfHwoeHI9e30pKTtjbGFzcyBuc3t9bnMuRE9NX0RFTFRBX1BJWEVMPTAsbnMuRE9NX0RFTFRBX0xJTkU9MSxucy5ET01fREVMVEFfUEFHRT0yO2NsYXNzIGZpe3N0YXRpYyBDcmVhdGVEZXZpY2VFdmVudChlLHQsaSxzLHIsbixhKXtzd2l0Y2goZSl7Y2FzZSBHLktleWJvYXJkOnJldHVybiB0aGlzLl9DcmVhdGVLZXlib2FyZEV2ZW50KGkscyxyLG4pO2Nhc2UgRy5Nb3VzZTppZihpPT09Si5Nb3VzZVdoZWVsWHx8aT09PUouTW91c2VXaGVlbFl8fGk9PT1KLk1vdXNlV2hlZWxaKXJldHVybiB0aGlzLl9DcmVhdGVXaGVlbEV2ZW50KGUsdCxpLHMscixuKTtjYXNlIEcuVG91Y2g6cmV0dXJuIHRoaXMuX0NyZWF0ZVBvaW50ZXJFdmVudChlLHQsaSxzLHIsbixhKTtkZWZhdWx0OnRocm93YFVuYWJsZSB0byBnZW5lcmF0ZSBldmVudCBmb3IgZGV2aWNlICR7R1tlXX1gfX1zdGF0aWMgX0NyZWF0ZVBvaW50ZXJFdmVudChlLHQsaSxzLHIsbixhKXtjb25zdCBvPXRoaXMuX0NyZWF0ZU1vdXNlRXZlbnQoZSx0LGkscyxyLG4pO3JldHVybiBlPT09Ry5Nb3VzZT8oby5kZXZpY2VUeXBlPUcuTW91c2Usby5wb2ludGVySWQ9MSxvLnBvaW50ZXJUeXBlPSJtb3VzZSIpOihvLmRldmljZVR5cGU9Ry5Ub3VjaCxvLnBvaW50ZXJJZD1hPz90LG8ucG9pbnRlclR5cGU9InRvdWNoIiksaT09PUouTW92ZT9vLnR5cGU9InBvaW50ZXJtb3ZlIjppPj1KLkxlZnRDbGljayYmaTw9Si5SaWdodENsaWNrJiYoby50eXBlPXM9PT0xPyJwb2ludGVyZG93biI6InBvaW50ZXJ1cCIsby5idXR0b249aS0yKSxvfXN0YXRpYyBfQ3JlYXRlV2hlZWxFdmVudChlLHQsaSxzLHIsbil7Y29uc3QgYT10aGlzLl9DcmVhdGVNb3VzZUV2ZW50KGUsdCxpLHMscixuKTtzd2l0Y2goYS5wb2ludGVySWQ9MSxhLnR5cGU9IndoZWVsIixhLmRlbHRhTW9kZT1ucy5ET01fREVMVEFfUElYRUwsYS5kZWx0YVg9MCxhLmRlbHRhWT0wLGEuZGVsdGFaPTAsaSl7Y2FzZSBKLk1vdXNlV2hlZWxYOmEuZGVsdGFYPXM7YnJlYWs7Y2FzZSBKLk1vdXNlV2hlZWxZOmEuZGVsdGFZPXM7YnJlYWs7Y2FzZSBKLk1vdXNlV2hlZWxaOmEuZGVsdGFaPXM7YnJlYWt9cmV0dXJuIGF9c3RhdGljIF9DcmVhdGVNb3VzZUV2ZW50KGUsdCxpLHMscixuKXtjb25zdCBhPXRoaXMuX0NyZWF0ZUV2ZW50KG4pLG89ci5wb2xsSW5wdXQoZSx0LEouSG9yaXpvbnRhbCksaD1yLnBvbGxJbnB1dChlLHQsSi5WZXJ0aWNhbCk7cmV0dXJuIG4/KGEubW92ZW1lbnRYPTAsYS5tb3ZlbWVudFk9MCxhLm9mZnNldFg9YS5tb3ZlbWVudFgtbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54LGEub2Zmc2V0WT1hLm1vdmVtZW50WS1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnkpOihhLm1vdmVtZW50WD1yLnBvbGxJbnB1dChlLHQscnMuRGVsdGFIb3Jpem9udGFsKSxhLm1vdmVtZW50WT1yLnBvbGxJbnB1dChlLHQscnMuRGVsdGFWZXJ0aWNhbCksYS5vZmZzZXRYPTAsYS5vZmZzZXRZPTApLHRoaXMuX0NoZWNrTm9uQ2hhcmFjdGVyS2V5cyhhLHIpLGEuY2xpZW50WD1vLGEuY2xpZW50WT1oLGEueD1vLGEueT1oLGEuZGV2aWNlVHlwZT1lLGEuZGV2aWNlU2xvdD10LGEuaW5wdXRJbmRleD1pLGF9c3RhdGljIF9DcmVhdGVLZXlib2FyZEV2ZW50KGUsdCxpLHMpe2NvbnN0IHI9dGhpcy5fQ3JlYXRlRXZlbnQocyk7cmV0dXJuIHRoaXMuX0NoZWNrTm9uQ2hhcmFjdGVyS2V5cyhyLGkpLHIuZGV2aWNlVHlwZT1HLktleWJvYXJkLHIuZGV2aWNlU2xvdD0wLHIuaW5wdXRJbmRleD1lLHIudHlwZT10PT09MT8ia2V5ZG93biI6ImtleXVwIixyLmtleT1TdHJpbmcuZnJvbUNoYXJDb2RlKGUpLHIua2V5Q29kZT1lLHJ9c3RhdGljIF9DaGVja05vbkNoYXJhY3RlcktleXMoZSx0KXtjb25zdCBpPXQuaXNEZXZpY2VBdmFpbGFibGUoRy5LZXlib2FyZCkscz1pJiZ0LnBvbGxJbnB1dChHLktleWJvYXJkLDAsMTgpPT09MSxyPWkmJnQucG9sbElucHV0KEcuS2V5Ym9hcmQsMCwxNyk9PT0xLG49aSYmKHQucG9sbElucHV0KEcuS2V5Ym9hcmQsMCw5MSk9PT0xfHx0LnBvbGxJbnB1dChHLktleWJvYXJkLDAsOTIpPT09MXx8dC5wb2xsSW5wdXQoRy5LZXlib2FyZCwwLDkzKT09PTEpLGE9aSYmdC5wb2xsSW5wdXQoRy5LZXlib2FyZCwwLDE2KT09PTE7ZS5hbHRLZXk9cyxlLmN0cmxLZXk9cixlLm1ldGFLZXk9bixlLnNoaWZ0S2V5PWF9c3RhdGljIF9DcmVhdGVFdmVudChlKXtjb25zdCB0PXt9O3JldHVybiB0LnByZXZlbnREZWZhdWx0PSgpPT57fSx0LnRhcmdldD1lLHR9fWNsYXNzIHdue2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLl9uYXRpdmVJbnB1dD1fbmF0aXZlLkRldmljZUlucHV0U3lzdGVtP25ldyBfbmF0aXZlLkRldmljZUlucHV0U3lzdGVtKGUsdCwocyxyLG4sYSk9Pntjb25zdCBvPWZpLkNyZWF0ZURldmljZUV2ZW50KHMscixuLGEsdGhpcyk7aShzLHIsbyl9KTp0aGlzLl9jcmVhdGVEdW1teU5hdGl2ZUlucHV0KCl9cG9sbElucHV0KGUsdCxpKXtyZXR1cm4gdGhpcy5fbmF0aXZlSW5wdXQucG9sbElucHV0KGUsdCxpKX1pc0RldmljZUF2YWlsYWJsZShlKXtyZXR1cm4gZT09PUcuTW91c2V8fGU9PT1HLlRvdWNofWRpc3Bvc2UoKXt0aGlzLl9uYXRpdmVJbnB1dC5kaXNwb3NlKCl9X2NyZWF0ZUR1bW15TmF0aXZlSW5wdXQoKXtyZXR1cm57cG9sbElucHV0OigpPT4wLGlzRGV2aWNlQXZhaWxhYmxlOigpPT4hMSxkaXNwb3NlOigpPT57fX19fWNvbnN0IE1yPTI1NSxBcj1PYmplY3Qua2V5cyhKKS5sZW5ndGgvMjtjbGFzcyBPbntjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLl9pbnB1dHM9W10sdGhpcy5fa2V5Ym9hcmRBY3RpdmU9ITEsdGhpcy5fcG9pbnRlckFjdGl2ZT0hMSx0aGlzLl91c2luZ1NhZmFyaT1YLklzU2FmYXJpKCksdGhpcy5fdXNpbmdNYWNPUz1FcygpJiYvKE1hY3xpUGhvbmV8aVBvZHxpUGFkKS9pLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKSx0aGlzLl9rZXlib2FyZERvd25FdmVudD1yPT57fSx0aGlzLl9rZXlib2FyZFVwRXZlbnQ9cj0+e30sdGhpcy5fa2V5Ym9hcmRCbHVyRXZlbnQ9cj0+e30sdGhpcy5fcG9pbnRlck1vdmVFdmVudD1yPT57fSx0aGlzLl9wb2ludGVyRG93bkV2ZW50PXI9Pnt9LHRoaXMuX3BvaW50ZXJVcEV2ZW50PXI9Pnt9LHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudD1yPT57fSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudD1yPT57fSx0aGlzLl9wb2ludGVyQmx1ckV2ZW50PXI9Pnt9LHRoaXMuX2V2ZW50c0F0dGFjaGVkPSExLHRoaXMuX21vdXNlSWQ9LTEsdGhpcy5faXNVc2luZ0ZpcmVmb3g9YnMuSXNOYXZpZ2F0b3JBdmFpbGFibGUoKSYmbmF2aWdhdG9yLnVzZXJBZ2VudCYmbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJGaXJlZm94IikhPT0tMSx0aGlzLl9tYXhUb3VjaFBvaW50cz0wLHRoaXMuX3BvaW50ZXJJbnB1dENsZWFyT2JzZXJ2ZXI9bnVsbCx0aGlzLl9nYW1lcGFkQ29ubmVjdGVkRXZlbnQ9cj0+e30sdGhpcy5fZ2FtZXBhZERpc2Nvbm5lY3RlZEV2ZW50PXI9Pnt9LHRoaXMuX2V2ZW50UHJlZml4PVguR2V0UG9pbnRlclByZWZpeChlKSx0aGlzLl9lbmdpbmU9ZSx0aGlzLl9vbkRldmljZUNvbm5lY3RlZD10LHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkPWksdGhpcy5fb25JbnB1dENoYW5nZWQ9cyx0aGlzLl9tb3VzZUlkPXRoaXMuX2lzVXNpbmdGaXJlZm94PzA6MSx0aGlzLl9lbmFibGVFdmVudHMoKSx0aGlzLl91c2luZ01hY09TJiYodGhpcy5fbWV0YUtleXM9W10pLHRoaXMuX2VuZ2luZS5fb25FbmdpbmVWaWV3Q2hhbmdlZHx8KHRoaXMuX2VuZ2luZS5fb25FbmdpbmVWaWV3Q2hhbmdlZD0oKT0+e3RoaXMuX2VuYWJsZUV2ZW50cygpfSl9cG9sbElucHV0KGUsdCxpKXtjb25zdCBzPXRoaXMuX2lucHV0c1tlXVt0XTtpZighcyl0aHJvd2BVbmFibGUgdG8gZmluZCBkZXZpY2UgJHtHW2VdfWA7ZT49Ry5EdWFsU2hvY2smJmU8PUcuRHVhbFNlbnNlJiZ0aGlzLl91cGRhdGVEZXZpY2UoZSx0LGkpO2NvbnN0IHI9c1tpXTtpZihyPT09dm9pZCAwKXRocm93YFVuYWJsZSB0byBmaW5kIGlucHV0ICR7aX0gZm9yIGRldmljZSAke0dbZV19IGluIHNsb3QgJHt0fWA7cmV0dXJuIGk9PT1KLk1vdmUmJlguV2FybigiVW5hYmxlIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gZm9yIFBvaW50ZXJJbnB1dC5Nb3ZlLiAgVHJ5IHVzaW5nIFBvaW50ZXJJbnB1dC5Ib3Jpem9udGFsIG9yIFBvaW50ZXJJbnB1dC5WZXJ0aWNhbCBmb3IgbW92ZSBkYXRhLiIpLHJ9aXNEZXZpY2VBdmFpbGFibGUoZSl7cmV0dXJuIHRoaXMuX2lucHV0c1tlXSE9PXZvaWQgMH1kaXNwb3NlKCl7dGhpcy5fb25EZXZpY2VDb25uZWN0ZWQ9KCk9Pnt9LHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkPSgpPT57fSx0aGlzLl9vbklucHV0Q2hhbmdlZD0oKT0+e30sZGVsZXRlIHRoaXMuX2VuZ2luZS5fb25FbmdpbmVWaWV3Q2hhbmdlZCx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyYmdGhpcy5fZGlzYWJsZUV2ZW50cygpfV9lbmFibGVFdmVudHMoKXtjb25zdCBlPXRoaXM9PT1udWxsfHx0aGlzPT09dm9pZCAwP3ZvaWQgMDp0aGlzLl9lbmdpbmUuZ2V0SW5wdXRFbGVtZW50KCk7aWYoZSYmKCF0aGlzLl9ldmVudHNBdHRhY2hlZHx8dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8hPT1lKSl7aWYodGhpcy5fZGlzYWJsZUV2ZW50cygpLHRoaXMuX2lucHV0cyl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5faW5wdXRzKWlmKHQpZm9yKGNvbnN0IGkgaW4gdCl7Y29uc3Qgcz0raSxyPXRbc107aWYocilmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKylyW25dPTB9fXRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvPWUsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8udGFiSW5kZXg9dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8udGFiSW5kZXghPT0tMT90aGlzLl9lbGVtZW50VG9BdHRhY2hUby50YWJJbmRleDp0aGlzLl9lbmdpbmUuY2FudmFzVGFiSW5kZXgsdGhpcy5faGFuZGxlS2V5QWN0aW9ucygpLHRoaXMuX2hhbmRsZVBvaW50ZXJBY3Rpb25zKCksdGhpcy5faGFuZGxlR2FtZXBhZEFjdGlvbnMoKSx0aGlzLl9ldmVudHNBdHRhY2hlZD0hMCx0aGlzLl9jaGVja0ZvckNvbm5lY3RlZERldmljZXMoKX19X2Rpc2FibGVFdmVudHMoKXt0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyYmKHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbW92ZUV2ZW50TGlzdGVuZXIoImJsdXIiLHRoaXMuX2tleWJvYXJkQmx1ckV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9wb2ludGVyQmx1ckV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIix0aGlzLl9rZXlib2FyZERvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigia2V5dXAiLHRoaXMuX2tleWJvYXJkVXBFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsibW92ZSIsdGhpcy5fcG9pbnRlck1vdmVFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsiZG93biIsdGhpcy5fcG9pbnRlckRvd25FdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl9ldmVudFByZWZpeCsidXAiLHRoaXMuX3BvaW50ZXJVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJjYW5jZWwiLHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudCksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLl93aGVlbEV2ZW50TmFtZSx0aGlzLl9wb2ludGVyV2hlZWxFdmVudCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImdhbWVwYWRjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWRDb25uZWN0ZWRFdmVudCksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImdhbWVwYWRkaXNjb25uZWN0ZWQiLHRoaXMuX2dhbWVwYWREaXNjb25uZWN0ZWRFdmVudCkpLHRoaXMuX3BvaW50ZXJJbnB1dENsZWFyT2JzZXJ2ZXImJnRoaXMuX2VuZ2luZS5vbkVuZEZyYW1lT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fcG9pbnRlcklucHV0Q2xlYXJPYnNlcnZlciksdGhpcy5fZXZlbnRzQXR0YWNoZWQ9ITF9X2NoZWNrRm9yQ29ubmVjdGVkRGV2aWNlcygpe2lmKG5hdmlnYXRvci5nZXRHYW1lcGFkcyl7Y29uc3QgZT1uYXZpZ2F0b3IuZ2V0R2FtZXBhZHMoKTtmb3IoY29uc3QgdCBvZiBlKXQmJnRoaXMuX2FkZEdhbWVQYWQodCl9dHlwZW9mIG1hdGNoTWVkaWE9PSJmdW5jdGlvbiImJm1hdGNoTWVkaWEoIihwb2ludGVyOmZpbmUpIikubWF0Y2hlcyYmdGhpcy5fYWRkUG9pbnRlckRldmljZShHLk1vdXNlLDAsMCwwKX1fYWRkR2FtZVBhZChlKXtjb25zdCB0PXRoaXMuX2dldEdhbWVwYWREZXZpY2VUeXBlKGUuaWQpLGk9ZS5pbmRleDt0aGlzLl9nYW1lcGFkcz10aGlzLl9nYW1lcGFkc3x8bmV3IEFycmF5KGUuaW5kZXgrMSksdGhpcy5fcmVnaXN0ZXJEZXZpY2UodCxpLGUuYnV0dG9ucy5sZW5ndGgrZS5heGVzLmxlbmd0aCksdGhpcy5fZ2FtZXBhZHNbaV09dH1fYWRkUG9pbnRlckRldmljZShlLHQsaSxzKXt0aGlzLl9wb2ludGVyQWN0aXZlfHwodGhpcy5fcG9pbnRlckFjdGl2ZT0hMCksdGhpcy5fcmVnaXN0ZXJEZXZpY2UoZSx0LEFyKTtjb25zdCByPXRoaXMuX2lucHV0c1tlXVt0XTtyWzBdPWksclsxXT1zfV9yZWdpc3RlckRldmljZShlLHQsaSl7aWYodD09PXZvaWQgMCl0aHJvd2BVbmFibGUgdG8gcmVnaXN0ZXIgZGV2aWNlICR7R1tlXX0gdG8gdW5kZWZpbmVkIHNsb3QuYDtpZih0aGlzLl9pbnB1dHNbZV18fCh0aGlzLl9pbnB1dHNbZV09e30pLCF0aGlzLl9pbnB1dHNbZV1bdF0pe2NvbnN0IHM9bmV3IEFycmF5KGkpO3MuZmlsbCgwKSx0aGlzLl9pbnB1dHNbZV1bdF09cyx0aGlzLl9vbkRldmljZUNvbm5lY3RlZChlLHQpfX1fdW5yZWdpc3RlckRldmljZShlLHQpe3RoaXMuX2lucHV0c1tlXVt0XSYmKGRlbGV0ZSB0aGlzLl9pbnB1dHNbZV1bdF0sdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQoZSx0KSl9X2hhbmRsZUtleUFjdGlvbnMoKXt0aGlzLl9rZXlib2FyZERvd25FdmVudD1lPT57dGhpcy5fa2V5Ym9hcmRBY3RpdmV8fCh0aGlzLl9rZXlib2FyZEFjdGl2ZT0hMCx0aGlzLl9yZWdpc3RlckRldmljZShHLktleWJvYXJkLDAsTXIpKTtjb25zdCB0PXRoaXMuX2lucHV0c1tHLktleWJvYXJkXVswXTtpZih0KXt0W2Uua2V5Q29kZV09MTtjb25zdCBpPWU7aS5pbnB1dEluZGV4PWUua2V5Q29kZSx0aGlzLl91c2luZ01hY09TJiZlLm1ldGFLZXkmJmUua2V5IT09Ik1ldGEiJiYodGhpcy5fbWV0YUtleXMuaW5jbHVkZXMoZS5rZXlDb2RlKXx8dGhpcy5fbWV0YUtleXMucHVzaChlLmtleUNvZGUpKSx0aGlzLl9vbklucHV0Q2hhbmdlZChHLktleWJvYXJkLDAsaSl9fSx0aGlzLl9rZXlib2FyZFVwRXZlbnQ9ZT0+e3RoaXMuX2tleWJvYXJkQWN0aXZlfHwodGhpcy5fa2V5Ym9hcmRBY3RpdmU9ITAsdGhpcy5fcmVnaXN0ZXJEZXZpY2UoRy5LZXlib2FyZCwwLE1yKSk7Y29uc3QgdD10aGlzLl9pbnB1dHNbRy5LZXlib2FyZF1bMF07aWYodCl7dFtlLmtleUNvZGVdPTA7Y29uc3QgaT1lO2lmKGkuaW5wdXRJbmRleD1lLmtleUNvZGUsdGhpcy5fdXNpbmdNYWNPUyYmZS5rZXk9PT0iTWV0YSImJnRoaXMuX21ldGFLZXlzLmxlbmd0aD4wKXtmb3IoY29uc3QgcyBvZiB0aGlzLl9tZXRhS2V5cyl7Y29uc3Qgcj1maS5DcmVhdGVEZXZpY2VFdmVudChHLktleWJvYXJkLDAscywwLHRoaXMsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pO3Rbc109MCx0aGlzLl9vbklucHV0Q2hhbmdlZChHLktleWJvYXJkLDAscil9dGhpcy5fbWV0YUtleXMuc3BsaWNlKDAsdGhpcy5fbWV0YUtleXMubGVuZ3RoKX10aGlzLl9vbklucHV0Q2hhbmdlZChHLktleWJvYXJkLDAsaSl9fSx0aGlzLl9rZXlib2FyZEJsdXJFdmVudD0oKT0+e2lmKHRoaXMuX2tleWJvYXJkQWN0aXZlKXtjb25zdCBlPXRoaXMuX2lucHV0c1tHLktleWJvYXJkXVswXTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylpZihlW3RdIT09MCl7ZVt0XT0wO2NvbnN0IGk9ZmkuQ3JlYXRlRGV2aWNlRXZlbnQoRy5LZXlib2FyZCwwLHQsMCx0aGlzLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKTt0aGlzLl9vbklucHV0Q2hhbmdlZChHLktleWJvYXJkLDAsaSl9dGhpcy5fdXNpbmdNYWNPUyYmdGhpcy5fbWV0YUtleXMuc3BsaWNlKDAsdGhpcy5fbWV0YUtleXMubGVuZ3RoKX19LHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLHRoaXMuX2tleWJvYXJkRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsdGhpcy5fa2V5Ym9hcmRVcEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9rZXlib2FyZEJsdXJFdmVudCl9X2hhbmRsZVBvaW50ZXJBY3Rpb25zKCl7dGhpcy5fbWF4VG91Y2hQb2ludHM9YnMuSXNOYXZpZ2F0b3JBdmFpbGFibGUoKSYmbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzfHwyLHRoaXMuX2FjdGl2ZVRvdWNoSWRzfHwodGhpcy5fYWN0aXZlVG91Y2hJZHM9bmV3IEFycmF5KHRoaXMuX21heFRvdWNoUG9pbnRzKSk7Zm9yKGxldCBpPTA7aTx0aGlzLl9tYXhUb3VjaFBvaW50cztpKyspdGhpcy5fYWN0aXZlVG91Y2hJZHNbaV09LTE7dGhpcy5fcG9pbnRlck1vdmVFdmVudD1pPT57Y29uc3Qgcz10aGlzLl9nZXRQb2ludGVyVHlwZShpKSxyPXM9PT1HLk1vdXNlPzA6dGhpcy5fYWN0aXZlVG91Y2hJZHMuaW5kZXhPZihpLnBvaW50ZXJJZCk7dGhpcy5faW5wdXRzW3NdfHwodGhpcy5faW5wdXRzW3NdPXt9KSx0aGlzLl9pbnB1dHNbc11bcl18fHRoaXMuX2FkZFBvaW50ZXJEZXZpY2UocyxyLGkuY2xpZW50WCxpLmNsaWVudFkpO2NvbnN0IG49dGhpcy5faW5wdXRzW3NdW3JdO2lmKG4pe2NvbnN0IGE9aTthLmlucHV0SW5kZXg9Si5Nb3ZlLG5bSi5Ib3Jpem9udGFsXT1pLmNsaWVudFgsbltKLlZlcnRpY2FsXT1pLmNsaWVudFksaS5wb2ludGVySWQ9PT12b2lkIDAmJihpLnBvaW50ZXJJZD10aGlzLl9tb3VzZUlkKSx0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsYSksIXRoaXMuX3VzaW5nU2FmYXJpJiZpLmJ1dHRvbiE9PS0xJiYoYS5pbnB1dEluZGV4PWkuYnV0dG9uKzIsbltpLmJ1dHRvbisyXT1uW2kuYnV0dG9uKzJdPzA6MSx0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsYSkpfX0sdGhpcy5fcG9pbnRlckRvd25FdmVudD1pPT57Y29uc3Qgcz10aGlzLl9nZXRQb2ludGVyVHlwZShpKTtsZXQgcj1zPT09Ry5Nb3VzZT8wOmkucG9pbnRlcklkO2lmKHM9PT1HLlRvdWNoKXtjb25zdCBhPXRoaXMuX2FjdGl2ZVRvdWNoSWRzLmluZGV4T2YoLTEpO2lmKGE+PTApcj1hLHRoaXMuX2FjdGl2ZVRvdWNoSWRzW2FdPWkucG9pbnRlcklkO2Vsc2V7WC5XYXJuKGBNYXggbnVtYmVyIG9mIHRvdWNoZXMgZXhjZWVkZWQuICBJZ25vcmluZyB0b3VjaGVzIGluIGV4Y2VzcyBvZiAke3RoaXMuX21heFRvdWNoUG9pbnRzfWApO3JldHVybn19dGhpcy5faW5wdXRzW3NdfHwodGhpcy5faW5wdXRzW3NdPXt9KSx0aGlzLl9pbnB1dHNbc11bcl0/cz09PUcuVG91Y2gmJnRoaXMuX29uRGV2aWNlQ29ubmVjdGVkKHMscik6dGhpcy5fYWRkUG9pbnRlckRldmljZShzLHIsaS5jbGllbnRYLGkuY2xpZW50WSk7Y29uc3Qgbj10aGlzLl9pbnB1dHNbc11bcl07aWYobil7Y29uc3QgYT1uW0ouSG9yaXpvbnRhbF0sbz1uW0ouVmVydGljYWxdO2lmKHM9PT1HLk1vdXNlKXtpZihpLnBvaW50ZXJJZD09PXZvaWQgMCYmKGkucG9pbnRlcklkPXRoaXMuX21vdXNlSWQpLCFkb2N1bWVudC5wb2ludGVyTG9ja0VsZW1lbnQpdHJ5e3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnNldFBvaW50ZXJDYXB0dXJlKHRoaXMuX21vdXNlSWQpfWNhdGNoe319ZWxzZSBpZihpLnBvaW50ZXJJZCYmIWRvY3VtZW50LnBvaW50ZXJMb2NrRWxlbWVudCl0cnl7dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8uc2V0UG9pbnRlckNhcHR1cmUoaS5wb2ludGVySWQpfWNhdGNoe31uW0ouSG9yaXpvbnRhbF09aS5jbGllbnRYLG5bSi5WZXJ0aWNhbF09aS5jbGllbnRZLG5baS5idXR0b24rMl09MTtjb25zdCBoPWk7aC5pbnB1dEluZGV4PWkuYnV0dG9uKzIsdGhpcy5fb25JbnB1dENoYW5nZWQocyxyLGgpLChhIT09aS5jbGllbnRYfHxvIT09aS5jbGllbnRZKSYmKGguaW5wdXRJbmRleD1KLk1vdmUsdGhpcy5fb25JbnB1dENoYW5nZWQocyxyLGgpKX19LHRoaXMuX3BvaW50ZXJVcEV2ZW50PWk9Pnt2YXIgcyxyLG4sYSxvO2NvbnN0IGg9dGhpcy5fZ2V0UG9pbnRlclR5cGUoaSksbD1oPT09Ry5Nb3VzZT8wOnRoaXMuX2FjdGl2ZVRvdWNoSWRzLmluZGV4T2YoaS5wb2ludGVySWQpO2lmKGg9PT1HLlRvdWNoKXtpZihsPT09LTEpcmV0dXJuO3RoaXMuX2FjdGl2ZVRvdWNoSWRzW2xdPS0xfWNvbnN0IHU9KHM9dGhpcy5faW5wdXRzW2hdKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnNbbF07aWYodSYmdVtpLmJ1dHRvbisyXSE9PTApe2NvbnN0IGQ9dVtKLkhvcml6b250YWxdLF89dVtKLlZlcnRpY2FsXTt1W0ouSG9yaXpvbnRhbF09aS5jbGllbnRYLHVbSi5WZXJ0aWNhbF09aS5jbGllbnRZLHVbaS5idXR0b24rMl09MDtjb25zdCBmPWk7aS5wb2ludGVySWQ9PT12b2lkIDAmJihpLnBvaW50ZXJJZD10aGlzLl9tb3VzZUlkKSwoZCE9PWkuY2xpZW50WHx8XyE9PWkuY2xpZW50WSkmJihmLmlucHV0SW5kZXg9Si5Nb3ZlLHRoaXMuX29uSW5wdXRDaGFuZ2VkKGgsbCxmKSksZi5pbnB1dEluZGV4PWkuYnV0dG9uKzIsaD09PUcuTW91c2UmJnRoaXMuX21vdXNlSWQ+PTAmJighKChuPShyPXRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHxuPT09dm9pZCAwKSYmbi5jYWxsKHIsdGhpcy5fbW91c2VJZCkpP3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSh0aGlzLl9tb3VzZUlkKTppLnBvaW50ZXJJZCYmKCEoKG89KGE9dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fG89PT12b2lkIDApJiZvLmNhbGwoYSxpLnBvaW50ZXJJZCkpJiZ0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUoaS5wb2ludGVySWQpLHRoaXMuX29uSW5wdXRDaGFuZ2VkKGgsbCxmKSxoPT09Ry5Ub3VjaCYmdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQoaCxsKX19LHRoaXMuX3BvaW50ZXJDYW5jZWxFdmVudD1pPT57dmFyIHMscixuLGE7aWYoaS5wb2ludGVyVHlwZT09PSJtb3VzZSIpe2NvbnN0IG89dGhpcy5faW5wdXRzW0cuTW91c2VdWzBdO3RoaXMuX21vdXNlSWQ+PTAmJighKChyPShzPXRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvKS5oYXNQb2ludGVyQ2FwdHVyZSk9PT1udWxsfHxyPT09dm9pZCAwKSYmci5jYWxsKHMsdGhpcy5fbW91c2VJZCkpJiZ0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUodGhpcy5fbW91c2VJZCk7Zm9yKGxldCBoPUouTGVmdENsaWNrO2g8PUouQnJvd3NlckZvcndhcmQ7aCsrKWlmKG9baF09PT0xKXtvW2hdPTA7Y29uc3QgbD1maS5DcmVhdGVEZXZpY2VFdmVudChHLk1vdXNlLDAsaCwwLHRoaXMsdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pO3RoaXMuX29uSW5wdXRDaGFuZ2VkKEcuTW91c2UsMCxsKX19ZWxzZXtjb25zdCBvPXRoaXMuX2FjdGl2ZVRvdWNoSWRzLmluZGV4T2YoaS5wb2ludGVySWQpOyEoKGE9KG49dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fGE9PT12b2lkIDApJiZhLmNhbGwobixpLnBvaW50ZXJJZCkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZShpLnBvaW50ZXJJZCksdGhpcy5faW5wdXRzW0cuVG91Y2hdW29dW0ouTGVmdENsaWNrXT0wO2NvbnN0IGg9ZmkuQ3JlYXRlRGV2aWNlRXZlbnQoRy5Ub3VjaCxvLEouTGVmdENsaWNrLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyxpLnBvaW50ZXJJZCk7dGhpcy5fb25JbnB1dENoYW5nZWQoRy5Ub3VjaCxvLGgpLHRoaXMuX2FjdGl2ZVRvdWNoSWRzW29dPS0xLHRoaXMuX29uRGV2aWNlRGlzY29ubmVjdGVkKEcuVG91Y2gsbyl9fSx0aGlzLl93aGVlbEV2ZW50TmFtZT0ib253aGVlbCJpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKT8id2hlZWwiOmRvY3VtZW50Lm9ubW91c2V3aGVlbCE9PXZvaWQgMD8ibW91c2V3aGVlbCI6IkRPTU1vdXNlU2Nyb2xsIjtsZXQgZT0hMTtjb25zdCB0PWZ1bmN0aW9uKCl7fTt0cnl7Y29uc3QgaT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sInBhc3NpdmUiLHtnZXQ6ZnVuY3Rpb24oKXtlPSEwfX0pO3RoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIoInRlc3QiLHQsaSksdGhpcy5fZWxlbWVudFRvQXR0YWNoVG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigidGVzdCIsdCxpKX1jYXRjaHt9dGhpcy5fcG9pbnRlckJsdXJFdmVudD0oKT0+e3ZhciBpLHMscixuLGE7aWYodGhpcy5pc0RldmljZUF2YWlsYWJsZShHLk1vdXNlKSl7Y29uc3Qgbz10aGlzLl9pbnB1dHNbRy5Nb3VzZV1bMF07dGhpcy5fbW91c2VJZD49MCYmKCEoKHM9KGk9dGhpcy5fZWxlbWVudFRvQXR0YWNoVG8pLmhhc1BvaW50ZXJDYXB0dXJlKT09PW51bGx8fHM9PT12b2lkIDApJiZzLmNhbGwoaSx0aGlzLl9tb3VzZUlkKSkmJnRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSh0aGlzLl9tb3VzZUlkKTtmb3IobGV0IGg9Si5MZWZ0Q2xpY2s7aDw9Si5Ccm93c2VyRm9yd2FyZDtoKyspaWYob1toXT09PTEpe29baF09MDtjb25zdCBsPWZpLkNyZWF0ZURldmljZUV2ZW50KEcuTW91c2UsMCxoLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyk7dGhpcy5fb25JbnB1dENoYW5nZWQoRy5Nb3VzZSwwLGwpfX1pZih0aGlzLmlzRGV2aWNlQXZhaWxhYmxlKEcuVG91Y2gpKXtjb25zdCBvPXRoaXMuX2lucHV0c1tHLlRvdWNoXTtmb3IobGV0IGg9MDtoPHRoaXMuX2FjdGl2ZVRvdWNoSWRzLmxlbmd0aDtoKyspe2NvbnN0IGw9dGhpcy5fYWN0aXZlVG91Y2hJZHNbaF07aWYoISgobj0ocj10aGlzLl9lbGVtZW50VG9BdHRhY2hUbykuaGFzUG9pbnRlckNhcHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMCkmJm4uY2FsbChyLGwpJiZ0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5yZWxlYXNlUG9pbnRlckNhcHR1cmUobCksbCE9PS0xJiYoKGE9b1toXSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphW0ouTGVmdENsaWNrXSk9PT0xKXtvW2hdW0ouTGVmdENsaWNrXT0wO2NvbnN0IHU9ZmkuQ3JlYXRlRGV2aWNlRXZlbnQoRy5Ub3VjaCxoLEouTGVmdENsaWNrLDAsdGhpcyx0aGlzLl9lbGVtZW50VG9BdHRhY2hUbyxsKTt0aGlzLl9vbklucHV0Q2hhbmdlZChHLlRvdWNoLGgsdSksdGhpcy5fYWN0aXZlVG91Y2hJZHNbaF09LTEsdGhpcy5fb25EZXZpY2VEaXNjb25uZWN0ZWQoRy5Ub3VjaCxoKX19fX0sdGhpcy5fcG9pbnRlcldoZWVsRXZlbnQ9aT0+e2NvbnN0IHM9Ry5Nb3VzZSxyPTA7dGhpcy5faW5wdXRzW3NdfHwodGhpcy5faW5wdXRzW3NdPVtdKSx0aGlzLl9pbnB1dHNbc11bcl18fCh0aGlzLl9wb2ludGVyQWN0aXZlPSEwLHRoaXMuX3JlZ2lzdGVyRGV2aWNlKHMscixBcikpO2NvbnN0IG49dGhpcy5faW5wdXRzW3NdW3JdO2lmKG4pe25bSi5Nb3VzZVdoZWVsWF09aS5kZWx0YVh8fDAsbltKLk1vdXNlV2hlZWxZXT1pLmRlbHRhWXx8aS53aGVlbERlbHRhfHwwLG5bSi5Nb3VzZVdoZWVsWl09aS5kZWx0YVp8fDA7Y29uc3QgYT1pO2kucG9pbnRlcklkPT09dm9pZCAwJiYoaS5wb2ludGVySWQ9dGhpcy5fbW91c2VJZCksbltKLk1vdXNlV2hlZWxYXSE9PTAmJihhLmlucHV0SW5kZXg9Si5Nb3VzZVdoZWVsWCx0aGlzLl9vbklucHV0Q2hhbmdlZChzLHIsYSkpLG5bSi5Nb3VzZVdoZWVsWV0hPT0wJiYoYS5pbnB1dEluZGV4PUouTW91c2VXaGVlbFksdGhpcy5fb25JbnB1dENoYW5nZWQocyxyLGEpKSxuW0ouTW91c2VXaGVlbFpdIT09MCYmKGEuaW5wdXRJbmRleD1KLk1vdXNlV2hlZWxaLHRoaXMuX29uSW5wdXRDaGFuZ2VkKHMscixhKSl9fSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJtb3ZlIix0aGlzLl9wb2ludGVyTW92ZUV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJkb3duIix0aGlzLl9wb2ludGVyRG93bkV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKHRoaXMuX2V2ZW50UHJlZml4KyJ1cCIsdGhpcy5fcG9pbnRlclVwRXZlbnQpLHRoaXMuX2VsZW1lbnRUb0F0dGFjaFRvLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5fZXZlbnRQcmVmaXgrImNhbmNlbCIsdGhpcy5fcG9pbnRlckNhbmNlbEV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKCJibHVyIix0aGlzLl9wb2ludGVyQmx1ckV2ZW50KSx0aGlzLl9lbGVtZW50VG9BdHRhY2hUby5hZGRFdmVudExpc3RlbmVyKHRoaXMuX3doZWVsRXZlbnROYW1lLHRoaXMuX3BvaW50ZXJXaGVlbEV2ZW50LGU/e3Bhc3NpdmU6ITF9OiExKSx0aGlzLl9wb2ludGVySW5wdXRDbGVhck9ic2VydmVyPXRoaXMuX2VuZ2luZS5vbkVuZEZyYW1lT2JzZXJ2YWJsZS5hZGQoKCk9PntpZih0aGlzLmlzRGV2aWNlQXZhaWxhYmxlKEcuTW91c2UpKXtjb25zdCBpPXRoaXMuX2lucHV0c1tHLk1vdXNlXVswXTtpW0ouTW91c2VXaGVlbFhdPTAsaVtKLk1vdXNlV2hlZWxZXT0wLGlbSi5Nb3VzZVdoZWVsWl09MH19KX1faGFuZGxlR2FtZXBhZEFjdGlvbnMoKXt0aGlzLl9nYW1lcGFkQ29ubmVjdGVkRXZlbnQ9ZT0+e3RoaXMuX2FkZEdhbWVQYWQoZS5nYW1lcGFkKX0sdGhpcy5fZ2FtZXBhZERpc2Nvbm5lY3RlZEV2ZW50PWU9PntpZih0aGlzLl9nYW1lcGFkcyl7Y29uc3QgdD10aGlzLl9nZXRHYW1lcGFkRGV2aWNlVHlwZShlLmdhbWVwYWQuaWQpLGk9ZS5nYW1lcGFkLmluZGV4O3RoaXMuX3VucmVnaXN0ZXJEZXZpY2UodCxpKSxkZWxldGUgdGhpcy5fZ2FtZXBhZHNbaV19fSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiZ2FtZXBhZGNvbm5lY3RlZCIsdGhpcy5fZ2FtZXBhZENvbm5lY3RlZEV2ZW50KSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiZ2FtZXBhZGRpc2Nvbm5lY3RlZCIsdGhpcy5fZ2FtZXBhZERpc2Nvbm5lY3RlZEV2ZW50KX1fdXBkYXRlRGV2aWNlKGUsdCxpKXtjb25zdCBzPW5hdmlnYXRvci5nZXRHYW1lcGFkcygpW3RdO2lmKHMmJmU9PT10aGlzLl9nYW1lcGFkc1t0XSl7Y29uc3Qgcj10aGlzLl9pbnB1dHNbZV1bdF07aT49cy5idXR0b25zLmxlbmd0aD9yW2ldPXMuYXhlc1tpLXMuYnV0dG9ucy5sZW5ndGhdLnZhbHVlT2YoKTpyW2ldPXMuYnV0dG9uc1tpXS52YWx1ZX19X2dldEdhbWVwYWREZXZpY2VUeXBlKGUpe3JldHVybiBlLmluZGV4T2YoIjA1NGMiKSE9PS0xP2UuaW5kZXhPZigiMGNlNiIpIT09LTE/Ry5EdWFsU2Vuc2U6Ry5EdWFsU2hvY2s6ZS5pbmRleE9mKCJYYm94IE9uZSIpIT09LTF8fGUuc2VhcmNoKCJYYm94IDM2MCIpIT09LTF8fGUuc2VhcmNoKCJ4aW5wdXQiKSE9PS0xP0cuWGJveDplLmluZGV4T2YoIjA1N2UiKSE9PS0xP0cuU3dpdGNoOkcuR2VuZXJpY31fZ2V0UG9pbnRlclR5cGUoZSl7bGV0IHQ9Ry5Nb3VzZTtyZXR1cm4oZS5wb2ludGVyVHlwZT09PSJ0b3VjaCJ8fGUucG9pbnRlclR5cGU9PT0icGVuInx8ZS50b3VjaGVzKSYmKHQ9Ry5Ub3VjaCksdH19Y2xhc3MgUnJ7Y29uc3RydWN0b3IoZSx0LGk9MCl7dGhpcy5kZXZpY2VUeXBlPXQsdGhpcy5kZXZpY2VTbG90PWksdGhpcy5vbklucHV0Q2hhbmdlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW09ZX1nZXRJbnB1dChlKXtyZXR1cm4gdGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW0ucG9sbElucHV0KHRoaXMuZGV2aWNlVHlwZSx0aGlzLmRldmljZVNsb3QsZSl9fWNsYXNzIExue2NvbnN0cnVjdG9yKGUpe3RoaXMuX3JlZ2lzdGVyZWRNYW5hZ2Vycz1uZXcgQXJyYXksdGhpcy5fcmVmQ291bnQ9MCx0aGlzLnJlZ2lzdGVyTWFuYWdlcj1uPT57Zm9yKGxldCBhPTA7YTx0aGlzLl9kZXZpY2VzLmxlbmd0aDthKyspe2NvbnN0IG89dGhpcy5fZGV2aWNlc1thXTtmb3IoY29uc3QgaCBpbiBvKXtjb25zdCBsPStoO24uX2FkZERldmljZShuZXcgUnIodGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW0sYSxsKSl9fXRoaXMuX3JlZ2lzdGVyZWRNYW5hZ2Vycy5wdXNoKG4pfSx0aGlzLnVucmVnaXN0ZXJNYW5hZ2VyPW49Pntjb25zdCBhPXRoaXMuX3JlZ2lzdGVyZWRNYW5hZ2Vycy5pbmRleE9mKG4pO2E+LTEmJnRoaXMuX3JlZ2lzdGVyZWRNYW5hZ2Vycy5zcGxpY2UoYSwxKX07Y29uc3QgdD1PYmplY3Qua2V5cyhHKS5sZW5ndGgvMjt0aGlzLl9kZXZpY2VzPW5ldyBBcnJheSh0KTtjb25zdCBpPShuLGEpPT57dGhpcy5fZGV2aWNlc1tuXXx8KHRoaXMuX2RldmljZXNbbl09bmV3IEFycmF5KSx0aGlzLl9kZXZpY2VzW25dW2FdfHwodGhpcy5fZGV2aWNlc1tuXVthXT1hKTtmb3IoY29uc3QgbyBvZiB0aGlzLl9yZWdpc3RlcmVkTWFuYWdlcnMpe2NvbnN0IGg9bmV3IFJyKHRoaXMuX2RldmljZUlucHV0U3lzdGVtLG4sYSk7by5fYWRkRGV2aWNlKGgpfX0scz0obixhKT0+e3ZhciBvOyEoKG89dGhpcy5fZGV2aWNlc1tuXSk9PT1udWxsfHxvPT09dm9pZCAwKSYmb1thXSYmZGVsZXRlIHRoaXMuX2RldmljZXNbbl1bYV07Zm9yKGNvbnN0IGggb2YgdGhpcy5fcmVnaXN0ZXJlZE1hbmFnZXJzKWguX3JlbW92ZURldmljZShuLGEpfSxyPShuLGEsbyk9PntpZihvKWZvcihjb25zdCBoIG9mIHRoaXMuX3JlZ2lzdGVyZWRNYW5hZ2VycyloLl9vbklucHV0Q2hhbmdlZChuLGEsbyl9O3R5cGVvZiBfbmF0aXZlPCJ1Ij90aGlzLl9kZXZpY2VJbnB1dFN5c3RlbT1uZXcgd24oaSxzLHIpOnRoaXMuX2RldmljZUlucHV0U3lzdGVtPW5ldyBPbihlLGkscyxyKX1kaXNwb3NlKCl7dGhpcy5fZGV2aWNlSW5wdXRTeXN0ZW0uZGlzcG9zZSgpfX1jbGFzcyBObntnZXREZXZpY2VTb3VyY2UoZSx0KXtpZih0PT09dm9pZCAwKXtpZih0aGlzLl9maXJzdERldmljZVtlXT09PXZvaWQgMClyZXR1cm4gbnVsbDt0PXRoaXMuX2ZpcnN0RGV2aWNlW2VdfXJldHVybiF0aGlzLl9kZXZpY2VzW2VdfHx0aGlzLl9kZXZpY2VzW2VdW3RdPT09dm9pZCAwP251bGw6dGhpcy5fZGV2aWNlc1tlXVt0XX1nZXREZXZpY2VTb3VyY2VzKGUpe3JldHVybiB0aGlzLl9kZXZpY2VzW2VdP3RoaXMuX2RldmljZXNbZV0uZmlsdGVyKHQ9PiEhdCk6W119Y29uc3RydWN0b3IoZSl7Y29uc3QgdD1PYmplY3Qua2V5cyhHKS5sZW5ndGgvMjt0aGlzLl9kZXZpY2VzPW5ldyBBcnJheSh0KSx0aGlzLl9maXJzdERldmljZT1uZXcgQXJyYXkodCksdGhpcy5fZW5naW5lPWUsdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyfHwodGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyPW5ldyBMbihlKSksdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLl9yZWZDb3VudCsrLHRoaXMub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlPW5ldyB3KGk9Pntmb3IoY29uc3QgcyBvZiB0aGlzLl9kZXZpY2VzKWlmKHMpZm9yKGNvbnN0IHIgb2YgcylyJiZ0aGlzLm9uRGV2aWNlQ29ubmVjdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcihpLHIpfSksdGhpcy5vbkRldmljZURpc2Nvbm5lY3RlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5fZW5naW5lLl9kZXZpY2VTb3VyY2VNYW5hZ2VyLnJlZ2lzdGVyTWFuYWdlcih0aGlzKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1lLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5kaXNwb3NlKCl9KX1kaXNwb3NlKCl7dGhpcy5vbkRldmljZUNvbm5lY3RlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRGV2aWNlRGlzY29ubmVjdGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlciYmKHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci51bnJlZ2lzdGVyTWFuYWdlcih0aGlzKSwtLXRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci5fcmVmQ291bnQ8MSYmKHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlci5kaXNwb3NlKCksZGVsZXRlIHRoaXMuX2VuZ2luZS5fZGV2aWNlU291cmNlTWFuYWdlcikpLHRoaXMuX2VuZ2luZS5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcil9X2FkZERldmljZShlKXt0aGlzLl9kZXZpY2VzW2UuZGV2aWNlVHlwZV18fCh0aGlzLl9kZXZpY2VzW2UuZGV2aWNlVHlwZV09bmV3IEFycmF5KSx0aGlzLl9kZXZpY2VzW2UuZGV2aWNlVHlwZV1bZS5kZXZpY2VTbG90XXx8KHRoaXMuX2RldmljZXNbZS5kZXZpY2VUeXBlXVtlLmRldmljZVNsb3RdPWUsdGhpcy5fdXBkYXRlRmlyc3REZXZpY2VzKGUuZGV2aWNlVHlwZSkpLHRoaXMub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKX1fcmVtb3ZlRGV2aWNlKGUsdCl7dmFyIGkscztjb25zdCByPShpPXRoaXMuX2RldmljZXNbZV0pPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aVt0XTt0aGlzLm9uRGV2aWNlRGlzY29ubmVjdGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMociksISgocz10aGlzLl9kZXZpY2VzW2VdKT09PW51bGx8fHM9PT12b2lkIDApJiZzW3RdJiZkZWxldGUgdGhpcy5fZGV2aWNlc1tlXVt0XSx0aGlzLl91cGRhdGVGaXJzdERldmljZXMoZSl9X29uSW5wdXRDaGFuZ2VkKGUsdCxpKXt2YXIgcyxyOyhyPShzPXRoaXMuX2RldmljZXNbZV0pPT09bnVsbHx8cz09PXZvaWQgMD92b2lkIDA6c1t0XSk9PT1udWxsfHxyPT09dm9pZCAwfHxyLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaSl9X3VwZGF0ZUZpcnN0RGV2aWNlcyhlKXtzd2l0Y2goZSl7Y2FzZSBHLktleWJvYXJkOmNhc2UgRy5Nb3VzZTp0aGlzLl9maXJzdERldmljZVtlXT0wO2JyZWFrO2Nhc2UgRy5Ub3VjaDpjYXNlIEcuRHVhbFNlbnNlOmNhc2UgRy5EdWFsU2hvY2s6Y2FzZSBHLlhib3g6Y2FzZSBHLlN3aXRjaDpjYXNlIEcuR2VuZXJpYzp7ZGVsZXRlIHRoaXMuX2ZpcnN0RGV2aWNlW2VdO2NvbnN0IHQ9dGhpcy5fZGV2aWNlc1tlXTtpZih0KXtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKylpZih0W2ldKXt0aGlzLl9maXJzdERldmljZVtlXT1pO2JyZWFrfX1icmVha319fX1jbGFzcyB5cntjb25zdHJ1Y3Rvcigpe3RoaXMuX3NpbmdsZUNsaWNrPSExLHRoaXMuX2RvdWJsZUNsaWNrPSExLHRoaXMuX2hhc1N3aXBlZD0hMSx0aGlzLl9pZ25vcmU9ITF9Z2V0IHNpbmdsZUNsaWNrKCl7cmV0dXJuIHRoaXMuX3NpbmdsZUNsaWNrfWdldCBkb3VibGVDbGljaygpe3JldHVybiB0aGlzLl9kb3VibGVDbGlja31nZXQgaGFzU3dpcGVkKCl7cmV0dXJuIHRoaXMuX2hhc1N3aXBlZH1nZXQgaWdub3JlKCl7cmV0dXJuIHRoaXMuX2lnbm9yZX1zZXQgc2luZ2xlQ2xpY2soZSl7dGhpcy5fc2luZ2xlQ2xpY2s9ZX1zZXQgZG91YmxlQ2xpY2soZSl7dGhpcy5fZG91YmxlQ2xpY2s9ZX1zZXQgaGFzU3dpcGVkKGUpe3RoaXMuX2hhc1N3aXBlZD1lfXNldCBpZ25vcmUoZSl7dGhpcy5faWdub3JlPWV9fWNsYXNzIFBle2NvbnN0cnVjdG9yKGUpe3RoaXMuX2FscmVhZHlBdHRhY2hlZD0hMSx0aGlzLl9tZXNoUGlja1Byb2NlZWQ9ITEsdGhpcy5fY3VycmVudFBpY2tSZXN1bHQ9bnVsbCx0aGlzLl9wcmV2aW91c1BpY2tSZXN1bHQ9bnVsbCx0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZD0wLHRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMSx0aGlzLl9pc1N3aXBpbmc9ITEsdGhpcy5fc3dpcGVCdXR0b25QcmVzc2VkPS0xLHRoaXMuX3NraXBQb2ludGVyVGFwPSExLHRoaXMuX2lzTXVsdGlUb3VjaEdlc3R1cmU9ITEsdGhpcy5fcG9pbnRlclg9MCx0aGlzLl9wb2ludGVyWT0wLHRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uPW5ldyB2ZSgwLDApLHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyUG9zaXRpb249bmV3IHZlKDAsMCksdGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZT0wLHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT0wLHRoaXMuX3BvaW50ZXJDYXB0dXJlcz17fSx0aGlzLl9tZXNoVW5kZXJQb2ludGVySWQ9e30sdGhpcy5fbW92ZVBvaW50ZXJJbmZvPW51bGwsdGhpcy5fY2FtZXJhT2JzZXJ2ZXJDb3VudD0wLHRoaXMuX2RlbGF5ZWRDbGlja3M9W251bGwsbnVsbCxudWxsLG51bGwsbnVsbF0sdGhpcy5fZGV2aWNlU291cmNlTWFuYWdlcj1udWxsLHRoaXMuX3NjZW5lPWV8fGxlLkxhc3RDcmVhdGVkU2NlbmUsdGhpcy5fc2NlbmV9Z2V0IG1lc2hVbmRlclBvaW50ZXIoKXtyZXR1cm4gdGhpcy5fbW92ZVBvaW50ZXJJbmZvJiYodGhpcy5fbW92ZVBvaW50ZXJJbmZvLl9nZW5lcmF0ZVBpY2tJbmZvKCksdGhpcy5fbW92ZVBvaW50ZXJJbmZvPW51bGwpLHRoaXMuX3BvaW50ZXJPdmVyTWVzaH1nZXRNZXNoVW5kZXJQb2ludGVyQnlQb2ludGVySWQoZSl7cmV0dXJuIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFtlXXx8bnVsbH1nZXQgdW5UcmFuc2xhdGVkUG9pbnRlcigpe3JldHVybiBuZXcgdmUodGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclkpfWdldCBwb2ludGVyWCgpe3JldHVybiB0aGlzLl9wb2ludGVyWH1zZXQgcG9pbnRlclgoZSl7dGhpcy5fcG9pbnRlclg9ZX1nZXQgcG9pbnRlclkoKXtyZXR1cm4gdGhpcy5fcG9pbnRlcll9c2V0IHBvaW50ZXJZKGUpe3RoaXMuX3BvaW50ZXJZPWV9X3VwZGF0ZVBvaW50ZXJQb3NpdGlvbihlKXtjb25zdCB0PXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmdldElucHV0RWxlbWVudENsaWVudFJlY3QoKTt0JiYodGhpcy5fcG9pbnRlclg9ZS5jbGllbnRYLXQubGVmdCx0aGlzLl9wb2ludGVyWT1lLmNsaWVudFktdC50b3AsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclg9dGhpcy5fcG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclk9dGhpcy5fcG9pbnRlclkpfV9wcm9jZXNzUG9pbnRlck1vdmUoZSx0KXtjb25zdCBpPXRoaXMuX3NjZW5lLHM9aS5nZXRFbmdpbmUoKSxyPXMuZ2V0SW5wdXRFbGVtZW50KCk7ciYmKHIudGFiSW5kZXg9cy5jYW52YXNUYWJJbmRleCxpLmRvTm90SGFuZGxlQ3Vyc29yc3x8KHIuc3R5bGUuY3Vyc29yPWkuZGVmYXVsdEN1cnNvcikpLHRoaXMuX3NldEN1cnNvckFuZFBvaW50ZXJPdmVyTWVzaChlLHQsaSk7Zm9yKGNvbnN0IG8gb2YgaS5fcG9pbnRlck1vdmVTdGFnZSl7Y29uc3QgaD0hIShlIT1udWxsJiZlLnBpY2tlZE1lc2gpO2U9by5hY3Rpb24odGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksZSxoLHIpfWNvbnN0IG49dC5pbnB1dEluZGV4Pj1KLk1vdXNlV2hlZWxYJiZ0LmlucHV0SW5kZXg8PUouTW91c2VXaGVlbFo/cGUuUE9JTlRFUldIRUVMOnBlLlBPSU5URVJNT1ZFO2kub25Qb2ludGVyTW92ZSYmKGU9ZXx8dGhpcy5fcGlja01vdmUodCksaS5vblBvaW50ZXJNb3ZlKHQsZSxuKSk7bGV0IGE7ZT8oYT1uZXcgVnQobix0LGUpLHRoaXMuX3NldFJheU9uUG9pbnRlckluZm8oZSx0KSk6KGE9bmV3IFZ0KG4sdCxudWxsLHRoaXMpLHRoaXMuX21vdmVQb2ludGVySW5mbz1hKSxpLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJmkub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoYSxuKX1fc2V0UmF5T25Qb2ludGVySW5mbyhlLHQpe2NvbnN0IGk9dGhpcy5fc2NlbmU7ZSYmaS5fcGlja2luZ0F2YWlsYWJsZSYmKGUucmF5fHwoZS5yYXk9aS5jcmVhdGVQaWNraW5nUmF5KHQub2Zmc2V0WCx0Lm9mZnNldFksTS5JZGVudGl0eSgpLGkuYWN0aXZlQ2FtZXJhKSkpfV9hZGRDYW1lcmFQb2ludGVyT2JzZXJ2ZXIoZSx0KXtyZXR1cm4gdGhpcy5fY2FtZXJhT2JzZXJ2ZXJDb3VudCsrLHRoaXMuX3NjZW5lLm9uUG9pbnRlck9ic2VydmFibGUuYWRkKGUsdCl9X3JlbW92ZUNhbWVyYVBvaW50ZXJPYnNlcnZlcihlKXtyZXR1cm4gdGhpcy5fY2FtZXJhT2JzZXJ2ZXJDb3VudC0tLHRoaXMuX3NjZW5lLm9uUG9pbnRlck9ic2VydmFibGUucmVtb3ZlKGUpfV9jaGVja0ZvclBpY2tpbmcoKXtyZXR1cm4hISh0aGlzLl9zY2VuZS5vblBvaW50ZXJPYnNlcnZhYmxlLm9ic2VydmVycy5sZW5ndGg+dGhpcy5fY2FtZXJhT2JzZXJ2ZXJDb3VudHx8dGhpcy5fc2NlbmUub25Qb2ludGVyUGljayl9X2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSx0LGkpe2NvbnN0IHM9dGhpcy5fc2NlbmUscj1uZXcgRm4oaSx0LHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZKTtyZXR1cm4gZSYmKHIub3JpZ2luYWxQaWNraW5nSW5mbz1lLHIucmF5PWUucmF5LGUub3JpZ2luTWVzaCYmKHIubmVhckludGVyYWN0aW9uUGlja2luZ0luZm89ZSkpLHMub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocixpKSwhIXIuc2tpcE9uUG9pbnRlck9ic2VydmFibGV9X3BpY2tNb3ZlKGUpe2NvbnN0IHQ9dGhpcy5fc2NlbmUsaT10LnBpY2sodGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksdC5wb2ludGVyTW92ZVByZWRpY2F0ZSwhMSx0LmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMsdC5wb2ludGVyTW92ZVRyaWFuZ2xlUHJlZGljYXRlKTtyZXR1cm4gdGhpcy5fc2V0Q3Vyc29yQW5kUG9pbnRlck92ZXJNZXNoKGksZSx0KSxpfV9zZXRDdXJzb3JBbmRQb2ludGVyT3Zlck1lc2goZSx0LGkpe2NvbnN0IHI9aS5nZXRFbmdpbmUoKS5nZXRJbnB1dEVsZW1lbnQoKTtpZihlIT1udWxsJiZlLnBpY2tlZE1lc2gpe2lmKHRoaXMuc2V0UG9pbnRlck92ZXJNZXNoKGUucGlja2VkTWVzaCx0LnBvaW50ZXJJZCxlLHQpLCFpLmRvTm90SGFuZGxlQ3Vyc29ycyYmciYmdGhpcy5fcG9pbnRlck92ZXJNZXNoKXtjb25zdCBuPXRoaXMuX3BvaW50ZXJPdmVyTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKTtuJiZuLmhhc1BvaW50ZXJUcmlnZ2VycyYmKHIuc3R5bGUuY3Vyc29yPW4uaG92ZXJDdXJzb3J8fGkuaG92ZXJDdXJzb3IpfX1lbHNlIHRoaXMuc2V0UG9pbnRlck92ZXJNZXNoKG51bGwsdC5wb2ludGVySWQsZSx0KX1zaW11bGF0ZVBvaW50ZXJNb3ZlKGUsdCl7Y29uc3QgaT1uZXcgUG9pbnRlckV2ZW50KCJwb2ludGVybW92ZSIsdCk7aS5pbnB1dEluZGV4PUouTW92ZSwhdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShlLGkscGUuUE9JTlRFUk1PVkUpJiZ0aGlzLl9wcm9jZXNzUG9pbnRlck1vdmUoZSxpKX1zaW11bGF0ZVBvaW50ZXJEb3duKGUsdCl7Y29uc3QgaT1uZXcgUG9pbnRlckV2ZW50KCJwb2ludGVyZG93biIsdCk7aS5pbnB1dEluZGV4PWkuYnV0dG9uKzIsIXRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUoZSxpLHBlLlBPSU5URVJET1dOKSYmdGhpcy5fcHJvY2Vzc1BvaW50ZXJEb3duKGUsaSl9X3Byb2Nlc3NQb2ludGVyRG93bihlLHQpe2NvbnN0IGk9dGhpcy5fc2NlbmU7aWYoZSE9bnVsbCYmZS5waWNrZWRNZXNoKXt0aGlzLl9waWNrZWREb3duTWVzaD1lLnBpY2tlZE1lc2g7Y29uc3Qgbj1lLnBpY2tlZE1lc2guX2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKCk7aWYobil7aWYobi5oYXNQaWNrVHJpZ2dlcnMpc3dpdGNoKG4ucHJvY2Vzc1RyaWdnZXIoNSxWZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQpKSx0LmJ1dHRvbil7Y2FzZSAwOm4ucHJvY2Vzc1RyaWdnZXIoMixWZS5DcmVhdGVOZXcoZS5waWNrZWRNZXNoLHQpKTticmVhaztjYXNlIDE6bi5wcm9jZXNzVHJpZ2dlcig0LFZlLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCkpO2JyZWFrO2Nhc2UgMjpuLnByb2Nlc3NUcmlnZ2VyKDMsVmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0KSk7YnJlYWt9bi5oYXNTcGVjaWZpY1RyaWdnZXIoOCkmJndpbmRvdy5zZXRUaW1lb3V0KCgpPT57Y29uc3QgYT1pLnBpY2sodGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksbz0+by5pc1BpY2thYmxlJiZvLmlzVmlzaWJsZSYmby5pc1JlYWR5KCkmJm8uYWN0aW9uTWFuYWdlciYmby5hY3Rpb25NYW5hZ2VyLmhhc1NwZWNpZmljVHJpZ2dlcig4KSYmbz09PXRoaXMuX3BpY2tlZERvd25NZXNoLCExLGkuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyk7YSE9bnVsbCYmYS5waWNrZWRNZXNoJiZuJiZ0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZCE9PTAmJkRhdGUubm93KCktdGhpcy5fc3RhcnRpbmdQb2ludGVyVGltZT5QZS5Mb25nUHJlc3NEZWxheSYmIXRoaXMuX2lzUG9pbnRlclN3aXBpbmcoKSYmKHRoaXMuX3N0YXJ0aW5nUG9pbnRlclRpbWU9MCxuLnByb2Nlc3NUcmlnZ2VyKDgsVmUuQ3JlYXRlTmV3KGEucGlja2VkTWVzaCx0KSkpfSxQZS5Mb25nUHJlc3NEZWxheSl9fWVsc2UgZm9yKGNvbnN0IG4gb2YgaS5fcG9pbnRlckRvd25TdGFnZSllPW4uYWN0aW9uKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLGUsdCwhMSk7bGV0IHM7Y29uc3Qgcj1wZS5QT0lOVEVSRE9XTjtlPyhpLm9uUG9pbnRlckRvd24mJmkub25Qb2ludGVyRG93bih0LGUscikscz1uZXcgVnQocix0LGUpLHRoaXMuX3NldFJheU9uUG9pbnRlckluZm8oZSx0KSk6cz1uZXcgVnQocix0LG51bGwsdGhpcyksaS5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZpLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHMscil9X2lzUG9pbnRlclN3aXBpbmcoKXtyZXR1cm4gdGhpcy5faXNTd2lwaW5nfXNpbXVsYXRlUG9pbnRlclVwKGUsdCxpKXtjb25zdCBzPW5ldyBQb2ludGVyRXZlbnQoInBvaW50ZXJ1cCIsdCk7cy5pbnB1dEluZGV4PUouTW92ZTtjb25zdCByPW5ldyB5cjtpP3IuZG91YmxlQ2xpY2s9ITA6ci5zaW5nbGVDbGljaz0hMCwhdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShlLHMscGUuUE9JTlRFUlVQKSYmdGhpcy5fcHJvY2Vzc1BvaW50ZXJVcChlLHMscil9X3Byb2Nlc3NQb2ludGVyVXAoZSx0LGkpe2NvbnN0IHM9dGhpcy5fc2NlbmU7aWYoZSE9bnVsbCYmZS5waWNrZWRNZXNoKXtpZih0aGlzLl9waWNrZWRVcE1lc2g9ZS5waWNrZWRNZXNoLHRoaXMuX3BpY2tlZERvd25NZXNoPT09dGhpcy5fcGlja2VkVXBNZXNoJiYocy5vblBvaW50ZXJQaWNrJiZzLm9uUG9pbnRlclBpY2sodCxlKSxpLnNpbmdsZUNsaWNrJiYhaS5pZ25vcmUmJnMub25Qb2ludGVyT2JzZXJ2YWJsZS5vYnNlcnZlcnMubGVuZ3RoPnRoaXMuX2NhbWVyYU9ic2VydmVyQ291bnQpKXtjb25zdCBuPXBlLlBPSU5URVJQSUNLLGE9bmV3IFZ0KG4sdCxlKTt0aGlzLl9zZXRSYXlPblBvaW50ZXJJbmZvKGUsdCkscy5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhhLG4pfWNvbnN0IHI9ZS5waWNrZWRNZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigpO2lmKHImJiFpLmlnbm9yZSl7ci5wcm9jZXNzVHJpZ2dlcig3LFZlLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCxlKSksIWkuaGFzU3dpcGVkJiZpLnNpbmdsZUNsaWNrJiZyLnByb2Nlc3NUcmlnZ2VyKDEsVmUuQ3JlYXRlTmV3KGUucGlja2VkTWVzaCx0LGUpKTtjb25zdCBuPWUucGlja2VkTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoNik7aS5kb3VibGVDbGljayYmbiYmbi5wcm9jZXNzVHJpZ2dlcig2LFZlLkNyZWF0ZU5ldyhlLnBpY2tlZE1lc2gsdCxlKSl9fWVsc2UgaWYoIWkuaWdub3JlKWZvcihjb25zdCByIG9mIHMuX3BvaW50ZXJVcFN0YWdlKWU9ci5hY3Rpb24odGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksZSx0LGkuZG91YmxlQ2xpY2spO2lmKHRoaXMuX3BpY2tlZERvd25NZXNoJiZ0aGlzLl9waWNrZWREb3duTWVzaCE9PXRoaXMuX3BpY2tlZFVwTWVzaCl7Y29uc3Qgcj10aGlzLl9waWNrZWREb3duTWVzaC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoMTYpO3ImJnIucHJvY2Vzc1RyaWdnZXIoMTYsVmUuQ3JlYXRlTmV3KHRoaXMuX3BpY2tlZERvd25NZXNoLHQpKX1pZighaS5pZ25vcmUpe2NvbnN0IHI9bmV3IFZ0KHBlLlBPSU5URVJVUCx0LGUpO2lmKHRoaXMuX3NldFJheU9uUG9pbnRlckluZm8oZSx0KSxzLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIscGUuUE9JTlRFUlVQKSxzLm9uUG9pbnRlclVwJiZzLm9uUG9pbnRlclVwKHQsZSxwZS5QT0lOVEVSVVApLCFpLmhhc1N3aXBlZCYmIXRoaXMuX3NraXBQb2ludGVyVGFwJiYhdGhpcy5faXNNdWx0aVRvdWNoR2VzdHVyZSl7bGV0IG49MDtpZihpLnNpbmdsZUNsaWNrP249cGUuUE9JTlRFUlRBUDppLmRvdWJsZUNsaWNrJiYobj1wZS5QT0lOVEVSRE9VQkxFVEFQKSxuKXtjb25zdCBhPW5ldyBWdChuLHQsZSk7cy5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZzLm9uUG9pbnRlck9ic2VydmFibGUuaGFzU3BlY2lmaWNNYXNrKG4pJiZzLm9uUG9pbnRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGEsbil9fX19aXNQb2ludGVyQ2FwdHVyZWQoZT0wKXtyZXR1cm4gdGhpcy5fcG9pbnRlckNhcHR1cmVzW2VdfWF0dGFjaENvbnRyb2woZT0hMCx0PSEwLGk9ITAscz1udWxsKXtjb25zdCByPXRoaXMuX3NjZW5lLG49ci5nZXRFbmdpbmUoKTtzfHwocz1uLmdldElucHV0RWxlbWVudCgpKSx0aGlzLl9hbHJlYWR5QXR0YWNoZWQmJnRoaXMuZGV0YWNoQ29udHJvbCgpLHMmJih0aGlzLl9hbHJlYWR5QXR0YWNoZWRUbz1zKSx0aGlzLl9kZXZpY2VTb3VyY2VNYW5hZ2VyPW5ldyBObihuKSx0aGlzLl9pbml0QWN0aW9uTWFuYWdlcj1hPT57aWYoIXRoaXMuX21lc2hQaWNrUHJvY2VlZCl7Y29uc3Qgbz1yLnNraXBQb2ludGVyVXBQaWNraW5nfHxyLl9yZWdpc3RlcmVkQWN0aW9ucz09PTAmJiF0aGlzLl9jaGVja0ZvclBpY2tpbmcoKSYmIXIub25Qb2ludGVyVXA/bnVsbDpyLnBpY2sodGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclgsdGhpcy5fdW5UcmFuc2xhdGVkUG9pbnRlclksci5wb2ludGVyVXBQcmVkaWNhdGUsITEsci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzKTt0aGlzLl9jdXJyZW50UGlja1Jlc3VsdD1vLG8mJihhPW8uaGl0JiZvLnBpY2tlZE1lc2g/by5waWNrZWRNZXNoLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigpOm51bGwpLHRoaXMuX21lc2hQaWNrUHJvY2VlZD0hMH1yZXR1cm4gYX0sdGhpcy5fZGVsYXllZFNpbXBsZUNsaWNrPShhLG8saCk9PntpZigoRGF0ZS5ub3coKS10aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU+UGUuRG91YmxlQ2xpY2tEZWxheSYmIXRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZHx8YSE9PXRoaXMuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZCkmJih0aGlzLl9kb3VibGVDbGlja09jY3VyZWQ9ITEsby5zaW5nbGVDbGljaz0hMCxvLmlnbm9yZT0hMSx0aGlzLl9kZWxheWVkQ2xpY2tzW2FdKSl7Y29uc3QgbD10aGlzLl9kZWxheWVkQ2xpY2tzW2FdLmV2dCx1PXBlLlBPSU5URVJUQVAsZD1uZXcgVnQodSxsLHRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0KTtyLm9uUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJnIub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2sodSkmJnIub25Qb2ludGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZCx1KSx0aGlzLl9kZWxheWVkQ2xpY2tzW2FdPW51bGx9fSx0aGlzLl9pbml0Q2xpY2tFdmVudD0oYSxvLGgsbCk9Pnt2YXIgdSxkO2NvbnN0IF89bmV3IHlyO3RoaXMuX2N1cnJlbnRQaWNrUmVzdWx0PW51bGw7bGV0IGY9bnVsbCxtPWEuaGFzU3BlY2lmaWNNYXNrKHBlLlBPSU5URVJQSUNLKXx8by5oYXNTcGVjaWZpY01hc2socGUuUE9JTlRFUlBJQ0spfHxhLmhhc1NwZWNpZmljTWFzayhwZS5QT0lOVEVSVEFQKXx8by5oYXNTcGVjaWZpY01hc2socGUuUE9JTlRFUlRBUCl8fGEuaGFzU3BlY2lmaWNNYXNrKHBlLlBPSU5URVJET1VCTEVUQVApfHxvLmhhc1NwZWNpZmljTWFzayhwZS5QT0lOVEVSRE9VQkxFVEFQKTshbSYmZHQmJihmPXRoaXMuX2luaXRBY3Rpb25NYW5hZ2VyKGYsXyksZiYmKG09Zi5oYXNQaWNrVHJpZ2dlcnMpKTtsZXQgdj0hMTtpZihtKXtjb25zdCBFPWguYnV0dG9uO2lmKF8uaGFzU3dpcGVkPXRoaXMuX2lzUG9pbnRlclN3aXBpbmcoKSwhXy5oYXNTd2lwZWQpe2xldCBTPSFQZS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGU7aWYoU3x8KFM9IWEuaGFzU3BlY2lmaWNNYXNrKHBlLlBPSU5URVJET1VCTEVUQVApJiYhby5oYXNTcGVjaWZpY01hc2socGUuUE9JTlRFUkRPVUJMRVRBUCksUyYmIWR0Lkhhc1NwZWNpZmljVHJpZ2dlcig2KSYmKGY9dGhpcy5faW5pdEFjdGlvbk1hbmFnZXIoZixfKSxmJiYoUz0hZi5oYXNTcGVjaWZpY1RyaWdnZXIoNikpKSksUykoRGF0ZS5ub3coKS10aGlzLl9wcmV2aW91c1N0YXJ0aW5nUG9pbnRlclRpbWU+UGUuRG91YmxlQ2xpY2tEZWxheXx8RSE9PXRoaXMuX3ByZXZpb3VzQnV0dG9uUHJlc3NlZCkmJihfLnNpbmdsZUNsaWNrPSEwLGwoXyx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdCksdj0hMCk7ZWxzZXtjb25zdCBBPXtldnQ6aCxjbGlja0luZm86Xyx0aW1lb3V0SWQ6d2luZG93LnNldFRpbWVvdXQodGhpcy5fZGVsYXllZFNpbXBsZUNsaWNrLmJpbmQodGhpcyxFLF8sbCksUGUuRG91YmxlQ2xpY2tEZWxheSl9O3RoaXMuX2RlbGF5ZWRDbGlja3NbRV09QX1sZXQgUj1hLmhhc1NwZWNpZmljTWFzayhwZS5QT0lOVEVSRE9VQkxFVEFQKXx8by5oYXNTcGVjaWZpY01hc2socGUuUE9JTlRFUkRPVUJMRVRBUCk7IVImJmR0Lkhhc1NwZWNpZmljVHJpZ2dlcig2KSYmKGY9dGhpcy5faW5pdEFjdGlvbk1hbmFnZXIoZixfKSxmJiYoUj1mLmhhc1NwZWNpZmljVHJpZ2dlcig2KSkpLFImJihFPT09dGhpcy5fcHJldmlvdXNCdXR0b25QcmVzc2VkJiZEYXRlLm5vdygpLXRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZTxQZS5Eb3VibGVDbGlja0RlbGF5JiYhdGhpcy5fZG91YmxlQ2xpY2tPY2N1cmVkPyghXy5oYXNTd2lwZWQmJiF0aGlzLl9pc1BvaW50ZXJTd2lwaW5nKCk/KHRoaXMuX3ByZXZpb3VzU3RhcnRpbmdQb2ludGVyVGltZT0wLHRoaXMuX2RvdWJsZUNsaWNrT2NjdXJlZD0hMCxfLmRvdWJsZUNsaWNrPSEwLF8uaWdub3JlPSExLFBlLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZSYmdGhpcy5fZGVsYXllZENsaWNrc1tFXSYmKGNsZWFyVGltZW91dCgodT10aGlzLl9kZWxheWVkQ2xpY2tzW0VdKT09PW51bGx8fHU9PT12b2lkIDA/dm9pZCAwOnUudGltZW91dElkKSx0aGlzLl9kZWxheWVkQ2xpY2tzW0VdPW51bGwpLGwoXyx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdCkpOih0aGlzLl9kb3VibGVDbGlja09jY3VyZWQ9ITEsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPXRoaXMuX3N0YXJ0aW5nUG9pbnRlclRpbWUsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54PXRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLngsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55PXRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnksdGhpcy5fcHJldmlvdXNCdXR0b25QcmVzc2VkPUUsUGUuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlPyh0aGlzLl9kZWxheWVkQ2xpY2tzW0VdJiYoY2xlYXJUaW1lb3V0KChkPXRoaXMuX2RlbGF5ZWRDbGlja3NbRV0pPT09bnVsbHx8ZD09PXZvaWQgMD92b2lkIDA6ZC50aW1lb3V0SWQpLHRoaXMuX2RlbGF5ZWRDbGlja3NbRV09bnVsbCksbChfLHRoaXMuX3ByZXZpb3VzUGlja1Jlc3VsdCkpOmwoXyx0aGlzLl9jdXJyZW50UGlja1Jlc3VsdCkpLHY9ITApOih0aGlzLl9kb3VibGVDbGlja09jY3VyZWQ9ITEsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJUaW1lPXRoaXMuX3N0YXJ0aW5nUG9pbnRlclRpbWUsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbi54PXRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLngsdGhpcy5fcHJldmlvdXNTdGFydGluZ1BvaW50ZXJQb3NpdGlvbi55PXRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLnksdGhpcy5fcHJldmlvdXNCdXR0b25QcmVzc2VkPUUpKX19dnx8bChfLHRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0KX0sdGhpcy5fb25Qb2ludGVyTW92ZT1hPT57aWYodGhpcy5fdXBkYXRlUG9pbnRlclBvc2l0aW9uKGEpLCF0aGlzLl9pc1N3aXBpbmcmJnRoaXMuX3N3aXBlQnV0dG9uUHJlc3NlZCE9PS0xJiYodGhpcy5faXNTd2lwaW5nPU1hdGguYWJzKHRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLngtdGhpcy5fcG9pbnRlclgpPlBlLkRyYWdNb3ZlbWVudFRocmVzaG9sZHx8TWF0aC5hYnModGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueS10aGlzLl9wb2ludGVyWSk+UGUuRHJhZ01vdmVtZW50VGhyZXNob2xkKSxuLmlzUG9pbnRlckxvY2smJm4uX3ZlcmlmeVBvaW50ZXJMb2NrKCksdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLGEsYS5pbnB1dEluZGV4Pj1KLk1vdXNlV2hlZWxYJiZhLmlucHV0SW5kZXg8PUouTW91c2VXaGVlbFo/cGUuUE9JTlRFUldIRUVMOnBlLlBPSU5URVJNT1ZFKXx8IXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXIuYWN0aXZlQ2FtZXJhKXJldHVybjtpZihyLnNraXBQb2ludGVyTW92ZVBpY2tpbmcpe3RoaXMuX3Byb2Nlc3NQb2ludGVyTW92ZShuZXcga3QsYSk7cmV0dXJufXIucG9pbnRlck1vdmVQcmVkaWNhdGV8fChyLnBvaW50ZXJNb3ZlUHJlZGljYXRlPWg9PmguaXNQaWNrYWJsZSYmaC5pc1Zpc2libGUmJmguaXNSZWFkeSgpJiZoLmlzRW5hYmxlZCgpJiYoaC5lbmFibGVQb2ludGVyTW92ZUV2ZW50c3x8ci5jb25zdGFudGx5VXBkYXRlTWVzaFVuZGVyUG9pbnRlcnx8aC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoKSE9PW51bGwpJiYoIXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVyc3x8KHIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycy5sYXllck1hc2smaC5sYXllck1hc2spIT09MCkpO2NvbnN0IG89ci5fcmVnaXN0ZXJlZEFjdGlvbnM+MD90aGlzLl9waWNrTW92ZShhKTpudWxsO3RoaXMuX3Byb2Nlc3NQb2ludGVyTW92ZShvLGEpfSx0aGlzLl9vblBvaW50ZXJEb3duPWE9Pnt2YXIgbztpZih0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZCsrLHRoaXMuX3BpY2tlZERvd25NZXNoPW51bGwsdGhpcy5fbWVzaFBpY2tQcm9jZWVkPSExLFBlLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZSl7Zm9yKGxldCBsPTA7bDx0aGlzLl9kZWxheWVkQ2xpY2tzLmxlbmd0aDtsKyspaWYodGhpcy5fZGVsYXllZENsaWNrc1tsXSlpZihhLmJ1dHRvbj09PWwpY2xlYXJUaW1lb3V0KChvPXRoaXMuX2RlbGF5ZWRDbGlja3NbbF0pPT09bnVsbHx8bz09PXZvaWQgMD92b2lkIDA6by50aW1lb3V0SWQpO2Vsc2V7Y29uc3QgdT10aGlzLl9kZWxheWVkQ2xpY2tzW2xdLmNsaWNrSW5mbzt0aGlzLl9kb3VibGVDbGlja09jY3VyZWQ9ITEsdS5zaW5nbGVDbGljaz0hMCx1Lmlnbm9yZT0hMTtjb25zdCBkPXRoaXMuX2RlbGF5ZWRDbGlja3NbbF0uZXZ0LF89cGUuUE9JTlRFUlRBUCxmPW5ldyBWdChfLGQsdGhpcy5fY3VycmVudFBpY2tSZXN1bHQpO3Iub25Qb2ludGVyT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmci5vblBvaW50ZXJPYnNlcnZhYmxlLmhhc1NwZWNpZmljTWFzayhfKSYmci5vblBvaW50ZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhmLF8pLHRoaXMuX2RlbGF5ZWRDbGlja3NbbF09bnVsbH19aWYodGhpcy5fdXBkYXRlUG9pbnRlclBvc2l0aW9uKGEpLHRoaXMuX3N3aXBlQnV0dG9uUHJlc3NlZD09PS0xJiYodGhpcy5fc3dpcGVCdXR0b25QcmVzc2VkPWEuYnV0dG9uKSxyLnByZXZlbnREZWZhdWx0T25Qb2ludGVyRG93biYmcyYmKGEucHJldmVudERlZmF1bHQoKSxzLmZvY3VzKCkpLHRoaXMuX3N0YXJ0aW5nUG9pbnRlclBvc2l0aW9uLng9dGhpcy5fcG9pbnRlclgsdGhpcy5fc3RhcnRpbmdQb2ludGVyUG9zaXRpb24ueT10aGlzLl9wb2ludGVyWSx0aGlzLl9zdGFydGluZ1BvaW50ZXJUaW1lPURhdGUubm93KCksdGhpcy5fY2hlY2tQcmVQb2ludGVyT2JzZXJ2YWJsZShudWxsLGEscGUuUE9JTlRFUkRPV04pfHwhci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzJiYhci5hY3RpdmVDYW1lcmEpcmV0dXJuO3RoaXMuX3BvaW50ZXJDYXB0dXJlc1thLnBvaW50ZXJJZF09ITAsci5wb2ludGVyRG93blByZWRpY2F0ZXx8KHIucG9pbnRlckRvd25QcmVkaWNhdGU9bD0+bC5pc1BpY2thYmxlJiZsLmlzVmlzaWJsZSYmbC5pc1JlYWR5KCkmJmwuaXNFbmFibGVkKCkmJighci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzfHwoci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzLmxheWVyTWFzayZsLmxheWVyTWFzaykhPT0wKSksdGhpcy5fcGlja2VkRG93bk1lc2g9bnVsbDtsZXQgaDtyLnNraXBQb2ludGVyRG93blBpY2tpbmd8fHIuX3JlZ2lzdGVyZWRBY3Rpb25zPT09MCYmIXRoaXMuX2NoZWNrRm9yUGlja2luZygpJiYhci5vblBvaW50ZXJEb3duP2g9bmV3IGt0Omg9ci5waWNrKHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJYLHRoaXMuX3VuVHJhbnNsYXRlZFBvaW50ZXJZLHIucG9pbnRlckRvd25QcmVkaWNhdGUsITEsci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzKSx0aGlzLl9wcm9jZXNzUG9pbnRlckRvd24oaCxhKX0sdGhpcy5fb25Qb2ludGVyVXA9YT0+e3RoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkIT09MCYmKHRoaXMuX3RvdGFsUG9pbnRlcnNQcmVzc2VkLS0sdGhpcy5fcGlja2VkVXBNZXNoPW51bGwsdGhpcy5fbWVzaFBpY2tQcm9jZWVkPSExLHRoaXMuX3VwZGF0ZVBvaW50ZXJQb3NpdGlvbihhKSxyLnByZXZlbnREZWZhdWx0T25Qb2ludGVyVXAmJnMmJihhLnByZXZlbnREZWZhdWx0KCkscy5mb2N1cygpKSx0aGlzLl9pbml0Q2xpY2tFdmVudChyLm9uUHJlUG9pbnRlck9ic2VydmFibGUsci5vblBvaW50ZXJPYnNlcnZhYmxlLGEsKG8saCk9PntpZihyLm9uUHJlUG9pbnRlck9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkmJih0aGlzLl9za2lwUG9pbnRlclRhcD0hMSwhby5pZ25vcmUpKXtpZih0aGlzLl9jaGVja1ByZVBvaW50ZXJPYnNlcnZhYmxlKG51bGwsYSxwZS5QT0lOVEVSVVApKXt0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9PT1hLmJ1dHRvbiYmKHRoaXMuX2lzU3dpcGluZz0hMSx0aGlzLl9zd2lwZUJ1dHRvblByZXNzZWQ9LTEpO3JldHVybn1vLmhhc1N3aXBlZHx8KG8uc2luZ2xlQ2xpY2smJnIub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2socGUuUE9JTlRFUlRBUCkmJnRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCxhLHBlLlBPSU5URVJUQVApJiYodGhpcy5fc2tpcFBvaW50ZXJUYXA9ITApLG8uZG91YmxlQ2xpY2smJnIub25QcmVQb2ludGVyT2JzZXJ2YWJsZS5oYXNTcGVjaWZpY01hc2socGUuUE9JTlRFUkRPVUJMRVRBUCkmJnRoaXMuX2NoZWNrUHJlUG9pbnRlck9ic2VydmFibGUobnVsbCxhLHBlLlBPSU5URVJET1VCTEVUQVApJiYodGhpcy5fc2tpcFBvaW50ZXJUYXA9ITApKX1pZighdGhpcy5fcG9pbnRlckNhcHR1cmVzW2EucG9pbnRlcklkXSl7dGhpcy5fc3dpcGVCdXR0b25QcmVzc2VkPT09YS5idXR0b24mJih0aGlzLl9pc1N3aXBpbmc9ITEsdGhpcy5fc3dpcGVCdXR0b25QcmVzc2VkPS0xKTtyZXR1cm59YS5idXR0b25zPT09MCYmKHRoaXMuX3BvaW50ZXJDYXB0dXJlc1thLnBvaW50ZXJJZF09ITEpLCEoIXIuY2FtZXJhVG9Vc2VGb3JQb2ludGVycyYmIXIuYWN0aXZlQ2FtZXJhKSYmKHIucG9pbnRlclVwUHJlZGljYXRlfHwoci5wb2ludGVyVXBQcmVkaWNhdGU9bD0+bC5pc1BpY2thYmxlJiZsLmlzVmlzaWJsZSYmbC5pc1JlYWR5KCkmJmwuaXNFbmFibGVkKCkmJighci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzfHwoci5jYW1lcmFUb1VzZUZvclBvaW50ZXJzLmxheWVyTWFzayZsLmxheWVyTWFzaykhPT0wKSksIXRoaXMuX21lc2hQaWNrUHJvY2VlZCYmKGR0JiZkdC5IYXNUcmlnZ2Vyc3x8dGhpcy5fY2hlY2tGb3JQaWNraW5nKCl8fHIub25Qb2ludGVyVXApJiZ0aGlzLl9pbml0QWN0aW9uTWFuYWdlcihudWxsLG8pLGh8fChoPXRoaXMuX2N1cnJlbnRQaWNrUmVzdWx0KSx0aGlzLl9wcm9jZXNzUG9pbnRlclVwKGgsYSxvKSx0aGlzLl9wcmV2aW91c1BpY2tSZXN1bHQ9dGhpcy5fY3VycmVudFBpY2tSZXN1bHQsdGhpcy5fc3dpcGVCdXR0b25QcmVzc2VkPT09YS5idXR0b24mJih0aGlzLl9pc1N3aXBpbmc9ITEsdGhpcy5fc3dpcGVCdXR0b25QcmVzc2VkPS0xKSl9KSl9LHRoaXMuX29uS2V5RG93bj1hPT57Y29uc3Qgbz1zcy5LRVlET1dOO2lmKHIub25QcmVLZXlib2FyZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe2NvbnN0IGg9bmV3IHZyKG8sYSk7aWYoci5vblByZUtleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCxvKSxoLnNraXBPbktleWJvYXJkT2JzZXJ2YWJsZSlyZXR1cm59aWYoci5vbktleWJvYXJkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSl7Y29uc3QgaD1uZXcgd3MobyxhKTtyLm9uS2V5Ym9hcmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhoLG8pfXIuYWN0aW9uTWFuYWdlciYmci5hY3Rpb25NYW5hZ2VyLnByb2Nlc3NUcmlnZ2VyKDE0LFZlLkNyZWF0ZU5ld0Zyb21TY2VuZShyLGEpKX0sdGhpcy5fb25LZXlVcD1hPT57Y29uc3Qgbz1zcy5LRVlVUDtpZihyLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlLmhhc09ic2VydmVycygpKXtjb25zdCBoPW5ldyB2cihvLGEpO2lmKHIub25QcmVLZXlib2FyZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGgsbyksaC5za2lwT25LZXlib2FyZE9ic2VydmFibGUpcmV0dXJufWlmKHIub25LZXlib2FyZE9ic2VydmFibGUuaGFzT2JzZXJ2ZXJzKCkpe2NvbnN0IGg9bmV3IHdzKG8sYSk7ci5vbktleWJvYXJkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoaCxvKX1yLmFjdGlvbk1hbmFnZXImJnIuYWN0aW9uTWFuYWdlci5wcm9jZXNzVHJpZ2dlcigxNSxWZS5DcmVhdGVOZXdGcm9tU2NlbmUocixhKSl9LHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXIub25EZXZpY2VDb25uZWN0ZWRPYnNlcnZhYmxlLmFkZChhPT57YS5kZXZpY2VUeXBlPT09Ry5Nb3VzZT9hLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQobz0+e28uaW5wdXRJbmRleD09PUouTGVmdENsaWNrfHxvLmlucHV0SW5kZXg9PT1KLk1pZGRsZUNsaWNrfHxvLmlucHV0SW5kZXg9PT1KLlJpZ2h0Q2xpY2t8fG8uaW5wdXRJbmRleD09PUouQnJvd3NlckJhY2t8fG8uaW5wdXRJbmRleD09PUouQnJvd3NlckZvcndhcmQ/dCYmYS5nZXRJbnB1dChvLmlucHV0SW5kZXgpPT09MT90aGlzLl9vblBvaW50ZXJEb3duKG8pOmUmJmEuZ2V0SW5wdXQoby5pbnB1dEluZGV4KT09PTAmJnRoaXMuX29uUG9pbnRlclVwKG8pOmkmJihvLmlucHV0SW5kZXg9PT1KLk1vdmU/dGhpcy5fb25Qb2ludGVyTW92ZShvKTooby5pbnB1dEluZGV4PT09Si5Nb3VzZVdoZWVsWHx8by5pbnB1dEluZGV4PT09Si5Nb3VzZVdoZWVsWXx8by5pbnB1dEluZGV4PT09Si5Nb3VzZVdoZWVsWikmJnRoaXMuX29uUG9pbnRlck1vdmUobykpfSk6YS5kZXZpY2VUeXBlPT09Ry5Ub3VjaD9hLm9uSW5wdXRDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQobz0+e28uaW5wdXRJbmRleD09PUouTGVmdENsaWNrJiYodCYmYS5nZXRJbnB1dChvLmlucHV0SW5kZXgpPT09MT8odGhpcy5fb25Qb2ludGVyRG93bihvKSx0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZD4xJiYodGhpcy5faXNNdWx0aVRvdWNoR2VzdHVyZT0hMCkpOmUmJmEuZ2V0SW5wdXQoby5pbnB1dEluZGV4KT09PTAmJih0aGlzLl9vblBvaW50ZXJVcChvKSx0aGlzLl90b3RhbFBvaW50ZXJzUHJlc3NlZD09PTAmJih0aGlzLl9pc011bHRpVG91Y2hHZXN0dXJlPSExKSkpLGkmJm8uaW5wdXRJbmRleD09PUouTW92ZSYmdGhpcy5fb25Qb2ludGVyTW92ZShvKX0pOmEuZGV2aWNlVHlwZT09PUcuS2V5Ym9hcmQmJmEub25JbnB1dENoYW5nZWRPYnNlcnZhYmxlLmFkZChvPT57by50eXBlPT09ImtleWRvd24iP3RoaXMuX29uS2V5RG93bihvKTpvLnR5cGU9PT0ia2V5dXAiJiZ0aGlzLl9vbktleVVwKG8pfSl9KSx0aGlzLl9hbHJlYWR5QXR0YWNoZWQ9ITB9ZGV0YWNoQ29udHJvbCgpe3RoaXMuX2FscmVhZHlBdHRhY2hlZCYmKHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXIuZGlzcG9zZSgpLHRoaXMuX2RldmljZVNvdXJjZU1hbmFnZXI9bnVsbCx0aGlzLl9hbHJlYWR5QXR0YWNoZWRUbyYmIXRoaXMuX3NjZW5lLmRvTm90SGFuZGxlQ3Vyc29ycyYmKHRoaXMuX2FscmVhZHlBdHRhY2hlZFRvLnN0eWxlLmN1cnNvcj10aGlzLl9zY2VuZS5kZWZhdWx0Q3Vyc29yKSx0aGlzLl9hbHJlYWR5QXR0YWNoZWQ9ITEsdGhpcy5fYWxyZWFkeUF0dGFjaGVkVG89bnVsbCl9c2V0UG9pbnRlck92ZXJNZXNoKGUsdD0wLGkscyl7aWYodGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdPT09ZSYmKCFlfHwhZS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9pbnRlck92ZXJEaXNhYmxlTWVzaFRlc3RpbmcpKXJldHVybjtjb25zdCByPXRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XTtsZXQgbjtyJiYobj1yLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcigxMCksbiYmbi5wcm9jZXNzVHJpZ2dlcigxMCxWZS5DcmVhdGVOZXcocixzLHtwb2ludGVySWQ6dH0pKSksZT8odGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdPWUsdGhpcy5fcG9pbnRlck92ZXJNZXNoPWUsbj1lLl9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcig5KSxuJiZuLnByb2Nlc3NUcmlnZ2VyKDksVmUuQ3JlYXRlTmV3KGUscyx7cG9pbnRlcklkOnQscGlja1Jlc3VsdDppfSkpKTooZGVsZXRlIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZFt0XSx0aGlzLl9wb2ludGVyT3Zlck1lc2g9bnVsbCl9Z2V0UG9pbnRlck92ZXJNZXNoKCl7cmV0dXJuIHRoaXMubWVzaFVuZGVyUG9pbnRlcn1faW52YWxpZGF0ZU1lc2goZSl7dGhpcy5fcG9pbnRlck92ZXJNZXNoPT09ZSYmKHRoaXMuX3BvaW50ZXJPdmVyTWVzaD1udWxsKSx0aGlzLl9waWNrZWREb3duTWVzaD09PWUmJih0aGlzLl9waWNrZWREb3duTWVzaD1udWxsKSx0aGlzLl9waWNrZWRVcE1lc2g9PT1lJiYodGhpcy5fcGlja2VkVXBNZXNoPW51bGwpO2Zvcihjb25zdCB0IGluIHRoaXMuX21lc2hVbmRlclBvaW50ZXJJZCl0aGlzLl9tZXNoVW5kZXJQb2ludGVySWRbdF09PT1lJiZkZWxldGUgdGhpcy5fbWVzaFVuZGVyUG9pbnRlcklkW3RdfX1QZS5EcmFnTW92ZW1lbnRUaHJlc2hvbGQ9MTAsUGUuTG9uZ1ByZXNzRGVsYXk9NTAwLFBlLkRvdWJsZUNsaWNrRGVsYXk9MzAwLFBlLkV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZT0hMTtjbGFzcyBNdHtjb25zdHJ1Y3RvcihlLHQsaSxzKXt0aGlzLm5vcm1hbD1uZXcgcChlLHQsaSksdGhpcy5kPXN9YXNBcnJheSgpe3JldHVyblt0aGlzLm5vcm1hbC54LHRoaXMubm9ybWFsLnksdGhpcy5ub3JtYWwueix0aGlzLmRdfWNsb25lKCl7cmV0dXJuIG5ldyBNdCh0aGlzLm5vcm1hbC54LHRoaXMubm9ybWFsLnksdGhpcy5ub3JtYWwueix0aGlzLmQpfWdldENsYXNzTmFtZSgpe3JldHVybiJQbGFuZSJ9Z2V0SGFzaENvZGUoKXtsZXQgZT10aGlzLm5vcm1hbC5nZXRIYXNoQ29kZSgpO3JldHVybiBlPWUqMzk3Xih0aGlzLmR8MCksZX1ub3JtYWxpemUoKXtjb25zdCBlPU1hdGguc3FydCh0aGlzLm5vcm1hbC54KnRoaXMubm9ybWFsLngrdGhpcy5ub3JtYWwueSp0aGlzLm5vcm1hbC55K3RoaXMubm9ybWFsLnoqdGhpcy5ub3JtYWwueik7bGV0IHQ9MDtyZXR1cm4gZSE9PTAmJih0PTEvZSksdGhpcy5ub3JtYWwueCo9dCx0aGlzLm5vcm1hbC55Kj10LHRoaXMubm9ybWFsLnoqPXQsdGhpcy5kKj10LHRoaXN9dHJhbnNmb3JtKGUpe2NvbnN0IHQ9TXQuX1RtcE1hdHJpeDtlLmludmVydFRvUmVmKHQpO2NvbnN0IGk9dC5tLHM9dGhpcy5ub3JtYWwueCxyPXRoaXMubm9ybWFsLnksbj10aGlzLm5vcm1hbC56LGE9dGhpcy5kLG89cyppWzBdK3IqaVsxXStuKmlbMl0rYSppWzNdLGg9cyppWzRdK3IqaVs1XStuKmlbNl0rYSppWzddLGw9cyppWzhdK3IqaVs5XStuKmlbMTBdK2EqaVsxMV0sdT1zKmlbMTJdK3IqaVsxM10rbippWzE0XSthKmlbMTVdO3JldHVybiBuZXcgTXQobyxoLGwsdSl9ZG90Q29vcmRpbmF0ZShlKXtyZXR1cm4gdGhpcy5ub3JtYWwueCplLngrdGhpcy5ub3JtYWwueSplLnkrdGhpcy5ub3JtYWwueiplLnordGhpcy5kfWNvcHlGcm9tUG9pbnRzKGUsdCxpKXtjb25zdCBzPXQueC1lLngscj10LnktZS55LG49dC56LWUueixhPWkueC1lLngsbz1pLnktZS55LGg9aS56LWUueixsPXIqaC1uKm8sdT1uKmEtcypoLGQ9cypvLXIqYSxfPU1hdGguc3FydChsKmwrdSp1K2QqZCk7bGV0IGY7cmV0dXJuIF8hPT0wP2Y9MS9fOmY9MCx0aGlzLm5vcm1hbC54PWwqZix0aGlzLm5vcm1hbC55PXUqZix0aGlzLm5vcm1hbC56PWQqZix0aGlzLmQ9LSh0aGlzLm5vcm1hbC54KmUueCt0aGlzLm5vcm1hbC55KmUueSt0aGlzLm5vcm1hbC56KmUueiksdGhpc31pc0Zyb250RmFjaW5nVG8oZSx0KXtyZXR1cm4gcC5Eb3QodGhpcy5ub3JtYWwsZSk8PXR9c2lnbmVkRGlzdGFuY2VUbyhlKXtyZXR1cm4gcC5Eb3QoZSx0aGlzLm5vcm1hbCkrdGhpcy5kfXN0YXRpYyBGcm9tQXJyYXkoZSl7cmV0dXJuIG5ldyBNdChlWzBdLGVbMV0sZVsyXSxlWzNdKX1zdGF0aWMgRnJvbVBvaW50cyhlLHQsaSl7Y29uc3Qgcz1uZXcgTXQoMCwwLDAsMCk7cmV0dXJuIHMuY29weUZyb21Qb2ludHMoZSx0LGkpLHN9c3RhdGljIEZyb21Qb3NpdGlvbkFuZE5vcm1hbChlLHQpe2NvbnN0IGk9bmV3IE10KDAsMCwwLDApO3JldHVybiB0Lm5vcm1hbGl6ZSgpLGkubm9ybWFsPXQsaS5kPS0odC54KmUueCt0LnkqZS55K3QueiplLnopLGl9c3RhdGljIFNpZ25lZERpc3RhbmNlVG9QbGFuZUZyb21Qb3NpdGlvbkFuZE5vcm1hbChlLHQsaSl7Y29uc3Qgcz0tKHQueCplLngrdC55KmUueSt0LnoqZS56KTtyZXR1cm4gcC5Eb3QoaSx0KStzfX1NdC5fVG1wTWF0cml4PU0uSWRlbnRpdHkoKTtjbGFzcyBFdHtzdGF0aWMgR2V0UGxhbmVzKGUpe2NvbnN0IHQ9W107Zm9yKGxldCBpPTA7aTw2O2krKyl0LnB1c2gobmV3IE10KDAsMCwwLDApKTtyZXR1cm4gRXQuR2V0UGxhbmVzVG9SZWYoZSx0KSx0fXN0YXRpYyBHZXROZWFyUGxhbmVUb1JlZihlLHQpe2NvbnN0IGk9ZS5tO3Qubm9ybWFsLng9aVszXStpWzJdLHQubm9ybWFsLnk9aVs3XStpWzZdLHQubm9ybWFsLno9aVsxMV0raVsxMF0sdC5kPWlbMTVdK2lbMTRdLHQubm9ybWFsaXplKCl9c3RhdGljIEdldEZhclBsYW5lVG9SZWYoZSx0KXtjb25zdCBpPWUubTt0Lm5vcm1hbC54PWlbM10taVsyXSx0Lm5vcm1hbC55PWlbN10taVs2XSx0Lm5vcm1hbC56PWlbMTFdLWlbMTBdLHQuZD1pWzE1XS1pWzE0XSx0Lm5vcm1hbGl6ZSgpfXN0YXRpYyBHZXRMZWZ0UGxhbmVUb1JlZihlLHQpe2NvbnN0IGk9ZS5tO3Qubm9ybWFsLng9aVszXStpWzBdLHQubm9ybWFsLnk9aVs3XStpWzRdLHQubm9ybWFsLno9aVsxMV0raVs4XSx0LmQ9aVsxNV0raVsxMl0sdC5ub3JtYWxpemUoKX1zdGF0aWMgR2V0UmlnaHRQbGFuZVRvUmVmKGUsdCl7Y29uc3QgaT1lLm07dC5ub3JtYWwueD1pWzNdLWlbMF0sdC5ub3JtYWwueT1pWzddLWlbNF0sdC5ub3JtYWwuej1pWzExXS1pWzhdLHQuZD1pWzE1XS1pWzEyXSx0Lm5vcm1hbGl6ZSgpfXN0YXRpYyBHZXRUb3BQbGFuZVRvUmVmKGUsdCl7Y29uc3QgaT1lLm07dC5ub3JtYWwueD1pWzNdLWlbMV0sdC5ub3JtYWwueT1pWzddLWlbNV0sdC5ub3JtYWwuej1pWzExXS1pWzldLHQuZD1pWzE1XS1pWzEzXSx0Lm5vcm1hbGl6ZSgpfXN0YXRpYyBHZXRCb3R0b21QbGFuZVRvUmVmKGUsdCl7Y29uc3QgaT1lLm07dC5ub3JtYWwueD1pWzNdK2lbMV0sdC5ub3JtYWwueT1pWzddK2lbNV0sdC5ub3JtYWwuej1pWzExXStpWzldLHQuZD1pWzE1XStpWzEzXSx0Lm5vcm1hbGl6ZSgpfXN0YXRpYyBHZXRQbGFuZXNUb1JlZihlLHQpe0V0LkdldE5lYXJQbGFuZVRvUmVmKGUsdFswXSksRXQuR2V0RmFyUGxhbmVUb1JlZihlLHRbMV0pLEV0LkdldExlZnRQbGFuZVRvUmVmKGUsdFsyXSksRXQuR2V0UmlnaHRQbGFuZVRvUmVmKGUsdFszXSksRXQuR2V0VG9wUGxhbmVUb1JlZihlLHRbNF0pLEV0LkdldEJvdHRvbVBsYW5lVG9SZWYoZSx0WzVdKX1zdGF0aWMgSXNQb2ludEluRnJ1c3R1bShlLHQpe2ZvcihsZXQgaT0wO2k8NjtpKyspaWYodFtpXS5kb3RDb29yZGluYXRlKGUpPDApcmV0dXJuITE7cmV0dXJuITB9fWNsYXNzIENye3N0YXRpYyBnZXQgVW5pcXVlSWQoKXtjb25zdCBlPXRoaXMuX1VuaXF1ZUlkQ291bnRlcjtyZXR1cm4gdGhpcy5fVW5pcXVlSWRDb3VudGVyKyssZX19Q3IuX1VuaXF1ZUlkQ291bnRlcj0xO2NsYXNzIEVle3N0YXRpYyBDb21wYXJlTGlnaHRzUHJpb3JpdHkoZSx0KXtyZXR1cm4gZS5zaGFkb3dFbmFibGVkIT09dC5zaGFkb3dFbmFibGVkPyh0LnNoYWRvd0VuYWJsZWQ/MTowKS0oZS5zaGFkb3dFbmFibGVkPzE6MCk6dC5yZW5kZXJQcmlvcml0eS1lLnJlbmRlclByaW9yaXR5fX1FZS5GQUxMT0ZGX0RFRkFVTFQ9MCxFZS5GQUxMT0ZGX1BIWVNJQ0FMPTEsRWUuRkFMTE9GRl9HTFRGPTIsRWUuRkFMTE9GRl9TVEFOREFSRD0zLEVlLkxJR0hUTUFQX0RFRkFVTFQ9MCxFZS5MSUdIVE1BUF9TUEVDVUxBUj0xLEVlLkxJR0hUTUFQX1NIQURPV1NPTkxZPTIsRWUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUM9MCxFZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTUE9XRVI9MSxFZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZPTIsRWUuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRT0zLEVlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFPTQsRWUuTElHSFRUWVBFSURfUE9JTlRMSUdIVD0wLEVlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ9MSxFZS5MSUdIVFRZUEVJRF9TUE9UTElHSFQ9MixFZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hUPTM7dmFyIFB0OyhmdW5jdGlvbihjKXtjW2MuQmFja3dhcmRDb21wYXRpYmxlPTBdPSJCYWNrd2FyZENvbXBhdGlibGUiLGNbYy5JbnRlcm1lZGlhdGU9MV09IkludGVybWVkaWF0ZSIsY1tjLkFnZ3Jlc3NpdmU9Ml09IkFnZ3Jlc3NpdmUifSkoUHR8fChQdD17fSkpO2NsYXNzIGFlIGV4dGVuZHMgUWl7c3RhdGljIERlZmF1bHRNYXRlcmlhbEZhY3RvcnkoZSl7dGhyb3cgUSgiU3RhbmRhcmRNYXRlcmlhbCIpfXN0YXRpYyBDb2xsaXNpb25Db29yZGluYXRvckZhY3RvcnkoKXt0aHJvdyBRKCJEZWZhdWx0Q29sbGlzaW9uQ29vcmRpbmF0b3IiKX1nZXQgZW52aXJvbm1lbnRUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2Vudmlyb25tZW50VGV4dHVyZX1zZXQgZW52aXJvbm1lbnRUZXh0dXJlKGUpe3RoaXMuX2Vudmlyb25tZW50VGV4dHVyZSE9PWUmJih0aGlzLl9lbnZpcm9ubWVudFRleHR1cmU9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1nZXQgaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9ufWdldCBwZXJmb3JtYW5jZVByaW9yaXR5KCl7cmV0dXJuIHRoaXMuX3BlcmZvcm1hbmNlUHJpb3JpdHl9c2V0IHBlcmZvcm1hbmNlUHJpb3JpdHkoZSl7aWYoZSE9PXRoaXMuX3BlcmZvcm1hbmNlUHJpb3JpdHkpe3N3aXRjaCh0aGlzLl9wZXJmb3JtYW5jZVByaW9yaXR5PWUsZSl7Y2FzZSBQdC5CYWNrd2FyZENvbXBhdGlibGU6dGhpcy5za2lwRnJ1c3R1bUNsaXBwaW5nPSExLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIubWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXM9ITEsdGhpcy5za2lwUG9pbnRlck1vdmVQaWNraW5nPSExLHRoaXMuYXV0b0NsZWFyPSEwO2JyZWFrO2Nhc2UgUHQuSW50ZXJtZWRpYXRlOnRoaXMuc2tpcEZydXN0dW1DbGlwcGluZz0hMSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLm1haW50YWluU3RhdGVCZXR3ZWVuRnJhbWVzPSExLHRoaXMuc2tpcFBvaW50ZXJNb3ZlUGlja2luZz0hMCx0aGlzLmF1dG9DbGVhcj0hMTticmVhaztjYXNlIFB0LkFnZ3Jlc3NpdmU6dGhpcy5za2lwRnJ1c3R1bUNsaXBwaW5nPSEwLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIubWFpbnRhaW5TdGF0ZUJldHdlZW5GcmFtZXM9ITAsdGhpcy5za2lwUG9pbnRlck1vdmVQaWNraW5nPSEwLHRoaXMuYXV0b0NsZWFyPSExO2JyZWFrfXRoaXMub25TY2VuZVBlcmZvcm1hbmNlUHJpb3JpdHlDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSl9fXNldCBmb3JjZVdpcmVmcmFtZShlKXt0aGlzLl9mb3JjZVdpcmVmcmFtZSE9PWUmJih0aGlzLl9mb3JjZVdpcmVmcmFtZT1lLHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMTYpKX1nZXQgZm9yY2VXaXJlZnJhbWUoKXtyZXR1cm4gdGhpcy5fZm9yY2VXaXJlZnJhbWV9c2V0IHNraXBGcnVzdHVtQ2xpcHBpbmcoZSl7dGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZyE9PWUmJih0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nPWUpfWdldCBza2lwRnJ1c3R1bUNsaXBwaW5nKCl7cmV0dXJuIHRoaXMuX3NraXBGcnVzdHVtQ2xpcHBpbmd9c2V0IGZvcmNlUG9pbnRzQ2xvdWQoZSl7dGhpcy5fZm9yY2VQb2ludHNDbG91ZCE9PWUmJih0aGlzLl9mb3JjZVBvaW50c0Nsb3VkPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfWdldCBmb3JjZVBvaW50c0Nsb3VkKCl7cmV0dXJuIHRoaXMuX2ZvcmNlUG9pbnRzQ2xvdWR9Z2V0IGFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZSgpe3JldHVybiB0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGV9c2V0IGFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZShlKXt0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU9ZX1zZXQgb25EaXNwb3NlKGUpe3RoaXMuX29uRGlzcG9zZU9ic2VydmVyJiZ0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uRGlzcG9zZU9ic2VydmVyKSx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj10aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKGUpfXNldCBiZWZvcmVSZW5kZXIoZSl7dGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXIpLGUmJih0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyPXRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZChlKSl9c2V0IGFmdGVyUmVuZGVyKGUpe3RoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyKSxlJiYodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyPXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKGUpKX1zZXQgYmVmb3JlQ2FtZXJhUmVuZGVyKGUpe3RoaXMuX29uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2ZXImJnRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmVyPXRoaXMub25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX1zZXQgYWZ0ZXJDYW1lcmFSZW5kZXIoZSl7dGhpcy5fb25BZnRlckNhbWVyYVJlbmRlck9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyQ2FtZXJhUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZlcj10aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLmFkZChlKX1nZXQgdW5UcmFuc2xhdGVkUG9pbnRlcigpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIudW5UcmFuc2xhdGVkUG9pbnRlcn1zdGF0aWMgZ2V0IERyYWdNb3ZlbWVudFRocmVzaG9sZCgpe3JldHVybiBQZS5EcmFnTW92ZW1lbnRUaHJlc2hvbGR9c3RhdGljIHNldCBEcmFnTW92ZW1lbnRUaHJlc2hvbGQoZSl7UGUuRHJhZ01vdmVtZW50VGhyZXNob2xkPWV9c3RhdGljIGdldCBMb25nUHJlc3NEZWxheSgpe3JldHVybiBQZS5Mb25nUHJlc3NEZWxheX1zdGF0aWMgc2V0IExvbmdQcmVzc0RlbGF5KGUpe1BlLkxvbmdQcmVzc0RlbGF5PWV9c3RhdGljIGdldCBEb3VibGVDbGlja0RlbGF5KCl7cmV0dXJuIFBlLkRvdWJsZUNsaWNrRGVsYXl9c3RhdGljIHNldCBEb3VibGVDbGlja0RlbGF5KGUpe1BlLkRvdWJsZUNsaWNrRGVsYXk9ZX1zdGF0aWMgZ2V0IEV4Y2x1c2l2ZURvdWJsZUNsaWNrTW9kZSgpe3JldHVybiBQZS5FeGNsdXNpdmVEb3VibGVDbGlja01vZGV9c3RhdGljIHNldCBFeGNsdXNpdmVEb3VibGVDbGlja01vZGUoZSl7UGUuRXhjbHVzaXZlRG91YmxlQ2xpY2tNb2RlPWV9YmluZEV5ZVBvc2l0aW9uKGUsdD0idkV5ZVBvc2l0aW9uIixpPSExKXt2YXIgcztjb25zdCByPXRoaXMuX2ZvcmNlZFZpZXdQb3NpdGlvbj90aGlzLl9mb3JjZWRWaWV3UG9zaXRpb246dGhpcy5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbj90aGlzLl9taXJyb3JlZENhbWVyYVBvc2l0aW9uOihzPXRoaXMuYWN0aXZlQ2FtZXJhLmdsb2JhbFBvc2l0aW9uKSE9PW51bGwmJnMhPT12b2lkIDA/czp0aGlzLmFjdGl2ZUNhbWVyYS5kZXZpY2VQb3NpdGlvbixuPXRoaXMudXNlUmlnaHRIYW5kZWRTeXN0ZW09PT0odGhpcy5fbWlycm9yZWRDYW1lcmFQb3NpdGlvbiE9bnVsbCk7cmV0dXJuIEYuVmVjdG9yNFswXS5zZXQoci54LHIueSxyLnosbj8tMToxKSxlJiYoaT9lLnNldEZsb2F0Myh0LEYuVmVjdG9yNFswXS54LEYuVmVjdG9yNFswXS55LEYuVmVjdG9yNFswXS56KTplLnNldFZlY3RvcjQodCxGLlZlY3RvcjRbMF0pKSxGLlZlY3RvcjRbMF19ZmluYWxpemVTY2VuZVVibygpe2NvbnN0IGU9dGhpcy5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKSx0PXRoaXMuYmluZEV5ZVBvc2l0aW9uKG51bGwpO3JldHVybiBlLnVwZGF0ZUZsb2F0NCgidkV5ZVBvc2l0aW9uIix0LngsdC55LHQueix0LncpLGUudXBkYXRlKCksZX1zZXQgdXNlUmlnaHRIYW5kZWRTeXN0ZW0oZSl7dGhpcy5fdXNlUmlnaHRIYW5kZWRTeXN0ZW0hPT1lJiYodGhpcy5fdXNlUmlnaHRIYW5kZWRTeXN0ZW09ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDE2KSl9Z2V0IHVzZVJpZ2h0SGFuZGVkU3lzdGVtKCl7cmV0dXJuIHRoaXMuX3VzZVJpZ2h0SGFuZGVkU3lzdGVtfXNldFN0ZXBJZChlKXt0aGlzLl9jdXJyZW50U3RlcElkPWV9Z2V0U3RlcElkKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRTdGVwSWR9Z2V0SW50ZXJuYWxTdGVwKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRJbnRlcm5hbFN0ZXB9c2V0IGZvZ0VuYWJsZWQoZSl7dGhpcy5fZm9nRW5hYmxlZCE9PWUmJih0aGlzLl9mb2dFbmFibGVkPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfWdldCBmb2dFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2ZvZ0VuYWJsZWR9c2V0IGZvZ01vZGUoZSl7dGhpcy5fZm9nTW9kZSE9PWUmJih0aGlzLl9mb2dNb2RlPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxNikpfWdldCBmb2dNb2RlKCl7cmV0dXJuIHRoaXMuX2ZvZ01vZGV9Z2V0IHByZVBhc3MoKXtyZXR1cm4hIXRoaXMucHJlUGFzc1JlbmRlcmVyJiZ0aGlzLnByZVBhc3NSZW5kZXJlci5kZWZhdWx0UlQuZW5hYmxlZH1zZXQgc2hhZG93c0VuYWJsZWQoZSl7dGhpcy5fc2hhZG93c0VuYWJsZWQhPT1lJiYodGhpcy5fc2hhZG93c0VuYWJsZWQ9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDIpKX1nZXQgc2hhZG93c0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fc2hhZG93c0VuYWJsZWR9c2V0IGxpZ2h0c0VuYWJsZWQoZSl7dGhpcy5fbGlnaHRzRW5hYmxlZCE9PWUmJih0aGlzLl9saWdodHNFbmFibGVkPWUsdGhpcy5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgyKSl9Z2V0IGxpZ2h0c0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fbGlnaHRzRW5hYmxlZH1nZXQgYWN0aXZlQ2FtZXJhcygpe3JldHVybiB0aGlzLl9hY3RpdmVDYW1lcmFzfXNldCBhY3RpdmVDYW1lcmFzKGUpe3RoaXMuX3VuT2JzZXJ2ZUFjdGl2ZUNhbWVyYXMmJih0aGlzLl91bk9ic2VydmVBY3RpdmVDYW1lcmFzKCksdGhpcy5fdW5PYnNlcnZlQWN0aXZlQ2FtZXJhcz1udWxsKSxlJiYodGhpcy5fdW5PYnNlcnZlQWN0aXZlQ2FtZXJhcz1pcihlLCgpPT57dGhpcy5vbkFjdGl2ZUNhbWVyYXNDaGFuZ2VkLm5vdGlmeU9ic2VydmVycyh0aGlzKX0pKSx0aGlzLl9hY3RpdmVDYW1lcmFzPWV9Z2V0IGFjdGl2ZUNhbWVyYSgpe3JldHVybiB0aGlzLl9hY3RpdmVDYW1lcmF9c2V0IGFjdGl2ZUNhbWVyYShlKXtlIT09dGhpcy5fYWN0aXZlQ2FtZXJhJiYodGhpcy5fYWN0aXZlQ2FtZXJhPWUsdGhpcy5vbkFjdGl2ZUNhbWVyYUNoYW5nZWQubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpKX1nZXQgZGVmYXVsdE1hdGVyaWFsKCl7cmV0dXJuIHRoaXMuX2RlZmF1bHRNYXRlcmlhbHx8KHRoaXMuX2RlZmF1bHRNYXRlcmlhbD1hZS5EZWZhdWx0TWF0ZXJpYWxGYWN0b3J5KHRoaXMpKSx0aGlzLl9kZWZhdWx0TWF0ZXJpYWx9c2V0IGRlZmF1bHRNYXRlcmlhbChlKXt0aGlzLl9kZWZhdWx0TWF0ZXJpYWw9ZX1zZXQgdGV4dHVyZXNFbmFibGVkKGUpe3RoaXMuX3RleHR1cmVzRW5hYmxlZCE9PWUmJih0aGlzLl90ZXh0dXJlc0VuYWJsZWQ9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1nZXQgdGV4dHVyZXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzRW5hYmxlZH1zZXQgc2tlbGV0b25zRW5hYmxlZChlKXt0aGlzLl9za2VsZXRvbnNFbmFibGVkIT09ZSYmKHRoaXMuX3NrZWxldG9uc0VuYWJsZWQ9ZSx0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDgpKX1nZXQgc2tlbGV0b25zRW5hYmxlZCgpe3JldHVybiB0aGlzLl9za2VsZXRvbnNFbmFibGVkfWdldCBjb2xsaXNpb25Db29yZGluYXRvcigpe3JldHVybiB0aGlzLl9jb2xsaXNpb25Db29yZGluYXRvcnx8KHRoaXMuX2NvbGxpc2lvbkNvb3JkaW5hdG9yPWFlLkNvbGxpc2lvbkNvb3JkaW5hdG9yRmFjdG9yeSgpLHRoaXMuX2NvbGxpc2lvbkNvb3JkaW5hdG9yLmluaXQodGhpcykpLHRoaXMuX2NvbGxpc2lvbkNvb3JkaW5hdG9yfWdldCByZW5kZXJpbmdNYW5hZ2VyKCl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01hbmFnZXJ9Z2V0IGZydXN0dW1QbGFuZXMoKXtyZXR1cm4gdGhpcy5fZnJ1c3R1bVBsYW5lc31fcmVnaXN0ZXJUcmFuc2llbnRDb21wb25lbnRzKCl7aWYodGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5sZW5ndGg+MCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cyllLnJlZ2lzdGVyKCk7dGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5sZW5ndGg9MH19X2FkZENvbXBvbmVudChlKXt0aGlzLl9jb21wb25lbnRzLnB1c2goZSksdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cy5wdXNoKGUpO2NvbnN0IHQ9ZTt0LmFkZEZyb21Db250YWluZXImJnQuc2VyaWFsaXplJiZ0aGlzLl9zZXJpYWxpemFibGVDb21wb25lbnRzLnB1c2godCl9X2dldENvbXBvbmVudChlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9jb21wb25lbnRzKWlmKHQubmFtZT09PWUpcmV0dXJuIHQ7cmV0dXJuIG51bGx9Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLHRoaXMuX2lucHV0TWFuYWdlcj1uZXcgUGUodGhpcyksdGhpcy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzPW51bGwsdGhpcy5faXNTY2VuZT0hMCx0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb249ITEsdGhpcy5hdXRvQ2xlYXI9ITAsdGhpcy5hdXRvQ2xlYXJEZXB0aEFuZFN0ZW5jaWw9ITAsdGhpcy5jbGVhckNvbG9yPW5ldyBOZSguMiwuMiwuMywxKSx0aGlzLmFtYmllbnRDb2xvcj1uZXcgcmUoMCwwLDApLHRoaXMuZW52aXJvbm1lbnRJbnRlbnNpdHk9MSx0aGlzLl9wZXJmb3JtYW5jZVByaW9yaXR5PVB0LkJhY2t3YXJkQ29tcGF0aWJsZSx0aGlzLm9uU2NlbmVQZXJmb3JtYW5jZVByaW9yaXR5Q2hhbmdlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5fZm9yY2VXaXJlZnJhbWU9ITEsdGhpcy5fc2tpcEZydXN0dW1DbGlwcGluZz0hMSx0aGlzLl9mb3JjZVBvaW50c0Nsb3VkPSExLHRoaXMuYW5pbWF0aW9uc0VuYWJsZWQ9ITAsdGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlPW51bGwsdGhpcy51c2VDb25zdGFudEFuaW1hdGlvbkRlbHRhVGltZT0hMSx0aGlzLmNvbnN0YW50bHlVcGRhdGVNZXNoVW5kZXJQb2ludGVyPSExLHRoaXMuaG92ZXJDdXJzb3I9InBvaW50ZXIiLHRoaXMuZGVmYXVsdEN1cnNvcj0iIix0aGlzLmRvTm90SGFuZGxlQ3Vyc29ycz0hMSx0aGlzLnByZXZlbnREZWZhdWx0T25Qb2ludGVyRG93bj0hMCx0aGlzLnByZXZlbnREZWZhdWx0T25Qb2ludGVyVXA9ITAsdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCx0aGlzLmRpc2FibGVPZmZsaW5lU3VwcG9ydEV4Y2VwdGlvblJ1bGVzPW5ldyBBcnJheSx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGU9bmV3IHcsdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9bnVsbCx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9vbkJlZm9yZVJlbmRlck9ic2VydmVyPW51bGwsdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQWZ0ZXJSZW5kZXJDYW1lcmFPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlcj1udWxsLHRoaXMub25CZWZvcmVBbmltYXRpb25zT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQWZ0ZXJBbmltYXRpb25zT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQmVmb3JlRHJhd1BoYXNlT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQWZ0ZXJEcmF3UGhhc2VPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25SZWFkeU9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGU9bmV3IHcsdGhpcy5fb25CZWZvcmVDYW1lcmFSZW5kZXJPYnNlcnZlcj1udWxsLHRoaXMub25BZnRlckNhbWVyYVJlbmRlck9ic2VydmFibGU9bmV3IHcsdGhpcy5fb25BZnRlckNhbWVyYVJlbmRlck9ic2VydmVyPW51bGwsdGhpcy5vbkJlZm9yZUFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlckFjdGl2ZU1lc2hlc0V2YWx1YXRpb25PYnNlcnZhYmxlPW5ldyB3LHRoaXMub25CZWZvcmVQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlclBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGU9bmV3IHcsdGhpcy5vbkRhdGFMb2FkZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25OZXdDYW1lcmFBZGRlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkNhbWVyYVJlbW92ZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25OZXdMaWdodEFkZGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uTGlnaHRSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uTmV3R2VvbWV0cnlBZGRlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkdlb21ldHJ5UmVtb3ZlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbk5ld1RyYW5zZm9ybU5vZGVBZGRlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vblRyYW5zZm9ybU5vZGVSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uTmV3TWVzaEFkZGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uTWVzaFJlbW92ZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25OZXdTa2VsZXRvbkFkZGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uU2tlbGV0b25SZW1vdmVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uTmV3TWF0ZXJpYWxBZGRlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbk5ld011bHRpTWF0ZXJpYWxBZGRlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbk1hdGVyaWFsUmVtb3ZlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbk11bHRpTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uTmV3VGV4dHVyZUFkZGVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uVGV4dHVyZVJlbW92ZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25CZWZvcmVSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQWZ0ZXJSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQmVmb3JlU3RlcE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFmdGVyU3RlcE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFjdGl2ZUNhbWVyYUNoYW5nZWQ9bmV3IHcsdGhpcy5vbkFjdGl2ZUNhbWVyYXNDaGFuZ2VkPW5ldyB3LHRoaXMub25CZWZvcmVSZW5kZXJpbmdHcm91cE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFmdGVyUmVuZGVyaW5nR3JvdXBPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25NZXNoSW1wb3J0ZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BbmltYXRpb25GaWxlSW1wb3J0ZWRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX3JlZ2lzdGVyZWRGb3JMYXRlQW5pbWF0aW9uQmluZGluZ3M9bmV3IGNpKDI1NiksdGhpcy5za2lwUG9pbnRlck1vdmVQaWNraW5nPSExLHRoaXMuc2tpcFBvaW50ZXJEb3duUGlja2luZz0hMSx0aGlzLnNraXBQb2ludGVyVXBQaWNraW5nPSExLHRoaXMub25QcmVQb2ludGVyT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uUG9pbnRlck9ic2VydmFibGU9bmV3IHcsdGhpcy5vblByZUtleWJvYXJkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uS2V5Ym9hcmRPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX3VzZVJpZ2h0SGFuZGVkU3lzdGVtPSExLHRoaXMuX3RpbWVBY2N1bXVsYXRvcj0wLHRoaXMuX2N1cnJlbnRTdGVwSWQ9MCx0aGlzLl9jdXJyZW50SW50ZXJuYWxTdGVwPTAsdGhpcy5fZm9nRW5hYmxlZD0hMCx0aGlzLl9mb2dNb2RlPWFlLkZPR01PREVfTk9ORSx0aGlzLmZvZ0NvbG9yPW5ldyByZSguMiwuMiwuMyksdGhpcy5mb2dEZW5zaXR5PS4xLHRoaXMuZm9nU3RhcnQ9MCx0aGlzLmZvZ0VuZD0xZTMsdGhpcy5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcz0hMSx0aGlzLl9zaGFkb3dzRW5hYmxlZD0hMCx0aGlzLl9saWdodHNFbmFibGVkPSEwLHRoaXMuX3VuT2JzZXJ2ZUFjdGl2ZUNhbWVyYXM9bnVsbCx0aGlzLl90ZXh0dXJlc0VuYWJsZWQ9ITAsdGhpcy5waHlzaWNzRW5hYmxlZD0hMCx0aGlzLnBhcnRpY2xlc0VuYWJsZWQ9ITAsdGhpcy5zcHJpdGVzRW5hYmxlZD0hMCx0aGlzLl9za2VsZXRvbnNFbmFibGVkPSEwLHRoaXMubGVuc0ZsYXJlc0VuYWJsZWQ9ITAsdGhpcy5jb2xsaXNpb25zRW5hYmxlZD0hMCx0aGlzLmdyYXZpdHk9bmV3IHAoMCwtOS44MDcsMCksdGhpcy5wb3N0UHJvY2Vzc2VzRW5hYmxlZD0hMCx0aGlzLnJlbmRlclRhcmdldHNFbmFibGVkPSEwLHRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzPSExLHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cz1uZXcgQXJyYXksdGhpcy5pbXBvcnRlZE1lc2hlc0ZpbGVzPW5ldyBBcnJheSx0aGlzLnByb2Jlc0VuYWJsZWQ9ITAsdGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucz1uZXcgY2koMjU2KSx0aGlzLnByb2NlZHVyYWxUZXh0dXJlc0VuYWJsZWQ9ITAsdGhpcy5fdG90YWxWZXJ0aWNlcz1uZXcgQ3QsdGhpcy5fYWN0aXZlSW5kaWNlcz1uZXcgQ3QsdGhpcy5fYWN0aXZlUGFydGljbGVzPW5ldyBDdCx0aGlzLl9hY3RpdmVCb25lcz1uZXcgQ3QsdGhpcy5fYW5pbWF0aW9uVGltZT0wLHRoaXMuYW5pbWF0aW9uVGltZVNjYWxlPTEsdGhpcy5fcmVuZGVySWQ9MCx0aGlzLl9mcmFtZUlkPTAsdGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD1udWxsLHRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMSx0aGlzLl9kZWZhdWx0RnJhbWVCdWZmZXJDbGVhcmVkPSExLHRoaXMuX3ZpZXdVcGRhdGVGbGFnPS0xLHRoaXMuX3Byb2plY3Rpb25VcGRhdGVGbGFnPS0xLHRoaXMuX3RvQmVEaXNwb3NlZD1uZXcgQXJyYXkoMjU2KSx0aGlzLl9hY3RpdmVSZXF1ZXN0cz1uZXcgQXJyYXksdGhpcy5fcGVuZGluZ0RhdGE9bmV3IEFycmF5LHRoaXMuX2lzRGlzcG9zZWQ9ITEsdGhpcy5kaXNwYXRjaEFsbFN1Yk1lc2hlc09mQWN0aXZlTWVzaGVzPSExLHRoaXMuX2FjdGl2ZU1lc2hlcz1uZXcgSmUoMjU2KSx0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHM9bmV3IEplKDI1NiksdGhpcy5fcmVuZGVyVGFyZ2V0cz1uZXcgY2koMjU2KSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzPW5ldyBjaSgyNTYpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcz1uZXcgSmUoMjU2KSx0aGlzLl9hY3RpdmVTa2VsZXRvbnM9bmV3IGNpKDMyKSx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXM9bmV3IGNpKDMyKSx0aGlzLl9hY3RpdmVBbmltYXRhYmxlcz1uZXcgQXJyYXksdGhpcy5fdHJhbnNmb3JtTWF0cml4PU0uWmVybygpLHRoaXMucmVxdWlyZUxpZ2h0U29ydGluZz0hMSx0aGlzLl9jb21wb25lbnRzPVtdLHRoaXMuX3NlcmlhbGl6YWJsZUNvbXBvbmVudHM9W10sdGhpcy5fdHJhbnNpZW50Q29tcG9uZW50cz1bXSx0aGlzLl9iZWZvcmVDYW1lcmFVcGRhdGVTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVDbGVhclN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZVJlbmRlclRhcmdldENsZWFyU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fZ2F0aGVyUmVuZGVyVGFyZ2V0c1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2dhdGhlckFjdGl2ZUNhbWVyYVJlbmRlclRhcmdldHNTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9pc1JlYWR5Rm9yTWVzaFN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZUV2YWx1YXRlQWN0aXZlTWVzaFN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2V2YWx1YXRlU3ViTWVzaFN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX3ByZUFjdGl2ZU1lc2hTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9jYW1lcmFEcmF3UmVuZGVyVGFyZ2V0U3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYmVmb3JlQ2FtZXJhRHJhd1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2JlZm9yZVJlbmRlclRhcmdldERyYXdTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVSZW5kZXJpbmdHcm91cERyYXdTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9iZWZvcmVSZW5kZXJpbmdNZXNoU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYWZ0ZXJSZW5kZXJpbmdNZXNoU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYWZ0ZXJSZW5kZXJpbmdHcm91cERyYXdTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9hZnRlckNhbWVyYURyYXdTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9hZnRlckNhbWVyYVBvc3RQcm9jZXNzU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYWZ0ZXJSZW5kZXJUYXJnZXREcmF3U3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fYWZ0ZXJSZW5kZXJUYXJnZXRQb3N0UHJvY2Vzc1N0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2FmdGVyUmVuZGVyU3RhZ2U9SWUuQ3JlYXRlKCksdGhpcy5fcG9pbnRlck1vdmVTdGFnZT1JZS5DcmVhdGUoKSx0aGlzLl9wb2ludGVyRG93blN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX3BvaW50ZXJVcFN0YWdlPUllLkNyZWF0ZSgpLHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkPW51bGwsdGhpcy5fZGVmYXVsdE1lc2hDYW5kaWRhdGVzPXtkYXRhOltdLGxlbmd0aDowfSx0aGlzLl9kZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXM9e2RhdGE6W10sbGVuZ3RoOjB9LHRoaXMuX3ByZXZlbnRGcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzPSExLHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbj0hMSx0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW5CdXRLZWVwQ2xpcHBpbmc9ITEsdGhpcy5fc2tpcEV2YWx1YXRlQWN0aXZlTWVzaGVzQ29tcGxldGVseT0hMSx0aGlzLl9hbGxvd1Bvc3RQcm9jZXNzQ2xlYXJDb2xvcj0hMCx0aGlzLmdldERldGVybWluaXN0aWNGcmFtZVRpbWU9KCk9PnRoaXMuX2VuZ2luZS5nZXRUaW1lU3RlcCgpLHRoaXMuX3JlZ2lzdGVyZWRBY3Rpb25zPTAsdGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtPSExLHRoaXMuX3BlcmZDb2xsZWN0b3I9bnVsbCx0aGlzLmFjdGl2ZUNhbWVyYXM9bmV3IEFycmF5O2NvbnN0IGk9e3VzZUdlb21ldHJ5VW5pcXVlSWRzTWFwOiEwLHVzZU1hdGVyaWFsTWVzaE1hcDohMCx1c2VDbG9uZWRNZXNoTWFwOiEwLHZpcnR1YWw6ITEsLi4udH07dGhpcy5fZW5naW5lPWV8fGxlLkxhc3RDcmVhdGVkRW5naW5lLGkudmlydHVhbD90aGlzLl9lbmdpbmUuX3ZpcnR1YWxTY2VuZXMucHVzaCh0aGlzKToobGUuX0xhc3RDcmVhdGVkU2NlbmU9dGhpcyx0aGlzLl9lbmdpbmUuc2NlbmVzLnB1c2godGhpcykpLHRoaXMuX3VpZD1udWxsLHRoaXMuX3JlbmRlcmluZ01hbmFnZXI9bmV3IFdlKHRoaXMpLGlzJiYodGhpcy5wb3N0UHJvY2Vzc01hbmFnZXI9bmV3IGlzKHRoaXMpKSxqZSgpJiZ0aGlzLmF0dGFjaENvbnRyb2woKSx0aGlzLl9jcmVhdGVVYm8oKSxnZSYmKHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb249bmV3IGdlKSx0aGlzLnNldERlZmF1bHRDYW5kaWRhdGVQcm92aWRlcnMoKSxpLnVzZUdlb21ldHJ5VW5pcXVlSWRzTWFwJiYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQ9e30pLHRoaXMudXNlTWF0ZXJpYWxNZXNoTWFwPWkudXNlTWF0ZXJpYWxNZXNoTWFwLHRoaXMudXNlQ2xvbmVkTWVzaE1hcD1pLnVzZUNsb25lZE1lc2hNYXAsKCF0fHwhdC52aXJ0dWFsKSYmdGhpcy5fZW5naW5lLm9uTmV3U2NlbmVBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfWdldENsYXNzTmFtZSgpe3JldHVybiJTY2VuZSJ9X2dldERlZmF1bHRNZXNoQ2FuZGlkYXRlcygpe3JldHVybiB0aGlzLl9kZWZhdWx0TWVzaENhbmRpZGF0ZXMuZGF0YT10aGlzLm1lc2hlcyx0aGlzLl9kZWZhdWx0TWVzaENhbmRpZGF0ZXMubGVuZ3RoPXRoaXMubWVzaGVzLmxlbmd0aCx0aGlzLl9kZWZhdWx0TWVzaENhbmRpZGF0ZXN9X2dldERlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcyhlKXtyZXR1cm4gdGhpcy5fZGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmRhdGE9ZS5zdWJNZXNoZXMsdGhpcy5fZGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmxlbmd0aD1lLnN1Yk1lc2hlcy5sZW5ndGgsdGhpcy5fZGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzfXNldERlZmF1bHRDYW5kaWRhdGVQcm92aWRlcnMoKXt0aGlzLmdldEFjdGl2ZU1lc2hDYW5kaWRhdGVzPXRoaXMuX2dldERlZmF1bHRNZXNoQ2FuZGlkYXRlcy5iaW5kKHRoaXMpLHRoaXMuZ2V0QWN0aXZlU3ViTWVzaENhbmRpZGF0ZXM9dGhpcy5fZ2V0RGVmYXVsdFN1Yk1lc2hDYW5kaWRhdGVzLmJpbmQodGhpcyksdGhpcy5nZXRJbnRlcnNlY3RpbmdTdWJNZXNoQ2FuZGlkYXRlcz10aGlzLl9nZXREZWZhdWx0U3ViTWVzaENhbmRpZGF0ZXMuYmluZCh0aGlzKSx0aGlzLmdldENvbGxpZGluZ1N1Yk1lc2hDYW5kaWRhdGVzPXRoaXMuX2dldERlZmF1bHRTdWJNZXNoQ2FuZGlkYXRlcy5iaW5kKHRoaXMpfWdldCBtZXNoVW5kZXJQb2ludGVyKCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5tZXNoVW5kZXJQb2ludGVyfWdldCBwb2ludGVyWCgpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIucG9pbnRlclh9c2V0IHBvaW50ZXJYKGUpe3RoaXMuX2lucHV0TWFuYWdlci5wb2ludGVyWD1lfWdldCBwb2ludGVyWSgpe3JldHVybiB0aGlzLl9pbnB1dE1hbmFnZXIucG9pbnRlcll9c2V0IHBvaW50ZXJZKGUpe3RoaXMuX2lucHV0TWFuYWdlci5wb2ludGVyWT1lfWdldENhY2hlZE1hdGVyaWFsKCl7cmV0dXJuIHRoaXMuX2NhY2hlZE1hdGVyaWFsfWdldENhY2hlZEVmZmVjdCgpe3JldHVybiB0aGlzLl9jYWNoZWRFZmZlY3R9Z2V0Q2FjaGVkVmlzaWJpbGl0eSgpe3JldHVybiB0aGlzLl9jYWNoZWRWaXNpYmlsaXR5fWlzQ2FjaGVkTWF0ZXJpYWxJbnZhbGlkKGUsdCxpPTEpe3JldHVybiB0aGlzLl9jYWNoZWRFZmZlY3QhPT10fHx0aGlzLl9jYWNoZWRNYXRlcmlhbCE9PWV8fHRoaXMuX2NhY2hlZFZpc2liaWxpdHkhPT1pfWdldEVuZ2luZSgpe3JldHVybiB0aGlzLl9lbmdpbmV9Z2V0VG90YWxWZXJ0aWNlcygpe3JldHVybiB0aGlzLl90b3RhbFZlcnRpY2VzLmN1cnJlbnR9Z2V0IHRvdGFsVmVydGljZXNQZXJmQ291bnRlcigpe3JldHVybiB0aGlzLl90b3RhbFZlcnRpY2VzfWdldEFjdGl2ZUluZGljZXMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlSW5kaWNlcy5jdXJyZW50fWdldCB0b3RhbEFjdGl2ZUluZGljZXNQZXJmQ291bnRlcigpe3JldHVybiB0aGlzLl9hY3RpdmVJbmRpY2VzfWdldEFjdGl2ZVBhcnRpY2xlcygpe3JldHVybiB0aGlzLl9hY3RpdmVQYXJ0aWNsZXMuY3VycmVudH1nZXQgYWN0aXZlUGFydGljbGVzUGVyZkNvdW50ZXIoKXtyZXR1cm4gdGhpcy5fYWN0aXZlUGFydGljbGVzfWdldEFjdGl2ZUJvbmVzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZUJvbmVzLmN1cnJlbnR9Z2V0IGFjdGl2ZUJvbmVzUGVyZkNvdW50ZXIoKXtyZXR1cm4gdGhpcy5fYWN0aXZlQm9uZXN9Z2V0QWN0aXZlTWVzaGVzKCl7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlc31nZXRBbmltYXRpb25SYXRpbygpe3JldHVybiB0aGlzLl9hbmltYXRpb25SYXRpbyE9PXZvaWQgMD90aGlzLl9hbmltYXRpb25SYXRpbzoxfWdldFJlbmRlcklkKCl7cmV0dXJuIHRoaXMuX3JlbmRlcklkfWdldEZyYW1lSWQoKXtyZXR1cm4gdGhpcy5fZnJhbWVJZH1pbmNyZW1lbnRSZW5kZXJJZCgpe3RoaXMuX3JlbmRlcklkKyt9X2NyZWF0ZVVibygpe3RoaXMuc2V0U2NlbmVVbmlmb3JtQnVmZmVyKHRoaXMuY3JlYXRlU2NlbmVVbmlmb3JtQnVmZmVyKCkpfXNpbXVsYXRlUG9pbnRlck1vdmUoZSx0KXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnNpbXVsYXRlUG9pbnRlck1vdmUoZSx0KSx0aGlzfXNpbXVsYXRlUG9pbnRlckRvd24oZSx0KXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnNpbXVsYXRlUG9pbnRlckRvd24oZSx0KSx0aGlzfXNpbXVsYXRlUG9pbnRlclVwKGUsdCxpKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLnNpbXVsYXRlUG9pbnRlclVwKGUsdCxpKSx0aGlzfWlzUG9pbnRlckNhcHR1cmVkKGU9MCl7cmV0dXJuIHRoaXMuX2lucHV0TWFuYWdlci5pc1BvaW50ZXJDYXB0dXJlZChlKX1hdHRhY2hDb250cm9sKGU9ITAsdD0hMCxpPSEwKXt0aGlzLl9pbnB1dE1hbmFnZXIuYXR0YWNoQ29udHJvbChlLHQsaSl9ZGV0YWNoQ29udHJvbCgpe3RoaXMuX2lucHV0TWFuYWdlci5kZXRhY2hDb250cm9sKCl9aXNSZWFkeShlPSEwKXtpZih0aGlzLl9pc0Rpc3Bvc2VkKXJldHVybiExO2xldCB0O2NvbnN0IGk9dGhpcy5nZXRFbmdpbmUoKTtsZXQgcz0hMDtmb3IodGhpcy5fcGVuZGluZ0RhdGEubGVuZ3RoPjAmJihzPSExKSxlJiYodGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnJlc2V0KCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5yZXNldCgpKSx0PTA7dDx0aGlzLm1lc2hlcy5sZW5ndGg7dCsrKXtjb25zdCByPXRoaXMubWVzaGVzW3RdO2lmKCFyLnN1Yk1lc2hlc3x8ci5zdWJNZXNoZXMubGVuZ3RoPT09MCljb250aW51ZTtpZighci5pc1JlYWR5KCEwKSl7cz0hMTtjb250aW51ZX1jb25zdCBuPXIuaGFzVGhpbkluc3RhbmNlc3x8ci5nZXRDbGFzc05hbWUoKT09PSJJbnN0YW5jZWRNZXNoInx8ci5nZXRDbGFzc05hbWUoKT09PSJJbnN0YW5jZWRMaW5lc01lc2gifHxpLmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMmJnIuaW5zdGFuY2VzLmxlbmd0aD4wO2Zvcihjb25zdCBvIG9mIHRoaXMuX2lzUmVhZHlGb3JNZXNoU3RhZ2Upby5hY3Rpb24ocixuKXx8KHM9ITEpO2lmKCFlKWNvbnRpbnVlO2NvbnN0IGE9ci5tYXRlcmlhbHx8dGhpcy5kZWZhdWx0TWF0ZXJpYWw7aWYoYSlpZihhLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKWZvcihjb25zdCBvIG9mIHIuc3ViTWVzaGVzKXtjb25zdCBoPW8uZ2V0TWF0ZXJpYWwoKTtoJiZoLmhhc1JlbmRlclRhcmdldFRleHR1cmVzJiZoLmdldFJlbmRlclRhcmdldFRleHR1cmVzIT1udWxsJiZ0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuaW5kZXhPZihoKT09PS0xJiYodGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnB1c2goaCksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUoaC5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcygpKSl9ZWxzZSBhLmhhc1JlbmRlclRhcmdldFRleHR1cmVzJiZhLmdldFJlbmRlclRhcmdldFRleHR1cmVzIT1udWxsJiZ0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuaW5kZXhPZihhKT09PS0xJiYodGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnB1c2goYSksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUoYS5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcygpKSl9aWYoIXN8fCFpLmFyZUFsbEVmZmVjdHNSZWFkeSgpKXJldHVybiExO2lmKGUpe2Zvcih0PTA7dDx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLmxlbmd0aDsrK3QpaWYoIXRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMuZGF0YVt0XS5pc1JlYWR5Rm9yUmVuZGVyaW5nKCkpcmV0dXJuITF9Zm9yKHQ9MDt0PHRoaXMuZ2VvbWV0cmllcy5sZW5ndGg7dCsrKWlmKHRoaXMuZ2VvbWV0cmllc1t0XS5kZWxheUxvYWRTdGF0ZT09PTIpcmV0dXJuITE7aWYodGhpcy5hY3RpdmVDYW1lcmFzJiZ0aGlzLmFjdGl2ZUNhbWVyYXMubGVuZ3RoPjApe2Zvcihjb25zdCByIG9mIHRoaXMuYWN0aXZlQ2FtZXJhcylpZighci5pc1JlYWR5KCEwKSlyZXR1cm4hMX1lbHNlIGlmKHRoaXMuYWN0aXZlQ2FtZXJhJiYhdGhpcy5hY3RpdmVDYW1lcmEuaXNSZWFkeSghMCkpcmV0dXJuITE7Zm9yKGNvbnN0IHIgb2YgdGhpcy5wYXJ0aWNsZVN5c3RlbXMpaWYoIXIuaXNSZWFkeSgpKXJldHVybiExO3JldHVybiEwfXJlc2V0Q2FjaGVkTWF0ZXJpYWwoKXt0aGlzLl9jYWNoZWRNYXRlcmlhbD1udWxsLHRoaXMuX2NhY2hlZEVmZmVjdD1udWxsLHRoaXMuX2NhY2hlZFZpc2liaWxpdHk9bnVsbH1yZWdpc3RlckJlZm9yZVJlbmRlcihlKXt0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9dW5yZWdpc3RlckJlZm9yZVJlbmRlcihlKXt0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmVDYWxsYmFjayhlKX1yZWdpc3RlckFmdGVyUmVuZGVyKGUpe3RoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuYWRkKGUpfXVucmVnaXN0ZXJBZnRlclJlbmRlcihlKXt0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKGUpfV9leGVjdXRlT25jZUJlZm9yZVJlbmRlcihlKXtjb25zdCB0PSgpPT57ZSgpLHNldFRpbWVvdXQoKCk9Pnt0aGlzLnVucmVnaXN0ZXJCZWZvcmVSZW5kZXIodCl9KX07dGhpcy5yZWdpc3RlckJlZm9yZVJlbmRlcih0KX1leGVjdXRlT25jZUJlZm9yZVJlbmRlcihlLHQpe3QhPT12b2lkIDA/c2V0VGltZW91dCgoKT0+e3RoaXMuX2V4ZWN1dGVPbmNlQmVmb3JlUmVuZGVyKGUpfSx0KTp0aGlzLl9leGVjdXRlT25jZUJlZm9yZVJlbmRlcihlKX1hZGRQZW5kaW5nRGF0YShlKXt0aGlzLl9wZW5kaW5nRGF0YS5wdXNoKGUpfXJlbW92ZVBlbmRpbmdEYXRhKGUpe2NvbnN0IHQ9dGhpcy5pc0xvYWRpbmcsaT10aGlzLl9wZW5kaW5nRGF0YS5pbmRleE9mKGUpO2khPT0tMSYmdGhpcy5fcGVuZGluZ0RhdGEuc3BsaWNlKGksMSksdCYmIXRoaXMuaXNMb2FkaW5nJiZ0aGlzLm9uRGF0YUxvYWRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfWdldFdhaXRpbmdJdGVtc0NvdW50KCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdEYXRhLmxlbmd0aH1nZXQgaXNMb2FkaW5nKCl7cmV0dXJuIHRoaXMuX3BlbmRpbmdEYXRhLmxlbmd0aD4wfWV4ZWN1dGVXaGVuUmVhZHkoZSx0PSExKXt0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmFkZE9uY2UoZSksdGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD09PW51bGwmJnRoaXMuX2NoZWNrSXNSZWFkeSh0KX13aGVuUmVhZHlBc3luYyhlPSExKXtyZXR1cm4gbmV3IFByb21pc2UodD0+e3RoaXMuZXhlY3V0ZVdoZW5SZWFkeSgoKT0+e3QoKX0sZSl9KX1fY2hlY2tJc1JlYWR5KGU9ITEpe2lmKHRoaXMuX3JlZ2lzdGVyVHJhbnNpZW50Q29tcG9uZW50cygpLHRoaXMuaXNSZWFkeShlKSl7dGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9bnVsbDtyZXR1cm59aWYodGhpcy5faXNEaXNwb3NlZCl7dGhpcy5vblJlYWR5T2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX2V4ZWN1dGVXaGVuUmVhZHlUaW1lb3V0SWQ9bnVsbDtyZXR1cm59dGhpcy5fZXhlY3V0ZVdoZW5SZWFkeVRpbWVvdXRJZD1zZXRUaW1lb3V0KCgpPT57dGhpcy5pbmNyZW1lbnRSZW5kZXJJZCgpLHRoaXMuX2NoZWNrSXNSZWFkeShlKX0sMTAwKX1nZXQgYW5pbWF0YWJsZXMoKXtyZXR1cm4gdGhpcy5fYWN0aXZlQW5pbWF0YWJsZXN9cmVzZXRMYXN0QW5pbWF0aW9uVGltZUZyYW1lKCl7dGhpcy5fYW5pbWF0aW9uVGltZUxhc3Q9aGkuTm93fWdldFZpZXdNYXRyaXgoKXtyZXR1cm4gdGhpcy5fdmlld01hdHJpeH1nZXRQcm9qZWN0aW9uTWF0cml4KCl7cmV0dXJuIHRoaXMuX3Byb2plY3Rpb25NYXRyaXh9Z2V0VHJhbnNmb3JtTWF0cml4KCl7cmV0dXJuIHRoaXMuX3RyYW5zZm9ybU1hdHJpeH1zZXRUcmFuc2Zvcm1NYXRyaXgoZSx0LGkscyl7IWkmJiFzJiZ0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmKHRoaXMuX211bHRpdmlld1NjZW5lVWJvLmRpc3Bvc2UoKSx0aGlzLl9tdWx0aXZpZXdTY2VuZVVibz1udWxsKSwhKHRoaXMuX3ZpZXdVcGRhdGVGbGFnPT09ZS51cGRhdGVGbGFnJiZ0aGlzLl9wcm9qZWN0aW9uVXBkYXRlRmxhZz09PXQudXBkYXRlRmxhZykmJih0aGlzLl92aWV3VXBkYXRlRmxhZz1lLnVwZGF0ZUZsYWcsdGhpcy5fcHJvamVjdGlvblVwZGF0ZUZsYWc9dC51cGRhdGVGbGFnLHRoaXMuX3ZpZXdNYXRyaXg9ZSx0aGlzLl9wcm9qZWN0aW9uTWF0cml4PXQsdGhpcy5fdmlld01hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsdGhpcy5fdHJhbnNmb3JtTWF0cml4KSx0aGlzLl9mcnVzdHVtUGxhbmVzP0V0LkdldFBsYW5lc1RvUmVmKHRoaXMuX3RyYW5zZm9ybU1hdHJpeCx0aGlzLl9mcnVzdHVtUGxhbmVzKTp0aGlzLl9mcnVzdHVtUGxhbmVzPUV0LkdldFBsYW5lcyh0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX211bHRpdmlld1NjZW5lVWJvJiZ0aGlzLl9tdWx0aXZpZXdTY2VuZVViby51c2VVYm8/dGhpcy5fdXBkYXRlTXVsdGl2aWV3VWJvKGkscyk6dGhpcy5fc2NlbmVVYm8udXNlVWJvJiYodGhpcy5fc2NlbmVVYm8udXBkYXRlTWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsdGhpcy5fdHJhbnNmb3JtTWF0cml4KSx0aGlzLl9zY2VuZVViby51cGRhdGVNYXRyaXgoInZpZXciLHRoaXMuX3ZpZXdNYXRyaXgpLHRoaXMuX3NjZW5lVWJvLnVwZGF0ZU1hdHJpeCgicHJvamVjdGlvbiIsdGhpcy5fcHJvamVjdGlvbk1hdHJpeCkpKX1nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKXtyZXR1cm4gdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8/dGhpcy5fbXVsdGl2aWV3U2NlbmVVYm86dGhpcy5fc2NlbmVVYm99Y3JlYXRlU2NlbmVVbmlmb3JtQnVmZmVyKGUpe2NvbnN0IHQ9bmV3IFYodGhpcy5fZW5naW5lLHZvaWQgMCwhMSxlPz8ic2NlbmUiKTtyZXR1cm4gdC5hZGRVbmlmb3JtKCJ2aWV3UHJvamVjdGlvbiIsMTYpLHQuYWRkVW5pZm9ybSgidmlldyIsMTYpLHQuYWRkVW5pZm9ybSgicHJvamVjdGlvbiIsMTYpLHQuYWRkVW5pZm9ybSgidkV5ZVBvc2l0aW9uIiw0KSx0fXNldFNjZW5lVW5pZm9ybUJ1ZmZlcihlKXt0aGlzLl9zY2VuZVVibz1lLHRoaXMuX3ZpZXdVcGRhdGVGbGFnPS0xLHRoaXMuX3Byb2plY3Rpb25VcGRhdGVGbGFnPS0xfWdldFVuaXF1ZUlkKCl7cmV0dXJuIENyLlVuaXF1ZUlkfWFkZE1lc2goZSx0PSExKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fCh0aGlzLm1lc2hlcy5wdXNoKGUpLGUuX3Jlc3luY0xpZ2h0U291cmNlcygpLGUucGFyZW50fHxlLl9hZGRUb1NjZW5lUm9vdE5vZGVzKCksdGhpcy5vbk5ld01lc2hBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHQmJmUuZ2V0Q2hpbGRNZXNoZXMoKS5mb3JFYWNoKGk9Pnt0aGlzLmFkZE1lc2goaSl9KSl9cmVtb3ZlTWVzaChlLHQ9ITEpe2NvbnN0IGk9dGhpcy5tZXNoZXMuaW5kZXhPZihlKTtyZXR1cm4gaSE9PS0xJiYodGhpcy5tZXNoZXNbaV09dGhpcy5tZXNoZXNbdGhpcy5tZXNoZXMubGVuZ3RoLTFdLHRoaXMubWVzaGVzLnBvcCgpLGUucGFyZW50fHxlLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKSksdGhpcy5faW5wdXRNYW5hZ2VyLl9pbnZhbGlkYXRlTWVzaChlKSx0aGlzLm9uTWVzaFJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0JiZlLmdldENoaWxkTWVzaGVzKCkuZm9yRWFjaChzPT57dGhpcy5yZW1vdmVNZXNoKHMpfSksaX1hZGRUcmFuc2Zvcm1Ob2RlKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8ZS5nZXRTY2VuZSgpPT09dGhpcyYmZS5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheSE9PS0xfHwoZS5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT10aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aCx0aGlzLnRyYW5zZm9ybU5vZGVzLnB1c2goZSksZS5wYXJlbnR8fGUuX2FkZFRvU2NlbmVSb290Tm9kZXMoKSx0aGlzLm9uTmV3VHJhbnNmb3JtTm9kZUFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfXJlbW92ZVRyYW5zZm9ybU5vZGUoZSl7Y29uc3QgdD1lLl9pbmRleEluU2NlbmVUcmFuc2Zvcm1Ob2Rlc0FycmF5O2lmKHQhPT0tMSl7aWYodCE9PXRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoLTEpe2NvbnN0IGk9dGhpcy50cmFuc2Zvcm1Ob2Rlc1t0aGlzLnRyYW5zZm9ybU5vZGVzLmxlbmd0aC0xXTt0aGlzLnRyYW5zZm9ybU5vZGVzW3RdPWksaS5faW5kZXhJblNjZW5lVHJhbnNmb3JtTm9kZXNBcnJheT10fWUuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXk9LTEsdGhpcy50cmFuc2Zvcm1Ob2Rlcy5wb3AoKSxlLnBhcmVudHx8ZS5fcmVtb3ZlRnJvbVNjZW5lUm9vdE5vZGVzKCl9cmV0dXJuIHRoaXMub25UcmFuc2Zvcm1Ob2RlUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHR9cmVtb3ZlU2tlbGV0b24oZSl7Y29uc3QgdD10aGlzLnNrZWxldG9ucy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJih0aGlzLnNrZWxldG9ucy5zcGxpY2UodCwxKSx0aGlzLm9uU2tlbGV0b25SZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdGhpcy5fZXhlY3V0ZUFjdGl2ZUNvbnRhaW5lckNsZWFudXAodGhpcy5fYWN0aXZlU2tlbGV0b25zKSksdH1yZW1vdmVNb3JwaFRhcmdldE1hbmFnZXIoZSl7Y29uc3QgdD10aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMuaW5kZXhPZihlKTtyZXR1cm4gdCE9PS0xJiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMuc3BsaWNlKHQsMSksdH1yZW1vdmVMaWdodChlKXtjb25zdCB0PXRoaXMubGlnaHRzLmluZGV4T2YoZSk7aWYodCE9PS0xKXtmb3IoY29uc3QgaSBvZiB0aGlzLm1lc2hlcylpLl9yZW1vdmVMaWdodFNvdXJjZShlLCExKTt0aGlzLmxpZ2h0cy5zcGxpY2UodCwxKSx0aGlzLnNvcnRMaWdodHNCeVByaW9yaXR5KCksZS5wYXJlbnR8fGUuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpfXJldHVybiB0aGlzLm9uTGlnaHRSZW1vdmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdH1yZW1vdmVDYW1lcmEoZSl7Y29uc3QgdD10aGlzLmNhbWVyYXMuaW5kZXhPZihlKTtpZih0IT09LTEmJih0aGlzLmNhbWVyYXMuc3BsaWNlKHQsMSksZS5wYXJlbnR8fGUuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpKSx0aGlzLmFjdGl2ZUNhbWVyYXMpe2NvbnN0IGk9dGhpcy5hY3RpdmVDYW1lcmFzLmluZGV4T2YoZSk7aSE9PS0xJiZ0aGlzLmFjdGl2ZUNhbWVyYXMuc3BsaWNlKGksMSl9cmV0dXJuIHRoaXMuYWN0aXZlQ2FtZXJhPT09ZSYmKHRoaXMuY2FtZXJhcy5sZW5ndGg+MD90aGlzLmFjdGl2ZUNhbWVyYT10aGlzLmNhbWVyYXNbMF06dGhpcy5hY3RpdmVDYW1lcmE9bnVsbCksdGhpcy5vbkNhbWVyYVJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0fXJlbW92ZVBhcnRpY2xlU3lzdGVtKGUpe2NvbnN0IHQ9dGhpcy5wYXJ0aWNsZVN5c3RlbXMuaW5kZXhPZihlKTtyZXR1cm4gdCE9PS0xJiYodGhpcy5wYXJ0aWNsZVN5c3RlbXMuc3BsaWNlKHQsMSksdGhpcy5fZXhlY3V0ZUFjdGl2ZUNvbnRhaW5lckNsZWFudXAodGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zKSksdH1yZW1vdmVBbmltYXRpb24oZSl7Y29uc3QgdD10aGlzLmFuaW1hdGlvbnMuaW5kZXhPZihlKTtyZXR1cm4gdCE9PS0xJiZ0aGlzLmFuaW1hdGlvbnMuc3BsaWNlKHQsMSksdH1zdG9wQW5pbWF0aW9uKGUsdCxpKXt9cmVtb3ZlQW5pbWF0aW9uR3JvdXAoZSl7Y29uc3QgdD10aGlzLmFuaW1hdGlvbkdyb3Vwcy5pbmRleE9mKGUpO3JldHVybiB0IT09LTEmJnRoaXMuYW5pbWF0aW9uR3JvdXBzLnNwbGljZSh0LDEpLHR9cmVtb3ZlTXVsdGlNYXRlcmlhbChlKXtjb25zdCB0PXRoaXMubXVsdGlNYXRlcmlhbHMuaW5kZXhPZihlKTtyZXR1cm4gdCE9PS0xJiZ0aGlzLm11bHRpTWF0ZXJpYWxzLnNwbGljZSh0LDEpLHRoaXMub25NdWx0aU1hdGVyaWFsUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHR9cmVtb3ZlTWF0ZXJpYWwoZSl7Y29uc3QgdD1lLl9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5O2lmKHQhPT0tMSYmdDx0aGlzLm1hdGVyaWFscy5sZW5ndGgpe2lmKHQhPT10aGlzLm1hdGVyaWFscy5sZW5ndGgtMSl7Y29uc3QgaT10aGlzLm1hdGVyaWFsc1t0aGlzLm1hdGVyaWFscy5sZW5ndGgtMV07dGhpcy5tYXRlcmlhbHNbdF09aSxpLl9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5PXR9ZS5faW5kZXhJblNjZW5lTWF0ZXJpYWxBcnJheT0tMSx0aGlzLm1hdGVyaWFscy5wb3AoKX1yZXR1cm4gdGhpcy5vbk1hdGVyaWFsUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHR9cmVtb3ZlQWN0aW9uTWFuYWdlcihlKXtjb25zdCB0PXRoaXMuYWN0aW9uTWFuYWdlcnMuaW5kZXhPZihlKTtyZXR1cm4gdCE9PS0xJiZ0aGlzLmFjdGlvbk1hbmFnZXJzLnNwbGljZSh0LDEpLHR9cmVtb3ZlVGV4dHVyZShlKXtjb25zdCB0PXRoaXMudGV4dHVyZXMuaW5kZXhPZihlKTtyZXR1cm4gdCE9PS0xJiZ0aGlzLnRleHR1cmVzLnNwbGljZSh0LDEpLHRoaXMub25UZXh0dXJlUmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLHR9YWRkTGlnaHQoZSl7aWYoIXRoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbil7dGhpcy5saWdodHMucHVzaChlKSx0aGlzLnNvcnRMaWdodHNCeVByaW9yaXR5KCksZS5wYXJlbnR8fGUuX2FkZFRvU2NlbmVSb290Tm9kZXMoKTtmb3IoY29uc3QgdCBvZiB0aGlzLm1lc2hlcyl0LmxpZ2h0U291cmNlcy5pbmRleE9mKGUpPT09LTEmJih0LmxpZ2h0U291cmNlcy5wdXNoKGUpLHQuX3Jlc3luY0xpZ2h0U291cmNlcygpKTt0aGlzLm9uTmV3TGlnaHRBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpfX1zb3J0TGlnaHRzQnlQcmlvcml0eSgpe3RoaXMucmVxdWlyZUxpZ2h0U29ydGluZyYmdGhpcy5saWdodHMuc29ydChFZS5Db21wYXJlTGlnaHRzUHJpb3JpdHkpfWFkZENhbWVyYShlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fCh0aGlzLmNhbWVyYXMucHVzaChlKSx0aGlzLm9uTmV3Q2FtZXJhQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSxlLnBhcmVudHx8ZS5fYWRkVG9TY2VuZVJvb3ROb2RlcygpKX1hZGRTa2VsZXRvbihlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fCh0aGlzLnNrZWxldG9ucy5wdXNoKGUpLHRoaXMub25OZXdTa2VsZXRvbkFkZGVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfWFkZFBhcnRpY2xlU3lzdGVtKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5wYXJ0aWNsZVN5c3RlbXMucHVzaChlKX1hZGRBbmltYXRpb24oZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHx0aGlzLmFuaW1hdGlvbnMucHVzaChlKX1hZGRBbmltYXRpb25Hcm91cChlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fHRoaXMuYW5pbWF0aW9uR3JvdXBzLnB1c2goZSl9YWRkTXVsdGlNYXRlcmlhbChlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fCh0aGlzLm11bHRpTWF0ZXJpYWxzLnB1c2goZSksdGhpcy5vbk5ld011bHRpTWF0ZXJpYWxBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKX1hZGRNYXRlcmlhbChlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fGUuZ2V0U2NlbmUoKT09PXRoaXMmJmUuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXkhPT0tMXx8KGUuX2luZGV4SW5TY2VuZU1hdGVyaWFsQXJyYXk9dGhpcy5tYXRlcmlhbHMubGVuZ3RoLHRoaXMubWF0ZXJpYWxzLnB1c2goZSksdGhpcy5vbk5ld01hdGVyaWFsQWRkZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSl9YWRkTW9ycGhUYXJnZXRNYW5hZ2VyKGUpe3RoaXMuX2Jsb2NrRW50aXR5Q29sbGVjdGlvbnx8dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLnB1c2goZSl9YWRkR2VvbWV0cnkoZSl7dGhpcy5fYmxvY2tFbnRpdHlDb2xsZWN0aW9ufHwodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQmJih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFtlLnVuaXF1ZUlkXT10aGlzLmdlb21ldHJpZXMubGVuZ3RoKSx0aGlzLmdlb21ldHJpZXMucHVzaChlKSl9YWRkQWN0aW9uTWFuYWdlcihlKXt0aGlzLmFjdGlvbk1hbmFnZXJzLnB1c2goZSl9YWRkVGV4dHVyZShlKXt0aGlzLl9ibG9ja0VudGl0eUNvbGxlY3Rpb258fCh0aGlzLnRleHR1cmVzLnB1c2goZSksdGhpcy5vbk5ld1RleHR1cmVBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpKX1zd2l0Y2hBY3RpdmVDYW1lcmEoZSx0PSEwKXt0aGlzLl9lbmdpbmUuZ2V0SW5wdXRFbGVtZW50KCkmJih0aGlzLmFjdGl2ZUNhbWVyYSYmdGhpcy5hY3RpdmVDYW1lcmEuZGV0YWNoQ29udHJvbCgpLHRoaXMuYWN0aXZlQ2FtZXJhPWUsdCYmZS5hdHRhY2hDb250cm9sKCkpfXNldEFjdGl2ZUNhbWVyYUJ5SWQoZSl7Y29uc3QgdD10aGlzLmdldENhbWVyYUJ5SWQoZSk7cmV0dXJuIHQ/KHRoaXMuYWN0aXZlQ2FtZXJhPXQsdCk6bnVsbH1zZXRBY3RpdmVDYW1lcmFCeU5hbWUoZSl7Y29uc3QgdD10aGlzLmdldENhbWVyYUJ5TmFtZShlKTtyZXR1cm4gdD8odGhpcy5hY3RpdmVDYW1lcmE9dCx0KTpudWxsfWdldEFuaW1hdGlvbkdyb3VwQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5hbmltYXRpb25Hcm91cHMubGVuZ3RoO3QrKylpZih0aGlzLmFuaW1hdGlvbkdyb3Vwc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy5hbmltYXRpb25Hcm91cHNbdF07cmV0dXJuIG51bGx9X2dldE1hdGVyaWFsKGUsdCl7Zm9yKGxldCBpPTA7aTx0aGlzLm1hdGVyaWFscy5sZW5ndGg7aSsrKXtjb25zdCBzPXRoaXMubWF0ZXJpYWxzW2ldO2lmKHQocykpcmV0dXJuIHN9aWYoZSlmb3IobGV0IGk9MDtpPHRoaXMubXVsdGlNYXRlcmlhbHMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLm11bHRpTWF0ZXJpYWxzW2ldO2lmKHQocykpcmV0dXJuIHN9cmV0dXJuIG51bGx9Z2V0TWF0ZXJpYWxCeVVuaXF1ZUlEKGUsdD0hMSl7cmV0dXJuIHRoaXMuX2dldE1hdGVyaWFsKHQsaT0+aS51bmlxdWVJZD09PWUpfWdldE1hdGVyaWFsQnlJZChlLHQ9ITEpe3JldHVybiB0aGlzLl9nZXRNYXRlcmlhbCh0LGk9PmkuaWQ9PT1lKX1nZXRNYXRlcmlhbEJ5TmFtZShlLHQ9ITEpe3JldHVybiB0aGlzLl9nZXRNYXRlcmlhbCh0LGk9PmkubmFtZT09PWUpfWdldExhc3RNYXRlcmlhbEJ5SWQoZSx0PSExKXtmb3IobGV0IGk9dGhpcy5tYXRlcmlhbHMubGVuZ3RoLTE7aT49MDtpLS0paWYodGhpcy5tYXRlcmlhbHNbaV0uaWQ9PT1lKXJldHVybiB0aGlzLm1hdGVyaWFsc1tpXTtpZih0KXtmb3IobGV0IGk9dGhpcy5tdWx0aU1hdGVyaWFscy5sZW5ndGgtMTtpPj0wO2ktLSlpZih0aGlzLm11bHRpTWF0ZXJpYWxzW2ldLmlkPT09ZSlyZXR1cm4gdGhpcy5tdWx0aU1hdGVyaWFsc1tpXX1yZXR1cm4gbnVsbH1nZXRUZXh0dXJlQnlVbmlxdWVJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMudGV4dHVyZXMubGVuZ3RoO3QrKylpZih0aGlzLnRleHR1cmVzW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy50ZXh0dXJlc1t0XTtyZXR1cm4gbnVsbH1nZXRUZXh0dXJlQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy50ZXh0dXJlcy5sZW5ndGg7dCsrKWlmKHRoaXMudGV4dHVyZXNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMudGV4dHVyZXNbdF07cmV0dXJuIG51bGx9Z2V0Q2FtZXJhQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMuY2FtZXJhcy5sZW5ndGg7dCsrKWlmKHRoaXMuY2FtZXJhc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMuY2FtZXJhc1t0XTtyZXR1cm4gbnVsbH1nZXRDYW1lcmFCeVVuaXF1ZUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5jYW1lcmFzLmxlbmd0aDt0KyspaWYodGhpcy5jYW1lcmFzW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy5jYW1lcmFzW3RdO3JldHVybiBudWxsfWdldENhbWVyYUJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMuY2FtZXJhcy5sZW5ndGg7dCsrKWlmKHRoaXMuY2FtZXJhc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy5jYW1lcmFzW3RdO3JldHVybiBudWxsfWdldEJvbmVCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLnNrZWxldG9uc1t0XTtmb3IobGV0IHM9MDtzPGkuYm9uZXMubGVuZ3RoO3MrKylpZihpLmJvbmVzW3NdLmlkPT09ZSlyZXR1cm4gaS5ib25lc1tzXX1yZXR1cm4gbnVsbH1nZXRCb25lQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLnNrZWxldG9uc1t0XTtmb3IobGV0IHM9MDtzPGkuYm9uZXMubGVuZ3RoO3MrKylpZihpLmJvbmVzW3NdLm5hbWU9PT1lKXJldHVybiBpLmJvbmVzW3NdfXJldHVybiBudWxsfWdldExpZ2h0QnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5saWdodHMubGVuZ3RoO3QrKylpZih0aGlzLmxpZ2h0c1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy5saWdodHNbdF07cmV0dXJuIG51bGx9Z2V0TGlnaHRCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5saWdodHMubGVuZ3RoO3QrKylpZih0aGlzLmxpZ2h0c1t0XS5pZD09PWUpcmV0dXJuIHRoaXMubGlnaHRzW3RdO3JldHVybiBudWxsfWdldExpZ2h0QnlVbmlxdWVJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMubGlnaHRzLmxlbmd0aDt0KyspaWYodGhpcy5saWdodHNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLmxpZ2h0c1t0XTtyZXR1cm4gbnVsbH1nZXRQYXJ0aWNsZVN5c3RlbUJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLnBhcnRpY2xlU3lzdGVtcy5sZW5ndGg7dCsrKWlmKHRoaXMucGFydGljbGVTeXN0ZW1zW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5wYXJ0aWNsZVN5c3RlbXNbdF07cmV0dXJuIG51bGx9Z2V0R2VvbWV0cnlCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5nZW9tZXRyaWVzLmxlbmd0aDt0KyspaWYodGhpcy5nZW9tZXRyaWVzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5nZW9tZXRyaWVzW3RdO3JldHVybiBudWxsfV9nZXRHZW9tZXRyeUJ5VW5pcXVlSWQoZSl7aWYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQpe2NvbnN0IHQ9dGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWRbZV07aWYodCE9PXZvaWQgMClyZXR1cm4gdGhpcy5nZW9tZXRyaWVzW3RdfWVsc2UgZm9yKGxldCB0PTA7dDx0aGlzLmdlb21ldHJpZXMubGVuZ3RoO3QrKylpZih0aGlzLmdlb21ldHJpZXNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLmdlb21ldHJpZXNbdF07cmV0dXJuIG51bGx9cHVzaEdlb21ldHJ5KGUsdCl7cmV0dXJuIXQmJnRoaXMuX2dldEdlb21ldHJ5QnlVbmlxdWVJZChlLnVuaXF1ZUlkKT8hMToodGhpcy5hZGRHZW9tZXRyeShlKSx0aGlzLm9uTmV3R2VvbWV0cnlBZGRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLCEwKX1yZW1vdmVHZW9tZXRyeShlKXtsZXQgdDtpZih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZCl7aWYodD10aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFtlLnVuaXF1ZUlkXSx0PT09dm9pZCAwKXJldHVybiExfWVsc2UgaWYodD10aGlzLmdlb21ldHJpZXMuaW5kZXhPZihlKSx0PDApcmV0dXJuITE7aWYodCE9PXRoaXMuZ2VvbWV0cmllcy5sZW5ndGgtMSl7Y29uc3QgaT10aGlzLmdlb21ldHJpZXNbdGhpcy5nZW9tZXRyaWVzLmxlbmd0aC0xXTtpJiYodGhpcy5nZW9tZXRyaWVzW3RdPWksdGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWQmJih0aGlzLl9nZW9tZXRyaWVzQnlVbmlxdWVJZFtpLnVuaXF1ZUlkXT10KSl9cmV0dXJuIHRoaXMuX2dlb21ldHJpZXNCeVVuaXF1ZUlkJiYodGhpcy5fZ2VvbWV0cmllc0J5VW5pcXVlSWRbZS51bmlxdWVJZF09dm9pZCAwKSx0aGlzLmdlb21ldHJpZXMucG9wKCksdGhpcy5vbkdlb21ldHJ5UmVtb3ZlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpLCEwfWdldEdlb21ldHJpZXMoKXtyZXR1cm4gdGhpcy5nZW9tZXRyaWVzfWdldE1lc2hCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5tZXNoZXMubGVuZ3RoO3QrKylpZih0aGlzLm1lc2hlc1t0XS5pZD09PWUpcmV0dXJuIHRoaXMubWVzaGVzW3RdO3JldHVybiBudWxsfWdldE1lc2hlc0J5SWQoZSl7cmV0dXJuIHRoaXMubWVzaGVzLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5pZD09PWV9KX1nZXRUcmFuc2Zvcm1Ob2RlQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoO3QrKylpZih0aGlzLnRyYW5zZm9ybU5vZGVzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XTtyZXR1cm4gbnVsbH1nZXRUcmFuc2Zvcm1Ob2RlQnlVbmlxdWVJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoO3QrKylpZih0aGlzLnRyYW5zZm9ybU5vZGVzW3RdLnVuaXF1ZUlkPT09ZSlyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XTtyZXR1cm4gbnVsbH1nZXRUcmFuc2Zvcm1Ob2Rlc0J5SWQoZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtTm9kZXMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0LmlkPT09ZX0pfWdldE1lc2hCeVVuaXF1ZUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5tZXNoZXMubGVuZ3RoO3QrKylpZih0aGlzLm1lc2hlc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMubWVzaGVzW3RdO3JldHVybiBudWxsfWdldExhc3RNZXNoQnlJZChlKXtmb3IobGV0IHQ9dGhpcy5tZXNoZXMubGVuZ3RoLTE7dD49MDt0LS0paWYodGhpcy5tZXNoZXNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLm1lc2hlc1t0XTtyZXR1cm4gbnVsbH1nZXRMYXN0RW50cnlCeUlkKGUpe2xldCB0O2Zvcih0PXRoaXMubWVzaGVzLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKHRoaXMubWVzaGVzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5tZXNoZXNbdF07Zm9yKHQ9dGhpcy50cmFuc2Zvcm1Ob2Rlcy5sZW5ndGgtMTt0Pj0wO3QtLSlpZih0aGlzLnRyYW5zZm9ybU5vZGVzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy50cmFuc2Zvcm1Ob2Rlc1t0XTtmb3IodD10aGlzLmNhbWVyYXMubGVuZ3RoLTE7dD49MDt0LS0paWYodGhpcy5jYW1lcmFzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5jYW1lcmFzW3RdO2Zvcih0PXRoaXMubGlnaHRzLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKHRoaXMubGlnaHRzW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5saWdodHNbdF07cmV0dXJuIG51bGx9Z2V0Tm9kZUJ5SWQoZSl7Y29uc3QgdD10aGlzLmdldE1lc2hCeUlkKGUpO2lmKHQpcmV0dXJuIHQ7Y29uc3QgaT10aGlzLmdldFRyYW5zZm9ybU5vZGVCeUlkKGUpO2lmKGkpcmV0dXJuIGk7Y29uc3Qgcz10aGlzLmdldExpZ2h0QnlJZChlKTtpZihzKXJldHVybiBzO2NvbnN0IHI9dGhpcy5nZXRDYW1lcmFCeUlkKGUpO2lmKHIpcmV0dXJuIHI7Y29uc3Qgbj10aGlzLmdldEJvbmVCeUlkKGUpO3JldHVybiBufHxudWxsfWdldE5vZGVCeU5hbWUoZSl7Y29uc3QgdD10aGlzLmdldE1lc2hCeU5hbWUoZSk7aWYodClyZXR1cm4gdDtjb25zdCBpPXRoaXMuZ2V0VHJhbnNmb3JtTm9kZUJ5TmFtZShlKTtpZihpKXJldHVybiBpO2NvbnN0IHM9dGhpcy5nZXRMaWdodEJ5TmFtZShlKTtpZihzKXJldHVybiBzO2NvbnN0IHI9dGhpcy5nZXRDYW1lcmFCeU5hbWUoZSk7aWYocilyZXR1cm4gcjtjb25zdCBuPXRoaXMuZ2V0Qm9uZUJ5TmFtZShlKTtyZXR1cm4gbnx8bnVsbH1nZXRNZXNoQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5tZXNoZXMubGVuZ3RoO3QrKylpZih0aGlzLm1lc2hlc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy5tZXNoZXNbdF07cmV0dXJuIG51bGx9Z2V0VHJhbnNmb3JtTm9kZUJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMudHJhbnNmb3JtTm9kZXMubGVuZ3RoO3QrKylpZih0aGlzLnRyYW5zZm9ybU5vZGVzW3RdLm5hbWU9PT1lKXJldHVybiB0aGlzLnRyYW5zZm9ybU5vZGVzW3RdO3JldHVybiBudWxsfWdldExhc3RTa2VsZXRvbkJ5SWQoZSl7Zm9yKGxldCB0PXRoaXMuc2tlbGV0b25zLmxlbmd0aC0xO3Q+PTA7dC0tKWlmKHRoaXMuc2tlbGV0b25zW3RdLmlkPT09ZSlyZXR1cm4gdGhpcy5za2VsZXRvbnNbdF07cmV0dXJuIG51bGx9Z2V0U2tlbGV0b25CeVVuaXF1ZUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5za2VsZXRvbnMubGVuZ3RoO3QrKylpZih0aGlzLnNrZWxldG9uc1t0XS51bmlxdWVJZD09PWUpcmV0dXJuIHRoaXMuc2tlbGV0b25zW3RdO3JldHVybiBudWxsfWdldFNrZWxldG9uQnlJZChlKXtmb3IobGV0IHQ9MDt0PHRoaXMuc2tlbGV0b25zLmxlbmd0aDt0KyspaWYodGhpcy5za2VsZXRvbnNbdF0uaWQ9PT1lKXJldHVybiB0aGlzLnNrZWxldG9uc1t0XTtyZXR1cm4gbnVsbH1nZXRTa2VsZXRvbkJ5TmFtZShlKXtmb3IobGV0IHQ9MDt0PHRoaXMuc2tlbGV0b25zLmxlbmd0aDt0KyspaWYodGhpcy5za2VsZXRvbnNbdF0ubmFtZT09PWUpcmV0dXJuIHRoaXMuc2tlbGV0b25zW3RdO3JldHVybiBudWxsfWdldE1vcnBoVGFyZ2V0TWFuYWdlckJ5SWQoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMubGVuZ3RoO3QrKylpZih0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnNbdF0udW5pcXVlSWQ9PT1lKXJldHVybiB0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnNbdF07cmV0dXJuIG51bGx9Z2V0TW9ycGhUYXJnZXRCeUlkKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmxlbmd0aDsrK3Qpe2NvbnN0IGk9dGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzW3RdO2ZvcihsZXQgcz0wO3M8aS5udW1UYXJnZXRzOysrcyl7Y29uc3Qgcj1pLmdldFRhcmdldChzKTtpZihyLmlkPT09ZSlyZXR1cm4gcn19cmV0dXJuIG51bGx9Z2V0TW9ycGhUYXJnZXRCeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMubGVuZ3RoOysrdCl7Y29uc3QgaT10aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnNbdF07Zm9yKGxldCBzPTA7czxpLm51bVRhcmdldHM7KytzKXtjb25zdCByPWkuZ2V0VGFyZ2V0KHMpO2lmKHIubmFtZT09PWUpcmV0dXJuIHJ9fXJldHVybiBudWxsfWdldFBvc3RQcm9jZXNzQnlOYW1lKGUpe2ZvcihsZXQgdD0wO3Q8dGhpcy5wb3N0UHJvY2Vzc2VzLmxlbmd0aDsrK3Qpe2NvbnN0IGk9dGhpcy5wb3N0UHJvY2Vzc2VzW3RdO2lmKGkubmFtZT09PWUpcmV0dXJuIGl9cmV0dXJuIG51bGx9aXNBY3RpdmVNZXNoKGUpe3JldHVybiB0aGlzLl9hY3RpdmVNZXNoZXMuaW5kZXhPZihlKSE9PS0xfWdldCB1aWQoKXtyZXR1cm4gdGhpcy5fdWlkfHwodGhpcy5fdWlkPVguUmFuZG9tSWQoKSksdGhpcy5fdWlkfWFkZEV4dGVybmFsRGF0YShlLHQpe3JldHVybiB0aGlzLl9leHRlcm5hbERhdGF8fCh0aGlzLl9leHRlcm5hbERhdGE9bmV3IF9yKSx0aGlzLl9leHRlcm5hbERhdGEuYWRkKGUsdCl9Z2V0RXh0ZXJuYWxEYXRhKGUpe3JldHVybiB0aGlzLl9leHRlcm5hbERhdGE/dGhpcy5fZXh0ZXJuYWxEYXRhLmdldChlKTpudWxsfWdldE9yQWRkRXh0ZXJuYWxEYXRhV2l0aEZhY3RvcnkoZSx0KXtyZXR1cm4gdGhpcy5fZXh0ZXJuYWxEYXRhfHwodGhpcy5fZXh0ZXJuYWxEYXRhPW5ldyBfciksdGhpcy5fZXh0ZXJuYWxEYXRhLmdldE9yQWRkV2l0aEZhY3RvcnkoZSx0KX1yZW1vdmVFeHRlcm5hbERhdGEoZSl7cmV0dXJuIHRoaXMuX2V4dGVybmFsRGF0YS5yZW1vdmUoZSl9X2V2YWx1YXRlU3ViTWVzaChlLHQsaSxzKXtpZihzfHxlLmlzSW5GcnVzdHVtKHRoaXMuX2ZydXN0dW1QbGFuZXMpKXtmb3IoY29uc3QgbiBvZiB0aGlzLl9ldmFsdWF0ZVN1Yk1lc2hTdGFnZSluLmFjdGlvbih0LGUpO2NvbnN0IHI9ZS5nZXRNYXRlcmlhbCgpO3IhPW51bGwmJihyLmhhc1JlbmRlclRhcmdldFRleHR1cmVzJiZyLmdldFJlbmRlclRhcmdldFRleHR1cmVzIT1udWxsJiZ0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuaW5kZXhPZihyKT09PS0xJiYodGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnB1c2gociksdGhpcy5fbWF0ZXJpYWxzUmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUoci5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcygpKSksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5kaXNwYXRjaChlLHQscikpfX1mcmVlUHJvY2Vzc2VkTWF0ZXJpYWxzKCl7dGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLmRpc3Bvc2UoKX1nZXQgYmxvY2tmcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzKCl7cmV0dXJuIHRoaXMuX3ByZXZlbnRGcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzfXNldCBibG9ja2ZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMoZSl7dGhpcy5fcHJldmVudEZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMhPT1lJiYoZSYmKHRoaXMuZnJlZUFjdGl2ZU1lc2hlcygpLHRoaXMuZnJlZVJlbmRlcmluZ0dyb3VwcygpKSx0aGlzLl9wcmV2ZW50RnJlZUFjdGl2ZU1lc2hlc0FuZFJlbmRlcmluZ0dyb3Vwcz1lKX1mcmVlQWN0aXZlTWVzaGVzKCl7aWYoIXRoaXMuYmxvY2tmcmVlQWN0aXZlTWVzaGVzQW5kUmVuZGVyaW5nR3JvdXBzJiYodGhpcy5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLmFjdGl2ZUNhbWVyYSYmdGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcyYmdGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCksdGhpcy5hY3RpdmVDYW1lcmFzKSlmb3IobGV0IGU9MDtlPHRoaXMuYWN0aXZlQ2FtZXJhcy5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMuYWN0aXZlQ2FtZXJhc1tlXTt0JiZ0Ll9hY3RpdmVNZXNoZXMmJnQuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCl9fWZyZWVSZW5kZXJpbmdHcm91cHMoKXtpZighdGhpcy5ibG9ja2ZyZWVBY3RpdmVNZXNoZXNBbmRSZW5kZXJpbmdHcm91cHMmJih0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyJiZ0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmZyZWVSZW5kZXJpbmdHcm91cHMoKSx0aGlzLnRleHR1cmVzKSlmb3IobGV0IGU9MDtlPHRoaXMudGV4dHVyZXMubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLnRleHR1cmVzW2VdO3QmJnQucmVuZGVyTGlzdCYmdC5mcmVlUmVuZGVyaW5nR3JvdXBzKCl9fV9pc0luSW50ZXJtZWRpYXRlUmVuZGVyaW5nKCl7cmV0dXJuIHRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZ31mcmVlemVBY3RpdmVNZXNoZXMoZT0hMSx0LGkscz0hMCxyPSExKXtyZXR1cm4gdGhpcy5leGVjdXRlV2hlblJlYWR5KCgpPT57aWYoIXRoaXMuYWN0aXZlQ2FtZXJhKXtpJiZpKCJObyBhY3RpdmUgY2FtZXJhIGZvdW5kIik7cmV0dXJufWlmKHRoaXMuX2ZydXN0dW1QbGFuZXN8fHRoaXMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCksdGhpcy5fZXZhbHVhdGVBY3RpdmVNZXNoZXMoKSx0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW49ITAsdGhpcy5fYWN0aXZlTWVzaGVzRnJvemVuQnV0S2VlcENsaXBwaW5nPXIsdGhpcy5fc2tpcEV2YWx1YXRlQWN0aXZlTWVzaGVzQ29tcGxldGVseT1lLHMpZm9yKGxldCBuPTA7bjx0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoO24rKyl0aGlzLl9hY3RpdmVNZXNoZXMuZGF0YVtuXS5fZnJlZXplKCk7dCYmdCgpfSksdGhpc311bmZyZWV6ZUFjdGl2ZU1lc2hlcygpe2ZvcihsZXQgZT0wO2U8dGhpcy5tZXNoZXMubGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLm1lc2hlc1tlXTt0Ll9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvJiYodC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmU9ITEpfWZvcihsZXQgZT0wO2U8dGhpcy5fYWN0aXZlTWVzaGVzLmxlbmd0aDtlKyspdGhpcy5fYWN0aXZlTWVzaGVzLmRhdGFbZV0uX3VuRnJlZXplKCk7cmV0dXJuIHRoaXMuX2FjdGl2ZU1lc2hlc0Zyb3plbj0hMSx0aGlzfV9leGVjdXRlQWN0aXZlQ29udGFpbmVyQ2xlYW51cChlKXshKHRoaXMuX2VuZ2luZS5zbmFwc2hvdFJlbmRlcmluZyYmdGhpcy5fZW5naW5lLnNuYXBzaG90UmVuZGVyaW5nTW9kZT09PTEpJiZ0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW4mJnRoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGh8fHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZE9uY2UoKCk9PmUuZGlzcG9zZSgpKX1fZXZhbHVhdGVBY3RpdmVNZXNoZXMoKXt2YXIgZTtpZih0aGlzLl9lbmdpbmUuc25hcHNob3RSZW5kZXJpbmcmJnRoaXMuX2VuZ2luZS5zbmFwc2hvdFJlbmRlcmluZ01vZGU9PT0xKXt0aGlzLl9hY3RpdmVNZXNoZXMubGVuZ3RoPjAmJigoZT10aGlzLmFjdGl2ZUNhbWVyYSk9PT1udWxsfHxlPT09dm9pZCAwfHxlLl9hY3RpdmVNZXNoZXMucmVzZXQoKSx0aGlzLl9hY3RpdmVNZXNoZXMucmVzZXQoKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlc2V0KCksdGhpcy5fcHJvY2Vzc2VkTWF0ZXJpYWxzLnJlc2V0KCksdGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLnJlc2V0KCksdGhpcy5fYWN0aXZlU2tlbGV0b25zLnJlc2V0KCksdGhpcy5fc29mdHdhcmVTa2lubmVkTWVzaGVzLnJlc2V0KCkpO3JldHVybn1pZih0aGlzLl9hY3RpdmVNZXNoZXNGcm96ZW4mJnRoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGgpe2lmKCF0aGlzLl9za2lwRXZhbHVhdGVBY3RpdmVNZXNoZXNDb21wbGV0ZWx5KXtjb25zdCBzPXRoaXMuX2FjdGl2ZU1lc2hlcy5sZW5ndGg7Zm9yKGxldCByPTA7cjxzO3IrKyl0aGlzLl9hY3RpdmVNZXNoZXMuZGF0YVtyXS5jb21wdXRlV29ybGRNYXRyaXgoKX1pZih0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMpe2NvbnN0IHM9dGhpcy5fYWN0aXZlUGFydGljbGVTeXN0ZW1zLmxlbmd0aDtmb3IobGV0IHI9MDtyPHM7cisrKXRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5kYXRhW3JdLmFuaW1hdGUoKX10aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnJlc2V0U3ByaXRlcygpO3JldHVybn1pZighdGhpcy5hY3RpdmVDYW1lcmEpcmV0dXJuO3RoaXMub25CZWZvcmVBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX2FjdGl2ZU1lc2hlcy5yZXNldCgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIucmVzZXQoKSx0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMucmVzZXQoKSx0aGlzLl9hY3RpdmVQYXJ0aWNsZVN5c3RlbXMucmVzZXQoKSx0aGlzLl9hY3RpdmVTa2VsZXRvbnMucmVzZXQoKSx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMucmVzZXQoKSx0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzLnJlc2V0KCk7Zm9yKGNvbnN0IHMgb2YgdGhpcy5fYmVmb3JlRXZhbHVhdGVBY3RpdmVNZXNoU3RhZ2Upcy5hY3Rpb24oKTtjb25zdCB0PXRoaXMuZ2V0QWN0aXZlTWVzaENhbmRpZGF0ZXMoKSxpPXQubGVuZ3RoO2ZvcihsZXQgcz0wO3M8aTtzKyspe2NvbnN0IHI9dC5kYXRhW3NdO2lmKHIuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0RJc1VwVG9EYXRlPSExLHIuaXNCbG9ja2VkfHwodGhpcy5fdG90YWxWZXJ0aWNlcy5hZGRDb3VudChyLmdldFRvdGFsVmVydGljZXMoKSwhMSksIXIuaXNSZWFkeSgpfHwhci5pc0VuYWJsZWQoKXx8ci5zY2FsaW5nLmhhc0FaZXJvQ29tcG9uZW50KSljb250aW51ZTtyLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHIuYWN0aW9uTWFuYWdlciYmci5hY3Rpb25NYW5hZ2VyLmhhc1NwZWNpZmljVHJpZ2dlcnMyKDEyLDEzKSYmdGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5wdXNoTm9EdXBsaWNhdGUocik7bGV0IG49dGhpcy5jdXN0b21MT0RTZWxlY3Rvcj90aGlzLmN1c3RvbUxPRFNlbGVjdG9yKHIsdGhpcy5hY3RpdmVDYW1lcmEpOnIuZ2V0TE9EKHRoaXMuYWN0aXZlQ2FtZXJhKTtpZihyLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9EPW4sci5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRElzVXBUb0RhdGU9ITAsbiE9bnVsbCYmKG4hPT1yJiZuLmJpbGxib2FyZE1vZGUhPT0wJiZuLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHIuX3ByZUFjdGl2YXRlKCksci5pc1Zpc2libGUmJnIudmlzaWJpbGl0eT4wJiZyLmxheWVyTWFzayZ0aGlzLmFjdGl2ZUNhbWVyYS5sYXllck1hc2smJih0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nfHxyLmFsd2F5c1NlbGVjdEFzQWN0aXZlTWVzaHx8ci5pc0luRnJ1c3R1bSh0aGlzLl9mcnVzdHVtUGxhbmVzKSkpKXt0aGlzLl9hY3RpdmVNZXNoZXMucHVzaChyKSx0aGlzLmFjdGl2ZUNhbWVyYS5fYWN0aXZlTWVzaGVzLnB1c2gociksbiE9PXImJm4uX2FjdGl2YXRlKHRoaXMuX3JlbmRlcklkLCExKTtmb3IoY29uc3QgYSBvZiB0aGlzLl9wcmVBY3RpdmVNZXNoU3RhZ2UpYS5hY3Rpb24ocik7ci5fYWN0aXZhdGUodGhpcy5fcmVuZGVySWQsITEpJiYoci5pc0FuSW5zdGFuY2U/ci5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaCYmKG49cik6bi5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlcz0hMSxuLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZT0hMCx0aGlzLl9hY3RpdmVNZXNoKHIsbikpLHIuX3Bvc3RBY3RpdmF0ZSgpfX1pZih0aGlzLnBhcnRpY2xlc0VuYWJsZWQpe3RoaXMub25CZWZvcmVQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtmb3IobGV0IHM9MDtzPHRoaXMucGFydGljbGVTeXN0ZW1zLmxlbmd0aDtzKyspe2NvbnN0IHI9dGhpcy5wYXJ0aWNsZVN5c3RlbXNbc107aWYoIXIuaXNTdGFydGVkKCl8fCFyLmVtaXR0ZXIpY29udGludWU7Y29uc3Qgbj1yLmVtaXR0ZXI7KCFuLnBvc2l0aW9ufHxuLmlzRW5hYmxlZCgpKSYmKHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5wdXNoKHIpLHIuYW5pbWF0ZSgpLHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcGF0Y2hQYXJ0aWNsZXMocikpfXRoaXMub25BZnRlclBhcnRpY2xlc1JlbmRlcmluZ09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfX1fYWN0aXZlTWVzaChlLHQpe3RoaXMuX3NrZWxldG9uc0VuYWJsZWQmJnQuc2tlbGV0b24hPT1udWxsJiZ0LnNrZWxldG9uIT09dm9pZCAwJiYodGhpcy5fYWN0aXZlU2tlbGV0b25zLnB1c2hOb0R1cGxpY2F0ZSh0LnNrZWxldG9uKSYmKHQuc2tlbGV0b24ucHJlcGFyZSgpLHRoaXMuX2FjdGl2ZUJvbmVzLmFkZENvdW50KHQuc2tlbGV0b24uYm9uZXMubGVuZ3RoLCExKSksdC5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnN8fHRoaXMuX3NvZnR3YXJlU2tpbm5lZE1lc2hlcy5wdXNoTm9EdXBsaWNhdGUodCkpO2xldCBpPWUuaGFzSW5zdGFuY2VzfHxlLmlzQW5JbnN0YW5jZXx8dGhpcy5kaXNwYXRjaEFsbFN1Yk1lc2hlc09mQWN0aXZlTWVzaGVzfHx0aGlzLl9za2lwRnJ1c3R1bUNsaXBwaW5nfHx0LmFsd2F5c1NlbGVjdEFzQWN0aXZlTWVzaDtpZih0JiZ0LnN1Yk1lc2hlcyYmdC5zdWJNZXNoZXMubGVuZ3RoPjApe2NvbnN0IHM9dGhpcy5nZXRBY3RpdmVTdWJNZXNoQ2FuZGlkYXRlcyh0KSxyPXMubGVuZ3RoO2k9aXx8cj09PTE7Zm9yKGxldCBuPTA7bjxyO24rKyl7Y29uc3QgYT1zLmRhdGFbbl07dGhpcy5fZXZhbHVhdGVTdWJNZXNoKGEsdCxlLGkpfX19dXBkYXRlVHJhbnNmb3JtTWF0cml4KGUpe2lmKHRoaXMuYWN0aXZlQ2FtZXJhKWlmKHRoaXMuYWN0aXZlQ2FtZXJhLl9yZW5kZXJpbmdNdWx0aXZpZXcpe2NvbnN0IHQ9dGhpcy5hY3RpdmVDYW1lcmEuX3JpZ0NhbWVyYXNbMF0saT10aGlzLmFjdGl2ZUNhbWVyYS5fcmlnQ2FtZXJhc1sxXTt0aGlzLnNldFRyYW5zZm9ybU1hdHJpeCh0LmdldFZpZXdNYXRyaXgoKSx0LmdldFByb2plY3Rpb25NYXRyaXgoZSksaS5nZXRWaWV3TWF0cml4KCksaS5nZXRQcm9qZWN0aW9uTWF0cml4KGUpKX1lbHNlIHRoaXMuc2V0VHJhbnNmb3JtTWF0cml4KHRoaXMuYWN0aXZlQ2FtZXJhLmdldFZpZXdNYXRyaXgoKSx0aGlzLmFjdGl2ZUNhbWVyYS5nZXRQcm9qZWN0aW9uTWF0cml4KGUpKX1fYmluZEZyYW1lQnVmZmVyKGUsdD0hMCl7ZSYmZS5fbXVsdGl2aWV3VGV4dHVyZT9lLl9tdWx0aXZpZXdUZXh0dXJlLl9iaW5kRnJhbWVCdWZmZXIoKTplJiZlLm91dHB1dFJlbmRlclRhcmdldD9lLm91dHB1dFJlbmRlclRhcmdldC5fYmluZEZyYW1lQnVmZmVyKCk6dGhpcy5fZW5naW5lLl9jdXJyZW50RnJhbWVCdWZmZXJJc0RlZmF1bHRGcmFtZUJ1ZmZlcigpfHx0aGlzLl9lbmdpbmUucmVzdG9yZURlZmF1bHRGcmFtZWJ1ZmZlcigpLHQmJnRoaXMuX2NsZWFyRnJhbWVCdWZmZXIoZSl9X2NsZWFyRnJhbWVCdWZmZXIoZSl7aWYoIShlJiZlLl9tdWx0aXZpZXdUZXh0dXJlKSlpZihlJiZlLm91dHB1dFJlbmRlclRhcmdldCYmIWUuX3JlbmRlcmluZ011bHRpdmlldyl7Y29uc3QgdD1lLm91dHB1dFJlbmRlclRhcmdldDt0Lm9uQ2xlYXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpP3Qub25DbGVhck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMuX2VuZ2luZSk6dC5za2lwSW5pdGlhbENsZWFyfHwodGhpcy5hdXRvQ2xlYXImJnRoaXMuX2VuZ2luZS5jbGVhcih0LmNsZWFyQ29sb3J8fHRoaXMuY2xlYXJDb2xvciwhdC5fY2xlYXJlZCwhMCwhMCksdC5fY2xlYXJlZD0hMCl9ZWxzZSB0aGlzLl9kZWZhdWx0RnJhbWVCdWZmZXJDbGVhcmVkP3RoaXMuX2VuZ2luZS5jbGVhcihudWxsLCExLCEwLCEwKToodGhpcy5fZGVmYXVsdEZyYW1lQnVmZmVyQ2xlYXJlZD0hMCx0aGlzLl9jbGVhcigpKX1fcmVuZGVyRm9yQ2FtZXJhKGUsdCxpPSEwKXt2YXIgcyxyLG47aWYoZSYmZS5fc2tpcFJlbmRlcmluZylyZXR1cm47Y29uc3QgYT10aGlzLl9lbmdpbmU7aWYodGhpcy5fYWN0aXZlQ2FtZXJhPWUsIXRoaXMuYWN0aXZlQ2FtZXJhKXRocm93IG5ldyBFcnJvcigiQWN0aXZlIGNhbWVyYSBub3Qgc2V0Iik7aWYoYS5zZXRWaWV3cG9ydCh0aGlzLmFjdGl2ZUNhbWVyYS52aWV3cG9ydCksdGhpcy5yZXNldENhY2hlZE1hdGVyaWFsKCksdGhpcy5fcmVuZGVySWQrKywhdGhpcy5wcmVQYXNzJiZpKXtsZXQgaD0hMDtlLl9yZW5kZXJpbmdNdWx0aXZpZXcmJmUub3V0cHV0UmVuZGVyVGFyZ2V0JiYoaD1lLm91dHB1dFJlbmRlclRhcmdldC5za2lwSW5pdGlhbENsZWFyLHRoaXMuYXV0b0NsZWFyJiYodGhpcy5fZGVmYXVsdEZyYW1lQnVmZmVyQ2xlYXJlZD0hMSxlLm91dHB1dFJlbmRlclRhcmdldC5za2lwSW5pdGlhbENsZWFyPSExKSksdGhpcy5fYmluZEZyYW1lQnVmZmVyKHRoaXMuX2FjdGl2ZUNhbWVyYSksZS5fcmVuZGVyaW5nTXVsdGl2aWV3JiZlLm91dHB1dFJlbmRlclRhcmdldCYmKGUub3V0cHV0UmVuZGVyVGFyZ2V0LnNraXBJbml0aWFsQ2xlYXI9aCl9dGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLm9uQmVmb3JlQ2FtZXJhUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5hY3RpdmVDYW1lcmEpLHRoaXMuX2V2YWx1YXRlQWN0aXZlTWVzaGVzKCk7Zm9yKGxldCBoPTA7aDx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMubGVuZ3RoO2grKyl7Y29uc3QgbD10aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMuZGF0YVtoXTtsLmFwcGx5U2tlbGV0b24obC5za2VsZXRvbil9dGhpcy5vbkJlZm9yZVJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9yZW5kZXJUYXJnZXRzLmNvbmNhdFdpdGhOb0R1cGxpY2F0ZSh0aGlzLl9tYXRlcmlhbHNSZW5kZXJUYXJnZXRzKSxlLmN1c3RvbVJlbmRlclRhcmdldHMmJmUuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCYmdGhpcy5fcmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUoZS5jdXN0b21SZW5kZXJUYXJnZXRzKSx0JiZ0LmN1c3RvbVJlbmRlclRhcmdldHMmJnQuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg+MCYmdGhpcy5fcmVuZGVyVGFyZ2V0cy5jb25jYXRXaXRoTm9EdXBsaWNhdGUodC5jdXN0b21SZW5kZXJUYXJnZXRzKSx0aGlzLmVudmlyb25tZW50VGV4dHVyZSYmdGhpcy5lbnZpcm9ubWVudFRleHR1cmUuaXNSZW5kZXJUYXJnZXQmJnRoaXMuX3JlbmRlclRhcmdldHMucHVzaE5vRHVwbGljYXRlKHRoaXMuZW52aXJvbm1lbnRUZXh0dXJlKTtmb3IoY29uc3QgaCBvZiB0aGlzLl9nYXRoZXJBY3RpdmVDYW1lcmFSZW5kZXJUYXJnZXRzU3RhZ2UpaC5hY3Rpb24odGhpcy5fcmVuZGVyVGFyZ2V0cyk7bGV0IG89ITE7aWYodGhpcy5yZW5kZXJUYXJnZXRzRW5hYmxlZCl7aWYodGhpcy5faW50ZXJtZWRpYXRlUmVuZGVyaW5nPSEwLHRoaXMuX3JlbmRlclRhcmdldHMubGVuZ3RoPjApe1guU3RhcnRQZXJmb3JtYW5jZUNvdW50ZXIoIlJlbmRlciB0YXJnZXRzIix0aGlzLl9yZW5kZXJUYXJnZXRzLmxlbmd0aD4wKTtmb3IobGV0IGg9MDtoPHRoaXMuX3JlbmRlclRhcmdldHMubGVuZ3RoO2grKyl7Y29uc3QgbD10aGlzLl9yZW5kZXJUYXJnZXRzLmRhdGFbaF07aWYobC5fc2hvdWxkUmVuZGVyKCkpe3RoaXMuX3JlbmRlcklkKys7Y29uc3QgdT1sLmFjdGl2ZUNhbWVyYSYmbC5hY3RpdmVDYW1lcmEhPT10aGlzLmFjdGl2ZUNhbWVyYTtsLnJlbmRlcih1LHRoaXMuZHVtcE5leHRSZW5kZXJUYXJnZXRzKSxvPSEwfX1YLkVuZFBlcmZvcm1hbmNlQ291bnRlcigiUmVuZGVyIHRhcmdldHMiLHRoaXMuX3JlbmRlclRhcmdldHMubGVuZ3RoPjApLHRoaXMuX3JlbmRlcklkKyt9Zm9yKGNvbnN0IGggb2YgdGhpcy5fY2FtZXJhRHJhd1JlbmRlclRhcmdldFN0YWdlKW89aC5hY3Rpb24odGhpcy5hY3RpdmVDYW1lcmEpfHxvO3RoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMX10aGlzLl9lbmdpbmUuY3VycmVudFJlbmRlclBhc3NJZD0obj0ocj0ocz1lLm91dHB1dFJlbmRlclRhcmdldCk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzLnJlbmRlclBhc3NJZCkhPT1udWxsJiZyIT09dm9pZCAwP3I6ZS5yZW5kZXJQYXNzSWQpIT09bnVsbCYmbiE9PXZvaWQgMD9uOjAsbyYmIXRoaXMucHJlUGFzcyYmdGhpcy5fYmluZEZyYW1lQnVmZmVyKHRoaXMuX2FjdGl2ZUNhbWVyYSwhMSksdGhpcy5vbkFmdGVyUmVuZGVyVGFyZ2V0c1JlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyJiYhZS5fbXVsdGl2aWV3VGV4dHVyZSYmIXRoaXMucHJlUGFzcyYmdGhpcy5wb3N0UHJvY2Vzc01hbmFnZXIuX3ByZXBhcmVGcmFtZSgpO2Zvcihjb25zdCBoIG9mIHRoaXMuX2JlZm9yZUNhbWVyYURyYXdTdGFnZSloLmFjdGlvbih0aGlzLmFjdGl2ZUNhbWVyYSk7dGhpcy5vbkJlZm9yZURyYXdQaGFzZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLGEuc25hcHNob3RSZW5kZXJpbmcmJmEuc25hcHNob3RSZW5kZXJpbmdNb2RlPT09MSYmdGhpcy5maW5hbGl6ZVNjZW5lVWJvKCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZW5kZXIobnVsbCxudWxsLCEwLCEwKSx0aGlzLm9uQWZ0ZXJEcmF3UGhhc2VPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtmb3IoY29uc3QgaCBvZiB0aGlzLl9hZnRlckNhbWVyYURyYXdTdGFnZSloLmFjdGlvbih0aGlzLmFjdGl2ZUNhbWVyYSk7aWYodGhpcy5wb3N0UHJvY2Vzc01hbmFnZXImJiFlLl9tdWx0aXZpZXdUZXh0dXJlKXtjb25zdCBoPWUub3V0cHV0UmVuZGVyVGFyZ2V0P2Uub3V0cHV0UmVuZGVyVGFyZ2V0LnJlbmRlclRhcmdldDp2b2lkIDA7dGhpcy5wb3N0UHJvY2Vzc01hbmFnZXIuX2ZpbmFsaXplRnJhbWUoZS5pc0ludGVybWVkaWF0ZSxoKX1mb3IoY29uc3QgaCBvZiB0aGlzLl9hZnRlckNhbWVyYVBvc3RQcm9jZXNzU3RhZ2UpaC5hY3Rpb24odGhpcy5hY3RpdmVDYW1lcmEpO3RoaXMuX3JlbmRlclRhcmdldHMucmVzZXQoKSx0aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLmFjdGl2ZUNhbWVyYSl9X3Byb2Nlc3NTdWJDYW1lcmFzKGUsdD0hMCl7aWYoZS5jYW1lcmFSaWdNb2RlPT09MHx8ZS5fcmVuZGVyaW5nTXVsdGl2aWV3KXtlLl9yZW5kZXJpbmdNdWx0aXZpZXcmJiF0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmdGhpcy5fY3JlYXRlTXVsdGl2aWV3VWJvKCksdGhpcy5fcmVuZGVyRm9yQ2FtZXJhKGUsdm9pZCAwLHQpLHRoaXMub25BZnRlclJlbmRlckNhbWVyYU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpO3JldHVybn1pZihlLl91c2VNdWx0aXZpZXdUb1NpbmdsZVZpZXcpdGhpcy5fcmVuZGVyTXVsdGl2aWV3VG9TaW5nbGVWaWV3KGUpO2Vsc2V7dGhpcy5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGUpO2ZvcihsZXQgaT0wO2k8ZS5fcmlnQ2FtZXJhcy5sZW5ndGg7aSsrKXRoaXMuX3JlbmRlckZvckNhbWVyYShlLl9yaWdDYW1lcmFzW2ldLGUpfXRoaXMuX2FjdGl2ZUNhbWVyYT1lLHRoaXMudXBkYXRlVHJhbnNmb3JtTWF0cml4KCksdGhpcy5vbkFmdGVyUmVuZGVyQ2FtZXJhT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSl9X2NoZWNrSW50ZXJzZWN0aW9ucygpe2ZvcihsZXQgZT0wO2U8dGhpcy5fbWVzaGVzRm9ySW50ZXJzZWN0aW9ucy5sZW5ndGg7ZSsrKXtjb25zdCB0PXRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMuZGF0YVtlXTtpZih0LmFjdGlvbk1hbmFnZXIpZm9yKGxldCBpPTA7dC5hY3Rpb25NYW5hZ2VyJiZpPHQuYWN0aW9uTWFuYWdlci5hY3Rpb25zLmxlbmd0aDtpKyspe2NvbnN0IHM9dC5hY3Rpb25NYW5hZ2VyLmFjdGlvbnNbaV07aWYocy50cmlnZ2VyPT09MTJ8fHMudHJpZ2dlcj09PTEzKXtjb25zdCByPXMuZ2V0VHJpZ2dlclBhcmFtZXRlcigpLG49ci5tZXNoP3IubWVzaDpyLGE9bi5pbnRlcnNlY3RzTWVzaCh0LHIudXNlUHJlY2lzZUludGVyc2VjdGlvbiksbz10Ll9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5pbmRleE9mKG4pO2EmJm89PT0tMT9zLnRyaWdnZXI9PT0xMj8ocy5fZXhlY3V0ZUN1cnJlbnQoVmUuQ3JlYXRlTmV3KHQsdm9pZCAwLG4pKSx0Ll9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5wdXNoKG4pKTpzLnRyaWdnZXI9PT0xMyYmdC5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MucHVzaChuKTohYSYmbz4tMSYmKHMudHJpZ2dlcj09PTEzJiZzLl9leGVjdXRlQ3VycmVudChWZS5DcmVhdGVOZXcodCx2b2lkIDAsbikpLCghdC5hY3Rpb25NYW5hZ2VyLmhhc1NwZWNpZmljVHJpZ2dlcigxMyxoPT57Y29uc3QgbD1oLm1lc2g/aC5tZXNoOmg7cmV0dXJuIG49PT1sfSl8fHMudHJpZ2dlcj09PTEzKSYmdC5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3Muc3BsaWNlKG8sMSkpfX19fV9hZHZhbmNlUGh5c2ljc0VuZ2luZVN0ZXAoZSl7fV9hbmltYXRlKCl7fWFuaW1hdGUoKXtpZih0aGlzLl9lbmdpbmUuaXNEZXRlcm1pbmlzdGljTG9ja1N0ZXAoKSl7bGV0IGU9TWF0aC5tYXgoYWUuTWluRGVsdGFUaW1lLE1hdGgubWluKHRoaXMuX2VuZ2luZS5nZXREZWx0YVRpbWUoKSxhZS5NYXhEZWx0YVRpbWUpKSt0aGlzLl90aW1lQWNjdW11bGF0b3I7Y29uc3QgdD10aGlzLl9lbmdpbmUuZ2V0VGltZVN0ZXAoKSxpPTFlMy90LzFlMztsZXQgcz0wO2NvbnN0IHI9dGhpcy5fZW5naW5lLmdldExvY2tzdGVwTWF4U3RlcHMoKTtsZXQgbj1NYXRoLmZsb29yKGUvdCk7Zm9yKG49TWF0aC5taW4obixyKTtlPjAmJnM8bjspdGhpcy5vbkJlZm9yZVN0ZXBPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9hbmltYXRpb25SYXRpbz10KmksdGhpcy5fYW5pbWF0ZSgpLHRoaXMub25BZnRlckFuaW1hdGlvbnNPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLnBoeXNpY3NFbmFibGVkJiZ0aGlzLl9hZHZhbmNlUGh5c2ljc0VuZ2luZVN0ZXAodCksdGhpcy5vbkFmdGVyU3RlcE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX2N1cnJlbnRTdGVwSWQrKyxzKyssZS09dDt0aGlzLl90aW1lQWNjdW11bGF0b3I9ZTwwPzA6ZX1lbHNle2NvbnN0IGU9dGhpcy51c2VDb25zdGFudEFuaW1hdGlvbkRlbHRhVGltZT8xNjpNYXRoLm1heChhZS5NaW5EZWx0YVRpbWUsTWF0aC5taW4odGhpcy5fZW5naW5lLmdldERlbHRhVGltZSgpLGFlLk1heERlbHRhVGltZSkpO3RoaXMuX2FuaW1hdGlvblJhdGlvPWUqKDYwLzFlMyksdGhpcy5fYW5pbWF0ZSgpLHRoaXMub25BZnRlckFuaW1hdGlvbnNPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLnBoeXNpY3NFbmFibGVkJiZ0aGlzLl9hZHZhbmNlUGh5c2ljc0VuZ2luZVN0ZXAoZSl9fV9jbGVhcigpeyh0aGlzLmF1dG9DbGVhckRlcHRoQW5kU3RlbmNpbHx8dGhpcy5hdXRvQ2xlYXIpJiZ0aGlzLl9lbmdpbmUuY2xlYXIodGhpcy5jbGVhckNvbG9yLHRoaXMuYXV0b0NsZWFyfHx0aGlzLmZvcmNlV2lyZWZyYW1lfHx0aGlzLmZvcmNlUG9pbnRzQ2xvdWQsdGhpcy5hdXRvQ2xlYXJEZXB0aEFuZFN0ZW5jaWwsdGhpcy5hdXRvQ2xlYXJEZXB0aEFuZFN0ZW5jaWwpfV9jaGVja0NhbWVyYVJlbmRlclRhcmdldChlKXt2YXIgdDtpZihlIT1udWxsJiZlLm91dHB1dFJlbmRlclRhcmdldCYmIShlIT1udWxsJiZlLmlzUmlnQ2FtZXJhKSYmKGUub3V0cHV0UmVuZGVyVGFyZ2V0Ll9jbGVhcmVkPSExKSwhKCh0PWU9PW51bGw/dm9pZCAwOmUucmlnQ2FtZXJhcyk9PT1udWxsfHx0PT09dm9pZCAwKSYmdC5sZW5ndGgpZm9yKGxldCBpPTA7aTxlLnJpZ0NhbWVyYXMubGVuZ3RoOysraSl7Y29uc3Qgcz1lLnJpZ0NhbWVyYXNbaV0ub3V0cHV0UmVuZGVyVGFyZ2V0O3MmJihzLl9jbGVhcmVkPSExKX19cmVzZXREcmF3Q2FjaGUoZSl7aWYodGhpcy5tZXNoZXMpZm9yKGNvbnN0IHQgb2YgdGhpcy5tZXNoZXMpdC5yZXNldERyYXdDYWNoZShlKX1yZW5kZXIoZT0hMCx0PSExKXt2YXIgaSxzLHI7aWYodGhpcy5pc0Rpc3Bvc2VkKXJldHVybjt0aGlzLm9uUmVhZHlPYnNlcnZhYmxlLmhhc09ic2VydmVycygpJiZ0aGlzLl9leGVjdXRlV2hlblJlYWR5VGltZW91dElkPT09bnVsbCYmdGhpcy5fY2hlY2tJc1JlYWR5KCksdGhpcy5fZnJhbWVJZCsrLHRoaXMuX2RlZmF1bHRGcmFtZUJ1ZmZlckNsZWFyZWQ9ITEsdGhpcy5fY2hlY2tDYW1lcmFSZW5kZXJUYXJnZXQodGhpcy5hY3RpdmVDYW1lcmEpLCEoKGk9dGhpcy5hY3RpdmVDYW1lcmFzKT09PW51bGx8fGk9PT12b2lkIDApJiZpLmxlbmd0aCYmdGhpcy5hY3RpdmVDYW1lcmFzLmZvckVhY2godGhpcy5fY2hlY2tDYW1lcmFSZW5kZXJUYXJnZXQpLHRoaXMuX3JlZ2lzdGVyVHJhbnNpZW50Q29tcG9uZW50cygpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlcy5mZXRjaE5ld0ZyYW1lKCksdGhpcy5fdG90YWxWZXJ0aWNlcy5mZXRjaE5ld0ZyYW1lKCksdGhpcy5fYWN0aXZlSW5kaWNlcy5mZXRjaE5ld0ZyYW1lKCksdGhpcy5fYWN0aXZlQm9uZXMuZmV0Y2hOZXdGcmFtZSgpLHRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMucmVzZXQoKSx0aGlzLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSx0aGlzLm9uQmVmb3JlQW5pbWF0aW9uc09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuYWN0aW9uTWFuYWdlciYmdGhpcy5hY3Rpb25NYW5hZ2VyLnByb2Nlc3NUcmlnZ2VyKDExKSx0fHx0aGlzLmFuaW1hdGUoKTtmb3IoY29uc3QgbyBvZiB0aGlzLl9iZWZvcmVDYW1lcmFVcGRhdGVTdGFnZSlvLmFjdGlvbigpO2lmKGUpe2lmKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4wKWZvcihsZXQgbz0wO288dGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aDtvKyspe2NvbnN0IGg9dGhpcy5hY3RpdmVDYW1lcmFzW29dO2lmKGgudXBkYXRlKCksaC5jYW1lcmFSaWdNb2RlIT09MClmb3IobGV0IGw9MDtsPGguX3JpZ0NhbWVyYXMubGVuZ3RoO2wrKyloLl9yaWdDYW1lcmFzW2xdLnVwZGF0ZSgpfWVsc2UgaWYodGhpcy5hY3RpdmVDYW1lcmEmJih0aGlzLmFjdGl2ZUNhbWVyYS51cGRhdGUoKSx0aGlzLmFjdGl2ZUNhbWVyYS5jYW1lcmFSaWdNb2RlIT09MCkpZm9yKGxldCBvPTA7bzx0aGlzLmFjdGl2ZUNhbWVyYS5fcmlnQ2FtZXJhcy5sZW5ndGg7bysrKXRoaXMuYWN0aXZlQ2FtZXJhLl9yaWdDYW1lcmFzW29dLnVwZGF0ZSgpfXRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCBuPXRoaXMuZ2V0RW5naW5lKCk7dGhpcy5vbkJlZm9yZVJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCBhPSEoKHM9dGhpcy5hY3RpdmVDYW1lcmFzKT09PW51bGx8fHM9PT12b2lkIDApJiZzLmxlbmd0aD90aGlzLmFjdGl2ZUNhbWVyYXNbMF06dGhpcy5hY3RpdmVDYW1lcmE7aWYodGhpcy5yZW5kZXJUYXJnZXRzRW5hYmxlZCl7WC5TdGFydFBlcmZvcm1hbmNlQ291bnRlcigiQ3VzdG9tIHJlbmRlciB0YXJnZXRzIix0aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoPjApLHRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMDtmb3IobGV0IG89MDtvPHRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg7bysrKXtjb25zdCBoPXRoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0c1tvXTtpZihoLl9zaG91bGRSZW5kZXIoKSl7aWYodGhpcy5fcmVuZGVySWQrKyx0aGlzLmFjdGl2ZUNhbWVyYT1oLmFjdGl2ZUNhbWVyYXx8dGhpcy5hY3RpdmVDYW1lcmEsIXRoaXMuYWN0aXZlQ2FtZXJhKXRocm93IG5ldyBFcnJvcigiQWN0aXZlIGNhbWVyYSBub3Qgc2V0Iik7bi5zZXRWaWV3cG9ydCh0aGlzLmFjdGl2ZUNhbWVyYS52aWV3cG9ydCksdGhpcy51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSxoLnJlbmRlcihhIT09dGhpcy5hY3RpdmVDYW1lcmEsdGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHMpfX1YLkVuZFBlcmZvcm1hbmNlQ291bnRlcigiQ3VzdG9tIHJlbmRlciB0YXJnZXRzIix0aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoPjApLHRoaXMuX2ludGVybWVkaWF0ZVJlbmRlcmluZz0hMSx0aGlzLl9yZW5kZXJJZCsrfXRoaXMuX2VuZ2luZS5jdXJyZW50UmVuZGVyUGFzc0lkPShyPWE9PW51bGw/dm9pZCAwOmEucmVuZGVyUGFzc0lkKSE9PW51bGwmJnIhPT12b2lkIDA/cjowLHRoaXMuYWN0aXZlQ2FtZXJhPWEsdGhpcy5fYWN0aXZlQ2FtZXJhJiZ0aGlzLl9hY3RpdmVDYW1lcmEuY2FtZXJhUmlnTW9kZSE9PTIyJiYhdGhpcy5wcmVQYXNzJiZ0aGlzLl9iaW5kRnJhbWVCdWZmZXIodGhpcy5fYWN0aXZlQ2FtZXJhLCExKSx0aGlzLm9uQWZ0ZXJSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Zm9yKGNvbnN0IG8gb2YgdGhpcy5fYmVmb3JlQ2xlYXJTdGFnZSlvLmFjdGlvbigpO3RoaXMuX2NsZWFyRnJhbWVCdWZmZXIodGhpcy5hY3RpdmVDYW1lcmEpO2Zvcihjb25zdCBvIG9mIHRoaXMuX2dhdGhlclJlbmRlclRhcmdldHNTdGFnZSlvLmFjdGlvbih0aGlzLl9yZW5kZXJUYXJnZXRzKTtpZih0aGlzLmFjdGl2ZUNhbWVyYXMmJnRoaXMuYWN0aXZlQ2FtZXJhcy5sZW5ndGg+MClmb3IobGV0IG89MDtvPHRoaXMuYWN0aXZlQ2FtZXJhcy5sZW5ndGg7bysrKXRoaXMuX3Byb2Nlc3NTdWJDYW1lcmFzKHRoaXMuYWN0aXZlQ2FtZXJhc1tvXSxvPjApO2Vsc2V7aWYoIXRoaXMuYWN0aXZlQ2FtZXJhKXRocm93IG5ldyBFcnJvcigiTm8gY2FtZXJhIGRlZmluZWQiKTt0aGlzLl9wcm9jZXNzU3ViQ2FtZXJhcyh0aGlzLmFjdGl2ZUNhbWVyYSwhIXRoaXMuYWN0aXZlQ2FtZXJhLm91dHB1dFJlbmRlclRhcmdldCl9dGhpcy5fY2hlY2tJbnRlcnNlY3Rpb25zKCk7Zm9yKGNvbnN0IG8gb2YgdGhpcy5fYWZ0ZXJSZW5kZXJTdGFnZSlvLmFjdGlvbigpO2lmKHRoaXMuYWZ0ZXJSZW5kZXImJnRoaXMuYWZ0ZXJSZW5kZXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl90b0JlRGlzcG9zZWQubGVuZ3RoKXtmb3IobGV0IG89MDtvPHRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGg7bysrKXtjb25zdCBoPXRoaXMuX3RvQmVEaXNwb3NlZFtvXTtoJiZoLmRpc3Bvc2UoKX10aGlzLl90b0JlRGlzcG9zZWQubGVuZ3RoPTB9dGhpcy5kdW1wTmV4dFJlbmRlclRhcmdldHMmJih0aGlzLmR1bXBOZXh0UmVuZGVyVGFyZ2V0cz0hMSksdGhpcy5fYWN0aXZlQm9uZXMuYWRkQ291bnQoMCwhMCksdGhpcy5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudCgwLCEwKSx0aGlzLl9hY3RpdmVQYXJ0aWNsZXMuYWRkQ291bnQoMCwhMCksdGhpcy5fZW5naW5lLnJlc3RvcmVEZWZhdWx0RnJhbWVidWZmZXIoKX1mcmVlemVNYXRlcmlhbHMoKXtmb3IobGV0IGU9MDtlPHRoaXMubWF0ZXJpYWxzLmxlbmd0aDtlKyspdGhpcy5tYXRlcmlhbHNbZV0uZnJlZXplKCl9dW5mcmVlemVNYXRlcmlhbHMoKXtmb3IobGV0IGU9MDtlPHRoaXMubWF0ZXJpYWxzLmxlbmd0aDtlKyspdGhpcy5tYXRlcmlhbHNbZV0udW5mcmVlemUoKX1kaXNwb3NlKCl7aWYodGhpcy5pc0Rpc3Bvc2VkKXJldHVybjt0aGlzLmJlZm9yZVJlbmRlcj1udWxsLHRoaXMuYWZ0ZXJSZW5kZXI9bnVsbCx0aGlzLm1ldGFkYXRhPW51bGwsdGhpcy5za2VsZXRvbnMubGVuZ3RoPTAsdGhpcy5tb3JwaFRhcmdldE1hbmFnZXJzLmxlbmd0aD0wLHRoaXMuX3RyYW5zaWVudENvbXBvbmVudHMubGVuZ3RoPTAsdGhpcy5faXNSZWFkeUZvck1lc2hTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZUV2YWx1YXRlQWN0aXZlTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fZXZhbHVhdGVTdWJNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9wcmVBY3RpdmVNZXNoU3RhZ2UuY2xlYXIoKSx0aGlzLl9jYW1lcmFEcmF3UmVuZGVyVGFyZ2V0U3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVDYW1lcmFEcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVSZW5kZXJUYXJnZXREcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVSZW5kZXJpbmdHcm91cERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2JlZm9yZVJlbmRlcmluZ01lc2hTdGFnZS5jbGVhcigpLHRoaXMuX2FmdGVyUmVuZGVyaW5nTWVzaFN0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJSZW5kZXJpbmdHcm91cERyYXdTdGFnZS5jbGVhcigpLHRoaXMuX2FmdGVyQ2FtZXJhRHJhd1N0YWdlLmNsZWFyKCksdGhpcy5fYWZ0ZXJSZW5kZXJUYXJnZXREcmF3U3RhZ2UuY2xlYXIoKSx0aGlzLl9hZnRlclJlbmRlclN0YWdlLmNsZWFyKCksdGhpcy5fYmVmb3JlQ2FtZXJhVXBkYXRlU3RhZ2UuY2xlYXIoKSx0aGlzLl9iZWZvcmVDbGVhclN0YWdlLmNsZWFyKCksdGhpcy5fZ2F0aGVyUmVuZGVyVGFyZ2V0c1N0YWdlLmNsZWFyKCksdGhpcy5fZ2F0aGVyQWN0aXZlQ2FtZXJhUmVuZGVyVGFyZ2V0c1N0YWdlLmNsZWFyKCksdGhpcy5fcG9pbnRlck1vdmVTdGFnZS5jbGVhcigpLHRoaXMuX3BvaW50ZXJEb3duU3RhZ2UuY2xlYXIoKSx0aGlzLl9wb2ludGVyVXBTdGFnZS5jbGVhcigpLHRoaXMuaW1wb3J0ZWRNZXNoZXNGaWxlcz1uZXcgQXJyYXksdGhpcy5zdG9wQWxsQW5pbWF0aW9ucyYmdGhpcy5zdG9wQWxsQW5pbWF0aW9ucygpLHRoaXMucmVzZXRDYWNoZWRNYXRlcmlhbCgpLHRoaXMuYWN0aXZlQ2FtZXJhJiYodGhpcy5hY3RpdmVDYW1lcmEuX2FjdGl2ZU1lc2hlcy5kaXNwb3NlKCksdGhpcy5hY3RpdmVDYW1lcmE9bnVsbCksdGhpcy5hY3RpdmVDYW1lcmFzPW51bGwsdGhpcy5fYWN0aXZlTWVzaGVzLmRpc3Bvc2UoKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9wcm9jZXNzZWRNYXRlcmlhbHMuZGlzcG9zZSgpLHRoaXMuX2FjdGl2ZVBhcnRpY2xlU3lzdGVtcy5kaXNwb3NlKCksdGhpcy5fYWN0aXZlU2tlbGV0b25zLmRpc3Bvc2UoKSx0aGlzLl9zb2Z0d2FyZVNraW5uZWRNZXNoZXMuZGlzcG9zZSgpLHRoaXMuX3JlbmRlclRhcmdldHMuZGlzcG9zZSgpLHRoaXMuX21hdGVyaWFsc1JlbmRlclRhcmdldHMuZGlzcG9zZSgpLHRoaXMuX3JlZ2lzdGVyZWRGb3JMYXRlQW5pbWF0aW9uQmluZGluZ3MuZGlzcG9zZSgpLHRoaXMuX21lc2hlc0ZvckludGVyc2VjdGlvbnMuZGlzcG9zZSgpLHRoaXMuX3RvQmVEaXNwb3NlZC5sZW5ndGg9MDtjb25zdCBlPXRoaXMuX2FjdGl2ZVJlcXVlc3RzLnNsaWNlKCk7Zm9yKGNvbnN0IHIgb2YgZSlyLmFib3J0KCk7dGhpcy5fYWN0aXZlUmVxdWVzdHMubGVuZ3RoPTA7dHJ5e3RoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9Y2F0Y2gocil7Y29uc29sZS5lcnJvcigiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY2FsbGluZyBvbkRpc3Bvc2VPYnNlcnZhYmxlISIscil9aWYodGhpcy5kZXRhY2hDb250cm9sKCksdGhpcy5fZW5naW5lLmdldElucHV0RWxlbWVudCgpKWZvcihsZXQgcj0wO3I8dGhpcy5jYW1lcmFzLmxlbmd0aDtyKyspdGhpcy5jYW1lcmFzW3JdLmRldGFjaENvbnRyb2woKTt0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLmFuaW1hdGlvbkdyb3VwcyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5saWdodHMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubWVzaGVzLHI9PnIuZGlzcG9zZSghMCkpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMudHJhbnNmb3JtTm9kZXMscj0+ci5kaXNwb3NlKCEwKSk7Y29uc3QgaT10aGlzLmNhbWVyYXM7dGhpcy5fZGlzcG9zZUxpc3QoaSksdGhpcy5fZGVmYXVsdE1hdGVyaWFsJiZ0aGlzLl9kZWZhdWx0TWF0ZXJpYWwuZGlzcG9zZSgpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubXVsdGlNYXRlcmlhbHMpLHRoaXMuX2Rpc3Bvc2VMaXN0KHRoaXMubWF0ZXJpYWxzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLnBhcnRpY2xlU3lzdGVtcyksdGhpcy5fZGlzcG9zZUxpc3QodGhpcy5wb3N0UHJvY2Vzc2VzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLnRleHR1cmVzKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcnMpLHRoaXMuX3NjZW5lVWJvLmRpc3Bvc2UoKSx0aGlzLl9tdWx0aXZpZXdTY2VuZVVibyYmdGhpcy5fbXVsdGl2aWV3U2NlbmVVYm8uZGlzcG9zZSgpLHRoaXMucG9zdFByb2Nlc3NNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9kaXNwb3NlTGlzdCh0aGlzLl9jb21wb25lbnRzKTtsZXQgcz10aGlzLl9lbmdpbmUuc2NlbmVzLmluZGV4T2YodGhpcyk7cz4tMSYmdGhpcy5fZW5naW5lLnNjZW5lcy5zcGxpY2UocywxKSxsZS5fTGFzdENyZWF0ZWRTY2VuZT09PXRoaXMmJih0aGlzLl9lbmdpbmUuc2NlbmVzLmxlbmd0aD4wP2xlLl9MYXN0Q3JlYXRlZFNjZW5lPXRoaXMuX2VuZ2luZS5zY2VuZXNbdGhpcy5fZW5naW5lLnNjZW5lcy5sZW5ndGgtMV06bGUuX0xhc3RDcmVhdGVkU2NlbmU9bnVsbCkscz10aGlzLl9lbmdpbmUuX3ZpcnR1YWxTY2VuZXMuaW5kZXhPZih0aGlzKSxzPi0xJiZ0aGlzLl9lbmdpbmUuX3ZpcnR1YWxTY2VuZXMuc3BsaWNlKHMsMSksdGhpcy5fZW5naW5lLndpcGVDYWNoZXMoITApLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVSZW5kZXJUYXJnZXRzUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlclRhcmdldHNSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyU3RlcE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlU3RlcE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlQWN0aXZlTWVzaGVzRXZhbHVhdGlvbk9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJBY3RpdmVNZXNoZXNFdmFsdWF0aW9uT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVQYXJ0aWNsZXNSZW5kZXJpbmdPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUGFydGljbGVzUmVuZGVyaW5nT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVEcmF3UGhhc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyRHJhd1BoYXNlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVBbmltYXRpb25zT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlckFuaW1hdGlvbnNPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkRhdGFMb2FkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlcmluZ0dyb3VwT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25NZXNoSW1wb3J0ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZUNhbWVyYVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJDYW1lcmFSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyUmVuZGVyQ2FtZXJhT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25SZWFkeU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3Q2FtZXJhQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNhbWVyYVJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld0xpZ2h0QWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkxpZ2h0UmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3R2VvbWV0cnlBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uR2VvbWV0cnlSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdUcmFuc2Zvcm1Ob2RlQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblRyYW5zZm9ybU5vZGVSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdNZXNoQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk1lc2hSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25OZXdTa2VsZXRvbkFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25Ta2VsZXRvblJlbW92ZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld01hdGVyaWFsQWRkZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbk5ld011bHRpTWF0ZXJpYWxBZGRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTWF0ZXJpYWxSZW1vdmVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25NdWx0aU1hdGVyaWFsUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3VGV4dHVyZUFkZGVkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25UZXh0dXJlUmVtb3ZlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUHJlUG9pbnRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUG9pbnRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUHJlS2V5Ym9hcmRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbktleWJvYXJkT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BY3RpdmVDYW1lcmFDaGFuZ2VkLmNsZWFyKCksdGhpcy5vblNjZW5lUGVyZm9ybWFuY2VQcmlvcml0eUNoYW5nZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5faXNEaXNwb3NlZD0hMH1fZGlzcG9zZUxpc3QoZSx0KXtjb25zdCBpPWUuc2xpY2UoMCk7dD10Pz8ocz0+cy5kaXNwb3NlKCkpO2Zvcihjb25zdCBzIG9mIGkpdChzKTtlLmxlbmd0aD0wfWdldCBpc0Rpc3Bvc2VkKCl7cmV0dXJuIHRoaXMuX2lzRGlzcG9zZWR9Y2xlYXJDYWNoZWRWZXJ0ZXhEYXRhKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLm1lc2hlcy5sZW5ndGg7ZSsrKXtjb25zdCBpPXRoaXMubWVzaGVzW2VdLmdlb21ldHJ5O2kmJmkuY2xlYXJDYWNoZWREYXRhKCl9fWNsZWFuQ2FjaGVkVGV4dHVyZUJ1ZmZlcigpe2Zvcihjb25zdCBlIG9mIHRoaXMudGV4dHVyZXMpZS5fYnVmZmVyJiYoZS5fYnVmZmVyPW51bGwpfWdldFdvcmxkRXh0ZW5kcyhlKXtjb25zdCB0PW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSxpPW5ldyBwKC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFLC1OdW1iZXIuTUFYX1ZBTFVFKTtyZXR1cm4gZT1lfHwoKCk9PiEwKSx0aGlzLm1lc2hlcy5maWx0ZXIoZSkuZm9yRWFjaChzPT57aWYocy5jb21wdXRlV29ybGRNYXRyaXgoITApLCFzLnN1Yk1lc2hlc3x8cy5zdWJNZXNoZXMubGVuZ3RoPT09MHx8cy5pbmZpbml0ZURpc3RhbmNlKXJldHVybjtjb25zdCByPXMuZ2V0Qm91bmRpbmdJbmZvKCksbj1yLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZCxhPXIuYm91bmRpbmdCb3gubWF4aW11bVdvcmxkO3AuQ2hlY2tFeHRlbmRzKG4sdCxpKSxwLkNoZWNrRXh0ZW5kcyhhLHQsaSl9KSx7bWluOnQsbWF4Oml9fWNyZWF0ZVBpY2tpbmdSYXkoZSx0LGkscyxyPSExKXt0aHJvdyBRKCJSYXkiKX1jcmVhdGVQaWNraW5nUmF5VG9SZWYoZSx0LGkscyxyLG49ITEsYT0hMSl7dGhyb3cgUSgiUmF5Iil9Y3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2UoZSx0LGkpe3Rocm93IFEoIlJheSIpfWNyZWF0ZVBpY2tpbmdSYXlJbkNhbWVyYVNwYWNlVG9SZWYoZSx0LGkscyl7dGhyb3cgUSgiUmF5Iil9Z2V0IF9waWNraW5nQXZhaWxhYmxlKCl7cmV0dXJuITF9cGljayhlLHQsaSxzLHIsbil7cmV0dXJuIG5ldyBrdH1waWNrV2l0aEJvdW5kaW5nSW5mbyhlLHQsaSxzLHIpe3JldHVybiBuZXcga3R9cGlja1dpdGhSYXkoZSx0LGkscyl7dGhyb3cgUSgiUmF5Iil9bXVsdGlQaWNrKGUsdCxpLHMscil7dGhyb3cgUSgiUmF5Iil9bXVsdGlQaWNrV2l0aFJheShlLHQsaSl7dGhyb3cgUSgiUmF5Iil9c2V0UG9pbnRlck92ZXJNZXNoKGUsdCxpKXt0aGlzLl9pbnB1dE1hbmFnZXIuc2V0UG9pbnRlck92ZXJNZXNoKGUsdCxpKX1nZXRQb2ludGVyT3Zlck1lc2goKXtyZXR1cm4gdGhpcy5faW5wdXRNYW5hZ2VyLmdldFBvaW50ZXJPdmVyTWVzaCgpfV9yZWJ1aWxkR2VvbWV0cmllcygpe2Zvcihjb25zdCBlIG9mIHRoaXMuZ2VvbWV0cmllcyllLl9yZWJ1aWxkKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5tZXNoZXMpZS5fcmVidWlsZCgpO3RoaXMucG9zdFByb2Nlc3NNYW5hZ2VyJiZ0aGlzLnBvc3RQcm9jZXNzTWFuYWdlci5fcmVidWlsZCgpO2Zvcihjb25zdCBlIG9mIHRoaXMuX2NvbXBvbmVudHMpZS5yZWJ1aWxkKCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5wYXJ0aWNsZVN5c3RlbXMpZS5yZWJ1aWxkKCk7aWYodGhpcy5zcHJpdGVNYW5hZ2Vycylmb3IoY29uc3QgZSBvZiB0aGlzLnNwcml0ZU1hbmFnZXJzKWUucmVidWlsZCgpfV9yZWJ1aWxkVGV4dHVyZXMoKXtmb3IoY29uc3QgZSBvZiB0aGlzLnRleHR1cmVzKWUuX3JlYnVpbGQoKTt0aGlzLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpfV9nZXRCeVRhZ3MoZSx0LGkpe2lmKHQ9PT12b2lkIDApcmV0dXJuIGU7Y29uc3Qgcz1bXTtpPWl8fChyPT57fSk7Zm9yKGNvbnN0IHIgaW4gZSl7Y29uc3Qgbj1lW3JdO2ZlJiZmZS5NYXRjaGVzUXVlcnkobix0KSYmKHMucHVzaChuKSxpKG4pKX1yZXR1cm4gc31nZXRNZXNoZXNCeVRhZ3MoZSx0KXtyZXR1cm4gdGhpcy5fZ2V0QnlUYWdzKHRoaXMubWVzaGVzLGUsdCl9Z2V0Q2FtZXJhc0J5VGFncyhlLHQpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy5jYW1lcmFzLGUsdCl9Z2V0TGlnaHRzQnlUYWdzKGUsdCl7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLmxpZ2h0cyxlLHQpfWdldE1hdGVyaWFsQnlUYWdzKGUsdCl7cmV0dXJuIHRoaXMuX2dldEJ5VGFncyh0aGlzLm1hdGVyaWFscyxlLHQpLmNvbmNhdCh0aGlzLl9nZXRCeVRhZ3ModGhpcy5tdWx0aU1hdGVyaWFscyxlLHQpKX1nZXRUcmFuc2Zvcm1Ob2Rlc0J5VGFncyhlLHQpe3JldHVybiB0aGlzLl9nZXRCeVRhZ3ModGhpcy50cmFuc2Zvcm1Ob2RlcyxlLHQpfXNldFJlbmRlcmluZ09yZGVyKGUsdD1udWxsLGk9bnVsbCxzPW51bGwpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXIuc2V0UmVuZGVyaW5nT3JkZXIoZSx0LGkscyl9c2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKGUsdCxpPSEwLHM9ITApe3RoaXMuX3JlbmRlcmluZ01hbmFnZXIuc2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKGUsdCxpLHMpfWdldEF1dG9DbGVhckRlcHRoU3RlbmNpbFNldHVwKGUpe3JldHVybiB0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmdldEF1dG9DbGVhckRlcHRoU3RlbmNpbFNldHVwKGUpfWdldCBibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20oKXtyZXR1cm4gdGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtfXNldCBibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20oZSl7dGhpcy5fYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtIT09ZSYmKHRoaXMuX2Jsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbT1lLGV8fHRoaXMubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoNjMpKX1tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eShlLHQpe2lmKCF0aGlzLl9ibG9ja01hdGVyaWFsRGlydHlNZWNoYW5pc20pZm9yKGNvbnN0IGkgb2YgdGhpcy5tYXRlcmlhbHMpdCYmIXQoaSl8fGkubWFya0FzRGlydHkoZSl9X2xvYWRGaWxlKGUsdCxpLHMscixuLGEpe2NvbnN0IG89JHQoZSx0LGkscz90aGlzLm9mZmxpbmVQcm92aWRlcjp2b2lkIDAscixuLGEpO3JldHVybiB0aGlzLl9hY3RpdmVSZXF1ZXN0cy5wdXNoKG8pLG8ub25Db21wbGV0ZU9ic2VydmFibGUuYWRkKGg9Pnt0aGlzLl9hY3RpdmVSZXF1ZXN0cy5zcGxpY2UodGhpcy5fYWN0aXZlUmVxdWVzdHMuaW5kZXhPZihoKSwxKX0pLG99X2xvYWRGaWxlQXN5bmMoZSx0LGkscyxyKXtyZXR1cm4gbmV3IFByb21pc2UoKG4sYSk9Pnt0aGlzLl9sb2FkRmlsZShlLG89PntuKG8pfSx0LGkscywobyxoKT0+e2EoaCl9LHIpfSl9X3JlcXVlc3RGaWxlKGUsdCxpLHMscixuLGEpe2NvbnN0IG89Q3MoZSx0LGkscz90aGlzLm9mZmxpbmVQcm92aWRlcjp2b2lkIDAscixuLGEpO3JldHVybiB0aGlzLl9hY3RpdmVSZXF1ZXN0cy5wdXNoKG8pLG8ub25Db21wbGV0ZU9ic2VydmFibGUuYWRkKGg9Pnt0aGlzLl9hY3RpdmVSZXF1ZXN0cy5zcGxpY2UodGhpcy5fYWN0aXZlUmVxdWVzdHMuaW5kZXhPZihoKSwxKX0pLG99X3JlcXVlc3RGaWxlQXN5bmMoZSx0LGkscyxyKXtyZXR1cm4gbmV3IFByb21pc2UoKG4sYSk9Pnt0aGlzLl9yZXF1ZXN0RmlsZShlLG89PntuKG8pfSx0LGkscyxvPT57YShvKX0scil9KX1fcmVhZEZpbGUoZSx0LGkscyxyKXtjb25zdCBuPUJpKGUsdCxpLHMscik7cmV0dXJuIHRoaXMuX2FjdGl2ZVJlcXVlc3RzLnB1c2gobiksbi5vbkNvbXBsZXRlT2JzZXJ2YWJsZS5hZGQoYT0+e3RoaXMuX2FjdGl2ZVJlcXVlc3RzLnNwbGljZSh0aGlzLl9hY3RpdmVSZXF1ZXN0cy5pbmRleE9mKGEpLDEpfSksbn1fcmVhZEZpbGVBc3luYyhlLHQsaSl7cmV0dXJuIG5ldyBQcm9taXNlKChzLHIpPT57dGhpcy5fcmVhZEZpbGUoZSxuPT57cyhuKX0sdCxpLG49PntyKG4pfSl9KX1nZXRQZXJmQ29sbGVjdG9yKCl7dGhyb3cgUSgicGVyZm9ybWFuY2VWaWV3ZXJTY2VuZUV4dGVuc2lvbiIpfX1hZS5GT0dNT0RFX05PTkU9MCxhZS5GT0dNT0RFX0VYUD0xLGFlLkZPR01PREVfRVhQMj0yLGFlLkZPR01PREVfTElORUFSPTMsYWUuTWluRGVsdGFUaW1lPTEsYWUuTWF4RGVsdGFUaW1lPTFlMyxhZS5wcm90b3R5cGUuc2V0QWN0aXZlQ2FtZXJhQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5zZXRBY3RpdmVDYW1lcmFCeUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0TGFzdE1hdGVyaWFsQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRMYXN0TWF0ZXJpYWxCeUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0TWF0ZXJpYWxCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldE1hdGVyaWFsQnlJZChjKX0sYWUucHJvdG90eXBlLmdldFRleHR1cmVCeVVuaXF1ZUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldFRleHR1cmVCeVVuaXF1ZUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0Q2FtZXJhQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRDYW1lcmFCeUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0Q2FtZXJhQnlVbmlxdWVJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRDYW1lcmFCeVVuaXF1ZUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0Qm9uZUJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0Qm9uZUJ5SWQoYyl9LGFlLnByb3RvdHlwZS5nZXRMaWdodEJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TGlnaHRCeUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0TGlnaHRCeVVuaXF1ZUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldExpZ2h0QnlVbmlxdWVJZChjKX0sYWUucHJvdG90eXBlLmdldFBhcnRpY2xlU3lzdGVtQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRQYXJ0aWNsZVN5c3RlbUJ5SWQoYyl9LGFlLnByb3RvdHlwZS5nZXRHZW9tZXRyeUJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0R2VvbWV0cnlCeUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0TWVzaEJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TWVzaEJ5SWQoYyl9LGFlLnByb3RvdHlwZS5nZXRNZXNoZXNCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldE1lc2hlc0J5SWQoYyl9LGFlLnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1Ob2RlQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRUcmFuc2Zvcm1Ob2RlQnlJZChjKX0sYWUucHJvdG90eXBlLmdldFRyYW5zZm9ybU5vZGVCeVVuaXF1ZUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldFRyYW5zZm9ybU5vZGVCeVVuaXF1ZUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtTm9kZXNCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldFRyYW5zZm9ybU5vZGVzQnlJZChjKX0sYWUucHJvdG90eXBlLmdldE1lc2hCeVVuaXF1ZUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldE1lc2hCeVVuaXF1ZUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0TGFzdE1lc2hCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldExhc3RNZXNoQnlJZChjKX0sYWUucHJvdG90eXBlLmdldExhc3RFbnRyeUJ5SUQ9ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXMuZ2V0TGFzdEVudHJ5QnlJZChjKX0sYWUucHJvdG90eXBlLmdldE5vZGVCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmdldE5vZGVCeUlkKGMpfSxhZS5wcm90b3R5cGUuZ2V0TGFzdFNrZWxldG9uQnlJRD1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5nZXRMYXN0U2tlbGV0b25CeUlkKGMpfTtmdW5jdGlvbiBPcyhjLGUsdCl7dHJ5e2NvbnN0IGk9Yy5uZXh0KCk7aS5kb25lP2UoaSk6aS52YWx1ZT9pLnZhbHVlLnRoZW4oKCk9PntpLnZhbHVlPXZvaWQgMCxlKGkpfSx0KTplKGkpfWNhdGNoKGkpe3QoaSl9fWZ1bmN0aW9uIEJuKGM9MjUpe2xldCBlO3JldHVybih0LGkscyk9Pntjb25zdCByPXBlcmZvcm1hbmNlLm5vdygpO2U9PT12b2lkIDB8fHItZT5jPyhlPXIsc2V0VGltZW91dCgoKT0+e09zKHQsaSxzKX0sMCkpOk9zKHQsaSxzKX19ZnVuY3Rpb24gSXIoYyxlLHQsaSxzKXtjb25zdCByPSgpPT57bGV0IG47Y29uc3QgYT1vPT57by5kb25lP3Qoby52YWx1ZSk6bj09PXZvaWQgMD9uPSEwOnIoKX07ZG8gbj12b2lkIDAsIXN8fCFzLmFib3J0ZWQ/ZShjLGEsaSk6aShuZXcgRXJyb3IoIkFib3J0ZWQiKSksbj09PXZvaWQgMCYmKG49ITEpO3doaWxlKG4pfTtyKCl9ZnVuY3Rpb24gTHMoYyxlKXtsZXQgdDtyZXR1cm4gSXIoYyxPcyxpPT50PWksaT0+e3Rocm93IGl9LGUpLHR9ZnVuY3Rpb24gVW4oYyxlLHQpe3JldHVybiBuZXcgUHJvbWlzZSgoaSxzKT0+e0lyKGMsZSxpLHMsdCl9KX1mdW5jdGlvbiBrbihjLGUpe3JldHVybiguLi50KT0+THMoYyguLi50KSxlKX1jbGFzcyBWbntjb25zdHJ1Y3Rvcigpe3RoaXMuX2RvTm90U2VyaWFsaXplPSExLHRoaXMuX2lzRGlzcG9zZWQ9ITEsdGhpcy5fc2NlbmVSb290Tm9kZXNJbmRleD0tMSx0aGlzLl9pc0VuYWJsZWQ9ITAsdGhpcy5faXNQYXJlbnRFbmFibGVkPSEwLHRoaXMuX2lzUmVhZHk9ITAsdGhpcy5fb25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9vbkNsb25lZE9ic2VydmFibGU9bmV3IHd9fWNsYXNzIHple3N0YXRpYyBBZGROb2RlQ29uc3RydWN0b3IoZSx0KXt0aGlzLl9Ob2RlQ29uc3RydWN0b3JzW2VdPXR9c3RhdGljIENvbnN0cnVjdChlLHQsaSxzKXtjb25zdCByPXRoaXMuX05vZGVDb25zdHJ1Y3RvcnNbZV07cmV0dXJuIHI/cih0LGkscyk6bnVsbH1zZXQgYWNjZXNzaWJpbGl0eVRhZyhlKXt0aGlzLl9hY2Nlc3NpYmlsaXR5VGFnPWUsdGhpcy5vbkFjY2Vzc2liaWxpdHlUYWdDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSl9Z2V0IGFjY2Vzc2liaWxpdHlUYWcoKXtyZXR1cm4gdGhpcy5fYWNjZXNzaWJpbGl0eVRhZ31nZXQgZG9Ob3RTZXJpYWxpemUoKXtyZXR1cm4gdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9kb05vdFNlcmlhbGl6ZT8hMDp0aGlzLl9wYXJlbnROb2RlP3RoaXMuX3BhcmVudE5vZGUuZG9Ob3RTZXJpYWxpemU6ITF9c2V0IGRvTm90U2VyaWFsaXplKGUpe3RoaXMuX25vZGVEYXRhU3RvcmFnZS5fZG9Ob3RTZXJpYWxpemU9ZX1pc0Rpc3Bvc2VkKCl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNEaXNwb3NlZH1zZXQgcGFyZW50KGUpe2lmKHRoaXMuX3BhcmVudE5vZGU9PT1lKXJldHVybjtjb25zdCB0PXRoaXMuX3BhcmVudE5vZGU7aWYodGhpcy5fcGFyZW50Tm9kZSYmdGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4hPT12b2lkIDAmJnRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuIT09bnVsbCl7Y29uc3QgaT10aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbi5pbmRleE9mKHRoaXMpO2khPT0tMSYmdGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4uc3BsaWNlKGksMSksIWUmJiF0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRGlzcG9zZWQmJnRoaXMuX2FkZFRvU2NlbmVSb290Tm9kZXMoKX10aGlzLl9wYXJlbnROb2RlPWUsdGhpcy5fcGFyZW50Tm9kZSYmKCh0aGlzLl9wYXJlbnROb2RlLl9jaGlsZHJlbj09PXZvaWQgMHx8dGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW49PT1udWxsKSYmKHRoaXMuX3BhcmVudE5vZGUuX2NoaWxkcmVuPW5ldyBBcnJheSksdGhpcy5fcGFyZW50Tm9kZS5fY2hpbGRyZW4ucHVzaCh0aGlzKSx0fHx0aGlzLl9yZW1vdmVGcm9tU2NlbmVSb290Tm9kZXMoKSksdGhpcy5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpfWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy5fcGFyZW50Tm9kZX1fc2VyaWFsaXplQXNQYXJlbnQoZSl7ZS5wYXJlbnRJZD10aGlzLnVuaXF1ZUlkfV9hZGRUb1NjZW5lUm9vdE5vZGVzKCl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4PT09LTEmJih0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXg9dGhpcy5fc2NlbmUucm9vdE5vZGVzLmxlbmd0aCx0aGlzLl9zY2VuZS5yb290Tm9kZXMucHVzaCh0aGlzKSl9X3JlbW92ZUZyb21TY2VuZVJvb3ROb2Rlcygpe2lmKHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fc2NlbmVSb290Tm9kZXNJbmRleCE9PS0xKXtjb25zdCBlPXRoaXMuX3NjZW5lLnJvb3ROb2Rlcyx0PWUubGVuZ3RoLTE7ZVt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXhdPWVbdF0sZVt0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXhdLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXg9dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9zY2VuZVJvb3ROb2Rlc0luZGV4LHRoaXMuX3NjZW5lLnJvb3ROb2Rlcy5wb3AoKSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX3NjZW5lUm9vdE5vZGVzSW5kZXg9LTF9fWdldCBhbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGUoKXtyZXR1cm4gdGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlP3RoaXMuX2FuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZTp0aGlzLl9zY2VuZS5hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGV9c2V0IGFuaW1hdGlvblByb3BlcnRpZXNPdmVycmlkZShlKXt0aGlzLl9hbmltYXRpb25Qcm9wZXJ0aWVzT3ZlcnJpZGU9ZX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iTm9kZSJ9c2V0IG9uRGlzcG9zZShlKXt0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciYmdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChlKX1nZXQgb25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX29uRW5hYmxlZFN0YXRlQ2hhbmdlZE9ic2VydmFibGV9Z2V0IG9uQ2xvbmVkT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX29uQ2xvbmVkT2JzZXJ2YWJsZX1jb25zdHJ1Y3RvcihlLHQ9bnVsbCl7dGhpcy5faXNEaXJ0eT0hMSx0aGlzLl9ub2RlRGF0YVN0b3JhZ2U9bmV3IFZuLHRoaXMuc3RhdGU9IiIsdGhpcy5tZXRhZGF0YT1udWxsLHRoaXMucmVzZXJ2ZWREYXRhU3RvcmU9bnVsbCx0aGlzLl9hY2Nlc3NpYmlsaXR5VGFnPW51bGwsdGhpcy5vbkFjY2Vzc2liaWxpdHlUYWdDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLmFuaW1hdGlvbnM9bmV3IEFycmF5LHRoaXMuX3Jhbmdlcz17fSx0aGlzLm9uUmVhZHk9bnVsbCx0aGlzLl9jdXJyZW50UmVuZGVySWQ9LTEsdGhpcy5fcGFyZW50VXBkYXRlSWQ9LTEsdGhpcy5fY2hpbGRVcGRhdGVJZD0tMSx0aGlzLl93YWl0aW5nUGFyZW50SWQ9bnVsbCx0aGlzLl93YWl0aW5nUGFyZW50SW5zdGFuY2VJbmRleD1udWxsLHRoaXMuX3dhaXRpbmdQYXJzZWRVbmlxdWVJZD1udWxsLHRoaXMuX2NhY2hlPXt9LHRoaXMuX3BhcmVudE5vZGU9bnVsbCx0aGlzLl9jaGlsZHJlbj1udWxsLHRoaXMuX3dvcmxkTWF0cml4PU0uSWRlbnRpdHkoKSx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50PTAsdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITAsdGhpcy5fYW5pbWF0aW9uUHJvcGVydGllc092ZXJyaWRlPW51bGwsdGhpcy5faXNOb2RlPSEwLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlcj1udWxsLHRoaXMuX2JlaGF2aW9ycz1uZXcgQXJyYXksdGhpcy5uYW1lPWUsdGhpcy5pZD1lLHRoaXMuX3NjZW5lPXR8fGxlLkxhc3RDcmVhdGVkU2NlbmUsdGhpcy51bmlxdWVJZD10aGlzLl9zY2VuZS5nZXRVbmlxdWVJZCgpLHRoaXMuX2luaXRDYWNoZSgpfWdldFNjZW5lKCl7cmV0dXJuIHRoaXMuX3NjZW5lfWdldEVuZ2luZSgpe3JldHVybiB0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKX1hZGRCZWhhdmlvcihlLHQ9ITEpe3JldHVybiB0aGlzLl9iZWhhdmlvcnMuaW5kZXhPZihlKSE9PS0xP3RoaXM6KGUuaW5pdCgpLHRoaXMuX3NjZW5lLmlzTG9hZGluZyYmIXQ/dGhpcy5fc2NlbmUub25EYXRhTG9hZGVkT2JzZXJ2YWJsZS5hZGRPbmNlKCgpPT57ZS5hdHRhY2godGhpcyl9KTplLmF0dGFjaCh0aGlzKSx0aGlzLl9iZWhhdmlvcnMucHVzaChlKSx0aGlzKX1yZW1vdmVCZWhhdmlvcihlKXtjb25zdCB0PXRoaXMuX2JlaGF2aW9ycy5pbmRleE9mKGUpO3JldHVybiB0PT09LTE/dGhpczoodGhpcy5fYmVoYXZpb3JzW3RdLmRldGFjaCgpLHRoaXMuX2JlaGF2aW9ycy5zcGxpY2UodCwxKSx0aGlzKX1nZXQgYmVoYXZpb3JzKCl7cmV0dXJuIHRoaXMuX2JlaGF2aW9yc31nZXRCZWhhdmlvckJ5TmFtZShlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9iZWhhdmlvcnMpaWYodC5uYW1lPT09ZSlyZXR1cm4gdDtyZXR1cm4gbnVsbH1nZXRXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLl9jdXJyZW50UmVuZGVySWQhPT10aGlzLl9zY2VuZS5nZXRSZW5kZXJJZCgpJiZ0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMuX3dvcmxkTWF0cml4fV9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5JiYodGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITEsdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudD10aGlzLl93b3JsZE1hdHJpeC5kZXRlcm1pbmFudCgpKSx0aGlzLl93b3JsZE1hdHJpeERldGVybWluYW50fWdldCB3b3JsZE1hdHJpeEZyb21DYWNoZSgpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeH1faW5pdENhY2hlKCl7dGhpcy5fY2FjaGU9e30sdGhpcy5fY2FjaGUucGFyZW50PXZvaWQgMH11cGRhdGVDYWNoZShlKXshZSYmdGhpcy5pc1N5bmNocm9uaXplZCgpfHwodGhpcy5fY2FjaGUucGFyZW50PXRoaXMucGFyZW50LHRoaXMuX3VwZGF0ZUNhY2hlKCkpfV9nZXRBY3Rpb25NYW5hZ2VyRm9yVHJpZ2dlcihlLHQ9ITApe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoZSwhMSk6bnVsbH1fdXBkYXRlQ2FjaGUoZSl7fV9pc1N5bmNocm9uaXplZCgpe3JldHVybiEwfV9tYXJrU3luY2VkV2l0aFBhcmVudCgpe3RoaXMuX3BhcmVudE5vZGUmJih0aGlzLl9wYXJlbnRVcGRhdGVJZD10aGlzLl9wYXJlbnROb2RlLl9jaGlsZFVwZGF0ZUlkKX1pc1N5bmNocm9uaXplZFdpdGhQYXJlbnQoKXtyZXR1cm4gdGhpcy5fcGFyZW50Tm9kZT90aGlzLl9wYXJlbnROb2RlLl9pc0RpcnR5fHx0aGlzLl9wYXJlbnRVcGRhdGVJZCE9PXRoaXMuX3BhcmVudE5vZGUuX2NoaWxkVXBkYXRlSWQ/ITE6dGhpcy5fcGFyZW50Tm9kZS5pc1N5bmNocm9uaXplZCgpOiEwfWlzU3luY2hyb25pemVkKCl7cmV0dXJuIHRoaXMuX2NhY2hlLnBhcmVudCE9PXRoaXMuX3BhcmVudE5vZGU/KHRoaXMuX2NhY2hlLnBhcmVudD10aGlzLl9wYXJlbnROb2RlLCExKTp0aGlzLl9wYXJlbnROb2RlJiYhdGhpcy5pc1N5bmNocm9uaXplZFdpdGhQYXJlbnQoKT8hMTp0aGlzLl9pc1N5bmNocm9uaXplZCgpfWlzUmVhZHkoZT0hMSl7cmV0dXJuIHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNSZWFkeX1tYXJrQXNEaXJ0eShlKXtyZXR1cm4gdGhpcy5fY3VycmVudFJlbmRlcklkPU51bWJlci5NQVhfVkFMVUUsdGhpcy5faXNEaXJ0eT0hMCx0aGlzfWlzRW5hYmxlZChlPSEwKXtyZXR1cm4gZT09PSExP3RoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNFbmFibGVkOnRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNFbmFibGVkP3RoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNQYXJlbnRFbmFibGVkOiExfV9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCl7dGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1BhcmVudEVuYWJsZWQ9dGhpcy5fcGFyZW50Tm9kZT90aGlzLl9wYXJlbnROb2RlLmlzRW5hYmxlZCgpOiEwLHRoaXMuX2NoaWxkcmVuJiZ0aGlzLl9jaGlsZHJlbi5mb3JFYWNoKGU9PntlLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCl9KX1zZXRFbmFibGVkKGUpe3RoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNFbmFibGVkIT09ZSYmKHRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNFbmFibGVkPWUsdGhpcy5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpLHRoaXMuX25vZGVEYXRhU3RvcmFnZS5fb25FbmFibGVkU3RhdGVDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpfWlzRGVzY2VuZGFudE9mKGUpe3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudD09PWU/ITA6dGhpcy5wYXJlbnQuaXNEZXNjZW5kYW50T2YoZSk6ITF9X2dldERlc2NlbmRhbnRzKGUsdD0hMSxpKXtpZih0aGlzLl9jaGlsZHJlbilmb3IobGV0IHM9MDtzPHRoaXMuX2NoaWxkcmVuLmxlbmd0aDtzKyspe2NvbnN0IHI9dGhpcy5fY2hpbGRyZW5bc107KCFpfHxpKHIpKSYmZS5wdXNoKHIpLHR8fHIuX2dldERlc2NlbmRhbnRzKGUsITEsaSl9fWdldERlc2NlbmRhbnRzKGUsdCl7Y29uc3QgaT1uZXcgQXJyYXk7cmV0dXJuIHRoaXMuX2dldERlc2NlbmRhbnRzKGksZSx0KSxpfWdldENoaWxkTWVzaGVzKGUsdCl7Y29uc3QgaT1bXTtyZXR1cm4gdGhpcy5fZ2V0RGVzY2VuZGFudHMoaSxlLHM9PighdHx8dChzKSkmJnMuY3VsbGluZ1N0cmF0ZWd5IT09dm9pZCAwKSxpfWdldENoaWxkcmVuKGUsdD0hMCl7cmV0dXJuIHRoaXMuZ2V0RGVzY2VuZGFudHModCxlKX1fc2V0UmVhZHkoZSl7aWYoZSE9PXRoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNSZWFkeSl7aWYoIWUpe3RoaXMuX25vZGVEYXRhU3RvcmFnZS5faXNSZWFkeT0hMTtyZXR1cm59dGhpcy5vblJlYWR5JiZ0aGlzLm9uUmVhZHkodGhpcyksdGhpcy5fbm9kZURhdGFTdG9yYWdlLl9pc1JlYWR5PSEwfX1nZXRBbmltYXRpb25CeU5hbWUoZSl7Zm9yKGxldCB0PTA7dDx0aGlzLmFuaW1hdGlvbnMubGVuZ3RoO3QrKyl7Y29uc3QgaT10aGlzLmFuaW1hdGlvbnNbdF07aWYoaS5uYW1lPT09ZSlyZXR1cm4gaX1yZXR1cm4gbnVsbH1jcmVhdGVBbmltYXRpb25SYW5nZShlLHQsaSl7aWYoIXRoaXMuX3Jhbmdlc1tlXSl7dGhpcy5fcmFuZ2VzW2VdPXplLl9BbmltYXRpb25SYW5nZUZhY3RvcnkoZSx0LGkpO2ZvcihsZXQgcz0wLHI9dGhpcy5hbmltYXRpb25zLmxlbmd0aDtzPHI7cysrKXRoaXMuYW5pbWF0aW9uc1tzXSYmdGhpcy5hbmltYXRpb25zW3NdLmNyZWF0ZVJhbmdlKGUsdCxpKX19ZGVsZXRlQW5pbWF0aW9uUmFuZ2UoZSx0PSEwKXtmb3IobGV0IGk9MCxzPXRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7aTxzO2krKyl0aGlzLmFuaW1hdGlvbnNbaV0mJnRoaXMuYW5pbWF0aW9uc1tpXS5kZWxldGVSYW5nZShlLHQpO3RoaXMuX3Jhbmdlc1tlXT1udWxsfWdldEFuaW1hdGlvblJhbmdlKGUpe3JldHVybiB0aGlzLl9yYW5nZXNbZV18fG51bGx9Z2V0QW5pbWF0aW9uUmFuZ2VzKCl7Y29uc3QgZT1bXTtsZXQgdDtmb3IodCBpbiB0aGlzLl9yYW5nZXMpZS5wdXNoKHRoaXMuX3Jhbmdlc1t0XSk7cmV0dXJuIGV9YmVnaW5BbmltYXRpb24oZSx0LGkscyl7Y29uc3Qgcj10aGlzLmdldEFuaW1hdGlvblJhbmdlKGUpO3JldHVybiByP3RoaXMuX3NjZW5lLmJlZ2luQW5pbWF0aW9uKHRoaXMsci5mcm9tLHIudG8sdCxpLHMpOm51bGx9c2VyaWFsaXplQW5pbWF0aW9uUmFuZ2VzKCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgdCBpbiB0aGlzLl9yYW5nZXMpe2NvbnN0IGk9dGhpcy5fcmFuZ2VzW3RdO2lmKCFpKWNvbnRpbnVlO2NvbnN0IHM9e307cy5uYW1lPXQscy5mcm9tPWkuZnJvbSxzLnRvPWkudG8sZS5wdXNoKHMpfXJldHVybiBlfWNvbXB1dGVXb3JsZE1hdHJpeChlKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXh8fCh0aGlzLl93b3JsZE1hdHJpeD1NLklkZW50aXR5KCkpLHRoaXMuX3dvcmxkTWF0cml4fWRpc3Bvc2UoZSx0PSExKXtpZih0aGlzLl9ub2RlRGF0YVN0b3JhZ2UuX2lzRGlzcG9zZWQ9ITAsIWUpe2NvbnN0IGk9dGhpcy5nZXREZXNjZW5kYW50cyghMCk7Zm9yKGNvbnN0IHMgb2YgaSlzLmRpc3Bvc2UoZSx0KX10aGlzLnBhcmVudD90aGlzLnBhcmVudD1udWxsOnRoaXMuX3JlbW92ZUZyb21TY2VuZVJvb3ROb2RlcygpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkVuYWJsZWRTdGF0ZUNoYW5nZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNsb25lZE9ic2VydmFibGUuY2xlYXIoKTtmb3IoY29uc3QgaSBvZiB0aGlzLl9iZWhhdmlvcnMpaS5kZXRhY2goKTt0aGlzLl9iZWhhdmlvcnMubGVuZ3RoPTAsdGhpcy5tZXRhZGF0YT1udWxsfXN0YXRpYyBQYXJzZUFuaW1hdGlvblJhbmdlcyhlLHQsaSl7aWYodC5yYW5nZXMpZm9yKGxldCBzPTA7czx0LnJhbmdlcy5sZW5ndGg7cysrKXtjb25zdCByPXQucmFuZ2VzW3NdO2UuY3JlYXRlQW5pbWF0aW9uUmFuZ2Uoci5uYW1lLHIuZnJvbSxyLnRvKX19Z2V0SGllcmFyY2h5Qm91bmRpbmdWZWN0b3JzKGU9ITAsdD1udWxsKXt0aGlzLmdldFNjZW5lKCkuaW5jcmVtZW50UmVuZGVySWQoKSx0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCk7bGV0IGkscztjb25zdCByPXRoaXM7aWYoci5nZXRCb3VuZGluZ0luZm8mJnIuc3ViTWVzaGVzKXtjb25zdCBuPXIuZ2V0Qm91bmRpbmdJbmZvKCk7aT1uLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZC5jbG9uZSgpLHM9bi5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQuY2xvbmUoKX1lbHNlIGk9bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHM9bmV3IHAoLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUsLU51bWJlci5NQVhfVkFMVUUpO2lmKGUpe2NvbnN0IG49dGhpcy5nZXREZXNjZW5kYW50cyghMSk7Zm9yKGNvbnN0IGEgb2Ygbil7Y29uc3Qgbz1hO2lmKG8uY29tcHV0ZVdvcmxkTWF0cml4KCEwKSx0JiYhdChvKXx8IW8uZ2V0Qm91bmRpbmdJbmZvfHxvLmdldFRvdGFsVmVydGljZXMoKT09PTApY29udGludWU7Y29uc3QgbD1vLmdldEJvdW5kaW5nSW5mbygpLmJvdW5kaW5nQm94LHU9bC5taW5pbXVtV29ybGQsZD1sLm1heGltdW1Xb3JsZDtwLkNoZWNrRXh0ZW5kcyh1LGkscykscC5DaGVja0V4dGVuZHMoZCxpLHMpfX1yZXR1cm57bWluOmksbWF4OnN9fX16ZS5fQW5pbWF0aW9uUmFuZ2VGYWN0b3J5PShjLGUsdCk9Pnt0aHJvdyBRKCJBbmltYXRpb25SYW5nZSIpfSx6ZS5fTm9kZUNvbnN0cnVjdG9ycz17fSxUKFt5KCldLHplLnByb3RvdHlwZSwibmFtZSIsdm9pZCAwKSxUKFt5KCldLHplLnByb3RvdHlwZSwiaWQiLHZvaWQgMCksVChbeSgpXSx6ZS5wcm90b3R5cGUsInVuaXF1ZUlkIix2b2lkIDApLFQoW3koKV0semUucHJvdG90eXBlLCJzdGF0ZSIsdm9pZCAwKSxUKFt5KCldLHplLnByb3RvdHlwZSwibWV0YWRhdGEiLHZvaWQgMCk7Y2xhc3MgV2l7Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy54PWUsdGhpcy55PXQsdGhpcy53aWR0aD1pLHRoaXMuaGVpZ2h0PXN9dG9HbG9iYWwoZSx0KXtyZXR1cm4gbmV3IFdpKHRoaXMueCplLHRoaXMueSp0LHRoaXMud2lkdGgqZSx0aGlzLmhlaWdodCp0KX10b0dsb2JhbFRvUmVmKGUsdCxpKXtyZXR1cm4gaS54PXRoaXMueCplLGkueT10aGlzLnkqdCxpLndpZHRoPXRoaXMud2lkdGgqZSxpLmhlaWdodD10aGlzLmhlaWdodCp0LHRoaXN9Y2xvbmUoKXtyZXR1cm4gbmV3IFdpKHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCl9fWNsYXNzICQgZXh0ZW5kcyB6ZXtnZXQgcG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fcG9zaXRpb259c2V0IHBvc2l0aW9uKGUpe3RoaXMuX3Bvc2l0aW9uPWV9c2V0IHVwVmVjdG9yKGUpe3RoaXMuX3VwVmVjdG9yPWV9Z2V0IHVwVmVjdG9yKCl7cmV0dXJuIHRoaXMuX3VwVmVjdG9yfWdldCBzY3JlZW5BcmVhKCl7dmFyIGUsdCxpLHM7bGV0IHI9MCxuPTA7aWYodGhpcy5tb2RlPT09JC5QRVJTUEVDVElWRV9DQU1FUkEpdGhpcy5mb3ZNb2RlPT09JC5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVEPyhuPXRoaXMubWluWioyKk1hdGgudGFuKHRoaXMuZm92LzIpLHI9dGhpcy5nZXRFbmdpbmUoKS5nZXRBc3BlY3RSYXRpbyh0aGlzKSpuKToocj10aGlzLm1pbloqMipNYXRoLnRhbih0aGlzLmZvdi8yKSxuPXIvdGhpcy5nZXRFbmdpbmUoKS5nZXRBc3BlY3RSYXRpbyh0aGlzKSk7ZWxzZXtjb25zdCBhPXRoaXMuZ2V0RW5naW5lKCkuZ2V0UmVuZGVyV2lkdGgoKS8yLG89dGhpcy5nZXRFbmdpbmUoKS5nZXRSZW5kZXJIZWlnaHQoKS8yO3I9KChlPXRoaXMub3J0aG9SaWdodCkhPT1udWxsJiZlIT09dm9pZCAwP2U6YSktKCh0PXRoaXMub3J0aG9MZWZ0KSE9PW51bGwmJnQhPT12b2lkIDA/dDotYSksbj0oKGk9dGhpcy5vcnRob1RvcCkhPT1udWxsJiZpIT09dm9pZCAwP2k6byktKChzPXRoaXMub3J0aG9Cb3R0b20pIT09bnVsbCYmcyE9PXZvaWQgMD9zOi1vKX1yZXR1cm4gcipufXNldCBvcnRob0xlZnQoZSl7dGhpcy5fb3J0aG9MZWZ0PWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm9ydGhvTGVmdD1lfWdldCBvcnRob0xlZnQoKXtyZXR1cm4gdGhpcy5fb3J0aG9MZWZ0fXNldCBvcnRob1JpZ2h0KGUpe3RoaXMuX29ydGhvUmlnaHQ9ZTtmb3IoY29uc3QgdCBvZiB0aGlzLl9yaWdDYW1lcmFzKXQub3J0aG9SaWdodD1lfWdldCBvcnRob1JpZ2h0KCl7cmV0dXJuIHRoaXMuX29ydGhvUmlnaHR9c2V0IG9ydGhvQm90dG9tKGUpe3RoaXMuX29ydGhvQm90dG9tPWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm9ydGhvQm90dG9tPWV9Z2V0IG9ydGhvQm90dG9tKCl7cmV0dXJuIHRoaXMuX29ydGhvQm90dG9tfXNldCBvcnRob1RvcChlKXt0aGlzLl9vcnRob1RvcD1lO2Zvcihjb25zdCB0IG9mIHRoaXMuX3JpZ0NhbWVyYXMpdC5vcnRob1RvcD1lfWdldCBvcnRob1RvcCgpe3JldHVybiB0aGlzLl9vcnRob1RvcH1zZXQgbW9kZShlKXt0aGlzLl9tb2RlPWU7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcmlnQ2FtZXJhcyl0Lm1vZGU9ZX1nZXQgbW9kZSgpe3JldHVybiB0aGlzLl9tb2RlfWNvbnN0cnVjdG9yKGUsdCxpLHM9ITApe3N1cGVyKGUsaSksdGhpcy5fcG9zaXRpb249cC5aZXJvKCksdGhpcy5fdXBWZWN0b3I9cC5VcCgpLHRoaXMuX29ydGhvTGVmdD1udWxsLHRoaXMuX29ydGhvUmlnaHQ9bnVsbCx0aGlzLl9vcnRob0JvdHRvbT1udWxsLHRoaXMuX29ydGhvVG9wPW51bGwsdGhpcy5mb3Y9LjgsdGhpcy5wcm9qZWN0aW9uUGxhbmVUaWx0PTAsdGhpcy5taW5aPTEsdGhpcy5tYXhaPTFlNCx0aGlzLmluZXJ0aWE9LjksdGhpcy5fbW9kZT0kLlBFUlNQRUNUSVZFX0NBTUVSQSx0aGlzLmlzSW50ZXJtZWRpYXRlPSExLHRoaXMudmlld3BvcnQ9bmV3IFdpKDAsMCwxLDEpLHRoaXMubGF5ZXJNYXNrPTI2ODQzNTQ1NSx0aGlzLmZvdk1vZGU9JC5GT1ZNT0RFX1ZFUlRJQ0FMX0ZJWEVELHRoaXMuY2FtZXJhUmlnTW9kZT0kLlJJR19NT0RFX05PTkUsdGhpcy5jdXN0b21SZW5kZXJUYXJnZXRzPW5ldyBBcnJheSx0aGlzLm91dHB1dFJlbmRlclRhcmdldD1udWxsLHRoaXMub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vblByb2plY3Rpb25NYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQWZ0ZXJDaGVja0lucHV0c09ic2VydmFibGU9bmV3IHcsdGhpcy5vblJlc3RvcmVTdGF0ZU9ic2VydmFibGU9bmV3IHcsdGhpcy5pc1JpZ0NhbWVyYT0hMSx0aGlzLl9yaWdDYW1lcmFzPW5ldyBBcnJheSx0aGlzLl93ZWJ2clZpZXdNYXRyaXg9TS5JZGVudGl0eSgpLHRoaXMuX3NraXBSZW5kZXJpbmc9ITEsdGhpcy5fcHJvamVjdGlvbk1hdHJpeD1uZXcgTSx0aGlzLl9wb3N0UHJvY2Vzc2VzPW5ldyBBcnJheSx0aGlzLl9hY3RpdmVNZXNoZXM9bmV3IEplKDI1NiksdGhpcy5fZ2xvYmFsUG9zaXRpb249cC5aZXJvKCksdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4PU0uSWRlbnRpdHkoKSx0aGlzLl9kb05vdENvbXB1dGVQcm9qZWN0aW9uTWF0cml4PSExLHRoaXMuX3RyYW5zZm9ybU1hdHJpeD1NLlplcm8oKSx0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMCx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uPVouSWRlbnRpdHkoKSx0aGlzLl9pc0NhbWVyYT0hMCx0aGlzLl9pc0xlZnRDYW1lcmE9ITEsdGhpcy5faXNSaWdodENhbWVyYT0hMSx0aGlzLmdldFNjZW5lKCkuYWRkQ2FtZXJhKHRoaXMpLHMmJiF0aGlzLmdldFNjZW5lKCkuYWN0aXZlQ2FtZXJhJiYodGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYT10aGlzKSx0aGlzLnBvc2l0aW9uPXQsdGhpcy5yZW5kZXJQYXNzSWQ9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmNyZWF0ZVJlbmRlclBhc3NJZChgQ2FtZXJhICR7ZX1gKX1zdG9yZVN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0YXRlU3RvcmVkPSEwLHRoaXMuX3N0b3JlZEZvdj10aGlzLmZvdix0aGlzfV9yZXN0b3JlU3RhdGVWYWx1ZXMoKXtyZXR1cm4gdGhpcy5fc3RhdGVTdG9yZWQ/KHRoaXMuZm92PXRoaXMuX3N0b3JlZEZvdiwhMCk6ITF9cmVzdG9yZVN0YXRlKCl7cmV0dXJuIHRoaXMuX3Jlc3RvcmVTdGF0ZVZhbHVlcygpPyh0aGlzLm9uUmVzdG9yZVN0YXRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksITApOiExfWdldENsYXNzTmFtZSgpe3JldHVybiJDYW1lcmEifXRvU3RyaW5nKGUpe2xldCB0PSJOYW1lOiAiK3RoaXMubmFtZTtpZih0Kz0iLCB0eXBlOiAiK3RoaXMuZ2V0Q2xhc3NOYW1lKCksdGhpcy5hbmltYXRpb25zKWZvcihsZXQgaT0wO2k8dGhpcy5hbmltYXRpb25zLmxlbmd0aDtpKyspdCs9IiwgYW5pbWF0aW9uWzBdOiAiK3RoaXMuYW5pbWF0aW9uc1tpXS50b1N0cmluZyhlKTtyZXR1cm4gdH1hcHBseVZlcnRpY2FsQ29ycmVjdGlvbigpe2NvbnN0IGU9dGhpcy5hYnNvbHV0ZVJvdGF0aW9uLnRvRXVsZXJBbmdsZXMoKTt0aGlzLnByb2plY3Rpb25QbGFuZVRpbHQ9dGhpcy5fc2NlbmUudXNlUmlnaHRIYW5kZWRTeXN0ZW0/LWUueDplLnh9Z2V0IGdsb2JhbFBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX2dsb2JhbFBvc2l0aW9ufWdldEFjdGl2ZU1lc2hlcygpe3JldHVybiB0aGlzLl9hY3RpdmVNZXNoZXN9aXNBY3RpdmVNZXNoKGUpe3JldHVybiB0aGlzLl9hY3RpdmVNZXNoZXMuaW5kZXhPZihlKSE9PS0xfWlzUmVhZHkoZT0hMSl7aWYoZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fcG9zdFByb2Nlc3NlcylpZih0JiYhdC5pc1JlYWR5KCkpcmV0dXJuITF9cmV0dXJuIHN1cGVyLmlzUmVhZHkoZSl9X2luaXRDYWNoZSgpe3N1cGVyLl9pbml0Q2FjaGUoKSx0aGlzLl9jYWNoZS5wb3NpdGlvbj1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUudXBWZWN0b3I9bmV3IHAoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX2NhY2hlLm1vZGU9dm9pZCAwLHRoaXMuX2NhY2hlLm1pblo9dm9pZCAwLHRoaXMuX2NhY2hlLm1heFo9dm9pZCAwLHRoaXMuX2NhY2hlLmZvdj12b2lkIDAsdGhpcy5fY2FjaGUuZm92TW9kZT12b2lkIDAsdGhpcy5fY2FjaGUuYXNwZWN0UmF0aW89dm9pZCAwLHRoaXMuX2NhY2hlLm9ydGhvTGVmdD12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9SaWdodD12b2lkIDAsdGhpcy5fY2FjaGUub3J0aG9Cb3R0b209dm9pZCAwLHRoaXMuX2NhY2hlLm9ydGhvVG9wPXZvaWQgMCx0aGlzLl9jYWNoZS5yZW5kZXJXaWR0aD12b2lkIDAsdGhpcy5fY2FjaGUucmVuZGVySGVpZ2h0PXZvaWQgMH1fdXBkYXRlQ2FjaGUoZSl7ZXx8c3VwZXIuX3VwZGF0ZUNhY2hlKCksdGhpcy5fY2FjaGUucG9zaXRpb24uY29weUZyb20odGhpcy5wb3NpdGlvbiksdGhpcy5fY2FjaGUudXBWZWN0b3IuY29weUZyb20odGhpcy51cFZlY3Rvcil9X2lzU3luY2hyb25pemVkKCl7cmV0dXJuIHRoaXMuX2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpJiZ0aGlzLl9pc1N5bmNocm9uaXplZFByb2plY3Rpb25NYXRyaXgoKX1faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCl7cmV0dXJuIHN1cGVyLl9pc1N5bmNocm9uaXplZCgpP3RoaXMuX2NhY2hlLnBvc2l0aW9uLmVxdWFscyh0aGlzLnBvc2l0aW9uKSYmdGhpcy5fY2FjaGUudXBWZWN0b3IuZXF1YWxzKHRoaXMudXBWZWN0b3IpJiZ0aGlzLmlzU3luY2hyb25pemVkV2l0aFBhcmVudCgpOiExfV9pc1N5bmNocm9uaXplZFByb2plY3Rpb25NYXRyaXgoKXtsZXQgZT10aGlzLl9jYWNoZS5tb2RlPT09dGhpcy5tb2RlJiZ0aGlzLl9jYWNoZS5taW5aPT09dGhpcy5taW5aJiZ0aGlzLl9jYWNoZS5tYXhaPT09dGhpcy5tYXhaO2lmKCFlKXJldHVybiExO2NvbnN0IHQ9dGhpcy5nZXRFbmdpbmUoKTtyZXR1cm4gdGhpcy5tb2RlPT09JC5QRVJTUEVDVElWRV9DQU1FUkE/ZT10aGlzLl9jYWNoZS5mb3Y9PT10aGlzLmZvdiYmdGhpcy5fY2FjaGUuZm92TW9kZT09PXRoaXMuZm92TW9kZSYmdGhpcy5fY2FjaGUuYXNwZWN0UmF0aW89PT10LmdldEFzcGVjdFJhdGlvKHRoaXMpJiZ0aGlzLl9jYWNoZS5wcm9qZWN0aW9uUGxhbmVUaWx0PT09dGhpcy5wcm9qZWN0aW9uUGxhbmVUaWx0OmU9dGhpcy5fY2FjaGUub3J0aG9MZWZ0PT09dGhpcy5vcnRob0xlZnQmJnRoaXMuX2NhY2hlLm9ydGhvUmlnaHQ9PT10aGlzLm9ydGhvUmlnaHQmJnRoaXMuX2NhY2hlLm9ydGhvQm90dG9tPT09dGhpcy5vcnRob0JvdHRvbSYmdGhpcy5fY2FjaGUub3J0aG9Ub3A9PT10aGlzLm9ydGhvVG9wJiZ0aGlzLl9jYWNoZS5yZW5kZXJXaWR0aD09PXQuZ2V0UmVuZGVyV2lkdGgoKSYmdGhpcy5fY2FjaGUucmVuZGVySGVpZ2h0PT09dC5nZXRSZW5kZXJIZWlnaHQoKSxlfWF0dGFjaENvbnRyb2woZSx0KXt9ZGV0YWNoQ29udHJvbChlKXt9dXBkYXRlKCl7dGhpcy5fY2hlY2tJbnB1dHMoKSx0aGlzLmNhbWVyYVJpZ01vZGUhPT0kLlJJR19NT0RFX05PTkUmJnRoaXMuX3VwZGF0ZVJpZ0NhbWVyYXMoKSx0aGlzLmdldFZpZXdNYXRyaXgoKSx0aGlzLmdldFByb2plY3Rpb25NYXRyaXgoKX1fY2hlY2tJbnB1dHMoKXt0aGlzLm9uQWZ0ZXJDaGVja0lucHV0c09ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpfWdldCByaWdDYW1lcmFzKCl7cmV0dXJuIHRoaXMuX3JpZ0NhbWVyYXN9Z2V0IHJpZ1Bvc3RQcm9jZXNzKCl7cmV0dXJuIHRoaXMuX3JpZ1Bvc3RQcm9jZXNzfV9nZXRGaXJzdFBvc3RQcm9jZXNzKCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aDtlKyspaWYodGhpcy5fcG9zdFByb2Nlc3Nlc1tlXSE9PW51bGwpcmV0dXJuIHRoaXMuX3Bvc3RQcm9jZXNzZXNbZV07cmV0dXJuIG51bGx9X2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCl7Y29uc3QgZT10aGlzLl9nZXRGaXJzdFBvc3RQcm9jZXNzKCk7ZSYmZS5tYXJrVGV4dHVyZURpcnR5KCk7Zm9yKGxldCB0PTAsaT10aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDt0PGk7dCsrKXtjb25zdCBzPXRoaXMuX3JpZ0NhbWVyYXNbdF0scj1zLl9yaWdQb3N0UHJvY2VzcztyPyhyLmdldEVmZmVjdE5hbWUoKT09PSJwYXNzIiYmKHMuaXNJbnRlcm1lZGlhdGU9dGhpcy5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg9PT0wKSxzLl9wb3N0UHJvY2Vzc2VzPXRoaXMuX3Bvc3RQcm9jZXNzZXMuc2xpY2UoMCkuY29uY2F0KHIpLHIubWFya1RleHR1cmVEaXJ0eSgpKTpzLl9wb3N0UHJvY2Vzc2VzPXRoaXMuX3Bvc3RQcm9jZXNzZXMuc2xpY2UoMCl9fWF0dGFjaFBvc3RQcm9jZXNzKGUsdD1udWxsKXtyZXR1cm4hZS5pc1JldXNhYmxlKCkmJnRoaXMuX3Bvc3RQcm9jZXNzZXMuaW5kZXhPZihlKT4tMT8oTy5FcnJvcigiWW91J3JlIHRyeWluZyB0byByZXVzZSBhIHBvc3QgcHJvY2VzcyBub3QgZGVmaW5lZCBhcyByZXVzYWJsZS4iKSwwKToodD09bnVsbHx8dDwwP3RoaXMuX3Bvc3RQcm9jZXNzZXMucHVzaChlKTp0aGlzLl9wb3N0UHJvY2Vzc2VzW3RdPT09bnVsbD90aGlzLl9wb3N0UHJvY2Vzc2VzW3RdPWU6dGhpcy5fcG9zdFByb2Nlc3Nlcy5zcGxpY2UodCwwLGUpLHRoaXMuX2Nhc2NhZGVQb3N0UHJvY2Vzc2VzVG9SaWdDYW1zKCksdGhpcy5fc2NlbmUucHJlUGFzc1JlbmRlcmVyJiZ0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXIubWFya0FzRGlydHkoKSx0aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YoZSkpfWRldGFjaFBvc3RQcm9jZXNzKGUpe2NvbnN0IHQ9dGhpcy5fcG9zdFByb2Nlc3Nlcy5pbmRleE9mKGUpO3QhPT0tMSYmKHRoaXMuX3Bvc3RQcm9jZXNzZXNbdF09bnVsbCksdGhpcy5fc2NlbmUucHJlUGFzc1JlbmRlcmVyJiZ0aGlzLl9zY2VuZS5wcmVQYXNzUmVuZGVyZXIubWFya0FzRGlydHkoKSx0aGlzLl9jYXNjYWRlUG9zdFByb2Nlc3Nlc1RvUmlnQ2FtcygpfWdldFdvcmxkTWF0cml4KCl7cmV0dXJuIHRoaXMuX2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpP3RoaXMuX3dvcmxkTWF0cml4Oih0aGlzLmdldFZpZXdNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCl9X2dldFZpZXdNYXRyaXgoKXtyZXR1cm4gTS5JZGVudGl0eSgpfWdldFZpZXdNYXRyaXgoZSl7cmV0dXJuIWUmJnRoaXMuX2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpP3RoaXMuX2NvbXB1dGVkVmlld01hdHJpeDoodGhpcy51cGRhdGVDYWNoZSgpLHRoaXMuX2NvbXB1dGVkVmlld01hdHJpeD10aGlzLl9nZXRWaWV3TWF0cml4KCksdGhpcy5fY3VycmVudFJlbmRlcklkPXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpLHRoaXMuX2NoaWxkVXBkYXRlSWQrKyx0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcz0hMCx0aGlzLl9jYW1lcmFSaWdQYXJhbXMmJnRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52clByZVZpZXdNYXRyaXgmJnRoaXMuX2NvbXB1dGVkVmlld01hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52clByZVZpZXdNYXRyaXgsdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4KSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGUmJnRoaXMucGFyZW50Lm9uVmlld01hdHJpeENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzLnBhcmVudCksdGhpcy5vblZpZXdNYXRyaXhDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5fY29tcHV0ZWRWaWV3TWF0cml4LmludmVydFRvUmVmKHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLl9jb21wdXRlZFZpZXdNYXRyaXgpfWZyZWV6ZVByb2plY3Rpb25NYXRyaXgoZSl7dGhpcy5fZG9Ob3RDb21wdXRlUHJvamVjdGlvbk1hdHJpeD0hMCxlIT09dm9pZCAwJiYodGhpcy5fcHJvamVjdGlvbk1hdHJpeD1lKX11bmZyZWV6ZVByb2plY3Rpb25NYXRyaXgoKXt0aGlzLl9kb05vdENvbXB1dGVQcm9qZWN0aW9uTWF0cml4PSExfWdldFByb2plY3Rpb25NYXRyaXgoZSl7dmFyIHQsaSxzLHIsbixhLG8saDtpZih0aGlzLl9kb05vdENvbXB1dGVQcm9qZWN0aW9uTWF0cml4fHwhZSYmdGhpcy5faXNTeW5jaHJvbml6ZWRQcm9qZWN0aW9uTWF0cml4KCkpcmV0dXJuIHRoaXMuX3Byb2plY3Rpb25NYXRyaXg7dGhpcy5fY2FjaGUubW9kZT10aGlzLm1vZGUsdGhpcy5fY2FjaGUubWluWj10aGlzLm1pblosdGhpcy5fY2FjaGUubWF4Wj10aGlzLm1heFosdGhpcy5fcmVmcmVzaEZydXN0dW1QbGFuZXM9ITA7Y29uc3QgbD10aGlzLmdldEVuZ2luZSgpLHU9dGhpcy5nZXRTY2VuZSgpLGQ9bC51c2VSZXZlcnNlRGVwdGhCdWZmZXI7aWYodGhpcy5tb2RlPT09JC5QRVJTUEVDVElWRV9DQU1FUkEpe3RoaXMuX2NhY2hlLmZvdj10aGlzLmZvdix0aGlzLl9jYWNoZS5mb3ZNb2RlPXRoaXMuZm92TW9kZSx0aGlzLl9jYWNoZS5hc3BlY3RSYXRpbz1sLmdldEFzcGVjdFJhdGlvKHRoaXMpLHRoaXMuX2NhY2hlLnByb2plY3Rpb25QbGFuZVRpbHQ9dGhpcy5wcm9qZWN0aW9uUGxhbmVUaWx0LHRoaXMubWluWjw9MCYmKHRoaXMubWluWj0uMSk7bGV0IF87dS51c2VSaWdodEhhbmRlZFN5c3RlbT9fPU0uUGVyc3BlY3RpdmVGb3ZSSFRvUmVmOl89TS5QZXJzcGVjdGl2ZUZvdkxIVG9SZWYsXyh0aGlzLmZvdixsLmdldEFzcGVjdFJhdGlvKHRoaXMpLGQ/dGhpcy5tYXhaOnRoaXMubWluWixkP3RoaXMubWluWjp0aGlzLm1heFosdGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLmZvdk1vZGU9PT0kLkZPVk1PREVfVkVSVElDQUxfRklYRUQsbC5pc05EQ0hhbGZaUmFuZ2UsdGhpcy5wcm9qZWN0aW9uUGxhbmVUaWx0LGQpfWVsc2V7Y29uc3QgXz1sLmdldFJlbmRlcldpZHRoKCkvMixmPWwuZ2V0UmVuZGVySGVpZ2h0KCkvMjt1LnVzZVJpZ2h0SGFuZGVkU3lzdGVtP00uT3J0aG9PZmZDZW50ZXJSSFRvUmVmKCh0PXRoaXMub3J0aG9MZWZ0KSE9PW51bGwmJnQhPT12b2lkIDA/dDotXywoaT10aGlzLm9ydGhvUmlnaHQpIT09bnVsbCYmaSE9PXZvaWQgMD9pOl8sKHM9dGhpcy5vcnRob0JvdHRvbSkhPT1udWxsJiZzIT09dm9pZCAwP3M6LWYsKHI9dGhpcy5vcnRob1RvcCkhPT1udWxsJiZyIT09dm9pZCAwP3I6ZixkP3RoaXMubWF4Wjp0aGlzLm1pblosZD90aGlzLm1pblo6dGhpcy5tYXhaLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsbC5pc05EQ0hhbGZaUmFuZ2UpOk0uT3J0aG9PZmZDZW50ZXJMSFRvUmVmKChuPXRoaXMub3J0aG9MZWZ0KSE9PW51bGwmJm4hPT12b2lkIDA/bjotXywoYT10aGlzLm9ydGhvUmlnaHQpIT09bnVsbCYmYSE9PXZvaWQgMD9hOl8sKG89dGhpcy5vcnRob0JvdHRvbSkhPT1udWxsJiZvIT09dm9pZCAwP286LWYsKGg9dGhpcy5vcnRob1RvcCkhPT1udWxsJiZoIT09dm9pZCAwP2g6ZixkP3RoaXMubWF4Wjp0aGlzLm1pblosZD90aGlzLm1pblo6dGhpcy5tYXhaLHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsbC5pc05EQ0hhbGZaUmFuZ2UpLHRoaXMuX2NhY2hlLm9ydGhvTGVmdD10aGlzLm9ydGhvTGVmdCx0aGlzLl9jYWNoZS5vcnRob1JpZ2h0PXRoaXMub3J0aG9SaWdodCx0aGlzLl9jYWNoZS5vcnRob0JvdHRvbT10aGlzLm9ydGhvQm90dG9tLHRoaXMuX2NhY2hlLm9ydGhvVG9wPXRoaXMub3J0aG9Ub3AsdGhpcy5fY2FjaGUucmVuZGVyV2lkdGg9bC5nZXRSZW5kZXJXaWR0aCgpLHRoaXMuX2NhY2hlLnJlbmRlckhlaWdodD1sLmdldFJlbmRlckhlaWdodCgpfXJldHVybiB0aGlzLm9uUHJvamVjdGlvbk1hdHJpeENoYW5nZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9wcm9qZWN0aW9uTWF0cml4fWdldFRyYW5zZm9ybWF0aW9uTWF0cml4KCl7cmV0dXJuIHRoaXMuX2NvbXB1dGVkVmlld01hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaXgsdGhpcy5fdHJhbnNmb3JtTWF0cml4KSx0aGlzLl90cmFuc2Zvcm1NYXRyaXh9X3VwZGF0ZUZydXN0dW1QbGFuZXMoKXt0aGlzLl9yZWZyZXNoRnJ1c3R1bVBsYW5lcyYmKHRoaXMuZ2V0VHJhbnNmb3JtYXRpb25NYXRyaXgoKSx0aGlzLl9mcnVzdHVtUGxhbmVzP0V0LkdldFBsYW5lc1RvUmVmKHRoaXMuX3RyYW5zZm9ybU1hdHJpeCx0aGlzLl9mcnVzdHVtUGxhbmVzKTp0aGlzLl9mcnVzdHVtUGxhbmVzPUV0LkdldFBsYW5lcyh0aGlzLl90cmFuc2Zvcm1NYXRyaXgpLHRoaXMuX3JlZnJlc2hGcnVzdHVtUGxhbmVzPSExKX1pc0luRnJ1c3R1bShlLHQ9ITEpe2lmKHRoaXMuX3VwZGF0ZUZydXN0dW1QbGFuZXMoKSx0JiZ0aGlzLnJpZ0NhbWVyYXMubGVuZ3RoPjApe2xldCBpPSExO3JldHVybiB0aGlzLnJpZ0NhbWVyYXMuZm9yRWFjaChzPT57cy5fdXBkYXRlRnJ1c3R1bVBsYW5lcygpLGk9aXx8ZS5pc0luRnJ1c3R1bShzLl9mcnVzdHVtUGxhbmVzKX0pLGl9ZWxzZSByZXR1cm4gZS5pc0luRnJ1c3R1bSh0aGlzLl9mcnVzdHVtUGxhbmVzKX1pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSl7cmV0dXJuIHRoaXMuX3VwZGF0ZUZydXN0dW1QbGFuZXMoKSxlLmlzQ29tcGxldGVseUluRnJ1c3R1bSh0aGlzLl9mcnVzdHVtUGxhbmVzKX1nZXRGb3J3YXJkUmF5KGU9MTAwLHQsaSl7dGhyb3cgUSgiUmF5Iil9Z2V0Rm9yd2FyZFJheVRvUmVmKGUsdD0xMDAsaSxzKXt0aHJvdyBRKCJSYXkiKX1kaXNwb3NlKGUsdD0hMSl7Zm9yKHRoaXMub25WaWV3TWF0cml4Q2hhbmdlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uUHJvamVjdGlvbk1hdHJpeENoYW5nZWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyQ2hlY2tJbnB1dHNPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vblJlc3RvcmVTdGF0ZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLmlucHV0cyYmdGhpcy5pbnB1dHMuY2xlYXIoKSx0aGlzLmdldFNjZW5lKCkuc3RvcEFuaW1hdGlvbih0aGlzKSx0aGlzLmdldFNjZW5lKCkucmVtb3ZlQ2FtZXJhKHRoaXMpO3RoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoPjA7KXtjb25zdCBzPXRoaXMuX3JpZ0NhbWVyYXMucG9wKCk7cyYmcy5kaXNwb3NlKCl9aWYodGhpcy5fcGFyZW50Q29udGFpbmVyKXtjb25zdCBzPXRoaXMuX3BhcmVudENvbnRhaW5lci5jYW1lcmFzLmluZGV4T2YodGhpcyk7cz4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLmNhbWVyYXMuc3BsaWNlKHMsMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9aWYodGhpcy5fcmlnUG9zdFByb2Nlc3MpdGhpcy5fcmlnUG9zdFByb2Nlc3MuZGlzcG9zZSh0aGlzKSx0aGlzLl9yaWdQb3N0UHJvY2Vzcz1udWxsLHRoaXMuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPTA7ZWxzZSBpZih0aGlzLmNhbWVyYVJpZ01vZGUhPT0kLlJJR19NT0RFX05PTkUpdGhpcy5fcmlnUG9zdFByb2Nlc3M9bnVsbCx0aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD0wO2Vsc2V7bGV0IHM9dGhpcy5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg7Zm9yKDstLXM+PTA7KXtjb25zdCByPXRoaXMuX3Bvc3RQcm9jZXNzZXNbc107ciYmci5kaXNwb3NlKHRoaXMpfX1sZXQgaT10aGlzLmN1c3RvbVJlbmRlclRhcmdldHMubGVuZ3RoO2Zvcig7LS1pPj0wOyl0aGlzLmN1c3RvbVJlbmRlclRhcmdldHNbaV0uZGlzcG9zZSgpO3RoaXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5sZW5ndGg9MCx0aGlzLl9hY3RpdmVNZXNoZXMuZGlzcG9zZSgpLHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5yZWxlYXNlUmVuZGVyUGFzc0lkKHRoaXMucmVuZGVyUGFzc0lkKSxzdXBlci5kaXNwb3NlKGUsdCl9Z2V0IGlzTGVmdENhbWVyYSgpe3JldHVybiB0aGlzLl9pc0xlZnRDYW1lcmF9Z2V0IGlzUmlnaHRDYW1lcmEoKXtyZXR1cm4gdGhpcy5faXNSaWdodENhbWVyYX1nZXQgbGVmdENhbWVyYSgpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwxP251bGw6dGhpcy5fcmlnQ2FtZXJhc1swXX1nZXQgcmlnaHRDYW1lcmEoKXtyZXR1cm4gdGhpcy5fcmlnQ2FtZXJhcy5sZW5ndGg8Mj9udWxsOnRoaXMuX3JpZ0NhbWVyYXNbMV19Z2V0TGVmdFRhcmdldCgpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwxP251bGw6dGhpcy5fcmlnQ2FtZXJhc1swXS5nZXRUYXJnZXQoKX1nZXRSaWdodFRhcmdldCgpe3JldHVybiB0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aDwyP251bGw6dGhpcy5fcmlnQ2FtZXJhc1sxXS5nZXRUYXJnZXQoKX1zZXRDYW1lcmFSaWdNb2RlKGUsdCl7aWYodGhpcy5jYW1lcmFSaWdNb2RlIT09ZSl7Zm9yKDt0aGlzLl9yaWdDYW1lcmFzLmxlbmd0aD4wOyl7Y29uc3QgaT10aGlzLl9yaWdDYW1lcmFzLnBvcCgpO2kmJmkuZGlzcG9zZSgpfWlmKHRoaXMuY2FtZXJhUmlnTW9kZT1lLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcz17fSx0aGlzLl9jYW1lcmFSaWdQYXJhbXMuaW50ZXJheGlhbERpc3RhbmNlPXQuaW50ZXJheGlhbERpc3RhbmNlfHwuMDYzNyx0aGlzLl9jYW1lcmFSaWdQYXJhbXMuc3RlcmVvSGFsZkFuZ2xlPVguVG9SYWRpYW5zKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy5pbnRlcmF4aWFsRGlzdGFuY2UvLjA2MzcpLHRoaXMuY2FtZXJhUmlnTW9kZSE9PSQuUklHX01PREVfTk9ORSl7Y29uc3QgaT10aGlzLmNyZWF0ZVJpZ0NhbWVyYSh0aGlzLm5hbWUrIl9MIiwwKTtpJiYoaS5faXNMZWZ0Q2FtZXJhPSEwKTtjb25zdCBzPXRoaXMuY3JlYXRlUmlnQ2FtZXJhKHRoaXMubmFtZSsiX1IiLDEpO3MmJihzLl9pc1JpZ2h0Q2FtZXJhPSEwKSxpJiZzJiYodGhpcy5fcmlnQ2FtZXJhcy5wdXNoKGkpLHRoaXMuX3JpZ0NhbWVyYXMucHVzaChzKSl9dGhpcy5fc2V0UmlnTW9kZSh0KSx0aGlzLl9jYXNjYWRlUG9zdFByb2Nlc3Nlc1RvUmlnQ2FtcygpLHRoaXMudXBkYXRlKCl9fV9zZXRSaWdNb2RlKGUpe31fZ2V0VlJQcm9qZWN0aW9uTWF0cml4KCl7cmV0dXJuIE0uUGVyc3BlY3RpdmVGb3ZMSFRvUmVmKHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52ck1ldHJpY3MuYXNwZWN0UmF0aW9Gb3YsdGhpcy5fY2FtZXJhUmlnUGFyYW1zLnZyTWV0cmljcy5hc3BlY3RSYXRpbyx0aGlzLm1pblosdGhpcy5tYXhaLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52cldvcmtNYXRyaXgsITAsdGhpcy5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2UpLHRoaXMuX2NhbWVyYVJpZ1BhcmFtcy52cldvcmtNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9jYW1lcmFSaWdQYXJhbXMudnJITWF0cml4LHRoaXMuX3Byb2plY3Rpb25NYXRyaXgpLHRoaXMuX3Byb2plY3Rpb25NYXRyaXh9X3VwZGF0ZUNhbWVyYVJvdGF0aW9uTWF0cml4KCl7fV91cGRhdGVXZWJWUkNhbWVyYVJvdGF0aW9uTWF0cml4KCl7fV9nZXRXZWJWUlByb2plY3Rpb25NYXRyaXgoKXtyZXR1cm4gTS5JZGVudGl0eSgpfV9nZXRXZWJWUlZpZXdNYXRyaXgoKXtyZXR1cm4gTS5JZGVudGl0eSgpfXNldENhbWVyYVJpZ1BhcmFtZXRlcihlLHQpe3RoaXMuX2NhbWVyYVJpZ1BhcmFtc3x8KHRoaXMuX2NhbWVyYVJpZ1BhcmFtcz17fSksdGhpcy5fY2FtZXJhUmlnUGFyYW1zW2VdPXQsZT09PSJpbnRlcmF4aWFsRGlzdGFuY2UiJiYodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnN0ZXJlb0hhbGZBbmdsZT1YLlRvUmFkaWFucyh0Ly4wNjM3KSl9Y3JlYXRlUmlnQ2FtZXJhKGUsdCl7cmV0dXJuIG51bGx9X3VwZGF0ZVJpZ0NhbWVyYXMoKXtmb3IobGV0IGU9MDtlPHRoaXMuX3JpZ0NhbWVyYXMubGVuZ3RoO2UrKyl0aGlzLl9yaWdDYW1lcmFzW2VdLm1pblo9dGhpcy5taW5aLHRoaXMuX3JpZ0NhbWVyYXNbZV0ubWF4Wj10aGlzLm1heFosdGhpcy5fcmlnQ2FtZXJhc1tlXS5mb3Y9dGhpcy5mb3YsdGhpcy5fcmlnQ2FtZXJhc1tlXS51cFZlY3Rvci5jb3B5RnJvbSh0aGlzLnVwVmVjdG9yKTt0aGlzLmNhbWVyYVJpZ01vZGU9PT0kLlJJR19NT0RFX1NURVJFT1NDT1BJQ19BTkFHTFlQSCYmKHRoaXMuX3JpZ0NhbWVyYXNbMF0udmlld3BvcnQ9dGhpcy5fcmlnQ2FtZXJhc1sxXS52aWV3cG9ydD10aGlzLnZpZXdwb3J0KX1fc2V0dXBJbnB1dHMoKXt9c2VyaWFsaXplKCl7Y29uc3QgZT1uZS5TZXJpYWxpemUodGhpcyk7cmV0dXJuIGUudW5pcXVlSWQ9dGhpcy51bmlxdWVJZCxlLnR5cGU9dGhpcy5nZXRDbGFzc05hbWUoKSx0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQuX3NlcmlhbGl6ZUFzUGFyZW50KGUpLHRoaXMuaW5wdXRzJiZ0aGlzLmlucHV0cy5zZXJpYWxpemUoZSksbmUuQXBwZW5kU2VyaWFsaXplZEFuaW1hdGlvbnModGhpcyxlKSxlLnJhbmdlcz10aGlzLnNlcmlhbGl6ZUFuaW1hdGlvblJhbmdlcygpLGUuaXNFbmFibGVkPXRoaXMuaXNFbmFibGVkKCksZX1jbG9uZShlLHQ9bnVsbCl7Y29uc3QgaT1uZS5DbG9uZSgkLkdldENvbnN0cnVjdG9yRnJvbU5hbWUodGhpcy5nZXRDbGFzc05hbWUoKSxlLHRoaXMuZ2V0U2NlbmUoKSx0aGlzLmludGVyYXhpYWxEaXN0YW5jZSx0aGlzLmlzU3RlcmVvc2NvcGljU2lkZUJ5U2lkZSksdGhpcyk7cmV0dXJuIGkubmFtZT1lLGkucGFyZW50PXQsdGhpcy5vbkNsb25lZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGkpLGl9Z2V0RGlyZWN0aW9uKGUpe2NvbnN0IHQ9cC5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RGlyZWN0aW9uVG9SZWYoZSx0KSx0fWdldCBhYnNvbHV0ZVJvdGF0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0V29ybGRNYXRyaXgoKS5kZWNvbXBvc2Uodm9pZCAwLHRoaXMuX2Fic29sdXRlUm90YXRpb24pLHRoaXMuX2Fic29sdXRlUm90YXRpb259Z2V0RGlyZWN0aW9uVG9SZWYoZSx0KXtwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGUsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHQpfXN0YXRpYyBHZXRDb25zdHJ1Y3RvckZyb21OYW1lKGUsdCxpLHM9MCxyPSEwKXtjb25zdCBuPXplLkNvbnN0cnVjdChlLHQsaSx7aW50ZXJheGlhbF9kaXN0YW5jZTpzLGlzU3RlcmVvc2NvcGljU2lkZUJ5U2lkZTpyfSk7cmV0dXJuIG58fCgoKT0+JC5fQ3JlYXRlRGVmYXVsdFBhcnNlZENhbWVyYSh0LGkpKX1jb21wdXRlV29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5nZXRXb3JsZE1hdHJpeCgpfXN0YXRpYyBQYXJzZShlLHQpe2NvbnN0IGk9ZS50eXBlLHM9JC5HZXRDb25zdHJ1Y3RvckZyb21OYW1lKGksZS5uYW1lLHQsZS5pbnRlcmF4aWFsX2Rpc3RhbmNlLGUuaXNTdGVyZW9zY29waWNTaWRlQnlTaWRlKSxyPW5lLlBhcnNlKHMsZSx0KTtpZihlLnBhcmVudElkIT09dm9pZCAwJiYoci5fd2FpdGluZ1BhcmVudElkPWUucGFyZW50SWQpLGUucGFyZW50SW5zdGFuY2VJbmRleCE9PXZvaWQgMCYmKHIuX3dhaXRpbmdQYXJlbnRJbnN0YW5jZUluZGV4PWUucGFyZW50SW5zdGFuY2VJbmRleCksci5pbnB1dHMmJihyLmlucHV0cy5wYXJzZShlKSxyLl9zZXR1cElucHV0cygpKSxlLnVwVmVjdG9yJiYoci51cFZlY3Rvcj1wLkZyb21BcnJheShlLnVwVmVjdG9yKSksci5zZXRQb3NpdGlvbiYmKHIucG9zaXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApLHIuc2V0UG9zaXRpb24ocC5Gcm9tQXJyYXkoZS5wb3NpdGlvbikpKSxlLnRhcmdldCYmci5zZXRUYXJnZXQmJnIuc2V0VGFyZ2V0KHAuRnJvbUFycmF5KGUudGFyZ2V0KSksZS5jYW1lcmFSaWdNb2RlKXtjb25zdCBuPWUuaW50ZXJheGlhbF9kaXN0YW5jZT97aW50ZXJheGlhbERpc3RhbmNlOmUuaW50ZXJheGlhbF9kaXN0YW5jZX06e307ci5zZXRDYW1lcmFSaWdNb2RlKGUuY2FtZXJhUmlnTW9kZSxuKX1pZihlLmFuaW1hdGlvbnMpe2ZvcihsZXQgbj0wO248ZS5hbmltYXRpb25zLmxlbmd0aDtuKyspe2NvbnN0IGE9ZS5hbmltYXRpb25zW25dLG89YWkoIkJBQllMT04uQW5pbWF0aW9uIik7byYmci5hbmltYXRpb25zLnB1c2goby5QYXJzZShhKSl9emUuUGFyc2VBbmltYXRpb25SYW5nZXMocixlLHQpfXJldHVybiBlLmF1dG9BbmltYXRlJiZ0LmJlZ2luQW5pbWF0aW9uKHIsZS5hdXRvQW5pbWF0ZUZyb20sZS5hdXRvQW5pbWF0ZVRvLGUuYXV0b0FuaW1hdGVMb29wLGUuYXV0b0FuaW1hdGVTcGVlZHx8MSksZS5pc0VuYWJsZWQhPT12b2lkIDAmJnIuc2V0RW5hYmxlZChlLmlzRW5hYmxlZCkscn19JC5fQ3JlYXRlRGVmYXVsdFBhcnNlZENhbWVyYT0oYyxlKT0+e3Rocm93IFEoIlVuaXZlcnNhbENhbWVyYSIpfSwkLlBFUlNQRUNUSVZFX0NBTUVSQT0wLCQuT1JUSE9HUkFQSElDX0NBTUVSQT0xLCQuRk9WTU9ERV9WRVJUSUNBTF9GSVhFRD0wLCQuRk9WTU9ERV9IT1JJWk9OVEFMX0ZJWEVEPTEsJC5SSUdfTU9ERV9OT05FPTAsJC5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfQU5BR0xZUEg9MTAsJC5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9QQVJBTExFTD0xMSwkLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX0NST1NTRVlFRD0xMiwkLlJJR19NT0RFX1NURVJFT1NDT1BJQ19PVkVSVU5ERVI9MTMsJC5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfSU5URVJMQUNFRD0xNCwkLlJJR19NT0RFX1ZSPTIwLCQuUklHX01PREVfV0VCVlI9MjEsJC5SSUdfTU9ERV9DVVNUT009MjIsJC5Gb3JjZUF0dGFjaENvbnRyb2xUb0Fsd2F5c1ByZXZlbnREZWZhdWx0PSExLFQoW1V0KCJwb3NpdGlvbiIpXSwkLnByb3RvdHlwZSwiX3Bvc2l0aW9uIix2b2lkIDApLFQoW1V0KCJ1cFZlY3RvciIpXSwkLnByb3RvdHlwZSwiX3VwVmVjdG9yIix2b2lkIDApLFQoW3koKV0sJC5wcm90b3R5cGUsIm9ydGhvTGVmdCIsbnVsbCksVChbeSgpXSwkLnByb3RvdHlwZSwib3J0aG9SaWdodCIsbnVsbCksVChbeSgpXSwkLnByb3RvdHlwZSwib3J0aG9Cb3R0b20iLG51bGwpLFQoW3koKV0sJC5wcm90b3R5cGUsIm9ydGhvVG9wIixudWxsKSxUKFt5KCldLCQucHJvdG90eXBlLCJmb3YiLHZvaWQgMCksVChbeSgpXSwkLnByb3RvdHlwZSwicHJvamVjdGlvblBsYW5lVGlsdCIsdm9pZCAwKSxUKFt5KCldLCQucHJvdG90eXBlLCJtaW5aIix2b2lkIDApLFQoW3koKV0sJC5wcm90b3R5cGUsIm1heFoiLHZvaWQgMCksVChbeSgpXSwkLnByb3RvdHlwZSwiaW5lcnRpYSIsdm9pZCAwKSxUKFt5KCldLCQucHJvdG90eXBlLCJtb2RlIixudWxsKSxUKFt5KCldLCQucHJvdG90eXBlLCJsYXllck1hc2siLHZvaWQgMCksVChbeSgpXSwkLnByb3RvdHlwZSwiZm92TW9kZSIsdm9pZCAwKSxUKFt5KCldLCQucHJvdG90eXBlLCJjYW1lcmFSaWdNb2RlIix2b2lkIDApLFQoW3koKV0sJC5wcm90b3R5cGUsImludGVyYXhpYWxEaXN0YW5jZSIsdm9pZCAwKSxUKFt5KCldLCQucHJvdG90eXBlLCJpc1N0ZXJlb3Njb3BpY1NpZGVCeVNpZGUiLHZvaWQgMCk7Y2xhc3MgdGV7Y29uc3RydWN0b3IoKXt0aGlzLl9hcHBseVRvPWtuKHRoaXMuX2FwcGx5VG9Db3JvdXRpbmUuYmluZCh0aGlzKSl9c2V0KGUsdCl7c3dpdGNoKGUubGVuZ3RofHxPLldhcm4oYFNldHRpbmcgdmVydGV4IGRhdGEga2luZCAnJHt0fScgd2l0aCBhbiBlbXB0eSBhcnJheWApLHQpe2Nhc2UgZy5Qb3NpdGlvbktpbmQ6dGhpcy5wb3NpdGlvbnM9ZTticmVhaztjYXNlIGcuTm9ybWFsS2luZDp0aGlzLm5vcm1hbHM9ZTticmVhaztjYXNlIGcuVGFuZ2VudEtpbmQ6dGhpcy50YW5nZW50cz1lO2JyZWFrO2Nhc2UgZy5VVktpbmQ6dGhpcy51dnM9ZTticmVhaztjYXNlIGcuVVYyS2luZDp0aGlzLnV2czI9ZTticmVhaztjYXNlIGcuVVYzS2luZDp0aGlzLnV2czM9ZTticmVhaztjYXNlIGcuVVY0S2luZDp0aGlzLnV2czQ9ZTticmVhaztjYXNlIGcuVVY1S2luZDp0aGlzLnV2czU9ZTticmVhaztjYXNlIGcuVVY2S2luZDp0aGlzLnV2czY9ZTticmVhaztjYXNlIGcuQ29sb3JLaW5kOnRoaXMuY29sb3JzPWU7YnJlYWs7Y2FzZSBnLk1hdHJpY2VzSW5kaWNlc0tpbmQ6dGhpcy5tYXRyaWNlc0luZGljZXM9ZTticmVhaztjYXNlIGcuTWF0cmljZXNXZWlnaHRzS2luZDp0aGlzLm1hdHJpY2VzV2VpZ2h0cz1lO2JyZWFrO2Nhc2UgZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQ6dGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYT1lO2JyZWFrO2Nhc2UgZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQ6dGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYT1lO2JyZWFrfX1hcHBseVRvTWVzaChlLHQpe3JldHVybiB0aGlzLl9hcHBseVRvKGUsdCwhMSksdGhpc31hcHBseVRvR2VvbWV0cnkoZSx0KXtyZXR1cm4gdGhpcy5fYXBwbHlUbyhlLHQsITEpLHRoaXN9dXBkYXRlTWVzaChlKXtyZXR1cm4gdGhpcy5fdXBkYXRlKGUpLHRoaXN9dXBkYXRlR2VvbWV0cnkoZSl7cmV0dXJuIHRoaXMuX3VwZGF0ZShlKSx0aGlzfSpfYXBwbHlUb0Nvcm91dGluZShlLHQ9ITEsaSl7cmV0dXJuIHRoaXMucG9zaXRpb25zJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsdGhpcy5wb3NpdGlvbnMsdCksaSYmKHlpZWxkKSksdGhpcy5ub3JtYWxzJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHRoaXMubm9ybWFscyx0KSxpJiYoeWllbGQpKSx0aGlzLnRhbmdlbnRzJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzLHQpLGkmJih5aWVsZCkpLHRoaXMudXZzJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQsdGhpcy51dnMsdCksaSYmKHlpZWxkKSksdGhpcy51dnMyJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kLHRoaXMudXZzMix0KSxpJiYoeWllbGQpKSx0aGlzLnV2czMmJihlLnNldFZlcnRpY2VzRGF0YShnLlVWM0tpbmQsdGhpcy51dnMzLHQpLGkmJih5aWVsZCkpLHRoaXMudXZzNCYmKGUuc2V0VmVydGljZXNEYXRhKGcuVVY0S2luZCx0aGlzLnV2czQsdCksaSYmKHlpZWxkKSksdGhpcy51dnM1JiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kLHRoaXMudXZzNSx0KSxpJiYoeWllbGQpKSx0aGlzLnV2czYmJihlLnNldFZlcnRpY2VzRGF0YShnLlVWNktpbmQsdGhpcy51dnM2LHQpLGkmJih5aWVsZCkpLHRoaXMuY29sb3JzJiYoZS5zZXRWZXJ0aWNlc0RhdGEoZy5Db2xvcktpbmQsdGhpcy5jb2xvcnMsdCksaSYmKHlpZWxkKSksdGhpcy5tYXRyaWNlc0luZGljZXMmJihlLnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMsdCksaSYmKHlpZWxkKSksdGhpcy5tYXRyaWNlc1dlaWdodHMmJihlLnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMsdCksaSYmKHlpZWxkKSksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSYmKGUuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEsdCksaSYmKHlpZWxkKSksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmKGUuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEsdCksaSYmKHlpZWxkKSksdGhpcy5pbmRpY2VzPyhlLnNldEluZGljZXModGhpcy5pbmRpY2VzLG51bGwsdCksaSYmKHlpZWxkKSk6ZS5zZXRJbmRpY2VzKFtdLG51bGwpLHRoaXN9X3VwZGF0ZShlLHQsaSl7cmV0dXJuIHRoaXMucG9zaXRpb25zJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCx0aGlzLnBvc2l0aW9ucyx0LGkpLHRoaXMubm9ybWFscyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHRoaXMubm9ybWFscyx0LGkpLHRoaXMudGFuZ2VudHMmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuVGFuZ2VudEtpbmQsdGhpcy50YW5nZW50cyx0LGkpLHRoaXMudXZzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLlVWS2luZCx0aGlzLnV2cyx0LGkpLHRoaXMudXZzMiYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kLHRoaXMudXZzMix0LGkpLHRoaXMudXZzMyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5VVjNLaW5kLHRoaXMudXZzMyx0LGkpLHRoaXMudXZzNCYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5VVjRLaW5kLHRoaXMudXZzNCx0LGkpLHRoaXMudXZzNSYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kLHRoaXMudXZzNSx0LGkpLHRoaXMudXZzNiYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5VVjZLaW5kLHRoaXMudXZzNix0LGkpLHRoaXMuY29sb3JzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLkNvbG9yS2luZCx0aGlzLmNvbG9ycyx0LGkpLHRoaXMubWF0cmljZXNJbmRpY2VzJiZlLnVwZGF0ZVZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMsdCxpKSx0aGlzLm1hdHJpY2VzV2VpZ2h0cyYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzLHQsaSksdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSYmZS51cGRhdGVWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSx0LGkpLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEmJmUudXBkYXRlVmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEsdCxpKSx0aGlzLmluZGljZXMmJmUuc2V0SW5kaWNlcyh0aGlzLmluZGljZXMsbnVsbCksdGhpc31zdGF0aWMgX1RyYW5zZm9ybVZlY3RvcjNDb29yZGluYXRlcyhlLHQsaT0wLHM9ZS5sZW5ndGgpe2NvbnN0IHI9Ri5WZWN0b3IzWzBdLG49Ri5WZWN0b3IzWzFdO2ZvcihsZXQgYT1pO2E8aStzO2ErPTMpcC5Gcm9tQXJyYXlUb1JlZihlLGEscikscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHIsdCxuKSxlW2FdPW4ueCxlW2ErMV09bi55LGVbYSsyXT1uLnp9c3RhdGljIF9UcmFuc2Zvcm1WZWN0b3IzTm9ybWFscyhlLHQsaT0wLHM9ZS5sZW5ndGgpe2NvbnN0IHI9Ri5WZWN0b3IzWzBdLG49Ri5WZWN0b3IzWzFdO2ZvcihsZXQgYT1pO2E8aStzO2ErPTMpcC5Gcm9tQXJyYXlUb1JlZihlLGEscikscC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihyLHQsbiksZVthXT1uLngsZVthKzFdPW4ueSxlW2ErMl09bi56fXN0YXRpYyBfVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHMoZSx0LGk9MCxzPWUubGVuZ3RoKXtjb25zdCByPUYuVmVjdG9yNFswXSxuPUYuVmVjdG9yNFsxXTtmb3IobGV0IGE9aTthPGkrczthKz00KXllLkZyb21BcnJheVRvUmVmKGUsYSxyKSx5ZS5UcmFuc2Zvcm1Ob3JtYWxUb1JlZihyLHQsbiksZVthXT1uLngsZVthKzFdPW4ueSxlW2ErMl09bi56LGVbYSszXT1uLnd9c3RhdGljIF9GbGlwRmFjZXMoZSx0PTAsaT1lLmxlbmd0aCl7Zm9yKGxldCBzPXQ7czx0K2k7cys9Myl7Y29uc3Qgcj1lW3MrMV07ZVtzKzFdPWVbcysyXSxlW3MrMl09cn19dHJhbnNmb3JtKGUpe2NvbnN0IHQ9ZS5kZXRlcm1pbmFudCgpPDA7cmV0dXJuIHRoaXMucG9zaXRpb25zJiZ0ZS5fVHJhbnNmb3JtVmVjdG9yM0Nvb3JkaW5hdGVzKHRoaXMucG9zaXRpb25zLGUpLHRoaXMubm9ybWFscyYmdGUuX1RyYW5zZm9ybVZlY3RvcjNOb3JtYWxzKHRoaXMubm9ybWFscyxlKSx0aGlzLnRhbmdlbnRzJiZ0ZS5fVHJhbnNmb3JtVmVjdG9yNE5vcm1hbHModGhpcy50YW5nZW50cyxlKSx0JiZ0aGlzLmluZGljZXMmJnRlLl9GbGlwRmFjZXModGhpcy5pbmRpY2VzKSx0aGlzfW1lcmdlKGUsdD0hMSxpPSExKXtjb25zdCBzPUFycmF5LmlzQXJyYXkoZSk/ZS5tYXAocj0+KHt2ZXJ0ZXhEYXRhOnJ9KSk6W3t2ZXJ0ZXhEYXRhOmV9XTtyZXR1cm4gTHModGhpcy5fbWVyZ2VDb3JvdXRpbmUodm9pZCAwLHMsdCwhMSxpKSl9Kl9tZXJnZUNvcm91dGluZShlLHQsaT0hMSxzLHIpe3ZhciBuLGEsbyxoO3RoaXMuX3ZhbGlkYXRlKCk7Y29uc3QgbD10Lm1hcChmPT5mLnZlcnRleERhdGEpO2Zvcihjb25zdCBmIG9mIGwpaWYoZi5fdmFsaWRhdGUoKSwhdGhpcy5ub3JtYWxzIT0hZi5ub3JtYWxzfHwhdGhpcy50YW5nZW50cyE9IWYudGFuZ2VudHN8fCF0aGlzLnV2cyE9IWYudXZzfHwhdGhpcy51dnMyIT0hZi51dnMyfHwhdGhpcy51dnMzIT0hZi51dnMzfHwhdGhpcy51dnM0IT0hZi51dnM0fHwhdGhpcy51dnM1IT0hZi51dnM1fHwhdGhpcy51dnM2IT0hZi51dnM2fHwhdGhpcy5jb2xvcnMhPSFmLmNvbG9yc3x8IXRoaXMubWF0cmljZXNJbmRpY2VzIT0hZi5tYXRyaWNlc0luZGljZXN8fCF0aGlzLm1hdHJpY2VzV2VpZ2h0cyE9IWYubWF0cmljZXNXZWlnaHRzfHwhdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSE9IWYubWF0cmljZXNJbmRpY2VzRXh0cmF8fCF0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhIT0hZi5tYXRyaWNlc1dlaWdodHNFeHRyYSl0aHJvdyBuZXcgRXJyb3IoIkNhbm5vdCBtZXJnZSB2ZXJ0ZXggZGF0YSB0aGF0IGRvIG5vdCBoYXZlIHRoZSBzYW1lIHNldCBvZiBhdHRyaWJ1dGVzIik7Y29uc3QgdT1sLnJlZHVjZSgoZixtKT0+e3ZhciB2LEU7cmV0dXJuIGYrKChFPSh2PW0uaW5kaWNlcyk9PT1udWxsfHx2PT09dm9pZCAwP3ZvaWQgMDp2Lmxlbmd0aCkhPT1udWxsJiZFIT09dm9pZCAwP0U6MCl9LChhPShuPXRoaXMuaW5kaWNlcyk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmxlbmd0aCkhPT1udWxsJiZhIT09dm9pZCAwP2E6MCk7bGV0IF89cnx8bC5zb21lKGY9PmYuaW5kaWNlcz09PXRoaXMuaW5kaWNlcyk/KG89dGhpcy5pbmRpY2VzKT09PW51bGx8fG89PT12b2lkIDA/dm9pZCAwOm8uc2xpY2UoKTp0aGlzLmluZGljZXM7aWYodT4wKXtsZXQgZj0oaD1fPT1udWxsP3ZvaWQgMDpfLmxlbmd0aCkhPT1udWxsJiZoIT09dm9pZCAwP2g6MDtpZihffHwoXz1uZXcgQXJyYXkodSkpLF8ubGVuZ3RoIT09dSl7aWYoQXJyYXkuaXNBcnJheShfKSlfLmxlbmd0aD11O2Vsc2V7Y29uc3Qgdj1pfHxfIGluc3RhbmNlb2YgVWludDMyQXJyYXk/bmV3IFVpbnQzMkFycmF5KHUpOm5ldyBVaW50MTZBcnJheSh1KTt2LnNldChfKSxfPXZ9ZSYmZS5kZXRlcm1pbmFudCgpPDAmJnRlLl9GbGlwRmFjZXMoXywwLGYpfWxldCBtPXRoaXMucG9zaXRpb25zP3RoaXMucG9zaXRpb25zLmxlbmd0aC8zOjA7Zm9yKGNvbnN0e3ZlcnRleERhdGE6dix0cmFuc2Zvcm06RX1vZiB0KWlmKHYuaW5kaWNlcyl7Zm9yKGxldCBTPTA7Uzx2LmluZGljZXMubGVuZ3RoO1MrKylfW2YrU109di5pbmRpY2VzW1NdK207RSYmRS5kZXRlcm1pbmFudCgpPDAmJnRlLl9GbGlwRmFjZXMoXyxmLHYuaW5kaWNlcy5sZW5ndGgpLG0rPXYucG9zaXRpb25zLmxlbmd0aC8zLGYrPXYuaW5kaWNlcy5sZW5ndGgscyYmKHlpZWxkKX19cmV0dXJuIHRoaXMuaW5kaWNlcz1fLHRoaXMucG9zaXRpb25zPXRlLl9NZXJnZUVsZW1lbnQoZy5Qb3NpdGlvbktpbmQsdGhpcy5wb3NpdGlvbnMsZSx0Lm1hcChmPT5bZi52ZXJ0ZXhEYXRhLnBvc2l0aW9ucyxmLnRyYW5zZm9ybV0pKSxzJiYoeWllbGQpLHRoaXMubm9ybWFscz10ZS5fTWVyZ2VFbGVtZW50KGcuTm9ybWFsS2luZCx0aGlzLm5vcm1hbHMsZSx0Lm1hcChmPT5bZi52ZXJ0ZXhEYXRhLm5vcm1hbHMsZi50cmFuc2Zvcm1dKSkscyYmKHlpZWxkKSx0aGlzLnRhbmdlbnRzPXRlLl9NZXJnZUVsZW1lbnQoZy5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzLGUsdC5tYXAoZj0+W2YudmVydGV4RGF0YS50YW5nZW50cyxmLnRyYW5zZm9ybV0pKSxzJiYoeWllbGQpLHRoaXMudXZzPXRlLl9NZXJnZUVsZW1lbnQoZy5VVktpbmQsdGhpcy51dnMsZSx0Lm1hcChmPT5bZi52ZXJ0ZXhEYXRhLnV2cyxmLnRyYW5zZm9ybV0pKSxzJiYoeWllbGQpLHRoaXMudXZzMj10ZS5fTWVyZ2VFbGVtZW50KGcuVVYyS2luZCx0aGlzLnV2czIsZSx0Lm1hcChmPT5bZi52ZXJ0ZXhEYXRhLnV2czIsZi50cmFuc2Zvcm1dKSkscyYmKHlpZWxkKSx0aGlzLnV2czM9dGUuX01lcmdlRWxlbWVudChnLlVWM0tpbmQsdGhpcy51dnMzLGUsdC5tYXAoZj0+W2YudmVydGV4RGF0YS51dnMzLGYudHJhbnNmb3JtXSkpLHMmJih5aWVsZCksdGhpcy51dnM0PXRlLl9NZXJnZUVsZW1lbnQoZy5VVjRLaW5kLHRoaXMudXZzNCxlLHQubWFwKGY9PltmLnZlcnRleERhdGEudXZzNCxmLnRyYW5zZm9ybV0pKSxzJiYoeWllbGQpLHRoaXMudXZzNT10ZS5fTWVyZ2VFbGVtZW50KGcuVVY1S2luZCx0aGlzLnV2czUsZSx0Lm1hcChmPT5bZi52ZXJ0ZXhEYXRhLnV2czUsZi50cmFuc2Zvcm1dKSkscyYmKHlpZWxkKSx0aGlzLnV2czY9dGUuX01lcmdlRWxlbWVudChnLlVWNktpbmQsdGhpcy51dnM2LGUsdC5tYXAoZj0+W2YudmVydGV4RGF0YS51dnM2LGYudHJhbnNmb3JtXSkpLHMmJih5aWVsZCksdGhpcy5jb2xvcnM9dGUuX01lcmdlRWxlbWVudChnLkNvbG9yS2luZCx0aGlzLmNvbG9ycyxlLHQubWFwKGY9PltmLnZlcnRleERhdGEuY29sb3JzLGYudHJhbnNmb3JtXSkpLHMmJih5aWVsZCksdGhpcy5tYXRyaWNlc0luZGljZXM9dGUuX01lcmdlRWxlbWVudChnLk1hdHJpY2VzSW5kaWNlc0tpbmQsdGhpcy5tYXRyaWNlc0luZGljZXMsZSx0Lm1hcChmPT5bZi52ZXJ0ZXhEYXRhLm1hdHJpY2VzSW5kaWNlcyxmLnRyYW5zZm9ybV0pKSxzJiYoeWllbGQpLHRoaXMubWF0cmljZXNXZWlnaHRzPXRlLl9NZXJnZUVsZW1lbnQoZy5NYXRyaWNlc1dlaWdodHNLaW5kLHRoaXMubWF0cmljZXNXZWlnaHRzLGUsdC5tYXAoZj0+W2YudmVydGV4RGF0YS5tYXRyaWNlc1dlaWdodHMsZi50cmFuc2Zvcm1dKSkscyYmKHlpZWxkKSx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhPXRlLl9NZXJnZUVsZW1lbnQoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSxlLHQubWFwKGY9PltmLnZlcnRleERhdGEubWF0cmljZXNJbmRpY2VzRXh0cmEsZi50cmFuc2Zvcm1dKSkscyYmKHlpZWxkKSx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhPXRlLl9NZXJnZUVsZW1lbnQoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSxlLHQubWFwKGY9PltmLnZlcnRleERhdGEubWF0cmljZXNXZWlnaHRzRXh0cmEsZi50cmFuc2Zvcm1dKSksdGhpc31zdGF0aWMgX01lcmdlRWxlbWVudChlLHQsaSxzKXtjb25zdCByPXMuZmlsdGVyKG89Pm9bMF0hPT1udWxsJiZvWzBdIT09dm9pZCAwKTtpZighdCYmci5sZW5ndGg9PTApcmV0dXJuIHQ7aWYoIXQpcmV0dXJuIHRoaXMuX01lcmdlRWxlbWVudChlLHJbMF1bMF0sclswXVsxXSxyLnNsaWNlKDEpKTtjb25zdCBuPXIucmVkdWNlKChvLGgpPT5vK2hbMF0ubGVuZ3RoLHQubGVuZ3RoKSxhPWU9PT1nLlBvc2l0aW9uS2luZD90ZS5fVHJhbnNmb3JtVmVjdG9yM0Nvb3JkaW5hdGVzOmU9PT1nLk5vcm1hbEtpbmQ/dGUuX1RyYW5zZm9ybVZlY3RvcjNOb3JtYWxzOmU9PT1nLlRhbmdlbnRLaW5kP3RlLl9UcmFuc2Zvcm1WZWN0b3I0Tm9ybWFsczooKT0+e307aWYodCBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheSl7Y29uc3Qgbz1uZXcgRmxvYXQzMkFycmF5KG4pO28uc2V0KHQpLGkmJmEobyxpLDAsdC5sZW5ndGgpO2xldCBoPXQubGVuZ3RoO2Zvcihjb25zdFtsLHVdb2YgcilvLnNldChsLGgpLHUmJmEobyx1LGgsbC5sZW5ndGgpLGgrPWwubGVuZ3RoO3JldHVybiBvfWVsc2V7Y29uc3Qgbz1uZXcgQXJyYXkobik7Zm9yKGxldCBsPTA7bDx0Lmxlbmd0aDtsKyspb1tsXT10W2xdO2kmJmEobyxpLDAsdC5sZW5ndGgpO2xldCBoPXQubGVuZ3RoO2Zvcihjb25zdFtsLHVdb2Ygcil7Zm9yKGxldCBkPTA7ZDxsLmxlbmd0aDtkKyspb1toK2RdPWxbZF07dSYmYShvLHUsaCxsLmxlbmd0aCksaCs9bC5sZW5ndGh9cmV0dXJuIG99fV92YWxpZGF0ZSgpe2lmKCF0aGlzLnBvc2l0aW9ucyl0aHJvdyBuZXcgQnQoIlBvc2l0aW9ucyBhcmUgcmVxdWlyZWQiLGxpLk1lc2hJbnZhbGlkUG9zaXRpb25zRXJyb3IpO2NvbnN0IGU9KHMscik9Pntjb25zdCBuPWcuRGVkdWNlU3RyaWRlKHMpO2lmKHIubGVuZ3RoJW4hPT0wKXRocm93IG5ldyBFcnJvcigiVGhlICIrcysicyBhcnJheSBjb3VudCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgIituKTtyZXR1cm4gci5sZW5ndGgvbn0sdD1lKGcuUG9zaXRpb25LaW5kLHRoaXMucG9zaXRpb25zKSxpPShzLHIpPT57Y29uc3Qgbj1lKHMscik7aWYobiE9PXQpdGhyb3cgbmV3IEVycm9yKCJUaGUgIitzKyJzIGVsZW1lbnQgY291bnQgKCIrbisiKSBkb2VzIG5vdCBtYXRjaCB0aGUgcG9zaXRpb25zIGNvdW50ICgiK3QrIikiKX07dGhpcy5ub3JtYWxzJiZpKGcuTm9ybWFsS2luZCx0aGlzLm5vcm1hbHMpLHRoaXMudGFuZ2VudHMmJmkoZy5UYW5nZW50S2luZCx0aGlzLnRhbmdlbnRzKSx0aGlzLnV2cyYmaShnLlVWS2luZCx0aGlzLnV2cyksdGhpcy51dnMyJiZpKGcuVVYyS2luZCx0aGlzLnV2czIpLHRoaXMudXZzMyYmaShnLlVWM0tpbmQsdGhpcy51dnMzKSx0aGlzLnV2czQmJmkoZy5VVjRLaW5kLHRoaXMudXZzNCksdGhpcy51dnM1JiZpKGcuVVY1S2luZCx0aGlzLnV2czUpLHRoaXMudXZzNiYmaShnLlVWNktpbmQsdGhpcy51dnM2KSx0aGlzLmNvbG9ycyYmaShnLkNvbG9yS2luZCx0aGlzLmNvbG9ycyksdGhpcy5tYXRyaWNlc0luZGljZXMmJmkoZy5NYXRyaWNlc0luZGljZXNLaW5kLHRoaXMubWF0cmljZXNJbmRpY2VzKSx0aGlzLm1hdHJpY2VzV2VpZ2h0cyYmaShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsdGhpcy5tYXRyaWNlc1dlaWdodHMpLHRoaXMubWF0cmljZXNJbmRpY2VzRXh0cmEmJmkoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsdGhpcy5tYXRyaWNlc0luZGljZXNFeHRyYSksdGhpcy5tYXRyaWNlc1dlaWdodHNFeHRyYSYmaShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCx0aGlzLm1hdHJpY2VzV2VpZ2h0c0V4dHJhKX1zZXJpYWxpemUoKXtjb25zdCBlPXt9O3JldHVybiB0aGlzLnBvc2l0aW9ucyYmKGUucG9zaXRpb25zPXRoaXMucG9zaXRpb25zKSx0aGlzLm5vcm1hbHMmJihlLm5vcm1hbHM9dGhpcy5ub3JtYWxzKSx0aGlzLnRhbmdlbnRzJiYoZS50YW5nZW50cz10aGlzLnRhbmdlbnRzKSx0aGlzLnV2cyYmKGUudXZzPXRoaXMudXZzKSx0aGlzLnV2czImJihlLnV2czI9dGhpcy51dnMyKSx0aGlzLnV2czMmJihlLnV2czM9dGhpcy51dnMzKSx0aGlzLnV2czQmJihlLnV2czQ9dGhpcy51dnM0KSx0aGlzLnV2czUmJihlLnV2czU9dGhpcy51dnM1KSx0aGlzLnV2czYmJihlLnV2czY9dGhpcy51dnM2KSx0aGlzLmNvbG9ycyYmKGUuY29sb3JzPXRoaXMuY29sb3JzKSx0aGlzLm1hdHJpY2VzSW5kaWNlcyYmKGUubWF0cmljZXNJbmRpY2VzPXRoaXMubWF0cmljZXNJbmRpY2VzLGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkPSEwKSx0aGlzLm1hdHJpY2VzV2VpZ2h0cyYmKGUubWF0cmljZXNXZWlnaHRzPXRoaXMubWF0cmljZXNXZWlnaHRzKSx0aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhJiYoZS5tYXRyaWNlc0luZGljZXNFeHRyYT10aGlzLm1hdHJpY2VzSW5kaWNlc0V4dHJhLGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX2lzRXhwYW5kZWQ9ITApLHRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEmJihlLm1hdHJpY2VzV2VpZ2h0c0V4dHJhPXRoaXMubWF0cmljZXNXZWlnaHRzRXh0cmEpLGUuaW5kaWNlcz10aGlzLmluZGljZXMsZX1zdGF0aWMgRXh0cmFjdEZyb21NZXNoKGUsdCxpKXtyZXR1cm4gdGUuX0V4dHJhY3RGcm9tKGUsdCxpKX1zdGF0aWMgRXh0cmFjdEZyb21HZW9tZXRyeShlLHQsaSl7cmV0dXJuIHRlLl9FeHRyYWN0RnJvbShlLHQsaSl9c3RhdGljIF9FeHRyYWN0RnJvbShlLHQsaSl7Y29uc3Qgcz1uZXcgdGU7cmV0dXJuIGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuUG9zaXRpb25LaW5kKSYmKHMucG9zaXRpb25zPWUuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTm9ybWFsS2luZCkmJihzLm5vcm1hbHM9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVGFuZ2VudEtpbmQpJiYocy50YW5nZW50cz1lLmdldFZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVZLaW5kKSYmKHMudXZzPWUuZ2V0VmVydGljZXNEYXRhKGcuVVZLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVYyS2luZCkmJihzLnV2czI9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVYzS2luZCkmJihzLnV2czM9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVjNLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVY0S2luZCkmJihzLnV2czQ9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVjRLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVY1S2luZCkmJihzLnV2czU9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVY2S2luZCkmJihzLnV2czY9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5VVjZLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuQ29sb3JLaW5kKSYmKHMuY29sb3JzPWUuZ2V0VmVydGljZXNEYXRhKGcuQ29sb3JLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNJbmRpY2VzS2luZCkmJihzLm1hdHJpY2VzSW5kaWNlcz1lLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsdCxpKSksZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc1dlaWdodHNLaW5kKSYmKHMubWF0cmljZXNXZWlnaHRzPWUuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCx0LGkpKSxlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCkmJihzLm1hdHJpY2VzSW5kaWNlc0V4dHJhPWUuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLHQsaSkpLGUuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNXZWlnaHRzRXh0cmFLaW5kKSYmKHMubWF0cmljZXNXZWlnaHRzRXh0cmE9ZS5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQsdCxpKSkscy5pbmRpY2VzPWUuZ2V0SW5kaWNlcyh0LGkpLHN9c3RhdGljIENyZWF0ZVJpYmJvbihlKXt0aHJvdyBRKCJyaWJib25CdWlsZGVyIil9c3RhdGljIENyZWF0ZUJveChlKXt0aHJvdyBRKCJib3hCdWlsZGVyIil9c3RhdGljIENyZWF0ZVRpbGVkQm94KGUpe3Rocm93IFEoInRpbGVkQm94QnVpbGRlciIpfXN0YXRpYyBDcmVhdGVUaWxlZFBsYW5lKGUpe3Rocm93IFEoInRpbGVkUGxhbmVCdWlsZGVyIil9c3RhdGljIENyZWF0ZVNwaGVyZShlKXt0aHJvdyBRKCJzcGhlcmVCdWlsZGVyIil9c3RhdGljIENyZWF0ZUN5bGluZGVyKGUpe3Rocm93IFEoImN5bGluZGVyQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVUb3J1cyhlKXt0aHJvdyBRKCJ0b3J1c0J1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlTGluZVN5c3RlbShlKXt0aHJvdyBRKCJsaW5lc0J1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlRGFzaGVkTGluZXMoZSl7dGhyb3cgUSgibGluZXNCdWlsZGVyIil9c3RhdGljIENyZWF0ZUdyb3VuZChlKXt0aHJvdyBRKCJncm91bmRCdWlsZGVyIil9c3RhdGljIENyZWF0ZVRpbGVkR3JvdW5kKGUpe3Rocm93IFEoImdyb3VuZEJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlR3JvdW5kRnJvbUhlaWdodE1hcChlKXt0aHJvdyBRKCJncm91bmRCdWlsZGVyIil9c3RhdGljIENyZWF0ZVBsYW5lKGUpe3Rocm93IFEoInBsYW5lQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVEaXNjKGUpe3Rocm93IFEoImRpc2NCdWlsZGVyIil9c3RhdGljIENyZWF0ZVBvbHlnb24oZSx0LGkscyxyLG4sYSl7dGhyb3cgUSgicG9seWdvbkJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlSWNvU3BoZXJlKGUpe3Rocm93IFEoImljb1NwaGVyZUJ1aWxkZXIiKX1zdGF0aWMgQ3JlYXRlUG9seWhlZHJvbihlKXt0aHJvdyBRKCJwb2x5aGVkcm9uQnVpbGRlciIpfXN0YXRpYyBDcmVhdGVDYXBzdWxlKGU9e29yaWVudGF0aW9uOnAuVXAoKSxzdWJkaXZpc2lvbnM6Mix0ZXNzZWxsYXRpb246MTYsaGVpZ2h0OjEscmFkaXVzOi4yNSxjYXBTdWJkaXZpc2lvbnM6Nn0pe3Rocm93IFEoImNhcHN1bGVCdWlsZGVyIil9c3RhdGljIENyZWF0ZVRvcnVzS25vdChlKXt0aHJvdyBRKCJ0b3J1c0tub3RCdWlsZGVyIil9c3RhdGljIENvbXB1dGVOb3JtYWxzKGUsdCxpLHMpe2xldCByPTAsbj0wLGE9MCxvPTAsaD0wLGw9MCx1PTAsZD0wLF89MCxmPTAsbT0wLHY9MCxFPTAsUz0wLFI9MCxBPTAsQz0wLGI9MCx4PTAsST0wLFU9ITEsaz0hMSxtZT0hMSxxPSExLHVlPTEsaWU9MCxiZT1udWxsO3MmJihVPSEhcy5mYWNldE5vcm1hbHMsaz0hIXMuZmFjZXRQb3NpdGlvbnMsbWU9ISFzLmZhY2V0UGFydGl0aW9uaW5nLHVlPXMudXNlUmlnaHRIYW5kZWRTeXN0ZW09PT0hMD8tMToxLGllPXMucmF0aW98fDAscT0hIXMuZGVwdGhTb3J0LGJlPXMuZGlzdGFuY2VUbyxxJiZiZT09PXZvaWQgMCYmKGJlPXAuWmVybygpKSk7bGV0IE1lPTAsSGU9MCxLZT0wLFllPTA7Zm9yKG1lJiZzJiZzLmJiU2l6ZSYmKE1lPXMuc3ViRGl2LlgqaWUvcy5iYlNpemUueCxIZT1zLnN1YkRpdi5ZKmllL3MuYmJTaXplLnksS2U9cy5zdWJEaXYuWippZS9zLmJiU2l6ZS56LFllPXMuc3ViRGl2Lm1heCpzLnN1YkRpdi5tYXgscy5mYWNldFBhcnRpdGlvbmluZy5sZW5ndGg9MCkscj0wO3I8ZS5sZW5ndGg7cisrKWlbcl09MDtjb25zdCBtdD10Lmxlbmd0aC8zfDA7Zm9yKHI9MDtyPG10O3IrKyl7aWYodj10W3IqM10qMyxFPXYrMSxTPXYrMixSPXRbciozKzFdKjMsQT1SKzEsQz1SKzIsYj10W3IqMysyXSozLHg9YisxLEk9YisyLG49ZVt2XS1lW1JdLGE9ZVtFXS1lW0FdLG89ZVtTXS1lW0NdLGg9ZVtiXS1lW1JdLGw9ZVt4XS1lW0FdLHU9ZVtJXS1lW0NdLGQ9dWUqKGEqdS1vKmwpLF89dWUqKG8qaC1uKnUpLGY9dWUqKG4qbC1hKmgpLG09TWF0aC5zcXJ0KGQqZCtfKl8rZipmKSxtPW09PT0wPzE6bSxkLz1tLF8vPW0sZi89bSxVJiZzJiYocy5mYWNldE5vcm1hbHNbcl0ueD1kLHMuZmFjZXROb3JtYWxzW3JdLnk9XyxzLmZhY2V0Tm9ybWFsc1tyXS56PWYpLGsmJnMmJihzLmZhY2V0UG9zaXRpb25zW3JdLng9KGVbdl0rZVtSXStlW2JdKS8zLHMuZmFjZXRQb3NpdGlvbnNbcl0ueT0oZVtFXStlW0FdK2VbeF0pLzMscy5mYWNldFBvc2l0aW9uc1tyXS56PShlW1NdK2VbQ10rZVtJXSkvMyksbWUmJnMpe2NvbnN0IGx0PU1hdGguZmxvb3IoKHMuZmFjZXRQb3NpdGlvbnNbcl0ueC1zLmJJbmZvLm1pbmltdW0ueCppZSkqTWUpLE90PU1hdGguZmxvb3IoKHMuZmFjZXRQb3NpdGlvbnNbcl0ueS1zLmJJbmZvLm1pbmltdW0ueSppZSkqSGUpLG5pPU1hdGguZmxvb3IoKHMuZmFjZXRQb3NpdGlvbnNbcl0uei1zLmJJbmZvLm1pbmltdW0ueippZSkqS2UpLHBzPU1hdGguZmxvb3IoKGVbdl0tcy5iSW5mby5taW5pbXVtLngqaWUpKk1lKSxtcz1NYXRoLmZsb29yKChlW0VdLXMuYkluZm8ubWluaW11bS55KmllKSpIZSksdnM9TWF0aC5mbG9vcigoZVtTXS1zLmJJbmZvLm1pbmltdW0ueippZSkqS2UpLHFzPU1hdGguZmxvb3IoKGVbUl0tcy5iSW5mby5taW5pbXVtLngqaWUpKk1lKSxqcz1NYXRoLmZsb29yKChlW0FdLXMuYkluZm8ubWluaW11bS55KmllKSpIZSksJHM9TWF0aC5mbG9vcigoZVtDXS1zLmJJbmZvLm1pbmltdW0ueippZSkqS2UpLFFzPU1hdGguZmxvb3IoKGVbYl0tcy5iSW5mby5taW5pbXVtLngqaWUpKk1lKSxKcz1NYXRoLmZsb29yKChlW3hdLXMuYkluZm8ubWluaW11bS55KmllKSpIZSksZXI9TWF0aC5mbG9vcigoZVtJXS1zLmJJbmZvLm1pbmltdW0ueippZSkqS2UpLEt0PXBzK3Muc3ViRGl2Lm1heCptcytZZSp2cyxZdD1xcytzLnN1YkRpdi5tYXgqanMrWWUqJHMsWnQ9UXMrcy5zdWJEaXYubWF4KkpzK1llKmVyLHF0PWx0K3Muc3ViRGl2Lm1heCpPdCtZZSpuaTtzLmZhY2V0UGFydGl0aW9uaW5nW3F0XT1zLmZhY2V0UGFydGl0aW9uaW5nW3F0XT9zLmZhY2V0UGFydGl0aW9uaW5nW3F0XTpuZXcgQXJyYXkscy5mYWNldFBhcnRpdGlvbmluZ1tLdF09cy5mYWNldFBhcnRpdGlvbmluZ1tLdF0/cy5mYWNldFBhcnRpdGlvbmluZ1tLdF06bmV3IEFycmF5LHMuZmFjZXRQYXJ0aXRpb25pbmdbWXRdPXMuZmFjZXRQYXJ0aXRpb25pbmdbWXRdP3MuZmFjZXRQYXJ0aXRpb25pbmdbWXRdOm5ldyBBcnJheSxzLmZhY2V0UGFydGl0aW9uaW5nW1p0XT1zLmZhY2V0UGFydGl0aW9uaW5nW1p0XT9zLmZhY2V0UGFydGl0aW9uaW5nW1p0XTpuZXcgQXJyYXkscy5mYWNldFBhcnRpdGlvbmluZ1tLdF0ucHVzaChyKSxZdCE9S3QmJnMuZmFjZXRQYXJ0aXRpb25pbmdbWXRdLnB1c2gociksWnQ9PVl0fHxadD09S3R8fHMuZmFjZXRQYXJ0aXRpb25pbmdbWnRdLnB1c2gocikscXQ9PUt0fHxxdD09WXR8fHF0PT1adHx8cy5mYWNldFBhcnRpdGlvbmluZ1txdF0ucHVzaChyKX1pZihxJiZzJiZzLmZhY2V0UG9zaXRpb25zKXtjb25zdCBsdD1zLmRlcHRoU29ydGVkRmFjZXRzW3JdO2x0LmluZD1yKjMsbHQuc3FEaXN0YW5jZT1wLkRpc3RhbmNlU3F1YXJlZChzLmZhY2V0UG9zaXRpb25zW3JdLGJlKX1pW3ZdKz1kLGlbRV0rPV8saVtTXSs9ZixpW1JdKz1kLGlbQV0rPV8saVtDXSs9ZixpW2JdKz1kLGlbeF0rPV8saVtJXSs9Zn1mb3Iocj0wO3I8aS5sZW5ndGgvMztyKyspZD1pW3IqM10sXz1pW3IqMysxXSxmPWlbciozKzJdLG09TWF0aC5zcXJ0KGQqZCtfKl8rZipmKSxtPW09PT0wPzE6bSxkLz1tLF8vPW0sZi89bSxpW3IqM109ZCxpW3IqMysxXT1fLGlbciozKzJdPWZ9c3RhdGljIF9Db21wdXRlU2lkZXMoZSx0LGkscyxyLG4sYSl7Y29uc3Qgbz1pLmxlbmd0aCxoPXMubGVuZ3RoO2xldCBsLHU7c3dpdGNoKGU9ZXx8dGUuREVGQVVMVFNJREUsZSl7Y2FzZSB0ZS5GUk9OVFNJREU6YnJlYWs7Y2FzZSB0ZS5CQUNLU0lERTpmb3IobD0wO2w8bztsKz0zKXtjb25zdCBkPWlbbF07aVtsXT1pW2wrMl0saVtsKzJdPWR9Zm9yKHU9MDt1PGg7dSsrKXNbdV09LXNbdV07YnJlYWs7Y2FzZSB0ZS5ET1VCTEVTSURFOntjb25zdCBkPXQubGVuZ3RoLF89ZC8zO2ZvcihsZXQgdj0wO3Y8ZDt2KyspdFtkK3ZdPXRbdl07Zm9yKGw9MDtsPG87bCs9MylpW2wrb109aVtsKzJdK18saVtsKzErb109aVtsKzFdK18saVtsKzIrb109aVtsXStfO2Zvcih1PTA7dTxoO3UrKylzW2grdV09LXNbdV07Y29uc3QgZj1yLmxlbmd0aDtsZXQgbT0wO2ZvcihtPTA7bTxmO20rKylyW20rZl09clttXTtmb3Iobj1ufHxuZXcgeWUoMCwwLDEsMSksYT1hfHxuZXcgeWUoMCwwLDEsMSksbT0wLGw9MDtsPGYvMjtsKyspclttXT1uLngrKG4uei1uLngpKnJbbV0sclttKzFdPW4ueSsobi53LW4ueSkqclttKzFdLHJbbStmXT1hLngrKGEuei1hLngpKnJbbStmXSxyW20rZisxXT1hLnkrKGEudy1hLnkpKnJbbStmKzFdLG0rPTI7YnJlYWt9fX1zdGF0aWMgSW1wb3J0VmVydGV4RGF0YShlLHQpe2NvbnN0IGk9bmV3IHRlLHM9ZS5wb3NpdGlvbnM7cyYmaS5zZXQocyxnLlBvc2l0aW9uS2luZCk7Y29uc3Qgcj1lLm5vcm1hbHM7ciYmaS5zZXQocixnLk5vcm1hbEtpbmQpO2NvbnN0IG49ZS50YW5nZW50cztuJiZpLnNldChuLGcuVGFuZ2VudEtpbmQpO2NvbnN0IGE9ZS51dnM7YSYmaS5zZXQoYSxnLlVWS2luZCk7Y29uc3Qgbz1lLnV2MnM7byYmaS5zZXQobyxnLlVWMktpbmQpO2NvbnN0IGg9ZS51djNzO2gmJmkuc2V0KGgsZy5VVjNLaW5kKTtjb25zdCBsPWUudXY0cztsJiZpLnNldChsLGcuVVY0S2luZCk7Y29uc3QgdT1lLnV2NXM7dSYmaS5zZXQodSxnLlVWNUtpbmQpO2NvbnN0IGQ9ZS51djZzO2QmJmkuc2V0KGQsZy5VVjZLaW5kKTtjb25zdCBfPWUuY29sb3JzO18mJmkuc2V0KE5lLkNoZWNrQ29sb3JzNChfLHMubGVuZ3RoLzMpLGcuQ29sb3JLaW5kKTtjb25zdCBmPWUubWF0cmljZXNJbmRpY2VzO2YmJmkuc2V0KGYsZy5NYXRyaWNlc0luZGljZXNLaW5kKTtjb25zdCBtPWUubWF0cmljZXNXZWlnaHRzO20mJmkuc2V0KG0sZy5NYXRyaWNlc1dlaWdodHNLaW5kKTtjb25zdCB2PWUuaW5kaWNlczt2JiYoaS5pbmRpY2VzPXYpLHQuc2V0QWxsVmVydGljZXNEYXRhKGksZS51cGRhdGFibGUpfX10ZS5GUk9OVFNJREU9MCx0ZS5CQUNLU0lERT0xLHRlLkRPVUJMRVNJREU9Mix0ZS5ERUZBVUxUU0lERT0wLFQoW1F0LmZpbHRlcigoLi4uW2NdKT0+IUFycmF5LmlzQXJyYXkoYykpXSx0ZSwiX1RyYW5zZm9ybVZlY3RvcjNDb29yZGluYXRlcyIsbnVsbCksVChbUXQuZmlsdGVyKCguLi5bY10pPT4hQXJyYXkuaXNBcnJheShjKSldLHRlLCJfVHJhbnNmb3JtVmVjdG9yM05vcm1hbHMiLG51bGwpLFQoW1F0LmZpbHRlcigoLi4uW2NdKT0+IUFycmF5LmlzQXJyYXkoYykpXSx0ZSwiX1RyYW5zZm9ybVZlY3RvcjROb3JtYWxzIixudWxsKSxUKFtRdC5maWx0ZXIoKC4uLltjXSk9PiFBcnJheS5pc0FycmF5KGMpKV0sdGUsIl9GbGlwRmFjZXMiLG51bGwpO2NsYXNzIE5ze2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmJ1PWUsdGhpcy5idj10LHRoaXMuZGlzdGFuY2U9aSx0aGlzLmZhY2VJZD0wLHRoaXMuc3ViTWVzaElkPTB9fWNsYXNzIFd0e2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLnZlY3RvcnM9QmUuQnVpbGRBcnJheSg4LHAuWmVybyksdGhpcy5jZW50ZXI9cC5aZXJvKCksdGhpcy5jZW50ZXJXb3JsZD1wLlplcm8oKSx0aGlzLmV4dGVuZFNpemU9cC5aZXJvKCksdGhpcy5leHRlbmRTaXplV29ybGQ9cC5aZXJvKCksdGhpcy5kaXJlY3Rpb25zPUJlLkJ1aWxkQXJyYXkoMyxwLlplcm8pLHRoaXMudmVjdG9yc1dvcmxkPUJlLkJ1aWxkQXJyYXkoOCxwLlplcm8pLHRoaXMubWluaW11bVdvcmxkPXAuWmVybygpLHRoaXMubWF4aW11bVdvcmxkPXAuWmVybygpLHRoaXMubWluaW11bT1wLlplcm8oKSx0aGlzLm1heGltdW09cC5aZXJvKCksdGhpcy5fZHJhd1dyYXBwZXJGcm9udD1udWxsLHRoaXMuX2RyYXdXcmFwcGVyQmFjaz1udWxsLHRoaXMucmVDb25zdHJ1Y3QoZSx0LGkpfXJlQ29uc3RydWN0KGUsdCxpKXtjb25zdCBzPWUueCxyPWUueSxuPWUueixhPXQueCxvPXQueSxoPXQueixsPXRoaXMudmVjdG9yczt0aGlzLm1pbmltdW0uY29weUZyb21GbG9hdHMocyxyLG4pLHRoaXMubWF4aW11bS5jb3B5RnJvbUZsb2F0cyhhLG8saCksbFswXS5jb3B5RnJvbUZsb2F0cyhzLHIsbiksbFsxXS5jb3B5RnJvbUZsb2F0cyhhLG8saCksbFsyXS5jb3B5RnJvbUZsb2F0cyhhLHIsbiksbFszXS5jb3B5RnJvbUZsb2F0cyhzLG8sbiksbFs0XS5jb3B5RnJvbUZsb2F0cyhzLHIsaCksbFs1XS5jb3B5RnJvbUZsb2F0cyhhLG8sbiksbFs2XS5jb3B5RnJvbUZsb2F0cyhzLG8saCksbFs3XS5jb3B5RnJvbUZsb2F0cyhhLHIsaCksdC5hZGRUb1JlZihlLHRoaXMuY2VudGVyKS5zY2FsZUluUGxhY2UoLjUpLHQuc3VidHJhY3RUb1JlZihlLHRoaXMuZXh0ZW5kU2l6ZSkuc2NhbGVJblBsYWNlKC41KSx0aGlzLl93b3JsZE1hdHJpeD1pfHxNLklkZW50aXR5UmVhZE9ubHksdGhpcy5fdXBkYXRlKHRoaXMuX3dvcmxkTWF0cml4KX1zY2FsZShlKXtjb25zdCB0PVd0Ll9UbXBWZWN0b3IzLGk9dGhpcy5tYXhpbXVtLnN1YnRyYWN0VG9SZWYodGhpcy5taW5pbXVtLHRbMF0pLHM9aS5sZW5ndGgoKTtpLm5vcm1hbGl6ZUZyb21MZW5ndGgocyk7Y29uc3Qgcj1zKmUsbj1pLnNjYWxlSW5QbGFjZShyKi41KSxhPXRoaXMuY2VudGVyLnN1YnRyYWN0VG9SZWYobix0WzFdKSxvPXRoaXMuY2VudGVyLmFkZFRvUmVmKG4sdFsyXSk7cmV0dXJuIHRoaXMucmVDb25zdHJ1Y3QoYSxvLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzfWdldFdvcmxkTWF0cml4KCl7cmV0dXJuIHRoaXMuX3dvcmxkTWF0cml4fV91cGRhdGUoZSl7Y29uc3QgdD10aGlzLm1pbmltdW1Xb3JsZCxpPXRoaXMubWF4aW11bVdvcmxkLHM9dGhpcy5kaXJlY3Rpb25zLHI9dGhpcy52ZWN0b3JzV29ybGQsbj10aGlzLnZlY3RvcnM7aWYoZS5pc0lkZW50aXR5KCkpe3QuY29weUZyb20odGhpcy5taW5pbXVtKSxpLmNvcHlGcm9tKHRoaXMubWF4aW11bSk7Zm9yKGxldCBhPTA7YTw4OysrYSlyW2FdLmNvcHlGcm9tKG5bYV0pO3RoaXMuZXh0ZW5kU2l6ZVdvcmxkLmNvcHlGcm9tKHRoaXMuZXh0ZW5kU2l6ZSksdGhpcy5jZW50ZXJXb3JsZC5jb3B5RnJvbSh0aGlzLmNlbnRlcil9ZWxzZXt0LnNldEFsbChOdW1iZXIuTUFYX1ZBTFVFKSxpLnNldEFsbCgtTnVtYmVyLk1BWF9WQUxVRSk7Zm9yKGxldCBhPTA7YTw4OysrYSl7Y29uc3Qgbz1yW2FdO3AuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihuW2FdLGUsbyksdC5taW5pbWl6ZUluUGxhY2UobyksaS5tYXhpbWl6ZUluUGxhY2Uobyl9aS5zdWJ0cmFjdFRvUmVmKHQsdGhpcy5leHRlbmRTaXplV29ybGQpLnNjYWxlSW5QbGFjZSguNSksaS5hZGRUb1JlZih0LHRoaXMuY2VudGVyV29ybGQpLnNjYWxlSW5QbGFjZSguNSl9cC5Gcm9tQXJyYXlUb1JlZihlLm0sMCxzWzBdKSxwLkZyb21BcnJheVRvUmVmKGUubSw0LHNbMV0pLHAuRnJvbUFycmF5VG9SZWYoZS5tLDgsc1syXSksdGhpcy5fd29ybGRNYXRyaXg9ZX1pc0luRnJ1c3R1bShlKXtyZXR1cm4gV3QuSXNJbkZydXN0dW0odGhpcy52ZWN0b3JzV29ybGQsZSl9aXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpe3JldHVybiBXdC5Jc0NvbXBsZXRlbHlJbkZydXN0dW0odGhpcy52ZWN0b3JzV29ybGQsZSl9aW50ZXJzZWN0c1BvaW50KGUpe2NvbnN0IHQ9dGhpcy5taW5pbXVtV29ybGQsaT10aGlzLm1heGltdW1Xb3JsZCxzPXQueCxyPXQueSxuPXQueixhPWkueCxvPWkueSxoPWkueixsPWUueCx1PWUueSxkPWUueixfPS1TZTtyZXR1cm4hKGEtbDxffHxfPmwtc3x8by11PF98fF8+dS1yfHxoLWQ8X3x8Xz5kLW4pfWludGVyc2VjdHNTcGhlcmUoZSl7cmV0dXJuIFd0LkludGVyc2VjdHNTcGhlcmUodGhpcy5taW5pbXVtV29ybGQsdGhpcy5tYXhpbXVtV29ybGQsZS5jZW50ZXJXb3JsZCxlLnJhZGl1c1dvcmxkKX1pbnRlcnNlY3RzTWluTWF4KGUsdCl7Y29uc3QgaT10aGlzLm1pbmltdW1Xb3JsZCxzPXRoaXMubWF4aW11bVdvcmxkLHI9aS54LG49aS55LGE9aS56LG89cy54LGg9cy55LGw9cy56LHU9ZS54LGQ9ZS55LF89ZS56LGY9dC54LG09dC55LHY9dC56O3JldHVybiEobzx1fHxyPmZ8fGg8ZHx8bj5tfHxsPF98fGE+dil9ZGlzcG9zZSgpe3ZhciBlLHQ7KGU9dGhpcy5fZHJhd1dyYXBwZXJGcm9udCk9PT1udWxsfHxlPT09dm9pZCAwfHxlLmRpc3Bvc2UoKSwodD10aGlzLl9kcmF3V3JhcHBlckJhY2spPT09bnVsbHx8dD09PXZvaWQgMHx8dC5kaXNwb3NlKCl9c3RhdGljIEludGVyc2VjdHMoZSx0KXtyZXR1cm4gZS5pbnRlcnNlY3RzTWluTWF4KHQubWluaW11bVdvcmxkLHQubWF4aW11bVdvcmxkKX1zdGF0aWMgSW50ZXJzZWN0c1NwaGVyZShlLHQsaSxzKXtjb25zdCByPVd0Ll9UbXBWZWN0b3IzWzBdO3JldHVybiBwLkNsYW1wVG9SZWYoaSxlLHQscikscC5EaXN0YW5jZVNxdWFyZWQoaSxyKTw9cypzfXN0YXRpYyBJc0NvbXBsZXRlbHlJbkZydXN0dW0oZSx0KXtmb3IobGV0IGk9MDtpPDY7KytpKXtjb25zdCBzPXRbaV07Zm9yKGxldCByPTA7cjw4OysrcilpZihzLmRvdENvb3JkaW5hdGUoZVtyXSk8MClyZXR1cm4hMX1yZXR1cm4hMH1zdGF0aWMgSXNJbkZydXN0dW0oZSx0KXtmb3IobGV0IGk9MDtpPDY7KytpKXtsZXQgcz0hMDtjb25zdCByPXRbaV07Zm9yKGxldCBuPTA7bjw4OysrbilpZihyLmRvdENvb3JkaW5hdGUoZVtuXSk+PTApe3M9ITE7YnJlYWt9aWYocylyZXR1cm4hMX1yZXR1cm4hMH19V3QuX1RtcFZlY3RvcjM9QmUuQnVpbGRBcnJheSgzLHAuWmVybyk7Y2xhc3MgX2l7Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuY2VudGVyPXAuWmVybygpLHRoaXMuY2VudGVyV29ybGQ9cC5aZXJvKCksdGhpcy5taW5pbXVtPXAuWmVybygpLHRoaXMubWF4aW11bT1wLlplcm8oKSx0aGlzLnJlQ29uc3RydWN0KGUsdCxpKX1yZUNvbnN0cnVjdChlLHQsaSl7dGhpcy5taW5pbXVtLmNvcHlGcm9tKGUpLHRoaXMubWF4aW11bS5jb3B5RnJvbSh0KTtjb25zdCBzPXAuRGlzdGFuY2UoZSx0KTt0LmFkZFRvUmVmKGUsdGhpcy5jZW50ZXIpLnNjYWxlSW5QbGFjZSguNSksdGhpcy5yYWRpdXM9cyouNSx0aGlzLl91cGRhdGUoaXx8TS5JZGVudGl0eVJlYWRPbmx5KX1zY2FsZShlKXtjb25zdCB0PXRoaXMucmFkaXVzKmUsaT1faS5fVG1wVmVjdG9yMyxzPWlbMF0uc2V0QWxsKHQpLHI9dGhpcy5jZW50ZXIuc3VidHJhY3RUb1JlZihzLGlbMV0pLG49dGhpcy5jZW50ZXIuYWRkVG9SZWYocyxpWzJdKTtyZXR1cm4gdGhpcy5yZUNvbnN0cnVjdChyLG4sdGhpcy5fd29ybGRNYXRyaXgpLHRoaXN9Z2V0V29ybGRNYXRyaXgoKXtyZXR1cm4gdGhpcy5fd29ybGRNYXRyaXh9X3VwZGF0ZShlKXtpZihlLmlzSWRlbnRpdHkoKSl0aGlzLmNlbnRlcldvcmxkLmNvcHlGcm9tKHRoaXMuY2VudGVyKSx0aGlzLnJhZGl1c1dvcmxkPXRoaXMucmFkaXVzO2Vsc2V7cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMuY2VudGVyLGUsdGhpcy5jZW50ZXJXb3JsZCk7Y29uc3QgdD1faS5fVG1wVmVjdG9yM1swXTtwLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZigxLDEsMSxlLHQpLHRoaXMucmFkaXVzV29ybGQ9TWF0aC5tYXgoTWF0aC5hYnModC54KSxNYXRoLmFicyh0LnkpLE1hdGguYWJzKHQueikpKnRoaXMucmFkaXVzfX1pc0luRnJ1c3R1bShlKXtjb25zdCB0PXRoaXMuY2VudGVyV29ybGQsaT10aGlzLnJhZGl1c1dvcmxkO2ZvcihsZXQgcz0wO3M8NjtzKyspaWYoZVtzXS5kb3RDb29yZGluYXRlKHQpPD0taSlyZXR1cm4hMTtyZXR1cm4hMH1pc0NlbnRlckluRnJ1c3R1bShlKXtjb25zdCB0PXRoaXMuY2VudGVyV29ybGQ7Zm9yKGxldCBpPTA7aTw2O2krKylpZihlW2ldLmRvdENvb3JkaW5hdGUodCk8MClyZXR1cm4hMTtyZXR1cm4hMH1pbnRlcnNlY3RzUG9pbnQoZSl7Y29uc3QgdD1wLkRpc3RhbmNlU3F1YXJlZCh0aGlzLmNlbnRlcldvcmxkLGUpO3JldHVybiEodGhpcy5yYWRpdXNXb3JsZCp0aGlzLnJhZGl1c1dvcmxkPHQpfXN0YXRpYyBJbnRlcnNlY3RzKGUsdCl7Y29uc3QgaT1wLkRpc3RhbmNlU3F1YXJlZChlLmNlbnRlcldvcmxkLHQuY2VudGVyV29ybGQpLHM9ZS5yYWRpdXNXb3JsZCt0LnJhZGl1c1dvcmxkO3JldHVybiEocypzPGkpfXN0YXRpYyBDcmVhdGVGcm9tQ2VudGVyQW5kUmFkaXVzKGUsdCxpKXt0aGlzLl9UbXBWZWN0b3IzWzBdLmNvcHlGcm9tKGUpLHRoaXMuX1RtcFZlY3RvcjNbMV0uY29weUZyb21GbG9hdHMoMCwwLHQpLHRoaXMuX1RtcFZlY3RvcjNbMl0uY29weUZyb20oZSksdGhpcy5fVG1wVmVjdG9yM1swXS5hZGRJblBsYWNlKHRoaXMuX1RtcFZlY3RvcjNbMV0pLHRoaXMuX1RtcFZlY3RvcjNbMl0uc3VidHJhY3RJblBsYWNlKHRoaXMuX1RtcFZlY3RvcjNbMV0pO2NvbnN0IHM9bmV3IF9pKHRoaXMuX1RtcFZlY3RvcjNbMF0sdGhpcy5fVG1wVmVjdG9yM1syXSk7cmV0dXJuIGk/cy5fd29ybGRNYXRyaXg9aTpzLl93b3JsZE1hdHJpeD1NLklkZW50aXR5KCksc319X2kuX1RtcFZlY3RvcjM9QmUuQnVpbGRBcnJheSgzLHAuWmVybyk7Y29uc3QgQnM9e21pbjowLG1heDowfSxVcz17bWluOjAsbWF4OjB9LFByPShjLGUsdCk9Pntjb25zdCBpPXAuRG90KGUuY2VudGVyV29ybGQsYykscz1NYXRoLmFicyhwLkRvdChlLmRpcmVjdGlvbnNbMF0sYykpKmUuZXh0ZW5kU2l6ZS54LHI9TWF0aC5hYnMocC5Eb3QoZS5kaXJlY3Rpb25zWzFdLGMpKSplLmV4dGVuZFNpemUueSxuPU1hdGguYWJzKHAuRG90KGUuZGlyZWN0aW9uc1syXSxjKSkqZS5leHRlbmRTaXplLnosYT1zK3Irbjt0Lm1pbj1pLWEsdC5tYXg9aSthfSxudD0oYyxlLHQpPT4oUHIoYyxlLEJzKSxQcihjLHQsVXMpLCEoQnMubWluPlVzLm1heHx8VXMubWluPkJzLm1heCkpO2NsYXNzIGZ0e2NvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLl9pc0xvY2tlZD0hMSx0aGlzLmJvdW5kaW5nQm94PW5ldyBXdChlLHQsaSksdGhpcy5ib3VuZGluZ1NwaGVyZT1uZXcgX2koZSx0LGkpfXJlQ29uc3RydWN0KGUsdCxpKXt0aGlzLmJvdW5kaW5nQm94LnJlQ29uc3RydWN0KGUsdCxpKSx0aGlzLmJvdW5kaW5nU3BoZXJlLnJlQ29uc3RydWN0KGUsdCxpKX1nZXQgbWluaW11bSgpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94Lm1pbmltdW19Z2V0IG1heGltdW0oKXtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveC5tYXhpbXVtfWdldCBpc0xvY2tlZCgpe3JldHVybiB0aGlzLl9pc0xvY2tlZH1zZXQgaXNMb2NrZWQoZSl7dGhpcy5faXNMb2NrZWQ9ZX11cGRhdGUoZSl7dGhpcy5faXNMb2NrZWR8fCh0aGlzLmJvdW5kaW5nQm94Ll91cGRhdGUoZSksdGhpcy5ib3VuZGluZ1NwaGVyZS5fdXBkYXRlKGUpKX1jZW50ZXJPbihlLHQpe2NvbnN0IGk9ZnQuX1RtcFZlY3RvcjNbMF0uY29weUZyb20oZSkuc3VidHJhY3RJblBsYWNlKHQpLHM9ZnQuX1RtcFZlY3RvcjNbMV0uY29weUZyb20oZSkuYWRkSW5QbGFjZSh0KTtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveC5yZUNvbnN0cnVjdChpLHMsdGhpcy5ib3VuZGluZ0JveC5nZXRXb3JsZE1hdHJpeCgpKSx0aGlzLmJvdW5kaW5nU3BoZXJlLnJlQ29uc3RydWN0KGkscyx0aGlzLmJvdW5kaW5nQm94LmdldFdvcmxkTWF0cml4KCkpLHRoaXN9ZW5jYXBzdWxhdGUoZSl7Y29uc3QgdD1wLk1pbmltaXplKHRoaXMubWluaW11bSxlKSxpPXAuTWF4aW1pemUodGhpcy5tYXhpbXVtLGUpO3JldHVybiB0aGlzLnJlQ29uc3RydWN0KHQsaSx0aGlzLmJvdW5kaW5nQm94LmdldFdvcmxkTWF0cml4KCkpLHRoaXN9ZW5jYXBzdWxhdGVCb3VuZGluZ0luZm8oZSl7Y29uc3QgdD1GLk1hdHJpeFswXTt0aGlzLmJvdW5kaW5nQm94LmdldFdvcmxkTWF0cml4KCkuaW52ZXJ0VG9SZWYodCk7Y29uc3QgaT1GLlZlY3RvcjNbMF07cmV0dXJuIHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZCx0LGkpLHRoaXMuZW5jYXBzdWxhdGUoaSkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUuYm91bmRpbmdCb3gubWF4aW11bVdvcmxkLHQsaSksdGhpcy5lbmNhcHN1bGF0ZShpKSx0aGlzfXNjYWxlKGUpe3JldHVybiB0aGlzLmJvdW5kaW5nQm94LnNjYWxlKGUpLHRoaXMuYm91bmRpbmdTcGhlcmUuc2NhbGUoZSksdGhpc31pc0luRnJ1c3R1bShlLHQ9MCl7cmV0dXJuKHQ9PT0yfHx0PT09MykmJnRoaXMuYm91bmRpbmdTcGhlcmUuaXNDZW50ZXJJbkZydXN0dW0oZSk/ITA6dGhpcy5ib3VuZGluZ1NwaGVyZS5pc0luRnJ1c3R1bShlKT90PT09MXx8dD09PTM/ITA6dGhpcy5ib3VuZGluZ0JveC5pc0luRnJ1c3R1bShlKTohMX1nZXQgZGlhZ29uYWxMZW5ndGgoKXtjb25zdCBlPXRoaXMuYm91bmRpbmdCb3g7cmV0dXJuIGUubWF4aW11bVdvcmxkLnN1YnRyYWN0VG9SZWYoZS5taW5pbXVtV29ybGQsZnQuX1RtcFZlY3RvcjNbMF0pLmxlbmd0aCgpfWlzQ29tcGxldGVseUluRnJ1c3R1bShlKXtyZXR1cm4gdGhpcy5ib3VuZGluZ0JveC5pc0NvbXBsZXRlbHlJbkZydXN0dW0oZSl9X2NoZWNrQ29sbGlzaW9uKGUpe3JldHVybiBlLl9jYW5Eb0NvbGxpc2lvbih0aGlzLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkLHRoaXMuYm91bmRpbmdTcGhlcmUucmFkaXVzV29ybGQsdGhpcy5ib3VuZGluZ0JveC5taW5pbXVtV29ybGQsdGhpcy5ib3VuZGluZ0JveC5tYXhpbXVtV29ybGQpfWludGVyc2VjdHNQb2ludChlKXtyZXR1cm4hKCF0aGlzLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkfHwhdGhpcy5ib3VuZGluZ1NwaGVyZS5pbnRlcnNlY3RzUG9pbnQoZSl8fCF0aGlzLmJvdW5kaW5nQm94LmludGVyc2VjdHNQb2ludChlKSl9aW50ZXJzZWN0cyhlLHQpe2lmKCFfaS5JbnRlcnNlY3RzKHRoaXMuYm91bmRpbmdTcGhlcmUsZS5ib3VuZGluZ1NwaGVyZSl8fCFXdC5JbnRlcnNlY3RzKHRoaXMuYm91bmRpbmdCb3gsZS5ib3VuZGluZ0JveCkpcmV0dXJuITE7aWYoIXQpcmV0dXJuITA7Y29uc3QgaT10aGlzLmJvdW5kaW5nQm94LHM9ZS5ib3VuZGluZ0JveDtyZXR1cm4hKCFudChpLmRpcmVjdGlvbnNbMF0saSxzKXx8IW50KGkuZGlyZWN0aW9uc1sxXSxpLHMpfHwhbnQoaS5kaXJlY3Rpb25zWzJdLGkscyl8fCFudChzLmRpcmVjdGlvbnNbMF0saSxzKXx8IW50KHMuZGlyZWN0aW9uc1sxXSxpLHMpfHwhbnQocy5kaXJlY3Rpb25zWzJdLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1swXSxzLmRpcmVjdGlvbnNbMF0pLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1swXSxzLmRpcmVjdGlvbnNbMV0pLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1swXSxzLmRpcmVjdGlvbnNbMl0pLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1sxXSxzLmRpcmVjdGlvbnNbMF0pLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1sxXSxzLmRpcmVjdGlvbnNbMV0pLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1sxXSxzLmRpcmVjdGlvbnNbMl0pLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1syXSxzLmRpcmVjdGlvbnNbMF0pLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1syXSxzLmRpcmVjdGlvbnNbMV0pLGkscyl8fCFudChwLkNyb3NzKGkuZGlyZWN0aW9uc1syXSxzLmRpcmVjdGlvbnNbMl0pLGkscykpfX1mdC5fVG1wVmVjdG9yMz1CZS5CdWlsZEFycmF5KDIscC5aZXJvKTtjbGFzcyBhc3tzdGF0aWMgZXh0cmFjdE1pbkFuZE1heEluZGV4ZWQoZSx0LGkscyxyLG4pe2ZvcihsZXQgYT1pO2E8aStzO2ErKyl7Y29uc3Qgbz10W2FdKjMsaD1lW29dLGw9ZVtvKzFdLHU9ZVtvKzJdO3IubWluaW1pemVJblBsYWNlRnJvbUZsb2F0cyhoLGwsdSksbi5tYXhpbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGgsbCx1KX19c3RhdGljIGV4dHJhY3RNaW5BbmRNYXgoZSx0LGkscyxyLG4pe2ZvcihsZXQgYT10LG89dCpzO2E8dCtpO2ErKyxvKz1zKXtjb25zdCBoPWVbb10sbD1lW28rMV0sdT1lW28rMl07ci5taW5pbWl6ZUluUGxhY2VGcm9tRmxvYXRzKGgsbCx1KSxuLm1heGltaXplSW5QbGFjZUZyb21GbG9hdHMoaCxsLHUpfX19VChbUXQuZmlsdGVyKCguLi5bYyxlXSk9PiFBcnJheS5pc0FycmF5KGMpJiYhQXJyYXkuaXNBcnJheShlKSldLGFzLCJleHRyYWN0TWluQW5kTWF4SW5kZXhlZCIsbnVsbCksVChbUXQuZmlsdGVyKCguLi5bY10pPT4hQXJyYXkuaXNBcnJheShjKSldLGFzLCJleHRyYWN0TWluQW5kTWF4IixudWxsKTtmdW5jdGlvbiBXbihjLGUsdCxpLHM9bnVsbCl7Y29uc3Qgcj1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksbj1uZXcgcCgtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSk7cmV0dXJuIGFzLmV4dHJhY3RNaW5BbmRNYXhJbmRleGVkKGMsZSx0LGkscixuKSxzJiYoci54LT1yLngqcy54K3MueSxyLnktPXIueSpzLngrcy55LHIuei09ci56KnMueCtzLnksbi54Kz1uLngqcy54K3MueSxuLnkrPW4ueSpzLngrcy55LG4ueis9bi56KnMueCtzLnkpLHttaW5pbXVtOnIsbWF4aW11bTpufX1mdW5jdGlvbiBEcihjLGUsdCxpPW51bGwscyl7Y29uc3Qgcj1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksbj1uZXcgcCgtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSwtTnVtYmVyLk1BWF9WQUxVRSk7cmV0dXJuIHN8fChzPTMpLGFzLmV4dHJhY3RNaW5BbmRNYXgoYyxlLHQscyxyLG4pLGkmJihyLngtPXIueCppLngraS55LHIueS09ci55KmkueCtpLnksci56LT1yLnoqaS54K2kueSxuLngrPW4ueCppLngraS55LG4ueSs9bi55KmkueCtpLnksbi56Kz1uLnoqaS54K2kueSkse21pbmltdW06cixtYXhpbXVtOm59fWNsYXNzIFR0e2dldCBtYXRlcmlhbERlZmluZXMoKXt2YXIgZTtyZXR1cm4gdGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGU/dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUuZGVmaW5lczooZT10aGlzLl9nZXREcmF3V3JhcHBlcigpKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZGVmaW5lc31zZXQgbWF0ZXJpYWxEZWZpbmVzKGUpe3ZhciB0O2NvbnN0IGk9KHQ9dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX2dldERyYXdXcmFwcGVyKHZvaWQgMCwhMCk7aS5kZWZpbmVzPWV9X2dldERyYXdXcmFwcGVyKGUsdD0hMSl7ZT1lPz90aGlzLl9lbmdpbmUuY3VycmVudFJlbmRlclBhc3NJZDtsZXQgaT10aGlzLl9kcmF3V3JhcHBlcnNbZV07cmV0dXJuIWkmJnQmJih0aGlzLl9kcmF3V3JhcHBlcnNbZV09aT1uZXcgdmkodGhpcy5fbWVzaC5nZXRTY2VuZSgpLmdldEVuZ2luZSgpKSksaX1fcmVtb3ZlRHJhd1dyYXBwZXIoZSx0PSEwKXt2YXIgaTt0JiYoKGk9dGhpcy5fZHJhd1dyYXBwZXJzW2VdKT09PW51bGx8fGk9PT12b2lkIDB8fGkuZGlzcG9zZSgpKSx0aGlzLl9kcmF3V3JhcHBlcnNbZV09dm9pZCAwfWdldCBlZmZlY3QoKXt2YXIgZSx0O3JldHVybiB0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZT90aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZS5lZmZlY3Q6KHQ9KGU9dGhpcy5fZ2V0RHJhd1dyYXBwZXIoKSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmVmZmVjdCkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6bnVsbH1nZXQgX2RyYXdXcmFwcGVyKCl7dmFyIGU7cmV0dXJuKGU9dGhpcy5fbWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUpIT09bnVsbCYmZSE9PXZvaWQgMD9lOnRoaXMuX2dldERyYXdXcmFwcGVyKHZvaWQgMCwhMCl9Z2V0IF9kcmF3V3JhcHBlck92ZXJyaWRlKCl7cmV0dXJuIHRoaXMuX21haW5EcmF3V3JhcHBlck92ZXJyaWRlfV9zZXRNYWluRHJhd1dyYXBwZXJPdmVycmlkZShlKXt0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZT1lfXNldEVmZmVjdChlLHQ9bnVsbCxpLHM9ITApe2NvbnN0IHI9dGhpcy5fZHJhd1dyYXBwZXI7ci5zZXRFZmZlY3QoZSx0LHMpLGkhPT12b2lkIDAmJihyLm1hdGVyaWFsQ29udGV4dD1pKSxlfHwoci5kZWZpbmVzPW51bGwsci5tYXRlcmlhbENvbnRleHQ9dm9pZCAwKX1yZXNldERyYXdDYWNoZShlKXtpZih0aGlzLl9kcmF3V3JhcHBlcnMpaWYoZSE9PXZvaWQgMCl7dGhpcy5fcmVtb3ZlRHJhd1dyYXBwZXIoZSk7cmV0dXJufWVsc2UgZm9yKGNvbnN0IHQgb2YgdGhpcy5fZHJhd1dyYXBwZXJzKXQ9PW51bGx8fHQuZGlzcG9zZSgpO3RoaXMuX2RyYXdXcmFwcGVycz1bXX1zdGF0aWMgQWRkVG9NZXNoKGUsdCxpLHMscixuLGEsbz0hMCl7cmV0dXJuIG5ldyBUdChlLHQsaSxzLHIsbixhLG8pfWNvbnN0cnVjdG9yKGUsdCxpLHMscixuLGEsbz0hMCxoPSEwKXt0aGlzLm1hdGVyaWFsSW5kZXg9ZSx0aGlzLnZlcnRpY2VzU3RhcnQ9dCx0aGlzLnZlcnRpY2VzQ291bnQ9aSx0aGlzLmluZGV4U3RhcnQ9cyx0aGlzLmluZGV4Q291bnQ9cix0aGlzLl9tYWluRHJhd1dyYXBwZXJPdmVycmlkZT1udWxsLHRoaXMuX2xpbmVzSW5kZXhDb3VudD0wLHRoaXMuX2xpbmVzSW5kZXhCdWZmZXI9bnVsbCx0aGlzLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzPW51bGwsdGhpcy5fbGFzdENvbGxpZGVyVHJhbnNmb3JtTWF0cml4PW51bGwsdGhpcy5fd2FzRGlzcGF0Y2hlZD0hMSx0aGlzLl9yZW5kZXJJZD0wLHRoaXMuX2FscGhhSW5kZXg9MCx0aGlzLl9kaXN0YW5jZVRvQ2FtZXJhPTAsdGhpcy5fY3VycmVudE1hdGVyaWFsPW51bGwsdGhpcy5fbWVzaD1uLHRoaXMuX3JlbmRlcmluZ01lc2g9YXx8bixoJiZuLnN1Yk1lc2hlcy5wdXNoKHRoaXMpLHRoaXMuX2VuZ2luZT10aGlzLl9tZXNoLmdldFNjZW5lKCkuZ2V0RW5naW5lKCksdGhpcy5yZXNldERyYXdDYWNoZSgpLHRoaXMuX3RyaWFuZ2xlUGxhbmVzPVtdLHRoaXMuX2lkPW4uc3ViTWVzaGVzLmxlbmd0aC0xLG8mJih0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSxuLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpfWdldCBJc0dsb2JhbCgpe3JldHVybiB0aGlzLnZlcnRpY2VzU3RhcnQ9PT0wJiZ0aGlzLnZlcnRpY2VzQ291bnQ9PT10aGlzLl9tZXNoLmdldFRvdGFsVmVydGljZXMoKSYmdGhpcy5pbmRleFN0YXJ0PT09MCYmdGhpcy5pbmRleENvdW50PT09dGhpcy5fbWVzaC5nZXRUb3RhbEluZGljZXMoKX1nZXRCb3VuZGluZ0luZm8oKXtyZXR1cm4gdGhpcy5Jc0dsb2JhbD90aGlzLl9tZXNoLmdldEJvdW5kaW5nSW5mbygpOnRoaXMuX2JvdW5kaW5nSW5mb31zZXRCb3VuZGluZ0luZm8oZSl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz1lLHRoaXN9Z2V0TWVzaCgpe3JldHVybiB0aGlzLl9tZXNofWdldFJlbmRlcmluZ01lc2goKXtyZXR1cm4gdGhpcy5fcmVuZGVyaW5nTWVzaH1nZXRSZXBsYWNlbWVudE1lc2goKXtyZXR1cm4gdGhpcy5fbWVzaC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaD90aGlzLl9tZXNoOm51bGx9Z2V0RWZmZWN0aXZlTWVzaCgpe2NvbnN0IGU9dGhpcy5fbWVzaC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaD90aGlzLl9tZXNoOm51bGw7cmV0dXJuIGV8fHRoaXMuX3JlbmRlcmluZ01lc2h9Z2V0TWF0ZXJpYWwoZT0hMCl7dmFyIHQ7Y29uc3QgaT0odD10aGlzLl9yZW5kZXJpbmdNZXNoLmdldE1hdGVyaWFsRm9yUmVuZGVyUGFzcyh0aGlzLl9lbmdpbmUuY3VycmVudFJlbmRlclBhc3NJZCkpIT09bnVsbCYmdCE9PXZvaWQgMD90OnRoaXMuX3JlbmRlcmluZ01lc2gubWF0ZXJpYWw7aWYoaSl7aWYodGhpcy5faXNNdWx0aU1hdGVyaWFsKGkpKXtjb25zdCBzPWkuZ2V0U3ViTWF0ZXJpYWwodGhpcy5tYXRlcmlhbEluZGV4KTtyZXR1cm4gdGhpcy5fY3VycmVudE1hdGVyaWFsIT09cyYmKHRoaXMuX2N1cnJlbnRNYXRlcmlhbD1zLHRoaXMucmVzZXREcmF3Q2FjaGUoKSksc319ZWxzZSByZXR1cm4gZT90aGlzLl9tZXNoLmdldFNjZW5lKCkuZGVmYXVsdE1hdGVyaWFsOm51bGw7cmV0dXJuIGl9X2lzTXVsdGlNYXRlcmlhbChlKXtyZXR1cm4gZS5nZXRTdWJNYXRlcmlhbCE9PXZvaWQgMH1yZWZyZXNoQm91bmRpbmdJbmZvKGU9bnVsbCl7aWYodGhpcy5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcz1udWxsLHRoaXMuSXNHbG9iYWx8fCF0aGlzLl9yZW5kZXJpbmdNZXNofHwhdGhpcy5fcmVuZGVyaW5nTWVzaC5nZW9tZXRyeSlyZXR1cm4gdGhpcztpZihlfHwoZT10aGlzLl9yZW5kZXJpbmdNZXNoLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCkpLCFlKXJldHVybiB0aGlzLl9ib3VuZGluZ0luZm89dGhpcy5fbWVzaC5nZXRCb3VuZGluZ0luZm8oKSx0aGlzO2NvbnN0IHQ9dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRJbmRpY2VzKCk7bGV0IGk7aWYodGhpcy5pbmRleFN0YXJ0PT09MCYmdGhpcy5pbmRleENvdW50PT09dC5sZW5ndGgpe2NvbnN0IHM9dGhpcy5fcmVuZGVyaW5nTWVzaC5nZXRCb3VuZGluZ0luZm8oKTtpPXttaW5pbXVtOnMubWluaW11bS5jbG9uZSgpLG1heGltdW06cy5tYXhpbXVtLmNsb25lKCl9fWVsc2UgaT1XbihlLHQsdGhpcy5pbmRleFN0YXJ0LHRoaXMuaW5kZXhDb3VudCx0aGlzLl9yZW5kZXJpbmdNZXNoLmdlb21ldHJ5LmJvdW5kaW5nQmlhcyk7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz90aGlzLl9ib3VuZGluZ0luZm8ucmVDb25zdHJ1Y3QoaS5taW5pbXVtLGkubWF4aW11bSk6dGhpcy5fYm91bmRpbmdJbmZvPW5ldyBmdChpLm1pbmltdW0saS5tYXhpbXVtKSx0aGlzfV9jaGVja0NvbGxpc2lvbihlKXtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5fY2hlY2tDb2xsaXNpb24oZSl9dXBkYXRlQm91bmRpbmdJbmZvKGUpe2xldCB0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7cmV0dXJuIHR8fCh0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSx0PXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkpLHQmJnQudXBkYXRlKGUpLHRoaXN9aXNJbkZydXN0dW0oZSl7Y29uc3QgdD10aGlzLmdldEJvdW5kaW5nSW5mbygpO3JldHVybiB0P3QuaXNJbkZydXN0dW0oZSx0aGlzLl9tZXNoLmN1bGxpbmdTdHJhdGVneSk6ITF9aXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpe2NvbnN0IHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtyZXR1cm4gdD90LmlzQ29tcGxldGVseUluRnJ1c3R1bShlKTohMX1yZW5kZXIoZSl7cmV0dXJuIHRoaXMuX3JlbmRlcmluZ01lc2gucmVuZGVyKHRoaXMsZSx0aGlzLl9tZXNoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoP3RoaXMuX21lc2g6dm9pZCAwKSx0aGlzfV9nZXRMaW5lc0luZGV4QnVmZmVyKGUsdCl7aWYoIXRoaXMuX2xpbmVzSW5kZXhCdWZmZXIpe2NvbnN0IGk9W107Zm9yKGxldCBzPXRoaXMuaW5kZXhTdGFydDtzPHRoaXMuaW5kZXhTdGFydCt0aGlzLmluZGV4Q291bnQ7cys9MylpLnB1c2goZVtzXSxlW3MrMV0sZVtzKzFdLGVbcysyXSxlW3MrMl0sZVtzXSk7dGhpcy5fbGluZXNJbmRleEJ1ZmZlcj10LmNyZWF0ZUluZGV4QnVmZmVyKGkpLHRoaXMuX2xpbmVzSW5kZXhDb3VudD1pLmxlbmd0aH1yZXR1cm4gdGhpcy5fbGluZXNJbmRleEJ1ZmZlcn1jYW5JbnRlcnNlY3RzKGUpe2NvbnN0IHQ9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTtyZXR1cm4gdD9lLmludGVyc2VjdHNCb3godC5ib3VuZGluZ0JveCk6ITF9aW50ZXJzZWN0cyhlLHQsaSxzLHIpe2NvbnN0IG49dGhpcy5nZXRNYXRlcmlhbCgpO2lmKCFuKXJldHVybiBudWxsO2xldCBhPTMsbz0hMTtzd2l0Y2gobi5maWxsTW9kZSl7Y2FzZSAzOmNhc2UgNTpjYXNlIDY6Y2FzZSA4OnJldHVybiBudWxsO2Nhc2UgNzphPTEsbz0hMDticmVha31yZXR1cm4gbi5maWxsTW9kZT09PTQ/aS5sZW5ndGg/dGhpcy5faW50ZXJzZWN0TGluZXMoZSx0LGksdGhpcy5fbWVzaC5pbnRlcnNlY3Rpb25UaHJlc2hvbGQscyk6dGhpcy5faW50ZXJzZWN0VW5JbmRleGVkTGluZXMoZSx0LGksdGhpcy5fbWVzaC5pbnRlcnNlY3Rpb25UaHJlc2hvbGQscyk6IWkubGVuZ3RoJiZ0aGlzLl9tZXNoLl91bkluZGV4ZWQ/dGhpcy5faW50ZXJzZWN0VW5JbmRleGVkVHJpYW5nbGVzKGUsdCxpLHMscik6dGhpcy5faW50ZXJzZWN0VHJpYW5nbGVzKGUsdCxpLGEsbyxzLHIpfV9pbnRlcnNlY3RMaW5lcyhlLHQsaSxzLHIpe2xldCBuPW51bGw7Zm9yKGxldCBhPXRoaXMuaW5kZXhTdGFydDthPHRoaXMuaW5kZXhTdGFydCt0aGlzLmluZGV4Q291bnQ7YSs9Mil7Y29uc3Qgbz10W2lbYV1dLGg9dFtpW2ErMV1dLGw9ZS5pbnRlcnNlY3Rpb25TZWdtZW50KG8saCxzKTtpZighKGw8MCkmJihyfHwhbnx8bDxuLmRpc3RhbmNlKSYmKG49bmV3IE5zKG51bGwsbnVsbCxsKSxuLmZhY2VJZD1hLzIscikpYnJlYWt9cmV0dXJuIG59X2ludGVyc2VjdFVuSW5kZXhlZExpbmVzKGUsdCxpLHMscil7bGV0IG49bnVsbDtmb3IobGV0IGE9dGhpcy52ZXJ0aWNlc1N0YXJ0O2E8dGhpcy52ZXJ0aWNlc1N0YXJ0K3RoaXMudmVydGljZXNDb3VudDthKz0yKXtjb25zdCBvPXRbYV0saD10W2ErMV0sbD1lLmludGVyc2VjdGlvblNlZ21lbnQobyxoLHMpO2lmKCEobDwwKSYmKHJ8fCFufHxsPG4uZGlzdGFuY2UpJiYobj1uZXcgTnMobnVsbCxudWxsLGwpLG4uZmFjZUlkPWEvMixyKSlicmVha31yZXR1cm4gbn1faW50ZXJzZWN0VHJpYW5nbGVzKGUsdCxpLHMscixuLGEpe2xldCBvPW51bGwsaD0tMTtmb3IobGV0IGw9dGhpcy5pbmRleFN0YXJ0O2w8dGhpcy5pbmRleFN0YXJ0K3RoaXMuaW5kZXhDb3VudC0oMy1zKTtsKz1zKXtoKys7Y29uc3QgdT1pW2xdLGQ9aVtsKzFdLF89aVtsKzJdO2lmKHImJl89PT00Mjk0OTY3Mjk1KXtsKz0yO2NvbnRpbnVlfWNvbnN0IGY9dFt1XSxtPXRbZF0sdj10W19dO2lmKCFmfHwhbXx8IXZ8fGEmJiFhKGYsbSx2LGUsdSxkLF8pKWNvbnRpbnVlO2NvbnN0IEU9ZS5pbnRlcnNlY3RzVHJpYW5nbGUoZixtLHYpO2lmKEUpe2lmKEUuZGlzdGFuY2U8MCljb250aW51ZTtpZigobnx8IW98fEUuZGlzdGFuY2U8by5kaXN0YW5jZSkmJihvPUUsby5mYWNlSWQ9aCxuKSlicmVha319cmV0dXJuIG99X2ludGVyc2VjdFVuSW5kZXhlZFRyaWFuZ2xlcyhlLHQsaSxzLHIpe2xldCBuPW51bGw7Zm9yKGxldCBhPXRoaXMudmVydGljZXNTdGFydDthPHRoaXMudmVydGljZXNTdGFydCt0aGlzLnZlcnRpY2VzQ291bnQ7YSs9Myl7Y29uc3Qgbz10W2FdLGg9dFthKzFdLGw9dFthKzJdO2lmKHImJiFyKG8saCxsLGUsLTEsLTEsLTEpKWNvbnRpbnVlO2NvbnN0IHU9ZS5pbnRlcnNlY3RzVHJpYW5nbGUobyxoLGwpO2lmKHUpe2lmKHUuZGlzdGFuY2U8MCljb250aW51ZTtpZigoc3x8IW58fHUuZGlzdGFuY2U8bi5kaXN0YW5jZSkmJihuPXUsbi5mYWNlSWQ9YS8zLHMpKWJyZWFrfX1yZXR1cm4gbn1fcmVidWlsZCgpe3RoaXMuX2xpbmVzSW5kZXhCdWZmZXImJih0aGlzLl9saW5lc0luZGV4QnVmZmVyPW51bGwpfWNsb25lKGUsdCl7Y29uc3QgaT1uZXcgVHQodGhpcy5tYXRlcmlhbEluZGV4LHRoaXMudmVydGljZXNTdGFydCx0aGlzLnZlcnRpY2VzQ291bnQsdGhpcy5pbmRleFN0YXJ0LHRoaXMuaW5kZXhDb3VudCxlLHQsITEpO2lmKCF0aGlzLklzR2xvYmFsKXtjb25zdCBzPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7aWYoIXMpcmV0dXJuIGk7aS5fYm91bmRpbmdJbmZvPW5ldyBmdChzLm1pbmltdW0scy5tYXhpbXVtKX1yZXR1cm4gaX1kaXNwb3NlKCl7dGhpcy5fbGluZXNJbmRleEJ1ZmZlciYmKHRoaXMuX21lc2guZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9saW5lc0luZGV4QnVmZmVyKSx0aGlzLl9saW5lc0luZGV4QnVmZmVyPW51bGwpO2NvbnN0IGU9dGhpcy5fbWVzaC5zdWJNZXNoZXMuaW5kZXhPZih0aGlzKTt0aGlzLl9tZXNoLnN1Yk1lc2hlcy5zcGxpY2UoZSwxKSx0aGlzLnJlc2V0RHJhd0NhY2hlKCl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlN1Yk1lc2gifXN0YXRpYyBDcmVhdGVGcm9tSW5kaWNlcyhlLHQsaSxzLHIsbj0hMCl7bGV0IGE9TnVtYmVyLk1BWF9WQUxVRSxvPS1OdW1iZXIuTUFYX1ZBTFVFO2NvbnN0IGw9KHJ8fHMpLmdldEluZGljZXMoKTtmb3IobGV0IHU9dDt1PHQraTt1Kyspe2NvbnN0IGQ9bFt1XTtkPGEmJihhPWQpLGQ+byYmKG89ZCl9cmV0dXJuIG5ldyBUdChlLGEsby1hKzEsdCxpLHMscixuKX19Y2xhc3MgRmV7c3RhdGljIGdldCBGb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbCgpe3JldHVybiBGZS5fRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWx9c3RhdGljIHNldCBGb3JjZUZ1bGxTY2VuZUxvYWRpbmdGb3JJbmNyZW1lbnRhbChlKXtGZS5fRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWw9ZX1zdGF0aWMgZ2V0IFNob3dMb2FkaW5nU2NyZWVuKCl7cmV0dXJuIEZlLl9TaG93TG9hZGluZ1NjcmVlbn1zdGF0aWMgc2V0IFNob3dMb2FkaW5nU2NyZWVuKGUpe0ZlLl9TaG93TG9hZGluZ1NjcmVlbj1lfXN0YXRpYyBnZXQgbG9nZ2luZ0xldmVsKCl7cmV0dXJuIEZlLl9Mb2dnaW5nTGV2ZWx9c3RhdGljIHNldCBsb2dnaW5nTGV2ZWwoZSl7RmUuX0xvZ2dpbmdMZXZlbD1lfXN0YXRpYyBnZXQgQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cygpe3JldHVybiBGZS5fQ2xlYW5Cb25lTWF0cml4V2VpZ2h0c31zdGF0aWMgc2V0IENsZWFuQm9uZU1hdHJpeFdlaWdodHMoZSl7RmUuX0NsZWFuQm9uZU1hdHJpeFdlaWdodHM9ZX19RmUuX0ZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsPSExLEZlLl9TaG93TG9hZGluZ1NjcmVlbj0hMCxGZS5fQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cz0hMSxGZS5fTG9nZ2luZ0xldmVsPTA7Y2xhc3MgX3R7fV90LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVY9ITE7Y2xhc3Mgb3R7Z2V0IGJvdW5kaW5nQmlhcygpe3JldHVybiB0aGlzLl9ib3VuZGluZ0JpYXN9c2V0IGJvdW5kaW5nQmlhcyhlKXt0aGlzLl9ib3VuZGluZ0JpYXM/dGhpcy5fYm91bmRpbmdCaWFzLmNvcHlGcm9tKGUpOnRoaXMuX2JvdW5kaW5nQmlhcz1lLmNsb25lKCksdGhpcy5fdXBkYXRlQm91bmRpbmdJbmZvKCEwLG51bGwpfXN0YXRpYyBDcmVhdGVHZW9tZXRyeUZvck1lc2goZSl7Y29uc3QgdD1uZXcgb3Qob3QuUmFuZG9tSWQoKSxlLmdldFNjZW5lKCkpO3JldHVybiB0LmFwcGx5VG9NZXNoKGUpLHR9Z2V0IG1lc2hlcygpe3JldHVybiB0aGlzLl9tZXNoZXN9Y29uc3RydWN0b3IoZSx0LGkscz0hMSxyPW51bGwpe3RoaXMuZGVsYXlMb2FkU3RhdGU9MCx0aGlzLl90b3RhbFZlcnRpY2VzPTAsdGhpcy5faXNEaXNwb3NlZD0hMSx0aGlzLl9pbmRleEJ1ZmZlcklzVXBkYXRhYmxlPSExLHRoaXMuX3Bvc2l0aW9uc0NhY2hlPVtdLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMudXNlQm91bmRpbmdJbmZvRnJvbUdlb21ldHJ5PSExLHRoaXMuX3NjZW5lPXR8fGxlLkxhc3RDcmVhdGVkU2NlbmUsdGhpcy5fc2NlbmUmJih0aGlzLmlkPWUsdGhpcy51bmlxdWVJZD10aGlzLl9zY2VuZS5nZXRVbmlxdWVJZCgpLHRoaXMuX2VuZ2luZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSx0aGlzLl9tZXNoZXM9W10sdGhpcy5fdmVydGV4QnVmZmVycz17fSx0aGlzLl9pbmRpY2VzPVtdLHRoaXMuX3VwZGF0YWJsZT1zLGk/dGhpcy5zZXRBbGxWZXJ0aWNlc0RhdGEoaSxzKTp0aGlzLl90b3RhbFZlcnRpY2VzPTAsdGhpcy5fZW5naW5lLmdldENhcHMoKS52ZXJ0ZXhBcnJheU9iamVjdCYmKHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cz17fSksciYmKHRoaXMuYXBwbHlUb01lc2gociksci5jb21wdXRlV29ybGRNYXRyaXgoITApKSl9Z2V0IGV4dGVuZCgpe3JldHVybiB0aGlzLl9leHRlbmR9Z2V0U2NlbmUoKXtyZXR1cm4gdGhpcy5fc2NlbmV9Z2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX1pc1JlYWR5KCl7cmV0dXJuIHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0xfHx0aGlzLmRlbGF5TG9hZFN0YXRlPT09MH1nZXQgZG9Ob3RTZXJpYWxpemUoKXtmb3IobGV0IGU9MDtlPHRoaXMuX21lc2hlcy5sZW5ndGg7ZSsrKWlmKCF0aGlzLl9tZXNoZXNbZV0uZG9Ob3RTZXJpYWxpemUpcmV0dXJuITE7cmV0dXJuITB9X3JlYnVpbGQoKXt0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJih0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHM9e30pLHRoaXMuX21lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9pbmRpY2VzJiYodGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuX2luZGljZXMsdGhpcy5fdXBkYXRhYmxlKSk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fdmVydGV4QnVmZmVycyl0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdLl9yZWJ1aWxkKCl9c2V0QWxsVmVydGljZXNEYXRhKGUsdCl7ZS5hcHBseVRvR2VvbWV0cnkodGhpcyx0KSx0aGlzLl9ub3RpZnlVcGRhdGUoKX1zZXRWZXJ0aWNlc0RhdGEoZSx0LGk9ITEscyl7aSYmQXJyYXkuaXNBcnJheSh0KSYmKHQ9bmV3IEZsb2F0MzJBcnJheSh0KSk7Y29uc3Qgcj1uZXcgZyh0aGlzLl9lbmdpbmUsdCxlLGksdGhpcy5fbWVzaGVzLmxlbmd0aD09PTAscyk7dGhpcy5zZXRWZXJ0aWNlc0J1ZmZlcihyKX1yZW1vdmVWZXJ0aWNlc0RhdGEoZSl7dGhpcy5fdmVydGV4QnVmZmVyc1tlXSYmKHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV0uZGlzcG9zZSgpLGRlbGV0ZSB0aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdKSx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMmJnRoaXMuX2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKX1zZXRWZXJ0aWNlc0J1ZmZlcihlLHQ9bnVsbCxpPSEwKXtjb25zdCBzPWUuZ2V0S2luZCgpO3RoaXMuX3ZlcnRleEJ1ZmZlcnNbc10mJmkmJnRoaXMuX3ZlcnRleEJ1ZmZlcnNbc10uZGlzcG9zZSgpLGUuX2J1ZmZlciYmZS5fYnVmZmVyLl9pbmNyZWFzZVJlZmVyZW5jZXMoKSx0aGlzLl92ZXJ0ZXhCdWZmZXJzW3NdPWU7Y29uc3Qgcj10aGlzLl9tZXNoZXMsbj1yLmxlbmd0aDtpZihzPT09Zy5Qb3NpdGlvbktpbmQpe2NvbnN0IGE9ZS5nZXREYXRhKCk7dCE9bnVsbD90aGlzLl90b3RhbFZlcnRpY2VzPXQ6YSE9bnVsbCYmKHRoaXMuX3RvdGFsVmVydGljZXM9YS5sZW5ndGgvKGUudHlwZT09PWcuQllURT9lLmJ5dGVTdHJpZGU6ZS5ieXRlU3RyaWRlLzQpKSx0aGlzLl91cGRhdGVFeHRlbmQoYSksdGhpcy5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCk7Zm9yKGxldCBvPTA7bzxuO28rKyl7Y29uc3QgaD1yW29dO2guYnVpbGRCb3VuZGluZ0luZm8odGhpcy5fZXh0ZW5kLm1pbmltdW0sdGhpcy5fZXh0ZW5kLm1heGltdW0pLGguX2NyZWF0ZUdsb2JhbFN1Yk1lc2goaC5pc1VuSW5kZXhlZCksaC5jb21wdXRlV29ybGRNYXRyaXgoITApLGguc3luY2hyb25pemVJbnN0YW5jZXMoKX19dGhpcy5fbm90aWZ5VXBkYXRlKHMpfXVwZGF0ZVZlcnRpY2VzRGF0YURpcmVjdGx5KGUsdCxpLHM9ITEpe2NvbnN0IHI9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoZSk7ciYmKHIudXBkYXRlRGlyZWN0bHkodCxpLHMpLHRoaXMuX25vdGlmeVVwZGF0ZShlKSl9dXBkYXRlVmVydGljZXNEYXRhKGUsdCxpPSExKXtjb25zdCBzPXRoaXMuZ2V0VmVydGV4QnVmZmVyKGUpO3MmJihzLnVwZGF0ZSh0KSxlPT09Zy5Qb3NpdGlvbktpbmQmJnRoaXMuX3VwZGF0ZUJvdW5kaW5nSW5mbyhpLHQpLHRoaXMuX25vdGlmeVVwZGF0ZShlKSl9X3VwZGF0ZUJvdW5kaW5nSW5mbyhlLHQpe2lmKGUmJnRoaXMuX3VwZGF0ZUV4dGVuZCh0KSx0aGlzLl9yZXNldFBvaW50c0FycmF5Q2FjaGUoKSxlKXtjb25zdCBpPXRoaXMuX21lc2hlcztmb3IoY29uc3QgcyBvZiBpKXtzLmhhc0JvdW5kaW5nSW5mbz9zLmdldEJvdW5kaW5nSW5mbygpLnJlQ29uc3RydWN0KHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKTpzLmJ1aWxkQm91bmRpbmdJbmZvKHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKTtjb25zdCByPXMuc3ViTWVzaGVzO2Zvcihjb25zdCBuIG9mIHIpbi5yZWZyZXNoQm91bmRpbmdJbmZvKCl9fX1fYmluZChlLHQsaSxzKXtpZighZSlyZXR1cm47dD09PXZvaWQgMCYmKHQ9dGhpcy5faW5kZXhCdWZmZXIpO2NvbnN0IHI9dGhpcy5nZXRWZXJ0ZXhCdWZmZXJzKCk7aWYoIXIpcmV0dXJuO2lmKHQhPXRoaXMuX2luZGV4QnVmZmVyfHwhdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiYhcyl7dGhpcy5fZW5naW5lLmJpbmRCdWZmZXJzKHIsdCxlLGkpO3JldHVybn1jb25zdCBuPXN8fHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cztuW2Uua2V5XXx8KG5bZS5rZXldPXRoaXMuX2VuZ2luZS5yZWNvcmRWZXJ0ZXhBcnJheU9iamVjdChyLHQsZSxpKSksdGhpcy5fZW5naW5lLmJpbmRWZXJ0ZXhBcnJheU9iamVjdChuW2Uua2V5XSx0KX1nZXRUb3RhbFZlcnRpY2VzKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX3RvdGFsVmVydGljZXM6MH1nZXRWZXJ0aWNlc0RhdGEoZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoZSk7cmV0dXJuIHM/cy5nZXRGbG9hdERhdGEodGhpcy5fdG90YWxWZXJ0aWNlcyxpfHx0JiZ0aGlzLl9tZXNoZXMubGVuZ3RoIT09MSk6bnVsbH1pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShlKXtjb25zdCB0PXRoaXMuX3ZlcnRleEJ1ZmZlcnNbZV07cmV0dXJuIHQ/dC5pc1VwZGF0YWJsZSgpOiExfWdldFZlcnRleEJ1ZmZlcihlKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5fdmVydGV4QnVmZmVyc1tlXTpudWxsfWdldFZlcnRleEJ1ZmZlcnMoKXtyZXR1cm4gdGhpcy5pc1JlYWR5KCk/dGhpcy5fdmVydGV4QnVmZmVyczpudWxsfWlzVmVydGljZXNEYXRhUHJlc2VudChlKXtyZXR1cm4gdGhpcy5fdmVydGV4QnVmZmVycz90aGlzLl92ZXJ0ZXhCdWZmZXJzW2VdIT09dm9pZCAwOnRoaXMuX2RlbGF5SW5mbz90aGlzLl9kZWxheUluZm8uaW5kZXhPZihlKSE9PS0xOiExfWdldFZlcnRpY2VzRGF0YUtpbmRzKCl7Y29uc3QgZT1bXTtsZXQgdDtpZighdGhpcy5fdmVydGV4QnVmZmVycyYmdGhpcy5fZGVsYXlJbmZvKWZvcih0IGluIHRoaXMuX2RlbGF5SW5mbyllLnB1c2godCk7ZWxzZSBmb3IodCBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKWUucHVzaCh0KTtyZXR1cm4gZX11cGRhdGVJbmRpY2VzKGUsdCxpPSExKXtpZih0aGlzLl9pbmRleEJ1ZmZlcilpZighdGhpcy5faW5kZXhCdWZmZXJJc1VwZGF0YWJsZSl0aGlzLnNldEluZGljZXMoZSxudWxsLCEwKTtlbHNle2NvbnN0IHM9ZS5sZW5ndGghPT10aGlzLl9pbmRpY2VzLmxlbmd0aDtpZihpfHwodGhpcy5faW5kaWNlcz1lLnNsaWNlKCkpLHRoaXMuX2VuZ2luZS51cGRhdGVEeW5hbWljSW5kZXhCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIsZSx0KSxzKWZvcihjb25zdCByIG9mIHRoaXMuX21lc2hlcylyLl9jcmVhdGVHbG9iYWxTdWJNZXNoKCEwKX19c2V0SW5kaWNlcyhlLHQ9bnVsbCxpPSExKXt0aGlzLl9pbmRleEJ1ZmZlciYmdGhpcy5fZW5naW5lLl9yZWxlYXNlQnVmZmVyKHRoaXMuX2luZGV4QnVmZmVyKSx0aGlzLl9pbmRpY2VzPWUsdGhpcy5faW5kZXhCdWZmZXJJc1VwZGF0YWJsZT1pLHRoaXMuX21lc2hlcy5sZW5ndGghPT0wJiZ0aGlzLl9pbmRpY2VzJiYodGhpcy5faW5kZXhCdWZmZXI9dGhpcy5fZW5naW5lLmNyZWF0ZUluZGV4QnVmZmVyKHRoaXMuX2luZGljZXMsaSkpLHQhPW51bGwmJih0aGlzLl90b3RhbFZlcnRpY2VzPXQpO2Zvcihjb25zdCBzIG9mIHRoaXMuX21lc2hlcylzLl9jcmVhdGVHbG9iYWxTdWJNZXNoKCEwKSxzLnN5bmNocm9uaXplSW5zdGFuY2VzKCk7dGhpcy5fbm90aWZ5VXBkYXRlKCl9Z2V0VG90YWxJbmRpY2VzKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX2luZGljZXMubGVuZ3RoOjB9Z2V0SW5kaWNlcyhlLHQpe2lmKCF0aGlzLmlzUmVhZHkoKSlyZXR1cm4gbnVsbDtjb25zdCBpPXRoaXMuX2luZGljZXM7cmV0dXJuIXQmJighZXx8dGhpcy5fbWVzaGVzLmxlbmd0aD09PTEpP2k6aS5zbGljZSgpfWdldEluZGV4QnVmZmVyKCl7cmV0dXJuIHRoaXMuaXNSZWFkeSgpP3RoaXMuX2luZGV4QnVmZmVyOm51bGx9X3JlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChlPW51bGwpeyFlfHwhdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzfHx0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbZS5rZXldJiYodGhpcy5fZW5naW5lLnJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdCh0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHNbZS5rZXldKSxkZWxldGUgdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzW2Uua2V5XSl9cmVsZWFzZUZvck1lc2goZSx0KXtjb25zdCBpPXRoaXMuX21lc2hlcyxzPWkuaW5kZXhPZihlKTtzIT09LTEmJihpLnNwbGljZShzLDEpLHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmZS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSxlLl9nZW9tZXRyeT1udWxsLGkubGVuZ3RoPT09MCYmdCYmdGhpcy5kaXNwb3NlKCkpfWFwcGx5VG9NZXNoKGUpe2lmKGUuX2dlb21ldHJ5PT09dGhpcylyZXR1cm47Y29uc3QgdD1lLl9nZW9tZXRyeTt0JiZ0LnJlbGVhc2VGb3JNZXNoKGUpLHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyYmZS5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKTtjb25zdCBpPXRoaXMuX21lc2hlcztlLl9nZW9tZXRyeT10aGlzLGUuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9ucz1udWxsLHRoaXMuX3NjZW5lLnB1c2hHZW9tZXRyeSh0aGlzKSxpLnB1c2goZSksdGhpcy5pc1JlYWR5KCk/dGhpcy5fYXBwbHlUb01lc2goZSk6dGhpcy5fYm91bmRpbmdJbmZvJiZlLnNldEJvdW5kaW5nSW5mbyh0aGlzLl9ib3VuZGluZ0luZm8pfV91cGRhdGVFeHRlbmQoZT1udWxsKXtpZih0aGlzLnVzZUJvdW5kaW5nSW5mb0Zyb21HZW9tZXRyeSYmdGhpcy5fYm91bmRpbmdJbmZvKXRoaXMuX2V4dGVuZD17bWluaW11bTp0aGlzLl9ib3VuZGluZ0luZm8ubWluaW11bS5jbG9uZSgpLG1heGltdW06dGhpcy5fYm91bmRpbmdJbmZvLm1heGltdW0uY2xvbmUoKX07ZWxzZXtpZighZSYmKGU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpLCFlKSlyZXR1cm47dGhpcy5fZXh0ZW5kPURyKGUsMCx0aGlzLl90b3RhbFZlcnRpY2VzLHRoaXMuYm91bmRpbmdCaWFzLDMpfX1fYXBwbHlUb01lc2goZSl7Y29uc3QgdD10aGlzLl9tZXNoZXMubGVuZ3RoO2Zvcihjb25zdCBpIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpdD09PTEmJnRoaXMuX3ZlcnRleEJ1ZmZlcnNbaV0uY3JlYXRlKCksaT09PWcuUG9zaXRpb25LaW5kJiYodGhpcy5fZXh0ZW5kfHx0aGlzLl91cGRhdGVFeHRlbmQoKSxlLmJ1aWxkQm91bmRpbmdJbmZvKHRoaXMuX2V4dGVuZC5taW5pbXVtLHRoaXMuX2V4dGVuZC5tYXhpbXVtKSxlLl9jcmVhdGVHbG9iYWxTdWJNZXNoKGUuaXNVbkluZGV4ZWQpLGUuX3VwZGF0ZUJvdW5kaW5nSW5mbygpKTt0PT09MSYmdGhpcy5faW5kaWNlcyYmdGhpcy5faW5kaWNlcy5sZW5ndGg+MCYmKHRoaXMuX2luZGV4QnVmZmVyPXRoaXMuX2VuZ2luZS5jcmVhdGVJbmRleEJ1ZmZlcih0aGlzLl9pbmRpY2VzLHRoaXMuX3VwZGF0YWJsZSkpLGUuX3N5bmNHZW9tZXRyeVdpdGhNb3JwaFRhcmdldE1hbmFnZXIoKSxlLnN5bmNocm9uaXplSW5zdGFuY2VzKCl9X25vdGlmeVVwZGF0ZShlKXt0aGlzLm9uR2VvbWV0cnlVcGRhdGVkJiZ0aGlzLm9uR2VvbWV0cnlVcGRhdGVkKHRoaXMsZSksdGhpcy5fdmVydGV4QXJyYXlPYmplY3RzJiZ0aGlzLl9kaXNwb3NlVmVydGV4QXJyYXlPYmplY3RzKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fbWVzaGVzKXQuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpfWxvYWQoZSx0KXtpZih0aGlzLmRlbGF5TG9hZFN0YXRlIT09Mil7aWYodGhpcy5pc1JlYWR5KCkpe3QmJnQoKTtyZXR1cm59dGhpcy5kZWxheUxvYWRTdGF0ZT0yLHRoaXMuX3F1ZXVlTG9hZChlLHQpfX1fcXVldWVMb2FkKGUsdCl7dGhpcy5kZWxheUxvYWRpbmdGaWxlJiYoZS5hZGRQZW5kaW5nRGF0YSh0aGlzKSxlLl9sb2FkRmlsZSh0aGlzLmRlbGF5TG9hZGluZ0ZpbGUsaT0+e2lmKCF0aGlzLl9kZWxheUxvYWRpbmdGdW5jdGlvbilyZXR1cm47dGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb24oSlNPTi5wYXJzZShpKSx0aGlzKSx0aGlzLmRlbGF5TG9hZFN0YXRlPTEsdGhpcy5fZGVsYXlJbmZvPVtdLGUucmVtb3ZlUGVuZGluZ0RhdGEodGhpcyk7Y29uc3Qgcz10aGlzLl9tZXNoZXMscj1zLmxlbmd0aDtmb3IobGV0IG49MDtuPHI7bisrKXRoaXMuX2FwcGx5VG9NZXNoKHNbbl0pO3QmJnQoKX0sdm9pZCAwLCEwKSl9dG9MZWZ0SGFuZGVkKCl7Y29uc3QgZT10aGlzLmdldEluZGljZXMoITEpO2lmKGUhPW51bGwmJmUubGVuZ3RoPjApe2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cys9Myl7Y29uc3Qgcj1lW3MrMF07ZVtzKzBdPWVbcysyXSxlW3MrMl09cn10aGlzLnNldEluZGljZXMoZSl9Y29uc3QgdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCwhMSk7aWYodCE9bnVsbCYmdC5sZW5ndGg+MCl7Zm9yKGxldCBzPTA7czx0Lmxlbmd0aDtzKz0zKXRbcysyXT0tdFtzKzJdO3RoaXMuc2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLHQsITEpfWNvbnN0IGk9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLCExKTtpZihpIT1udWxsJiZpLmxlbmd0aD4wKXtmb3IobGV0IHM9MDtzPGkubGVuZ3RoO3MrPTMpaVtzKzJdPS1pW3MrMl07dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLGksITEpfX1fcmVzZXRQb2ludHNBcnJheUNhY2hlKCl7dGhpcy5fcG9zaXRpb25zPW51bGx9X2dlbmVyYXRlUG9pbnRzQXJyYXkoKXtpZih0aGlzLl9wb3NpdGlvbnMpcmV0dXJuITA7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7aWYoIWV8fGUubGVuZ3RoPT09MClyZXR1cm4hMTtmb3IobGV0IHQ9dGhpcy5fcG9zaXRpb25zQ2FjaGUubGVuZ3RoKjMsaT10aGlzLl9wb3NpdGlvbnNDYWNoZS5sZW5ndGg7dDxlLmxlbmd0aDt0Kz0zLCsraSl0aGlzLl9wb3NpdGlvbnNDYWNoZVtpXT1wLkZyb21BcnJheShlLHQpO2ZvcihsZXQgdD0wLGk9MDt0PGUubGVuZ3RoO3QrPTMsKytpKXRoaXMuX3Bvc2l0aW9uc0NhY2hlW2ldLnNldChlWzArdF0sZVsxK3RdLGVbMit0XSk7cmV0dXJuIHRoaXMuX3Bvc2l0aW9uc0NhY2hlLmxlbmd0aD1lLmxlbmd0aC8zLHRoaXMuX3Bvc2l0aW9ucz10aGlzLl9wb3NpdGlvbnNDYWNoZSwhMH1pc0Rpc3Bvc2VkKCl7cmV0dXJuIHRoaXMuX2lzRGlzcG9zZWR9X2Rpc3Bvc2VWZXJ0ZXhBcnJheU9iamVjdHMoKXtpZih0aGlzLl92ZXJ0ZXhBcnJheU9iamVjdHMpe2Zvcihjb25zdCBpIGluIHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0cyl0aGlzLl9lbmdpbmUucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KHRoaXMuX3ZlcnRleEFycmF5T2JqZWN0c1tpXSk7dGhpcy5fdmVydGV4QXJyYXlPYmplY3RzPXt9O2NvbnN0IGU9dGhpcy5fbWVzaGVzLHQ9ZS5sZW5ndGg7Zm9yKGxldCBpPTA7aTx0O2krKyllW2ldLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpfX1kaXNwb3NlKCl7Y29uc3QgZT10aGlzLl9tZXNoZXMsdD1lLmxlbmd0aDtsZXQgaTtmb3IoaT0wO2k8dDtpKyspdGhpcy5yZWxlYXNlRm9yTWVzaChlW2ldKTt0aGlzLl9tZXNoZXMubGVuZ3RoPTAsdGhpcy5fZGlzcG9zZVZlcnRleEFycmF5T2JqZWN0cygpO2Zvcihjb25zdCBzIGluIHRoaXMuX3ZlcnRleEJ1ZmZlcnMpdGhpcy5fdmVydGV4QnVmZmVyc1tzXS5kaXNwb3NlKCk7aWYodGhpcy5fdmVydGV4QnVmZmVycz17fSx0aGlzLl90b3RhbFZlcnRpY2VzPTAsdGhpcy5faW5kZXhCdWZmZXImJnRoaXMuX2VuZ2luZS5fcmVsZWFzZUJ1ZmZlcih0aGlzLl9pbmRleEJ1ZmZlciksdGhpcy5faW5kZXhCdWZmZXI9bnVsbCx0aGlzLl9pbmRpY2VzPVtdLHRoaXMuZGVsYXlMb2FkU3RhdGU9MCx0aGlzLmRlbGF5TG9hZGluZ0ZpbGU9bnVsbCx0aGlzLl9kZWxheUxvYWRpbmdGdW5jdGlvbj1udWxsLHRoaXMuX2RlbGF5SW5mbz1bXSx0aGlzLl9ib3VuZGluZ0luZm89bnVsbCx0aGlzLl9zY2VuZS5yZW1vdmVHZW9tZXRyeSh0aGlzKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IHM9dGhpcy5fcGFyZW50Q29udGFpbmVyLmdlb21ldHJpZXMuaW5kZXhPZih0aGlzKTtzPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIuZ2VvbWV0cmllcy5zcGxpY2UocywxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH10aGlzLl9pc0Rpc3Bvc2VkPSEwfWNvcHkoZSl7Y29uc3QgdD1uZXcgdGU7dC5pbmRpY2VzPVtdO2NvbnN0IGk9dGhpcy5nZXRJbmRpY2VzKCk7aWYoaSlmb3IobGV0IG89MDtvPGkubGVuZ3RoO28rKyl0LmluZGljZXMucHVzaChpW29dKTtsZXQgcz0hMSxyPSExLG47Zm9yKG4gaW4gdGhpcy5fdmVydGV4QnVmZmVycyl7Y29uc3Qgbz10aGlzLmdldFZlcnRpY2VzRGF0YShuKTtpZihvJiYobyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheT90LnNldChuZXcgRmxvYXQzMkFycmF5KG8pLG4pOnQuc2V0KG8uc2xpY2UoMCksbiksIXIpKXtjb25zdCBoPXRoaXMuZ2V0VmVydGV4QnVmZmVyKG4pO2gmJihzPWguaXNVcGRhdGFibGUoKSxyPSFzKX19Y29uc3QgYT1uZXcgb3QoZSx0aGlzLl9zY2VuZSx0LHMpO2EuZGVsYXlMb2FkU3RhdGU9dGhpcy5kZWxheUxvYWRTdGF0ZSxhLmRlbGF5TG9hZGluZ0ZpbGU9dGhpcy5kZWxheUxvYWRpbmdGaWxlLGEuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPXRoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uO2ZvcihuIGluIHRoaXMuX2RlbGF5SW5mbylhLl9kZWxheUluZm89YS5fZGVsYXlJbmZvfHxbXSxhLl9kZWxheUluZm8ucHVzaChuKTtyZXR1cm4gYS5fYm91bmRpbmdJbmZvPW5ldyBmdCh0aGlzLl9leHRlbmQubWluaW11bSx0aGlzLl9leHRlbmQubWF4aW11bSksYX1zZXJpYWxpemUoKXtjb25zdCBlPXt9O3JldHVybiBlLmlkPXRoaXMuaWQsZS51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLGUudXBkYXRhYmxlPXRoaXMuX3VwZGF0YWJsZSxmZSYmZmUuSGFzVGFncyh0aGlzKSYmKGUudGFncz1mZS5HZXRUYWdzKHRoaXMpKSxlfV90b051bWJlckFycmF5KGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpP2U6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSl9Y2xlYXJDYWNoZWREYXRhKCl7dGhpcy5faW5kaWNlcz1bXSx0aGlzLl9yZXNldFBvaW50c0FycmF5Q2FjaGUoKTtmb3IoY29uc3QgZSBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl92ZXJ0ZXhCdWZmZXJzLGUpJiYodGhpcy5fdmVydGV4QnVmZmVyc1tlXS5fYnVmZmVyLl9kYXRhPW51bGwpfXNlcmlhbGl6ZVZlcnRpY2VEYXRhKCl7Y29uc3QgZT10aGlzLnNlcmlhbGl6ZSgpO3JldHVybiB0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlBvc2l0aW9uS2luZCkmJihlLnBvc2l0aW9ucz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlBvc2l0aW9uS2luZCkmJihlLnBvc2l0aW9ucy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSYmKGUubm9ybWFscz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5Ob3JtYWxLaW5kKSYmKGUubm9ybWFscy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5UYW5nZW50S2luZCkmJihlLnRhbmdlbnRzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5UYW5nZW50S2luZCkmJihlLnRhbmdlbnRzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWS2luZCkmJihlLnV2cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVZLaW5kKSksdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlVWS2luZCkmJihlLnV2cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjJLaW5kKSYmKGUudXYycz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVYyS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5VVjJLaW5kKSYmKGUudXYycy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjNLaW5kKSYmKGUudXYzcz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVYzS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5VVjNLaW5kKSYmKGUudXYzcy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjRLaW5kKSYmKGUudXY0cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVY0S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5VVjRLaW5kKSYmKGUudXY0cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjVLaW5kKSYmKGUudXY1cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVY1S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5VVjVLaW5kKSYmKGUudXY1cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjZLaW5kKSYmKGUudXY2cz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVY2S2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5VVjZLaW5kKSYmKGUudXY2cy5fdXBkYXRhYmxlPSEwKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Db2xvcktpbmQpJiYoZS5jb2xvcnM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShnLkNvbG9yS2luZCkpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5Db2xvcktpbmQpJiYoZS5jb2xvcnMuX3VwZGF0YWJsZT0hMCkpLHRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuTWF0cmljZXNJbmRpY2VzS2luZCkmJihlLm1hdHJpY2VzSW5kaWNlcz10aGlzLl90b051bWJlckFycmF5KHRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCkpLGUubWF0cmljZXNJbmRpY2VzLl9pc0V4cGFuZGVkPSEwLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5NYXRyaWNlc0luZGljZXNLaW5kKSYmKGUubWF0cmljZXNJbmRpY2VzLl91cGRhdGFibGU9ITApKSx0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpJiYoZS5tYXRyaWNlc1dlaWdodHM9dGhpcy5fdG9OdW1iZXJBcnJheSh0aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpKSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuTWF0cmljZXNXZWlnaHRzS2luZCkmJihlLm1hdHJpY2VzV2VpZ2h0cy5fdXBkYXRhYmxlPSEwKSksZS5pbmRpY2VzPXRoaXMuX3RvTnVtYmVyQXJyYXkodGhpcy5nZXRJbmRpY2VzKCkpLGV9c3RhdGljIEV4dHJhY3RGcm9tTWVzaChlLHQpe2NvbnN0IGk9ZS5fZ2VvbWV0cnk7cmV0dXJuIGk/aS5jb3B5KHQpOm51bGx9c3RhdGljIFJhbmRvbUlkKCl7cmV0dXJuIFguUmFuZG9tSWQoKX1zdGF0aWMgX0dldEdlb21ldHJ5QnlMb2FkZWRVbmlxdWVJZChlLHQpe2ZvcihsZXQgaT0wO2k8dC5nZW9tZXRyaWVzLmxlbmd0aDtpKyspaWYodC5nZW9tZXRyaWVzW2ldLl9sb2FkZWRVbmlxdWVJZD09PWUpcmV0dXJuIHQuZ2VvbWV0cmllc1tpXTtyZXR1cm4gbnVsbH1zdGF0aWMgX0ltcG9ydEdlb21ldHJ5KGUsdCl7Y29uc3QgaT10LmdldFNjZW5lKCkscz1lLmdlb21ldHJ5VW5pcXVlSWQscj1lLmdlb21ldHJ5SWQ7aWYoc3x8cil7Y29uc3Qgbj1zP3RoaXMuX0dldEdlb21ldHJ5QnlMb2FkZWRVbmlxdWVJZChzLGkpOmkuZ2V0R2VvbWV0cnlCeUlkKHIpO24mJm4uYXBwbHlUb01lc2godCl9ZWxzZSBpZihlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpe2NvbnN0IG49dC5fYmluYXJ5SW5mbztpZihuLnBvc2l0aW9uc0F0dHJEZXNjJiZuLnBvc2l0aW9uc0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4ucG9zaXRpb25zQXR0ckRlc2Mub2Zmc2V0LG4ucG9zaXRpb25zQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLGEsITEpfWlmKG4ubm9ybWFsc0F0dHJEZXNjJiZuLm5vcm1hbHNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLm5vcm1hbHNBdHRyRGVzYy5vZmZzZXQsbi5ub3JtYWxzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCxhLCExKX1pZihuLnRhbmdldHNBdHRyRGVzYyYmbi50YW5nZXRzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi50YW5nZXRzQXR0ckRlc2Mub2Zmc2V0LG4udGFuZ2V0c0F0dHJEZXNjLmNvdW50KTt0LnNldFZlcnRpY2VzRGF0YShnLlRhbmdlbnRLaW5kLGEsITEpfWlmKG4udXZzQXR0ckRlc2MmJm4udXZzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi51dnNBdHRyRGVzYy5vZmZzZXQsbi51dnNBdHRyRGVzYy5jb3VudCk7aWYoX3QuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEoZy5VVktpbmQsYSwhMSl9aWYobi51dnMyQXR0ckRlc2MmJm4udXZzMkF0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4udXZzMkF0dHJEZXNjLm9mZnNldCxuLnV2czJBdHRyRGVzYy5jb3VudCk7aWYoX3QuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kLGEsITEpfWlmKG4udXZzM0F0dHJEZXNjJiZuLnV2czNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnV2czNBdHRyRGVzYy5vZmZzZXQsbi51dnMzQXR0ckRlc2MuY291bnQpO2lmKF90LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKGxldCBvPTE7bzxhLmxlbmd0aDtvKz0yKWFbb109MS1hW29dO3Quc2V0VmVydGljZXNEYXRhKGcuVVYzS2luZCxhLCExKX1pZihuLnV2czRBdHRyRGVzYyYmbi51dnM0QXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgRmxvYXQzMkFycmF5KGUsbi51dnM0QXR0ckRlc2Mub2Zmc2V0LG4udXZzNEF0dHJEZXNjLmNvdW50KTtpZihfdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWKWZvcihsZXQgbz0xO288YS5sZW5ndGg7bys9MilhW29dPTEtYVtvXTt0LnNldFZlcnRpY2VzRGF0YShnLlVWNEtpbmQsYSwhMSl9aWYobi51dnM1QXR0ckRlc2MmJm4udXZzNUF0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4udXZzNUF0dHJEZXNjLm9mZnNldCxuLnV2czVBdHRyRGVzYy5jb3VudCk7aWYoX3QuVXNlT3BlbkdMT3JpZW50YXRpb25Gb3JVVilmb3IobGV0IG89MTtvPGEubGVuZ3RoO28rPTIpYVtvXT0xLWFbb107dC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kLGEsITEpfWlmKG4udXZzNkF0dHJEZXNjJiZuLnV2czZBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLnV2czZBdHRyRGVzYy5vZmZzZXQsbi51dnM2QXR0ckRlc2MuY291bnQpO2lmKF90LlVzZU9wZW5HTE9yaWVudGF0aW9uRm9yVVYpZm9yKGxldCBvPTE7bzxhLmxlbmd0aDtvKz0yKWFbb109MS1hW29dO3Quc2V0VmVydGljZXNEYXRhKGcuVVY2S2luZCxhLCExKX1pZihuLmNvbG9yc0F0dHJEZXNjJiZuLmNvbG9yc0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEZsb2F0MzJBcnJheShlLG4uY29sb3JzQXR0ckRlc2Mub2Zmc2V0LG4uY29sb3JzQXR0ckRlc2MuY291bnQpO3Quc2V0VmVydGljZXNEYXRhKGcuQ29sb3JLaW5kLGEsITEsbi5jb2xvcnNBdHRyRGVzYy5zdHJpZGUpfWlmKG4ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2MmJm4ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgSW50MzJBcnJheShlLG4ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2Mub2Zmc2V0LG4ubWF0cmljZXNJbmRpY2VzQXR0ckRlc2MuY291bnQpLG89W107Zm9yKGxldCBoPTA7aDxhLmxlbmd0aDtoKyspe2NvbnN0IGw9YVtoXTtvLnB1c2gobCYyNTUpLG8ucHVzaCgobCY2NTI4MCk+PjgpLG8ucHVzaCgobCYxNjcxMTY4MCk+PjE2KSxvLnB1c2gobD4+MjQmMjU1KX10LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0tpbmQsbywhMSl9aWYobi5tYXRyaWNlc0luZGljZXNFeHRyYUF0dHJEZXNjJiZuLm1hdHJpY2VzSW5kaWNlc0V4dHJhQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgSW50MzJBcnJheShlLG4ubWF0cmljZXNJbmRpY2VzRXh0cmFBdHRyRGVzYy5vZmZzZXQsbi5tYXRyaWNlc0luZGljZXNFeHRyYUF0dHJEZXNjLmNvdW50KSxvPVtdO2ZvcihsZXQgaD0wO2g8YS5sZW5ndGg7aCsrKXtjb25zdCBsPWFbaF07by5wdXNoKGwmMjU1KSxvLnB1c2goKGwmNjUyODApPj44KSxvLnB1c2goKGwmMTY3MTE2ODApPj4xNiksby5wdXNoKGw+PjI0JjI1NSl9dC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsbywhMSl9aWYobi5tYXRyaWNlc1dlaWdodHNBdHRyRGVzYyYmbi5tYXRyaWNlc1dlaWdodHNBdHRyRGVzYy5jb3VudD4wKXtjb25zdCBhPW5ldyBGbG9hdDMyQXJyYXkoZSxuLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjLm9mZnNldCxuLm1hdHJpY2VzV2VpZ2h0c0F0dHJEZXNjLmNvdW50KTt0LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsYSwhMSl9aWYobi5pbmRpY2VzQXR0ckRlc2MmJm4uaW5kaWNlc0F0dHJEZXNjLmNvdW50PjApe2NvbnN0IGE9bmV3IEludDMyQXJyYXkoZSxuLmluZGljZXNBdHRyRGVzYy5vZmZzZXQsbi5pbmRpY2VzQXR0ckRlc2MuY291bnQpO3Quc2V0SW5kaWNlcyhhLG51bGwpfWlmKG4uc3ViTWVzaGVzQXR0ckRlc2MmJm4uc3ViTWVzaGVzQXR0ckRlc2MuY291bnQ+MCl7Y29uc3QgYT1uZXcgSW50MzJBcnJheShlLG4uc3ViTWVzaGVzQXR0ckRlc2Mub2Zmc2V0LG4uc3ViTWVzaGVzQXR0ckRlc2MuY291bnQqNSk7dC5zdWJNZXNoZXM9W107Zm9yKGxldCBvPTA7bzxuLnN1Yk1lc2hlc0F0dHJEZXNjLmNvdW50O28rKyl7Y29uc3QgaD1hW28qNSswXSxsPWFbbyo1KzFdLHU9YVtvKjUrMl0sZD1hW28qNSszXSxfPWFbbyo1KzRdO1R0LkFkZFRvTWVzaChoLGwsdSxkLF8sdCl9fX1lbHNlIGlmKGUucG9zaXRpb25zJiZlLm5vcm1hbHMmJmUuaW5kaWNlcyl7aWYodC5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsZS5wb3NpdGlvbnMsZS5wb3NpdGlvbnMuX3VwZGF0YWJsZSksdC5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLGUubm9ybWFscyxlLm5vcm1hbHMuX3VwZGF0YWJsZSksZS50YW5nZW50cyYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCxlLnRhbmdlbnRzLGUudGFuZ2VudHMuX3VwZGF0YWJsZSksZS51dnMmJnQuc2V0VmVydGljZXNEYXRhKGcuVVZLaW5kLGUudXZzLGUudXZzLl91cGRhdGFibGUpLGUudXZzMiYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjJLaW5kLGUudXZzMixlLnV2czIuX3VwZGF0YWJsZSksZS51dnMzJiZ0LnNldFZlcnRpY2VzRGF0YShnLlVWM0tpbmQsZS51dnMzLGUudXZzMy5fdXBkYXRhYmxlKSxlLnV2czQmJnQuc2V0VmVydGljZXNEYXRhKGcuVVY0S2luZCxlLnV2czQsZS51dnM0Ll91cGRhdGFibGUpLGUudXZzNSYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5VVjVLaW5kLGUudXZzNSxlLnV2czUuX3VwZGF0YWJsZSksZS51dnM2JiZ0LnNldFZlcnRpY2VzRGF0YShnLlVWNktpbmQsZS51dnM2LGUudXZzNi5fdXBkYXRhYmxlKSxlLmNvbG9ycyYmdC5zZXRWZXJ0aWNlc0RhdGEoZy5Db2xvcktpbmQsTmUuQ2hlY2tDb2xvcnM0KGUuY29sb3JzLGUucG9zaXRpb25zLmxlbmd0aC8zKSxlLmNvbG9ycy5fdXBkYXRhYmxlKSxlLm1hdHJpY2VzSW5kaWNlcylpZihlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZClkZWxldGUgZS5tYXRyaWNlc0luZGljZXMuX2lzRXhwYW5kZWQsdC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kLGUubWF0cmljZXNJbmRpY2VzLGUubWF0cmljZXNJbmRpY2VzLl91cGRhdGFibGUpO2Vsc2V7Y29uc3Qgbj1bXTtmb3IobGV0IGE9MDthPGUubWF0cmljZXNJbmRpY2VzLmxlbmd0aDthKyspe2NvbnN0IG89ZS5tYXRyaWNlc0luZGljZXNbYV07bi5wdXNoKG8mMjU1KSxuLnB1c2goKG8mNjUyODApPj44KSxuLnB1c2goKG8mMTY3MTE2ODApPj4xNiksbi5wdXNoKG8+PjI0JjI1NSl9dC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kLG4sZS5tYXRyaWNlc0luZGljZXMuX3VwZGF0YWJsZSl9aWYoZS5tYXRyaWNlc0luZGljZXNFeHRyYSlpZihlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLl9pc0V4cGFuZGVkKWRlbGV0ZSBlLm1hdHJpY2VzSW5kaWNlcy5faXNFeHBhbmRlZCx0LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCxlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLGUubWF0cmljZXNJbmRpY2VzRXh0cmEuX3VwZGF0YWJsZSk7ZWxzZXtjb25zdCBuPVtdO2ZvcihsZXQgYT0wO2E8ZS5tYXRyaWNlc0luZGljZXNFeHRyYS5sZW5ndGg7YSsrKXtjb25zdCBvPWUubWF0cmljZXNJbmRpY2VzRXh0cmFbYV07bi5wdXNoKG8mMjU1KSxuLnB1c2goKG8mNjUyODApPj44KSxuLnB1c2goKG8mMTY3MTE2ODApPj4xNiksbi5wdXNoKG8+PjI0JjI1NSl9dC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQsbixlLm1hdHJpY2VzSW5kaWNlc0V4dHJhLl91cGRhdGFibGUpfWUubWF0cmljZXNXZWlnaHRzJiYob3QuX0NsZWFuTWF0cmljZXNXZWlnaHRzKGUsdCksdC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kLGUubWF0cmljZXNXZWlnaHRzLGUubWF0cmljZXNXZWlnaHRzLl91cGRhdGFibGUpKSxlLm1hdHJpY2VzV2VpZ2h0c0V4dHJhJiZ0LnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCxlLm1hdHJpY2VzV2VpZ2h0c0V4dHJhLGUubWF0cmljZXNXZWlnaHRzLl91cGRhdGFibGUpLHQuc2V0SW5kaWNlcyhlLmluZGljZXMsbnVsbCl9aWYoZS5zdWJNZXNoZXMpe3Quc3ViTWVzaGVzPVtdO2ZvcihsZXQgbj0wO248ZS5zdWJNZXNoZXMubGVuZ3RoO24rKyl7Y29uc3QgYT1lLnN1Yk1lc2hlc1tuXTtUdC5BZGRUb01lc2goYS5tYXRlcmlhbEluZGV4LGEudmVydGljZXNTdGFydCxhLnZlcnRpY2VzQ291bnQsYS5pbmRleFN0YXJ0LGEuaW5kZXhDb3VudCx0KX19dC5fc2hvdWxkR2VuZXJhdGVGbGF0U2hhZGluZyYmKHQuY29udmVydFRvRmxhdFNoYWRlZE1lc2goKSx0Ll9zaG91bGRHZW5lcmF0ZUZsYXRTaGFkaW5nPSExKSx0LmNvbXB1dGVXb3JsZE1hdHJpeCghMCksaS5vbk1lc2hJbXBvcnRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHQpfXN0YXRpYyBfQ2xlYW5NYXRyaWNlc1dlaWdodHMoZSx0KXtpZighRmUuQ2xlYW5Cb25lTWF0cml4V2VpZ2h0cylyZXR1cm47bGV0IHM9MDtpZihlLnNrZWxldG9uSWQ+LTEpe2NvbnN0IHU9dC5nZXRTY2VuZSgpLmdldExhc3RTa2VsZXRvbkJ5SWQoZS5za2VsZXRvbklkKTtpZighdSlyZXR1cm47cz11LmJvbmVzLmxlbmd0aH1lbHNlIHJldHVybjtjb25zdCByPXQuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCksbj10LmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCksYT1lLm1hdHJpY2VzV2VpZ2h0cyxvPWUubWF0cmljZXNXZWlnaHRzRXh0cmEsaD1lLm51bUJvbmVJbmZsdWVuY2VyLGw9YS5sZW5ndGg7Zm9yKGxldCB1PTA7dTxsO3UrPTQpe2xldCBkPTAsXz0tMTtmb3IobGV0IGY9MDtmPDQ7ZisrKXtjb25zdCBtPWFbdStmXTtkKz1tLG08LjAwMSYmXzwwJiYoXz1mKX1pZihvKWZvcihsZXQgZj0wO2Y8NDtmKyspe2NvbnN0IG09b1t1K2ZdO2QrPW0sbTwuMDAxJiZfPDAmJihfPWYrNCl9aWYoKF88MHx8Xz5oLTEpJiYoXz1oLTEpLGQ+LjAwMSl7Y29uc3QgZj0xL2Q7Zm9yKGxldCBtPTA7bTw0O20rKylhW3UrbV0qPWY7aWYobylmb3IobGV0IG09MDttPDQ7bSsrKW9bdSttXSo9Zn1lbHNlIF8+PTQ/KG9bdStfLTRdPTEtZCxuW3UrXy00XT1zKTooYVt1K19dPTEtZCxyW3UrX109cyl9dC5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kLHIpLGUubWF0cmljZXNXZWlnaHRzRXh0cmEmJnQuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kLG4pfXN0YXRpYyBQYXJzZShlLHQsaSl7Y29uc3Qgcz1uZXcgb3QoZS5pZCx0LHZvaWQgMCxlLnVwZGF0YWJsZSk7cmV0dXJuIHMuX2xvYWRlZFVuaXF1ZUlkPWUudW5pcXVlSWQsZmUmJmZlLkFkZFRhZ3NUbyhzLGUudGFncyksZS5kZWxheUxvYWRpbmdGaWxlPyhzLmRlbGF5TG9hZFN0YXRlPTQscy5kZWxheUxvYWRpbmdGaWxlPWkrZS5kZWxheUxvYWRpbmdGaWxlLHMuX2JvdW5kaW5nSW5mbz1uZXcgZnQocC5Gcm9tQXJyYXkoZS5ib3VuZGluZ0JveE1pbmltdW0pLHAuRnJvbUFycmF5KGUuYm91bmRpbmdCb3hNYXhpbXVtKSkscy5fZGVsYXlJbmZvPVtdLGUuaGFzVVZzJiZzLl9kZWxheUluZm8ucHVzaChnLlVWS2luZCksZS5oYXNVVnMyJiZzLl9kZWxheUluZm8ucHVzaChnLlVWMktpbmQpLGUuaGFzVVZzMyYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjNLaW5kKSxlLmhhc1VWczQmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVY0S2luZCksZS5oYXNVVnM1JiZzLl9kZWxheUluZm8ucHVzaChnLlVWNUtpbmQpLGUuaGFzVVZzNiYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjZLaW5kKSxlLmhhc0NvbG9ycyYmcy5fZGVsYXlJbmZvLnB1c2goZy5Db2xvcktpbmQpLGUuaGFzTWF0cmljZXNJbmRpY2VzJiZzLl9kZWxheUluZm8ucHVzaChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGUuaGFzTWF0cmljZXNXZWlnaHRzJiZzLl9kZWxheUluZm8ucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLHMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uPXRlLkltcG9ydFZlcnRleERhdGEpOnRlLkltcG9ydFZlcnRleERhdGEoZSxzKSx0LnB1c2hHZW9tZXRyeShzLCEwKSxzfX12YXIgenQ7KGZ1bmN0aW9uKGMpe2NbYy5MT0NBTD0wXT0iTE9DQUwiLGNbYy5XT1JMRD0xXT0iV09STEQiLGNbYy5CT05FPTJdPSJCT05FIn0pKHp0fHwoenQ9e30pKTtjbGFzcyBnaXt9Z2kuWD1uZXcgcCgxLDAsMCksZ2kuWT1uZXcgcCgwLDEsMCksZ2kuWj1uZXcgcCgwLDAsMSk7dmFyIEZyOyhmdW5jdGlvbihjKXtjW2MuWD0wXT0iWCIsY1tjLlk9MV09IlkiLGNbYy5aPTJdPSJaIn0pKEZyfHwoRnI9e30pKTtjbGFzcyBlZSBleHRlbmRzIHple2dldCBiaWxsYm9hcmRNb2RlKCl7cmV0dXJuIHRoaXMuX2JpbGxib2FyZE1vZGV9c2V0IGJpbGxib2FyZE1vZGUoZSl7dGhpcy5fYmlsbGJvYXJkTW9kZSE9PWUmJih0aGlzLl9iaWxsYm9hcmRNb2RlPWUsdGhpcy5fY2FjaGUudXNlQmlsbGJvYXJkUG9zaXRpb249KHRoaXMuX2JpbGxib2FyZE1vZGUmZWUuQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT04pIT09MCx0aGlzLl9jb21wdXRlVXNlQmlsbGJvYXJkUGF0aCgpKX1nZXQgcHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZCgpe3JldHVybiB0aGlzLl9wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkfXNldCBwcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkKGUpe2UhPT10aGlzLl9wcmVzZXJ2ZVBhcmVudFJvdGF0aW9uRm9yQmlsbGJvYXJkJiYodGhpcy5fcHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZD1lLHRoaXMuX2NvbXB1dGVVc2VCaWxsYm9hcmRQYXRoKCkpfV9jb21wdXRlVXNlQmlsbGJvYXJkUGF0aCgpe3RoaXMuX2NhY2hlLnVzZUJpbGxib2FyZFBhdGg9dGhpcy5fYmlsbGJvYXJkTW9kZSE9PWVlLkJJTExCT0FSRE1PREVfTk9ORSYmIXRoaXMucHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZH1nZXQgaW5maW5pdGVEaXN0YW5jZSgpe3JldHVybiB0aGlzLl9pbmZpbml0ZURpc3RhbmNlfXNldCBpbmZpbml0ZURpc3RhbmNlKGUpe3RoaXMuX2luZmluaXRlRGlzdGFuY2UhPT1lJiYodGhpcy5faW5maW5pdGVEaXN0YW5jZT1lKX1jb25zdHJ1Y3RvcihlLHQ9bnVsbCxpPSEwKXtzdXBlcihlLHQpLHRoaXMuX2ZvcndhcmQ9bmV3IHAoMCwwLDEpLHRoaXMuX3VwPW5ldyBwKDAsMSwwKSx0aGlzLl9yaWdodD1uZXcgcCgxLDAsMCksdGhpcy5fcG9zaXRpb249cC5aZXJvKCksdGhpcy5fcm90YXRpb249cC5aZXJvKCksdGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPW51bGwsdGhpcy5fc2NhbGluZz1wLk9uZSgpLHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw9bnVsbCx0aGlzLl9pc0Fic29sdXRlU3luY2VkPSExLHRoaXMuX2JpbGxib2FyZE1vZGU9ZWUuQklMTEJPQVJETU9ERV9OT05FLHRoaXMuX3ByZXNlcnZlUGFyZW50Um90YXRpb25Gb3JCaWxsYm9hcmQ9ITEsdGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQ9MSx0aGlzLl9pbmZpbml0ZURpc3RhbmNlPSExLHRoaXMuaWdub3JlTm9uVW5pZm9ybVNjYWxpbmc9ITEsdGhpcy5yZUludGVncmF0ZVJvdGF0aW9uSW50b1JvdGF0aW9uUXVhdGVybmlvbj0hMSx0aGlzLl9wb3NlTWF0cml4PW51bGwsdGhpcy5fbG9jYWxNYXRyaXg9TS5aZXJvKCksdGhpcy5fdXNlUGl2b3RNYXRyaXg9ITEsdGhpcy5fYWJzb2x1dGVQb3NpdGlvbj1wLlplcm8oKSx0aGlzLl9hYnNvbHV0ZVNjYWxpbmc9cC5aZXJvKCksdGhpcy5fYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb249Wi5JZGVudGl0eSgpLHRoaXMuX3Bpdm90TWF0cml4PU0uSWRlbnRpdHkoKSx0aGlzLl9wb3N0TXVsdGlwbHlQaXZvdE1hdHJpeD0hMSx0aGlzLl9pc1dvcmxkTWF0cml4RnJvemVuPSExLHRoaXMuX2luZGV4SW5TY2VuZVRyYW5zZm9ybU5vZGVzQXJyYXk9LTEsdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX25vblVuaWZvcm1TY2FsaW5nPSExLGkmJnRoaXMuZ2V0U2NlbmUoKS5hZGRUcmFuc2Zvcm1Ob2RlKHRoaXMpfWdldENsYXNzTmFtZSgpe3JldHVybiJUcmFuc2Zvcm1Ob2RlIn1nZXQgcG9zaXRpb24oKXtyZXR1cm4gdGhpcy5fcG9zaXRpb259c2V0IHBvc2l0aW9uKGUpe3RoaXMuX3Bvc2l0aW9uPWUsdGhpcy5faXNEaXJ0eT0hMH1pc1VzaW5nUGl2b3RNYXRyaXgoKXtyZXR1cm4gdGhpcy5fdXNlUGl2b3RNYXRyaXh9Z2V0IHJvdGF0aW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9ufXNldCByb3RhdGlvbihlKXt0aGlzLl9yb3RhdGlvbj1lLHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj1udWxsLHRoaXMuX2lzRGlydHk9ITB9Z2V0IHNjYWxpbmcoKXtyZXR1cm4gdGhpcy5fc2NhbGluZ31zZXQgc2NhbGluZyhlKXt0aGlzLl9zY2FsaW5nPWUsdGhpcy5faXNEaXJ0eT0hMH1nZXQgcm90YXRpb25RdWF0ZXJuaW9uKCl7cmV0dXJuIHRoaXMuX3JvdGF0aW9uUXVhdGVybmlvbn1zZXQgcm90YXRpb25RdWF0ZXJuaW9uKGUpe3RoaXMuX3JvdGF0aW9uUXVhdGVybmlvbj1lLGUmJnRoaXMuX3JvdGF0aW9uLnNldEFsbCgwKSx0aGlzLl9pc0RpcnR5PSEwfWdldCBmb3J3YXJkKCl7cmV0dXJuIHAuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKDAsMCx0aGlzLmdldFNjZW5lKCkudXNlUmlnaHRIYW5kZWRTeXN0ZW0/LTE6MSx0aGlzLmdldFdvcmxkTWF0cml4KCksdGhpcy5fZm9yd2FyZCksdGhpcy5fZm9yd2FyZC5ub3JtYWxpemUoKX1nZXQgdXAoKXtyZXR1cm4gcC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoMCwxLDAsdGhpcy5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX3VwKSx0aGlzLl91cC5ub3JtYWxpemUoKX1nZXQgcmlnaHQoKXtyZXR1cm4gcC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYodGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtPy0xOjEsMCwwLHRoaXMuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl9yaWdodCksdGhpcy5fcmlnaHQubm9ybWFsaXplKCl9dXBkYXRlUG9zZU1hdHJpeChlKXtyZXR1cm4gdGhpcy5fcG9zZU1hdHJpeD8odGhpcy5fcG9zZU1hdHJpeC5jb3B5RnJvbShlKSx0aGlzKToodGhpcy5fcG9zZU1hdHJpeD1lLmNsb25lKCksdGhpcyl9Z2V0UG9zZU1hdHJpeCgpe3JldHVybiB0aGlzLl9wb3NlTWF0cml4fHwodGhpcy5fcG9zZU1hdHJpeD1NLklkZW50aXR5KCkpLHRoaXMuX3Bvc2VNYXRyaXh9X2lzU3luY2hyb25pemVkKCl7Y29uc3QgZT10aGlzLl9jYWNoZTtyZXR1cm4hKHRoaXMuX2JpbGxib2FyZE1vZGUhPT1lLmJpbGxib2FyZE1vZGV8fHRoaXMuX2JpbGxib2FyZE1vZGUhPT1lZS5CSUxMQk9BUkRNT0RFX05PTkV8fGUucGl2b3RNYXRyaXhVcGRhdGVkfHx0aGlzLl9pbmZpbml0ZURpc3RhbmNlfHx0aGlzLl9wb3NpdGlvbi5faXNEaXJ0eXx8dGhpcy5fc2NhbGluZy5faXNEaXJ0eXx8dGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24uX2lzRGlydHl8fHRoaXMuX3JvdGF0aW9uLl9pc0RpcnR5KX1faW5pdENhY2hlKCl7c3VwZXIuX2luaXRDYWNoZSgpO2NvbnN0IGU9dGhpcy5fY2FjaGU7ZS5sb2NhbE1hdHJpeFVwZGF0ZWQ9ITEsZS5iaWxsYm9hcmRNb2RlPS0xLGUuaW5maW5pdGVEaXN0YW5jZT0hMSxlLnVzZUJpbGxib2FyZFBvc2l0aW9uPSExLGUudXNlQmlsbGJvYXJkUGF0aD0hMX1nZXQgYWJzb2x1dGVQb3NpdGlvbigpe3JldHVybiB0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKX1nZXQgYWJzb2x1dGVTY2FsaW5nKCl7cmV0dXJuIHRoaXMuX3N5bmNBYnNvbHV0ZVNjYWxpbmdBbmRSb3RhdGlvbigpLHRoaXMuX2Fic29sdXRlU2NhbGluZ31nZXQgYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb24oKXtyZXR1cm4gdGhpcy5fc3luY0Fic29sdXRlU2NhbGluZ0FuZFJvdGF0aW9uKCksdGhpcy5fYWJzb2x1dGVSb3RhdGlvblF1YXRlcm5pb259c2V0UHJlVHJhbnNmb3JtTWF0cml4KGUpe3JldHVybiB0aGlzLnNldFBpdm90TWF0cml4KGUsITEpfXNldFBpdm90TWF0cml4KGUsdD0hMCl7cmV0dXJuIHRoaXMuX3Bpdm90TWF0cml4LmNvcHlGcm9tKGUpLHRoaXMuX3VzZVBpdm90TWF0cml4PSF0aGlzLl9waXZvdE1hdHJpeC5pc0lkZW50aXR5KCksdGhpcy5fY2FjaGUucGl2b3RNYXRyaXhVcGRhdGVkPSEwLHRoaXMuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4PXQsdGhpcy5fcG9zdE11bHRpcGx5UGl2b3RNYXRyaXgmJih0aGlzLl9waXZvdE1hdHJpeEludmVyc2U/dGhpcy5fcGl2b3RNYXRyaXguaW52ZXJ0VG9SZWYodGhpcy5fcGl2b3RNYXRyaXhJbnZlcnNlKTp0aGlzLl9waXZvdE1hdHJpeEludmVyc2U9TS5JbnZlcnQodGhpcy5fcGl2b3RNYXRyaXgpKSx0aGlzfWdldFBpdm90TWF0cml4KCl7cmV0dXJuIHRoaXMuX3Bpdm90TWF0cml4fWluc3RhbnRpYXRlSGllcmFyY2h5KGU9bnVsbCx0LGkpe2NvbnN0IHM9dGhpcy5jbG9uZSgiQ2xvbmUgb2YgIisodGhpcy5uYW1lfHx0aGlzLmlkKSxlfHx0aGlzLnBhcmVudCwhMCk7cyYmaSYmaSh0aGlzLHMpO2Zvcihjb25zdCByIG9mIHRoaXMuZ2V0Q2hpbGRUcmFuc2Zvcm1Ob2RlcyghMCkpci5pbnN0YW50aWF0ZUhpZXJhcmNoeShzLHQsaSk7cmV0dXJuIHN9ZnJlZXplV29ybGRNYXRyaXgoZT1udWxsLHQ9ITEpe3JldHVybiBlP3Q/KHRoaXMuX3JvdGF0aW9uLnNldEFsbCgwKSx0aGlzLl9yb3RhdGlvblF1YXRlcm5pb249dGhpcy5fcm90YXRpb25RdWF0ZXJuaW9ufHxaLklkZW50aXR5KCksZS5kZWNvbXBvc2UodGhpcy5fc2NhbGluZyx0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24sdGhpcy5fcG9zaXRpb24pLHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSk6KHRoaXMuX3dvcmxkTWF0cml4PWUsdGhpcy5fYWJzb2x1dGVQb3NpdGlvbi5jb3B5RnJvbUZsb2F0cyh0aGlzLl93b3JsZE1hdHJpeC5tWzEyXSx0aGlzLl93b3JsZE1hdHJpeC5tWzEzXSx0aGlzLl93b3JsZE1hdHJpeC5tWzE0XSksdGhpcy5fYWZ0ZXJDb21wdXRlV29ybGRNYXRyaXgoKSk6KHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW49ITEsdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApKSx0aGlzLl9pc0RpcnR5PSExLHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW49ITAsdGhpc311bmZyZWV6ZVdvcmxkTWF0cml4KCl7cmV0dXJuIHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW49ITEsdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApLHRoaXN9Z2V0IGlzV29ybGRNYXRyaXhGcm96ZW4oKXtyZXR1cm4gdGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbn1nZXRBYnNvbHV0ZVBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5fYWJzb2x1dGVQb3NpdGlvbn1zZXRBYnNvbHV0ZVBvc2l0aW9uKGUpe2lmKCFlKXJldHVybiB0aGlzO2xldCB0LGkscztpZihlLng9PT12b2lkIDApe2lmKGFyZ3VtZW50cy5sZW5ndGg8MylyZXR1cm4gdGhpczt0PWFyZ3VtZW50c1swXSxpPWFyZ3VtZW50c1sxXSxzPWFyZ3VtZW50c1syXX1lbHNlIHQ9ZS54LGk9ZS55LHM9ZS56O2lmKHRoaXMucGFyZW50KXtjb25zdCByPUYuTWF0cml4WzBdO3RoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuaW52ZXJ0VG9SZWYocikscC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZih0LGkscyxyLHRoaXMucG9zaXRpb24pfWVsc2UgdGhpcy5wb3NpdGlvbi54PXQsdGhpcy5wb3NpdGlvbi55PWksdGhpcy5wb3NpdGlvbi56PXM7cmV0dXJuIHRoaXMuX2Fic29sdXRlUG9zaXRpb24uY29weUZyb20oZSksdGhpc31zZXRQb3NpdGlvbldpdGhMb2NhbFZlY3RvcihlKXtyZXR1cm4gdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSx0aGlzLnBvc2l0aW9uPXAuVHJhbnNmb3JtTm9ybWFsKGUsdGhpcy5fbG9jYWxNYXRyaXgpLHRoaXN9Z2V0UG9zaXRpb25FeHByZXNzZWRJbkxvY2FsU3BhY2UoKXt0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpO2NvbnN0IGU9Ri5NYXRyaXhbMF07cmV0dXJuIHRoaXMuX2xvY2FsTWF0cml4LmludmVydFRvUmVmKGUpLHAuVHJhbnNmb3JtTm9ybWFsKHRoaXMucG9zaXRpb24sZSl9bG9jYWxseVRyYW5zbGF0ZShlKXtyZXR1cm4gdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApLHRoaXMucG9zaXRpb249cC5UcmFuc2Zvcm1Db29yZGluYXRlcyhlLHRoaXMuX2xvY2FsTWF0cml4KSx0aGlzfWxvb2tBdChlLHQ9MCxpPTAscz0wLHI9enQuTE9DQUwpe2NvbnN0IG49ZWUuX0xvb2tBdFZlY3RvckNhY2hlLGE9cj09PXp0LkxPQ0FMP3RoaXMucG9zaXRpb246dGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCk7aWYoZS5zdWJ0cmFjdFRvUmVmKGEsbiksdGhpcy5zZXREaXJlY3Rpb24obix0LGkscykscj09PXp0LldPUkxEJiZ0aGlzLnBhcmVudClpZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbil7Y29uc3Qgbz1GLk1hdHJpeFswXTt0aGlzLnJvdGF0aW9uUXVhdGVybmlvbi50b1JvdGF0aW9uTWF0cml4KG8pO2NvbnN0IGg9Ri5NYXRyaXhbMV07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGgpLGguaW52ZXJ0KCksby5tdWx0aXBseVRvUmVmKGgsbyksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24uZnJvbVJvdGF0aW9uTWF0cml4KG8pfWVsc2V7Y29uc3Qgbz1GLlF1YXRlcm5pb25bMF07Wi5Gcm9tRXVsZXJWZWN0b3JUb1JlZih0aGlzLnJvdGF0aW9uLG8pO2NvbnN0IGg9Ri5NYXRyaXhbMF07by50b1JvdGF0aW9uTWF0cml4KGgpO2NvbnN0IGw9Ri5NYXRyaXhbMV07dGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKS5nZXRSb3RhdGlvbk1hdHJpeFRvUmVmKGwpLGwuaW52ZXJ0KCksaC5tdWx0aXBseVRvUmVmKGwsaCksby5mcm9tUm90YXRpb25NYXRyaXgoaCksby50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5yb3RhdGlvbil9cmV0dXJuIHRoaXN9Z2V0RGlyZWN0aW9uKGUpe2NvbnN0IHQ9cC5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RGlyZWN0aW9uVG9SZWYoZSx0KSx0fWdldERpcmVjdGlvblRvUmVmKGUsdCl7cmV0dXJuIHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoZSx0aGlzLmdldFdvcmxkTWF0cml4KCksdCksdGhpc31zZXREaXJlY3Rpb24oZSx0PTAsaT0wLHM9MCl7Y29uc3Qgcj0tTWF0aC5hdGFuMihlLnosZS54KStNYXRoLlBJLzIsbj1NYXRoLnNxcnQoZS54KmUueCtlLnoqZS56KSxhPS1NYXRoLmF0YW4yKGUueSxuKTtyZXR1cm4gdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/Wi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHIrdCxhK2kscyx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbik6KHRoaXMucm90YXRpb24ueD1hK2ksdGhpcy5yb3RhdGlvbi55PXIrdCx0aGlzLnJvdGF0aW9uLno9cyksdGhpc31zZXRQaXZvdFBvaW50KGUsdD16dC5MT0NBTCl7dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCk9PTAmJnRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTtjb25zdCBpPXRoaXMuZ2V0V29ybGRNYXRyaXgoKTtpZih0PT16dC5XT1JMRCl7Y29uc3Qgcz1GLk1hdHJpeFswXTtpLmludmVydFRvUmVmKHMpLGU9cC5UcmFuc2Zvcm1Db29yZGluYXRlcyhlLHMpfXJldHVybiB0aGlzLnNldFBpdm90TWF0cml4KE0uVHJhbnNsYXRpb24oLWUueCwtZS55LC1lLnopLCEwKX1nZXRQaXZvdFBvaW50KCl7Y29uc3QgZT1wLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRQaXZvdFBvaW50VG9SZWYoZSksZX1nZXRQaXZvdFBvaW50VG9SZWYoZSl7cmV0dXJuIGUueD0tdGhpcy5fcGl2b3RNYXRyaXgubVsxMl0sZS55PS10aGlzLl9waXZvdE1hdHJpeC5tWzEzXSxlLno9LXRoaXMuX3Bpdm90TWF0cml4Lm1bMTRdLHRoaXN9Z2V0QWJzb2x1dGVQaXZvdFBvaW50KCl7Y29uc3QgZT1wLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRBYnNvbHV0ZVBpdm90UG9pbnRUb1JlZihlKSxlfWdldEFic29sdXRlUGl2b3RQb2ludFRvUmVmKGUpe3JldHVybiB0aGlzLmdldFBpdm90UG9pbnRUb1JlZihlKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZSx0aGlzLmdldFdvcmxkTWF0cml4KCksZSksdGhpc31tYXJrQXNEaXJ0eShlKXtpZih0aGlzLl9pc0RpcnR5KXJldHVybiB0aGlzO2lmKHRoaXMuX2NoaWxkcmVuKWZvcihjb25zdCB0IG9mIHRoaXMuX2NoaWxkcmVuKXQubWFya0FzRGlydHkoZSk7cmV0dXJuIHN1cGVyLm1hcmtBc0RpcnR5KGUpfXNldFBhcmVudChlLHQ9ITEsaT0hMSl7aWYoIWUmJiF0aGlzLnBhcmVudClyZXR1cm4gdGhpcztjb25zdCBzPUYuUXVhdGVybmlvblswXSxyPUYuVmVjdG9yM1swXSxuPUYuVmVjdG9yM1sxXSxhPUYuTWF0cml4WzFdO00uSWRlbnRpdHlUb1JlZihhKTtjb25zdCBvPUYuTWF0cml4WzBdO3RoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCEwKTtsZXQgaD10aGlzLnJvdGF0aW9uUXVhdGVybmlvbjtyZXR1cm4gaHx8KGg9ZWUuX1RtcFJvdGF0aW9uLFouUm90YXRpb25ZYXdQaXRjaFJvbGxUb1JlZih0aGlzLl9yb3RhdGlvbi55LHRoaXMuX3JvdGF0aW9uLngsdGhpcy5fcm90YXRpb24ueixoKSksTS5Db21wb3NlVG9SZWYodGhpcy5zY2FsaW5nLGgsdGhpcy5wb3NpdGlvbixvKSx0aGlzLnBhcmVudCYmby5tdWx0aXBseVRvUmVmKHRoaXMucGFyZW50LmNvbXB1dGVXb3JsZE1hdHJpeCghMCksbyksZSYmKGUuY29tcHV0ZVdvcmxkTWF0cml4KCEwKS5pbnZlcnRUb1JlZihhKSxvLm11bHRpcGx5VG9SZWYoYSxvKSksby5kZWNvbXBvc2UobixzLHIsdD90aGlzOnZvaWQgMCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24/dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20ocyk6cy50b0V1bGVyQW5nbGVzVG9SZWYodGhpcy5yb3RhdGlvbiksdGhpcy5zY2FsaW5nLmNvcHlGcm9tKG4pLHRoaXMucG9zaXRpb24uY29weUZyb20ociksdGhpcy5wYXJlbnQ9ZSxpJiZ0aGlzLnNldFBpdm90TWF0cml4KE0uSWRlbnRpdHkoKSksdGhpc31nZXQgbm9uVW5pZm9ybVNjYWxpbmcoKXtyZXR1cm4gdGhpcy5fbm9uVW5pZm9ybVNjYWxpbmd9X3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoZSl7cmV0dXJuIHRoaXMuX25vblVuaWZvcm1TY2FsaW5nPT09ZT8hMToodGhpcy5fbm9uVW5pZm9ybVNjYWxpbmc9ZSwhMCl9YXR0YWNoVG9Cb25lKGUsdCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRQYXJlbnRXaGVuQXR0YWNoaW5nVG9Cb25lPXRoaXMucGFyZW50LHRoaXMuX3RyYW5zZm9ybVRvQm9uZVJlZmVyYWw9dCx0aGlzLnBhcmVudD1lLGUuZ2V0U2tlbGV0b24oKS5wcmVwYXJlKCksZS5nZXRXb3JsZE1hdHJpeCgpLmRldGVybWluYW50KCk8MCYmKHRoaXMuc2NhbGluZ0RldGVybWluYW50Kj0tMSksdGhpc31kZXRhY2hGcm9tQm9uZShlPSExKXtyZXR1cm4gdGhpcy5wYXJlbnQ/KHRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCkuZGV0ZXJtaW5hbnQoKTwwJiYodGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQqPS0xKSx0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsPW51bGwsZT90aGlzLnBhcmVudD10aGlzLl9jdXJyZW50UGFyZW50V2hlbkF0dGFjaGluZ1RvQm9uZTp0aGlzLnBhcmVudD1udWxsLHRoaXMpOihlJiYodGhpcy5wYXJlbnQ9dGhpcy5fY3VycmVudFBhcmVudFdoZW5BdHRhY2hpbmdUb0JvbmUpLHRoaXMpfXJvdGF0ZShlLHQsaSl7ZS5ub3JtYWxpemUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbnx8KHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPXRoaXMucm90YXRpb24udG9RdWF0ZXJuaW9uKCksdGhpcy5yb3RhdGlvbi5zZXRBbGwoMCkpO2xldCBzO2lmKCFpfHxpPT09enQuTE9DQUwpcz1aLlJvdGF0aW9uQXhpc1RvUmVmKGUsdCxlZS5fUm90YXRpb25BeGlzQ2FjaGUpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLm11bHRpcGx5VG9SZWYocyx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbik7ZWxzZXtpZih0aGlzLnBhcmVudCl7Y29uc3Qgcj1GLk1hdHJpeFswXTt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKHIpLGU9cC5UcmFuc2Zvcm1Ob3JtYWwoZSxyKX1zPVouUm90YXRpb25BeGlzVG9SZWYoZSx0LGVlLl9Sb3RhdGlvbkF4aXNDYWNoZSkscy5tdWx0aXBseVRvUmVmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKX1yZXR1cm4gdGhpc31yb3RhdGVBcm91bmQoZSx0LGkpe3Qubm9ybWFsaXplKCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb258fCh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj1aLlJvdGF0aW9uWWF3UGl0Y2hSb2xsKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56KSx0aGlzLnJvdGF0aW9uLnNldEFsbCgwKSk7Y29uc3Qgcz1GLlZlY3RvcjNbMF0scj1GLlZlY3RvcjNbMV0sbj1GLlZlY3RvcjNbMl0sYT1GLlF1YXRlcm5pb25bMF0sbz1GLk1hdHJpeFswXSxoPUYuTWF0cml4WzFdLGw9Ri5NYXRyaXhbMl0sdT1GLk1hdHJpeFszXTtyZXR1cm4gZS5zdWJ0cmFjdFRvUmVmKHRoaXMucG9zaXRpb24scyksTS5UcmFuc2xhdGlvblRvUmVmKHMueCxzLnkscy56LG8pLE0uVHJhbnNsYXRpb25Ub1JlZigtcy54LC1zLnksLXMueixoKSxNLlJvdGF0aW9uQXhpc1RvUmVmKHQsaSxsKSxoLm11bHRpcGx5VG9SZWYobCx1KSx1Lm11bHRpcGx5VG9SZWYobyx1KSx1LmRlY29tcG9zZShyLGEsbiksdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKG4pLGEubXVsdGlwbHlUb1JlZih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbix0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiksdGhpc310cmFuc2xhdGUoZSx0LGkpe2NvbnN0IHM9ZS5zY2FsZSh0KTtpZighaXx8aT09PXp0LkxPQ0FMKXtjb25zdCByPXRoaXMuZ2V0UG9zaXRpb25FeHByZXNzZWRJbkxvY2FsU3BhY2UoKS5hZGQocyk7dGhpcy5zZXRQb3NpdGlvbldpdGhMb2NhbFZlY3RvcihyKX1lbHNlIHRoaXMuc2V0QWJzb2x1dGVQb3NpdGlvbih0aGlzLmdldEFic29sdXRlUG9zaXRpb24oKS5hZGQocykpO3JldHVybiB0aGlzfWFkZFJvdGF0aW9uKGUsdCxpKXtsZXQgczt0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9zPXRoaXMucm90YXRpb25RdWF0ZXJuaW9uOihzPUYuUXVhdGVybmlvblsxXSxaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnoscykpO2NvbnN0IHI9Ri5RdWF0ZXJuaW9uWzBdO3JldHVybiBaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodCxlLGkscikscy5tdWx0aXBseUluUGxhY2UociksdGhpcy5yb3RhdGlvblF1YXRlcm5pb258fHMudG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb24pLHRoaXN9X2dldEVmZmVjdGl2ZVBhcmVudCgpe3JldHVybiB0aGlzLnBhcmVudH1pc1dvcmxkTWF0cml4Q2FtZXJhRGVwZW5kZW50KCl7cmV0dXJuIHRoaXMuX2luZmluaXRlRGlzdGFuY2UmJiF0aGlzLnBhcmVudHx8dGhpcy5fYmlsbGJvYXJkTW9kZSE9PWVlLkJJTExCT0FSRE1PREVfTk9ORSYmIXRoaXMucHJlc2VydmVQYXJlbnRSb3RhdGlvbkZvckJpbGxib2FyZH1jb21wdXRlV29ybGRNYXRyaXgoZT0hMSx0PW51bGwpe2lmKHRoaXMuX2lzV29ybGRNYXRyaXhGcm96ZW4mJiF0aGlzLl9pc0RpcnR5KXJldHVybiB0aGlzLl93b3JsZE1hdHJpeDtjb25zdCBpPXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpO2lmKCF0aGlzLl9pc0RpcnR5JiYhZSYmKHRoaXMuX2N1cnJlbnRSZW5kZXJJZD09PWl8fHRoaXMuaXNTeW5jaHJvbml6ZWQoKSkpcmV0dXJuIHRoaXMuX2N1cnJlbnRSZW5kZXJJZD1pLHRoaXMuX3dvcmxkTWF0cml4O3Q9dHx8dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYSx0aGlzLl91cGRhdGVDYWNoZSgpO2NvbnN0IHM9dGhpcy5fY2FjaGU7cy5waXZvdE1hdHJpeFVwZGF0ZWQ9ITEscy5iaWxsYm9hcmRNb2RlPXRoaXMuYmlsbGJvYXJkTW9kZSxzLmluZmluaXRlRGlzdGFuY2U9dGhpcy5pbmZpbml0ZURpc3RhbmNlLHMucGFyZW50PXRoaXMuX3BhcmVudE5vZGUsdGhpcy5fY3VycmVudFJlbmRlcklkPWksdGhpcy5fY2hpbGRVcGRhdGVJZCs9MSx0aGlzLl9pc0RpcnR5PSExLHRoaXMuX3Bvc2l0aW9uLl9pc0RpcnR5PSExLHRoaXMuX3JvdGF0aW9uLl9pc0RpcnR5PSExLHRoaXMuX3NjYWxpbmcuX2lzRGlydHk9ITE7Y29uc3Qgcj10aGlzLl9nZXRFZmZlY3RpdmVQYXJlbnQoKSxuPWVlLl9UbXBTY2FsaW5nO2xldCBhPXRoaXMuX3Bvc2l0aW9uO2lmKHRoaXMuX2luZmluaXRlRGlzdGFuY2UmJiF0aGlzLnBhcmVudCYmdCl7Y29uc3QgaD10LmdldFdvcmxkTWF0cml4KCksbD1uZXcgcChoLm1bMTJdLGgubVsxM10saC5tWzE0XSk7YT1lZS5fVG1wVHJhbnNsYXRpb24sYS5jb3B5RnJvbUZsb2F0cyh0aGlzLl9wb3NpdGlvbi54K2wueCx0aGlzLl9wb3NpdGlvbi55K2wueSx0aGlzLl9wb3NpdGlvbi56K2wueil9bi5jb3B5RnJvbUZsb2F0cyh0aGlzLl9zY2FsaW5nLngqdGhpcy5zY2FsaW5nRGV0ZXJtaW5hbnQsdGhpcy5fc2NhbGluZy55KnRoaXMuc2NhbGluZ0RldGVybWluYW50LHRoaXMuX3NjYWxpbmcueip0aGlzLnNjYWxpbmdEZXRlcm1pbmFudCk7bGV0IG87aWYodGhpcy5fcm90YXRpb25RdWF0ZXJuaW9uPyh0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24uX2lzRGlydHk9ITEsbz10aGlzLl9yb3RhdGlvblF1YXRlcm5pb24sdGhpcy5yZUludGVncmF0ZVJvdGF0aW9uSW50b1JvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5yb3RhdGlvbi5sZW5ndGhTcXVhcmVkKCkmJih0aGlzLl9yb3RhdGlvblF1YXRlcm5pb24ubXVsdGlwbHlJblBsYWNlKFouUm90YXRpb25ZYXdQaXRjaFJvbGwodGhpcy5fcm90YXRpb24ueSx0aGlzLl9yb3RhdGlvbi54LHRoaXMuX3JvdGF0aW9uLnopKSx0aGlzLl9yb3RhdGlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCkpKToobz1lZS5fVG1wUm90YXRpb24sWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMuX3JvdGF0aW9uLnksdGhpcy5fcm90YXRpb24ueCx0aGlzLl9yb3RhdGlvbi56LG8pKSx0aGlzLl91c2VQaXZvdE1hdHJpeCl7Y29uc3QgaD1GLk1hdHJpeFsxXTtNLlNjYWxpbmdUb1JlZihuLngsbi55LG4ueixoKTtjb25zdCBsPUYuTWF0cml4WzBdO28udG9Sb3RhdGlvbk1hdHJpeChsKSx0aGlzLl9waXZvdE1hdHJpeC5tdWx0aXBseVRvUmVmKGgsRi5NYXRyaXhbNF0pLEYuTWF0cml4WzRdLm11bHRpcGx5VG9SZWYobCx0aGlzLl9sb2NhbE1hdHJpeCksdGhpcy5fcG9zdE11bHRpcGx5UGl2b3RNYXRyaXgmJnRoaXMuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5fcGl2b3RNYXRyaXhJbnZlcnNlLHRoaXMuX2xvY2FsTWF0cml4KSx0aGlzLl9sb2NhbE1hdHJpeC5hZGRUcmFuc2xhdGlvbkZyb21GbG9hdHMoYS54LGEueSxhLnopfWVsc2UgTS5Db21wb3NlVG9SZWYobixvLGEsdGhpcy5fbG9jYWxNYXRyaXgpO2lmKHImJnIuZ2V0V29ybGRNYXRyaXgpe2lmKGUmJnIuY29tcHV0ZVdvcmxkTWF0cml4KGUpLHMudXNlQmlsbGJvYXJkUGF0aCl7dGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD9yLmdldFdvcmxkTWF0cml4KCkubXVsdGlwbHlUb1JlZih0aGlzLl90cmFuc2Zvcm1Ub0JvbmVSZWZlcmFsLmdldFdvcmxkTWF0cml4KCksRi5NYXRyaXhbN10pOkYuTWF0cml4WzddLmNvcHlGcm9tKHIuZ2V0V29ybGRNYXRyaXgoKSk7Y29uc3QgaD1GLlZlY3RvcjNbNV0sbD1GLlZlY3RvcjNbNl0sdT1GLlF1YXRlcm5pb25bMF07Ri5NYXRyaXhbN10uZGVjb21wb3NlKGwsdSxoKSxNLlNjYWxpbmdUb1JlZihsLngsbC55LGwueixGLk1hdHJpeFs3XSksRi5NYXRyaXhbN10uc2V0VHJhbnNsYXRpb24oaCksZWUuQmlsbGJvYXJkVXNlUGFyZW50T3JpZW50YXRpb24mJih0aGlzLl9wb3NpdGlvbi5hcHBseVJvdGF0aW9uUXVhdGVybmlvblRvUmVmKHUsaCksdGhpcy5fbG9jYWxNYXRyaXguc2V0VHJhbnNsYXRpb24oaCkpLHRoaXMuX2xvY2FsTWF0cml4Lm11bHRpcGx5VG9SZWYoRi5NYXRyaXhbN10sdGhpcy5fd29ybGRNYXRyaXgpfWVsc2UgdGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbD8odGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZihyLmdldFdvcmxkTWF0cml4KCksRi5NYXRyaXhbNl0pLEYuTWF0cml4WzZdLm11bHRpcGx5VG9SZWYodGhpcy5fdHJhbnNmb3JtVG9Cb25lUmVmZXJhbC5nZXRXb3JsZE1hdHJpeCgpLHRoaXMuX3dvcmxkTWF0cml4KSk6dGhpcy5fbG9jYWxNYXRyaXgubXVsdGlwbHlUb1JlZihyLmdldFdvcmxkTWF0cml4KCksdGhpcy5fd29ybGRNYXRyaXgpO3RoaXMuX21hcmtTeW5jZWRXaXRoUGFyZW50KCl9ZWxzZSB0aGlzLl93b3JsZE1hdHJpeC5jb3B5RnJvbSh0aGlzLl9sb2NhbE1hdHJpeCk7aWYocy51c2VCaWxsYm9hcmRQYXRoJiZ0JiZ0aGlzLmJpbGxib2FyZE1vZGUmJiFzLnVzZUJpbGxib2FyZFBvc2l0aW9uKXtjb25zdCBoPUYuVmVjdG9yM1swXTtpZih0aGlzLl93b3JsZE1hdHJpeC5nZXRUcmFuc2xhdGlvblRvUmVmKGgpLEYuTWF0cml4WzFdLmNvcHlGcm9tKHQuZ2V0Vmlld01hdHJpeCgpKSxGLk1hdHJpeFsxXS5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLEYuTWF0cml4WzFdLmludmVydFRvUmVmKEYuTWF0cml4WzBdKSwodGhpcy5iaWxsYm9hcmRNb2RlJmVlLkJJTExCT0FSRE1PREVfQUxMKSE9PWVlLkJJTExCT0FSRE1PREVfQUxMKXtGLk1hdHJpeFswXS5kZWNvbXBvc2Uodm9pZCAwLEYuUXVhdGVybmlvblswXSx2b2lkIDApO2NvbnN0IGw9Ri5WZWN0b3IzWzFdO0YuUXVhdGVybmlvblswXS50b0V1bGVyQW5nbGVzVG9SZWYobCksKHRoaXMuYmlsbGJvYXJkTW9kZSZlZS5CSUxMQk9BUkRNT0RFX1gpIT09ZWUuQklMTEJPQVJETU9ERV9YJiYobC54PTApLCh0aGlzLmJpbGxib2FyZE1vZGUmZWUuQklMTEJPQVJETU9ERV9ZKSE9PWVlLkJJTExCT0FSRE1PREVfWSYmKGwueT0wKSwodGhpcy5iaWxsYm9hcmRNb2RlJmVlLkJJTExCT0FSRE1PREVfWikhPT1lZS5CSUxMQk9BUkRNT0RFX1omJihsLno9MCksTS5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGwueSxsLngsbC56LEYuTWF0cml4WzBdKX10aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbkZyb21GbG9hdHMoMCwwLDApLHRoaXMuX3dvcmxkTWF0cml4Lm11bHRpcGx5VG9SZWYoRi5NYXRyaXhbMF0sdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMuX3dvcmxkTWF0cml4LnNldFRyYW5zbGF0aW9uKEYuVmVjdG9yM1swXSl9ZWxzZSBpZihzLnVzZUJpbGxib2FyZFBhdGgmJnQmJnMudXNlQmlsbGJvYXJkUG9zaXRpb24pe2NvbnN0IGg9Ri5WZWN0b3IzWzBdO3RoaXMuX3dvcmxkTWF0cml4LmdldFRyYW5zbGF0aW9uVG9SZWYoaCk7Y29uc3QgbD10Lmdsb2JhbFBvc2l0aW9uO3RoaXMuX3dvcmxkTWF0cml4LmludmVydFRvUmVmKEYuTWF0cml4WzFdKTtjb25zdCB1PUYuVmVjdG9yM1sxXTtwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYobCxGLk1hdHJpeFsxXSx1KSx1Lm5vcm1hbGl6ZSgpO2NvbnN0IGQ9LU1hdGguYXRhbjIodS56LHUueCkrTWF0aC5QSS8yLF89TWF0aC5zcXJ0KHUueCp1LngrdS56KnUueiksZj0tTWF0aC5hdGFuMih1LnksXyk7aWYoWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKGQsZiwwLEYuUXVhdGVybmlvblswXSksKHRoaXMuYmlsbGJvYXJkTW9kZSZlZS5CSUxMQk9BUkRNT0RFX0FMTCkhPT1lZS5CSUxMQk9BUkRNT0RFX0FMTCl7Y29uc3QgbT1GLlZlY3RvcjNbMV07Ri5RdWF0ZXJuaW9uWzBdLnRvRXVsZXJBbmdsZXNUb1JlZihtKSwodGhpcy5iaWxsYm9hcmRNb2RlJmVlLkJJTExCT0FSRE1PREVfWCkhPT1lZS5CSUxMQk9BUkRNT0RFX1gmJihtLng9MCksKHRoaXMuYmlsbGJvYXJkTW9kZSZlZS5CSUxMQk9BUkRNT0RFX1kpIT09ZWUuQklMTEJPQVJETU9ERV9ZJiYobS55PTApLCh0aGlzLmJpbGxib2FyZE1vZGUmZWUuQklMTEJPQVJETU9ERV9aKSE9PWVlLkJJTExCT0FSRE1PREVfWiYmKG0uej0wKSxNLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYobS55LG0ueCxtLnosRi5NYXRyaXhbMF0pfWVsc2UgTS5Gcm9tUXVhdGVybmlvblRvUmVmKEYuUXVhdGVybmlvblswXSxGLk1hdHJpeFswXSk7dGhpcy5fd29ybGRNYXRyaXguc2V0VHJhbnNsYXRpb25Gcm9tRmxvYXRzKDAsMCwwKSx0aGlzLl93b3JsZE1hdHJpeC5tdWx0aXBseVRvUmVmKEYuTWF0cml4WzBdLHRoaXMuX3dvcmxkTWF0cml4KSx0aGlzLl93b3JsZE1hdHJpeC5zZXRUcmFuc2xhdGlvbihGLlZlY3RvcjNbMF0pfXJldHVybiB0aGlzLmlnbm9yZU5vblVuaWZvcm1TY2FsaW5nP3RoaXMuX3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoITEpOnRoaXMuX3NjYWxpbmcuaXNOb25Vbmlmb3JtV2l0aGluRXBzaWxvbigxZS02KT90aGlzLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKCEwKTpyJiZyLl9ub25Vbmlmb3JtU2NhbGluZz90aGlzLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKHIuX25vblVuaWZvcm1TY2FsaW5nKTp0aGlzLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKCExKSx0aGlzLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMuX2Fic29sdXRlUG9zaXRpb24uY29weUZyb21GbG9hdHModGhpcy5fd29ybGRNYXRyaXgubVsxMl0sdGhpcy5fd29ybGRNYXRyaXgubVsxM10sdGhpcy5fd29ybGRNYXRyaXgubVsxNF0pLHRoaXMuX2lzQWJzb2x1dGVTeW5jZWQ9ITEsdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9wb3NlTWF0cml4fHwodGhpcy5fcG9zZU1hdHJpeD1NLkludmVydCh0aGlzLl93b3JsZE1hdHJpeCkpLHRoaXMuX3dvcmxkTWF0cml4RGV0ZXJtaW5hbnRJc0RpcnR5PSEwLHRoaXMuX3dvcmxkTWF0cml4fXJlc2V0TG9jYWxNYXRyaXgoZT0hMCl7aWYodGhpcy5jb21wdXRlV29ybGRNYXRyaXgoKSxlKXtjb25zdCB0PXRoaXMuZ2V0Q2hpbGRyZW4oKTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoOysraSl7Y29uc3Qgcz10W2ldO2lmKHMpe3MuY29tcHV0ZVdvcmxkTWF0cml4KCk7Y29uc3Qgcj1GLk1hdHJpeFswXTtzLl9sb2NhbE1hdHJpeC5tdWx0aXBseVRvUmVmKHRoaXMuX2xvY2FsTWF0cml4LHIpO2NvbnN0IG49Ri5RdWF0ZXJuaW9uWzBdO3IuZGVjb21wb3NlKHMuc2NhbGluZyxuLHMucG9zaXRpb24pLHMucm90YXRpb25RdWF0ZXJuaW9uP3Mucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKG4pOm4udG9FdWxlckFuZ2xlc1RvUmVmKHMucm90YXRpb24pfX19dGhpcy5zY2FsaW5nLmNvcHlGcm9tRmxvYXRzKDEsMSwxKSx0aGlzLnBvc2l0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSx0aGlzLnJvdGF0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPVouSWRlbnRpdHkoKSksdGhpcy5fd29ybGRNYXRyaXg9TS5JZGVudGl0eSgpfV9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpe31yZWdpc3RlckFmdGVyV29ybGRNYXRyaXhVcGRhdGUoZSl7cmV0dXJuIHRoaXMub25BZnRlcldvcmxkTWF0cml4VXBkYXRlT2JzZXJ2YWJsZS5hZGQoZSksdGhpc311bnJlZ2lzdGVyQWZ0ZXJXb3JsZE1hdHJpeFVwZGF0ZShlKXtyZXR1cm4gdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKGUpLHRoaXN9Z2V0UG9zaXRpb25JbkNhbWVyYVNwYWNlKGU9bnVsbCl7cmV0dXJuIGV8fChlPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmEpLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXModGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCksZS5nZXRWaWV3TWF0cml4KCkpfWdldERpc3RhbmNlVG9DYW1lcmEoZT1udWxsKXtyZXR1cm4gZXx8KGU9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYSksdGhpcy5nZXRBYnNvbHV0ZVBvc2l0aW9uKCkuc3VidHJhY3QoZS5nbG9iYWxQb3NpdGlvbikubGVuZ3RoKCl9Y2xvbmUoZSx0LGkpe2NvbnN0IHM9bmUuQ2xvbmUoKCk9Pm5ldyBlZShlLHRoaXMuZ2V0U2NlbmUoKSksdGhpcyk7aWYocy5uYW1lPWUscy5pZD1lLHQmJihzLnBhcmVudD10KSwhaSl7Y29uc3Qgcj10aGlzLmdldERlc2NlbmRhbnRzKCEwKTtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKyl7Y29uc3QgYT1yW25dO2EuY2xvbmUmJmEuY2xvbmUoZSsiLiIrYS5uYW1lLHMpfX1yZXR1cm4gc31zZXJpYWxpemUoZSl7Y29uc3QgdD1uZS5TZXJpYWxpemUodGhpcyxlKTtyZXR1cm4gdC50eXBlPXRoaXMuZ2V0Q2xhc3NOYW1lKCksdC51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5fc2VyaWFsaXplQXNQYXJlbnQodCksdC5sb2NhbE1hdHJpeD10aGlzLmdldFBpdm90TWF0cml4KCkuYXNBcnJheSgpLHQuaXNFbmFibGVkPXRoaXMuaXNFbmFibGVkKCksdH1zdGF0aWMgUGFyc2UoZSx0LGkpe2NvbnN0IHM9bmUuUGFyc2UoKCk9Pm5ldyBlZShlLm5hbWUsdCksZSx0LGkpO3JldHVybiBlLmxvY2FsTWF0cml4P3Muc2V0UHJlVHJhbnNmb3JtTWF0cml4KE0uRnJvbUFycmF5KGUubG9jYWxNYXRyaXgpKTplLnBpdm90TWF0cml4JiZzLnNldFBpdm90TWF0cml4KE0uRnJvbUFycmF5KGUucGl2b3RNYXRyaXgpKSxzLnNldEVuYWJsZWQoZS5pc0VuYWJsZWQpLHMuX3dhaXRpbmdQYXJzZWRVbmlxdWVJZD1lLnVuaXF1ZUlkLGUucGFyZW50SWQhPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SWQ9ZS5wYXJlbnRJZCksZS5wYXJlbnRJbnN0YW5jZUluZGV4IT09dm9pZCAwJiYocy5fd2FpdGluZ1BhcmVudEluc3RhbmNlSW5kZXg9ZS5wYXJlbnRJbnN0YW5jZUluZGV4KSxzfWdldENoaWxkVHJhbnNmb3JtTm9kZXMoZSx0KXtjb25zdCBpPVtdO3JldHVybiB0aGlzLl9nZXREZXNjZW5kYW50cyhpLGUscz0+KCF0fHx0KHMpKSYmcyBpbnN0YW5jZW9mIGVlKSxpfWRpc3Bvc2UoZSx0PSExKXtpZih0aGlzLmdldFNjZW5lKCkuc3RvcEFuaW1hdGlvbih0aGlzKSx0aGlzLmdldFNjZW5lKCkucmVtb3ZlVHJhbnNmb3JtTm9kZSh0aGlzKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IGk9dGhpcy5fcGFyZW50Q29udGFpbmVyLnRyYW5zZm9ybU5vZGVzLmluZGV4T2YodGhpcyk7aT4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLnRyYW5zZm9ybU5vZGVzLnNwbGljZShpLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKHRoaXMub25BZnRlcldvcmxkTWF0cml4VXBkYXRlT2JzZXJ2YWJsZS5jbGVhcigpLGUpe2NvbnN0IGk9dGhpcy5nZXRDaGlsZFRyYW5zZm9ybU5vZGVzKCEwKTtmb3IoY29uc3QgcyBvZiBpKXMucGFyZW50PW51bGwscy5jb21wdXRlV29ybGRNYXRyaXgoITApfXN1cGVyLmRpc3Bvc2UoZSx0KX1ub3JtYWxpemVUb1VuaXRDdWJlKGU9ITAsdD0hMSxpKXtsZXQgcz1udWxsLHI9bnVsbDt0JiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb24/KHI9dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbUZsb2F0cygwLDAsMCwxKSk6dGhpcy5yb3RhdGlvbiYmKHM9dGhpcy5yb3RhdGlvbi5jbG9uZSgpLHRoaXMucm90YXRpb24uY29weUZyb21GbG9hdHMoMCwwLDApKSk7Y29uc3Qgbj10aGlzLmdldEhpZXJhcmNoeUJvdW5kaW5nVmVjdG9ycyhlLGkpLGE9bi5tYXguc3VidHJhY3Qobi5taW4pLG89TWF0aC5tYXgoYS54LGEueSxhLnopO2lmKG89PT0wKXJldHVybiB0aGlzO2NvbnN0IGg9MS9vO3JldHVybiB0aGlzLnNjYWxpbmcuc2NhbGVJblBsYWNlKGgpLHQmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmcj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbShyKTp0aGlzLnJvdGF0aW9uJiZzJiZ0aGlzLnJvdGF0aW9uLmNvcHlGcm9tKHMpKSx0aGlzfV9zeW5jQWJzb2x1dGVTY2FsaW5nQW5kUm90YXRpb24oKXt0aGlzLl9pc0Fic29sdXRlU3luY2VkfHwodGhpcy5fd29ybGRNYXRyaXguZGVjb21wb3NlKHRoaXMuX2Fic29sdXRlU2NhbGluZyx0aGlzLl9hYnNvbHV0ZVJvdGF0aW9uUXVhdGVybmlvbiksdGhpcy5faXNBYnNvbHV0ZVN5bmNlZD0hMCl9fWVlLkJJTExCT0FSRE1PREVfTk9ORT0wLGVlLkJJTExCT0FSRE1PREVfWD0xLGVlLkJJTExCT0FSRE1PREVfWT0yLGVlLkJJTExCT0FSRE1PREVfWj00LGVlLkJJTExCT0FSRE1PREVfQUxMPTcsZWUuQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT049MTI4LGVlLkJpbGxib2FyZFVzZVBhcmVudE9yaWVudGF0aW9uPSExLGVlLl9UbXBSb3RhdGlvbj1aLlplcm8oKSxlZS5fVG1wU2NhbGluZz1wLlplcm8oKSxlZS5fVG1wVHJhbnNsYXRpb249cC5aZXJvKCksZWUuX0xvb2tBdFZlY3RvckNhY2hlPW5ldyBwKDAsMCwwKSxlZS5fUm90YXRpb25BeGlzQ2FjaGU9bmV3IFosVChbVXQoInBvc2l0aW9uIildLGVlLnByb3RvdHlwZSwiX3Bvc2l0aW9uIix2b2lkIDApLFQoW1V0KCJyb3RhdGlvbiIpXSxlZS5wcm90b3R5cGUsIl9yb3RhdGlvbiIsdm9pZCAwKSxUKFtQbigicm90YXRpb25RdWF0ZXJuaW9uIildLGVlLnByb3RvdHlwZSwiX3JvdGF0aW9uUXVhdGVybmlvbiIsdm9pZCAwKSxUKFtVdCgic2NhbGluZyIpXSxlZS5wcm90b3R5cGUsIl9zY2FsaW5nIix2b2lkIDApLFQoW3koImJpbGxib2FyZE1vZGUiKV0sZWUucHJvdG90eXBlLCJfYmlsbGJvYXJkTW9kZSIsdm9pZCAwKSxUKFt5KCldLGVlLnByb3RvdHlwZSwic2NhbGluZ0RldGVybWluYW50Iix2b2lkIDApLFQoW3koImluZmluaXRlRGlzdGFuY2UiKV0sZWUucHJvdG90eXBlLCJfaW5maW5pdGVEaXN0YW5jZSIsdm9pZCAwKSxUKFt5KCldLGVlLnByb3RvdHlwZSwiaWdub3JlTm9uVW5pZm9ybVNjYWxpbmciLHZvaWQgMCksVChbeSgpXSxlZS5wcm90b3R5cGUsInJlSW50ZWdyYXRlUm90YXRpb25JbnRvUm90YXRpb25RdWF0ZXJuaW9uIix2b2lkIDApO2NsYXNzIHpue2NvbnN0cnVjdG9yKCl7dGhpcy5fY2hlY2tDb2xsaXNpb25zPSExLHRoaXMuX2NvbGxpc2lvbk1hc2s9LTEsdGhpcy5fY29sbGlzaW9uR3JvdXA9LTEsdGhpcy5fc3Vycm91bmRpbmdNZXNoZXM9bnVsbCx0aGlzLl9jb2xsaWRlcj1udWxsLHRoaXMuX29sZFBvc2l0aW9uRm9yQ29sbGlzaW9ucz1uZXcgcCgwLDAsMCksdGhpcy5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucz1uZXcgcCgwLDAsMCksdGhpcy5fY29sbGlzaW9uUmVzcG9uc2U9ITB9fWNsYXNzIEdue2NvbnN0cnVjdG9yKCl7dGhpcy5mYWNldE5iPTAsdGhpcy5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnM9MTAsdGhpcy5wYXJ0aXRpb25pbmdCQm94UmF0aW89MS4wMSx0aGlzLmZhY2V0RGF0YUVuYWJsZWQ9ITEsdGhpcy5mYWNldFBhcmFtZXRlcnM9e30sdGhpcy5iYlNpemU9cC5aZXJvKCksdGhpcy5zdWJEaXY9e21heDoxLFg6MSxZOjEsWjoxfSx0aGlzLmZhY2V0RGVwdGhTb3J0PSExLHRoaXMuZmFjZXREZXB0aFNvcnRFbmFibGVkPSExfX1jbGFzcyBYbntjb25zdHJ1Y3Rvcigpe3RoaXMuX2hhc1ZlcnRleEFscGhhPSExLHRoaXMuX3VzZVZlcnRleENvbG9ycz0hMCx0aGlzLl9udW1Cb25lSW5mbHVlbmNlcnM9NCx0aGlzLl9hcHBseUZvZz0hMCx0aGlzLl9yZWNlaXZlU2hhZG93cz0hMSx0aGlzLl9mYWNldERhdGE9bmV3IEduLHRoaXMuX3Zpc2liaWxpdHk9MSx0aGlzLl9za2VsZXRvbj1udWxsLHRoaXMuX2xheWVyTWFzaz0yNjg0MzU0NTUsdGhpcy5fY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSEwLHRoaXMuX2lzQWN0aXZlPSExLHRoaXMuX29ubHlGb3JJbnN0YW5jZXM9ITEsdGhpcy5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITEsdGhpcy5fb25seUZvckluc3RhbmNlc0ludGVybWVkaWF0ZT0hMSx0aGlzLl9hY3RBc1JlZ3VsYXJNZXNoPSExLHRoaXMuX2N1cnJlbnRMT0Q9bnVsbCx0aGlzLl9jdXJyZW50TE9ESXNVcFRvRGF0ZT0hMSx0aGlzLl9jb2xsaXNpb25SZXRyeUNvdW50PTMsdGhpcy5fbW9ycGhUYXJnZXRNYW5hZ2VyPW51bGwsdGhpcy5fcmVuZGVyaW5nR3JvdXBJZD0wLHRoaXMuX2Jha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcj1udWxsLHRoaXMuX21hdGVyaWFsPW51bGwsdGhpcy5fcG9zaXRpb25zPW51bGwsdGhpcy5fcG9pbnRlck92ZXJEaXNhYmxlTWVzaFRlc3Rpbmc9ITEsdGhpcy5fbWVzaENvbGxpc2lvbkRhdGE9bmV3IHpuLHRoaXMuX2VuYWJsZURpc3RhbnRQaWNraW5nPSExLHRoaXMuX3Jhd0JvdW5kaW5nSW5mbz1udWxsfX1jbGFzcyBodCBleHRlbmRzIGVle3N0YXRpYyBnZXQgQklMTEJPQVJETU9ERV9OT05FKCl7cmV0dXJuIGVlLkJJTExCT0FSRE1PREVfTk9ORX1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfWCgpe3JldHVybiBlZS5CSUxMQk9BUkRNT0RFX1h9c3RhdGljIGdldCBCSUxMQk9BUkRNT0RFX1koKXtyZXR1cm4gZWUuQklMTEJPQVJETU9ERV9ZfXN0YXRpYyBnZXQgQklMTEJPQVJETU9ERV9aKCl7cmV0dXJuIGVlLkJJTExCT0FSRE1PREVfWn1zdGF0aWMgZ2V0IEJJTExCT0FSRE1PREVfQUxMKCl7cmV0dXJuIGVlLkJJTExCT0FSRE1PREVfQUxMfXN0YXRpYyBnZXQgQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT04oKXtyZXR1cm4gZWUuQklMTEJPQVJETU9ERV9VU0VfUE9TSVRJT059Z2V0IGZhY2V0TmIoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0TmJ9Z2V0IHBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEucGFydGl0aW9uaW5nU3ViZGl2aXNpb25zfXNldCBwYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucz1lfWdldCBwYXJ0aXRpb25pbmdCQm94UmF0aW8oKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLnBhcnRpdGlvbmluZ0JCb3hSYXRpb31zZXQgcGFydGl0aW9uaW5nQkJveFJhdGlvKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5wYXJ0aXRpb25pbmdCQm94UmF0aW89ZX1nZXQgbXVzdERlcHRoU29ydEZhY2V0cygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREZXB0aFNvcnR9c2V0IG11c3REZXB0aFNvcnRGYWNldHMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0PWV9Z2V0IGZhY2V0RGVwdGhTb3J0RnJvbSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREZXB0aFNvcnRGcm9tfXNldCBmYWNldERlcHRoU29ydEZyb20oZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGVwdGhTb3J0RnJvbT1lfWdldCBjb2xsaXNpb25SZXRyeUNvdW50KCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbGxpc2lvblJldHJ5Q291bnR9c2V0IGNvbGxpc2lvblJldHJ5Q291bnQoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY29sbGlzaW9uUmV0cnlDb3VudD1lfWdldCBpc0ZhY2V0RGF0YUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhLmZhY2V0RGF0YUVuYWJsZWR9Z2V0IG1vcnBoVGFyZ2V0TWFuYWdlcigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tb3JwaFRhcmdldE1hbmFnZXJ9c2V0IG1vcnBoVGFyZ2V0TWFuYWdlcihlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tb3JwaFRhcmdldE1hbmFnZXIhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbW9ycGhUYXJnZXRNYW5hZ2VyPWUsdGhpcy5fc3luY0dlb21ldHJ5V2l0aE1vcnBoVGFyZ2V0TWFuYWdlcigpKX1nZXQgYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2Jha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcn1zZXQgYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2Jha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlciE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9iYWtlZFZlcnRleEFuaW1hdGlvbk1hbmFnZXI9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9X3N5bmNHZW9tZXRyeVdpdGhNb3JwaFRhcmdldE1hbmFnZXIoKXt9X3VwZGF0ZU5vblVuaWZvcm1TY2FsaW5nU3RhdGUoZSl7cmV0dXJuIHN1cGVyLl91cGRhdGVOb25Vbmlmb3JtU2NhbGluZ1N0YXRlKGUpPyh0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKSwhMCk6ITF9Z2V0IHJhd0JvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9yYXdCb3VuZGluZ0luZm99c2V0IHJhd0JvdW5kaW5nSW5mbyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9yYXdCb3VuZGluZ0luZm89ZX1zZXQgb25Db2xsaWRlKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpZGVPYnNlcnZlciYmdGhpcy5vbkNvbGxpZGVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb25Db2xsaWRlT2JzZXJ2ZXIpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpZGVPYnNlcnZlcj10aGlzLm9uQ29sbGlkZU9ic2VydmFibGUuYWRkKGUpfXNldCBvbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2ZXImJnRoaXMub25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2ZXIpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2ZXI9dGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IHZpc2liaWxpdHkoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdmlzaWJpbGl0eX1zZXQgdmlzaWJpbGl0eShlKXtpZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5PT09ZSlyZXR1cm47Y29uc3QgdD10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl92aXNpYmlsaXR5O3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHk9ZSwodD09PTEmJmUhPT0xfHx0IT09MSYmZT09PTEpJiZ0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKX1nZXQgcG9pbnRlck92ZXJEaXNhYmxlTWVzaFRlc3RpbmcoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcG9pbnRlck92ZXJEaXNhYmxlTWVzaFRlc3Rpbmd9c2V0IHBvaW50ZXJPdmVyRGlzYWJsZU1lc2hUZXN0aW5nKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3BvaW50ZXJPdmVyRGlzYWJsZU1lc2hUZXN0aW5nPWV9Z2V0IHJlbmRlcmluZ0dyb3VwSWQoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVuZGVyaW5nR3JvdXBJZH1zZXQgcmVuZGVyaW5nR3JvdXBJZChlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9yZW5kZXJpbmdHcm91cElkPWV9Z2V0IG1hdGVyaWFsKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsfXNldCBtYXRlcmlhbChlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbCE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbCYmdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwubWVzaE1hcCYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsLm1lc2hNYXBbdGhpcy51bmlxdWVJZF09dm9pZCAwKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbD1lLGUmJmUubWVzaE1hcCYmKGUubWVzaE1hcFt0aGlzLnVuaXF1ZUlkXT10aGlzKSx0aGlzLm9uTWF0ZXJpYWxDaGFuZ2VkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmdGhpcy5vbk1hdGVyaWFsQ2hhbmdlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuc3ViTWVzaGVzJiYodGhpcy5yZXNldERyYXdDYWNoZSgpLHRoaXMuX3VuQmluZEVmZmVjdCgpKSl9Z2V0TWF0ZXJpYWxGb3JSZW5kZXJQYXNzKGUpe3ZhciB0O3JldHVybih0PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzcyk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0W2VdfXNldE1hdGVyaWFsRm9yUmVuZGVyUGFzcyhlLHQpe3RoaXMucmVzZXREcmF3Q2FjaGUoZSksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzfHwodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzPVtdKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbEZvclJlbmRlclBhc3NbZV09dH1nZXQgcmVjZWl2ZVNoYWRvd3MoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fcmVjZWl2ZVNoYWRvd3N9c2V0IHJlY2VpdmVTaGFkb3dzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlY2VpdmVTaGFkb3dzIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3JlY2VpdmVTaGFkb3dzPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eSgpKX1nZXQgaGFzVmVydGV4QWxwaGEoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faGFzVmVydGV4QWxwaGF9c2V0IGhhc1ZlcnRleEFscGhhKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2hhc1ZlcnRleEFscGhhIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2hhc1ZlcnRleEFscGhhPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCksdGhpcy5fbWFya1N1Yk1lc2hlc0FzTWlzY0RpcnR5KCkpfWdldCB1c2VWZXJ0ZXhDb2xvcnMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdXNlVmVydGV4Q29sb3JzfXNldCB1c2VWZXJ0ZXhDb2xvcnMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fdXNlVmVydGV4Q29sb3JzIT09ZSYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3VzZVZlcnRleENvbG9ycz1lLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpKX1nZXQgY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVyc31zZXQgY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2NvbXB1dGVCb25lc1VzaW5nU2hhZGVycyE9PWUmJih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9Z2V0IG51bUJvbmVJbmZsdWVuY2Vycygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9udW1Cb25lSW5mbHVlbmNlcnN9c2V0IG51bUJvbmVJbmZsdWVuY2VycyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9udW1Cb25lSW5mbHVlbmNlcnMhPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbnVtQm9uZUluZmx1ZW5jZXJzPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfWdldCBhcHBseUZvZygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hcHBseUZvZ31zZXQgYXBwbHlGb2coZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYXBwbHlGb2chPT1lJiYodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYXBwbHlGb2c9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNNaXNjRGlydHkoKSl9Z2V0IGVuYWJsZURpc3RhbnRQaWNraW5nKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2VuYWJsZURpc3RhbnRQaWNraW5nfXNldCBlbmFibGVEaXN0YW50UGlja2luZyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9lbmFibGVEaXN0YW50UGlja2luZz1lfWdldCBsYXllck1hc2soKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbGF5ZXJNYXNrfXNldCBsYXllck1hc2soZSl7ZSE9PXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2xheWVyTWFzayYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2xheWVyTWFzaz1lLHRoaXMuX3Jlc3luY0xpZ2h0U291cmNlcygpKX1nZXQgY29sbGlzaW9uTWFzaygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uTWFza31zZXQgY29sbGlzaW9uTWFzayhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uTWFzaz1pc05hTihlKT8tMTplfWdldCBjb2xsaXNpb25SZXNwb25zZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uUmVzcG9uc2V9c2V0IGNvbGxpc2lvblJlc3BvbnNlKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25SZXNwb25zZT1lfWdldCBjb2xsaXNpb25Hcm91cCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlzaW9uR3JvdXB9c2V0IGNvbGxpc2lvbkdyb3VwKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9jb2xsaXNpb25Hcm91cD1pc05hTihlKT8tMTplfWdldCBzdXJyb3VuZGluZ01lc2hlcygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fc3Vycm91bmRpbmdNZXNoZXN9c2V0IHN1cnJvdW5kaW5nTWVzaGVzKGUpe3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9zdXJyb3VuZGluZ01lc2hlcz1lfWdldCBsaWdodFNvdXJjZXMoKXtyZXR1cm4gdGhpcy5fbGlnaHRTb3VyY2VzfWdldCBfcG9zaXRpb25zKCl7cmV0dXJuIG51bGx9c2V0IHNrZWxldG9uKGUpe2NvbnN0IHQ9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b247dCYmdC5uZWVkSW5pdGlhbFNraW5NYXRyaXgmJnQuX3VucmVnaXN0ZXJNZXNoV2l0aFBvc2VNYXRyaXgodGhpcyksZSYmZS5uZWVkSW5pdGlhbFNraW5NYXRyaXgmJmUuX3JlZ2lzdGVyTWVzaFdpdGhQb3NlTWF0cml4KHRoaXMpLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3NrZWxldG9uPWUsdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b258fCh0aGlzLl9ib25lc1RyYW5zZm9ybU1hdHJpY2VzPW51bGwpLHRoaXMuX21hcmtTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpfWdldCBza2VsZXRvbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9za2VsZXRvbn1jb25zdHJ1Y3RvcihlLHQ9bnVsbCl7c3dpdGNoKHN1cGVyKGUsdCwhMSksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mbz1uZXcgWG4sdGhpcy5fd2FpdGluZ01hdGVyaWFsSWQ9bnVsbCx0aGlzLmN1bGxpbmdTdHJhdGVneT1odC5DVUxMSU5HU1RSQVRFR1lfQk9VTkRJTkdTUEhFUkVfT05MWSx0aGlzLm9uQ29sbGlkZU9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uTWF0ZXJpYWxDaGFuZ2VkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLmRlZmluZWRGYWNpbmdGb3J3YXJkPSEwLHRoaXMuX29jY2x1c2lvblF1ZXJ5PW51bGwsdGhpcy5fcmVuZGVyaW5nR3JvdXA9bnVsbCx0aGlzLmFscGhhSW5kZXg9TnVtYmVyLk1BWF9WQUxVRSx0aGlzLmlzVmlzaWJsZT0hMCx0aGlzLmlzUGlja2FibGU9ITAsdGhpcy5pc05lYXJQaWNrYWJsZT0hMSx0aGlzLmlzTmVhckdyYWJiYWJsZT0hMSx0aGlzLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveD0hMSx0aGlzLmlzQmxvY2tlcj0hMSx0aGlzLmVuYWJsZVBvaW50ZXJNb3ZlRXZlbnRzPSExLHRoaXMub3V0bGluZUNvbG9yPXJlLlJlZCgpLHRoaXMub3V0bGluZVdpZHRoPS4wMix0aGlzLm92ZXJsYXlDb2xvcj1yZS5SZWQoKSx0aGlzLm92ZXJsYXlBbHBoYT0uNSx0aGlzLnVzZU9jdHJlZUZvclJlbmRlcmluZ1NlbGVjdGlvbj0hMCx0aGlzLnVzZU9jdHJlZUZvclBpY2tpbmc9ITAsdGhpcy51c2VPY3RyZWVGb3JDb2xsaXNpb25zPSEwLHRoaXMuYWx3YXlzU2VsZWN0QXNBY3RpdmVNZXNoPSExLHRoaXMuZG9Ob3RTeW5jQm91bmRpbmdJbmZvPSExLHRoaXMuYWN0aW9uTWFuYWdlcj1udWxsLHRoaXMuZWxsaXBzb2lkPW5ldyBwKC41LDEsLjUpLHRoaXMuZWxsaXBzb2lkT2Zmc2V0PW5ldyBwKDAsMCwwKSx0aGlzLmVkZ2VzV2lkdGg9MSx0aGlzLmVkZ2VzQ29sb3I9bmV3IE5lKDEsMCwwLDEpLHRoaXMuX2VkZ2VzUmVuZGVyZXI9bnVsbCx0aGlzLl9tYXN0ZXJNZXNoPW51bGwsdGhpcy5fYm91bmRpbmdJbmZvPW51bGwsdGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMCx0aGlzLl9yZW5kZXJJZD0wLHRoaXMuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzPW5ldyBBcnJheSx0aGlzLl91bkluZGV4ZWQ9ITEsdGhpcy5fbGlnaHRTb3VyY2VzPW5ldyBBcnJheSx0aGlzLl93YWl0aW5nRGF0YT17bG9kczpudWxsLGFjdGlvbnM6bnVsbCxmcmVlemVXb3JsZE1hdHJpeDpudWxsfSx0aGlzLl9ib25lc1RyYW5zZm9ybU1hdHJpY2VzPW51bGwsdGhpcy5fdHJhbnNmb3JtTWF0cml4VGV4dHVyZT1udWxsLHRoaXMub25SZWJ1aWxkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlPShpLHMscj1udWxsKT0+e3Muc3VidHJhY3RUb1JlZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fb2xkUG9zaXRpb25Gb3JDb2xsaXNpb25zLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9kaWZmUG9zaXRpb25Gb3JDb2xsaXNpb25zKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fZGlmZlBvc2l0aW9uRm9yQ29sbGlzaW9ucy5sZW5ndGgoKT5QLkNvbGxpc2lvbnNFcHNpbG9uJiZ0aGlzLnBvc2l0aW9uLmFkZEluUGxhY2UodGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2RpZmZQb3NpdGlvbkZvckNvbGxpc2lvbnMpLHImJnRoaXMub25Db2xsaWRlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMociksdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5wb3NpdGlvbil9LHQ9dGhpcy5nZXRTY2VuZSgpLHQuYWRkTWVzaCh0aGlzKSx0aGlzLl9yZXN5bmNMaWdodFNvdXJjZXMoKSx0aGlzLl91bmlmb3JtQnVmZmVyPW5ldyBWKHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKSx2b2lkIDAsdm9pZCAwLGUsIXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5pc1dlYkdQVSksdGhpcy5fYnVpbGRVbmlmb3JtTGF5b3V0KCksdC5wZXJmb3JtYW5jZVByaW9yaXR5KXtjYXNlIFB0LkFnZ3Jlc3NpdmU6dGhpcy5kb05vdFN5bmNCb3VuZGluZ0luZm89ITA7Y2FzZSBQdC5JbnRlcm1lZGlhdGU6dGhpcy5hbHdheXNTZWxlY3RBc0FjdGl2ZU1lc2g9ITAsdGhpcy5pc1BpY2thYmxlPSExO2JyZWFrfX1fYnVpbGRVbmlmb3JtTGF5b3V0KCl7dGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ3b3JsZCIsMTYpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidmlzaWJpbGl0eSIsMSksdGhpcy5fdW5pZm9ybUJ1ZmZlci5jcmVhdGUoKX10cmFuc2ZlclRvRWZmZWN0KGUpe2NvbnN0IHQ9dGhpcy5fdW5pZm9ybUJ1ZmZlcjt0LnVwZGF0ZU1hdHJpeCgid29ybGQiLGUpLHQudXBkYXRlRmxvYXQoInZpc2liaWxpdHkiLHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Zpc2liaWxpdHkpLHQudXBkYXRlKCl9Z2V0TWVzaFVuaWZvcm1CdWZmZXIoKXtyZXR1cm4gdGhpcy5fdW5pZm9ybUJ1ZmZlcn1nZXRDbGFzc05hbWUoKXtyZXR1cm4iQWJzdHJhY3RNZXNoIn10b1N0cmluZyhlKXtsZXQgdD0iTmFtZTogIit0aGlzLm5hbWUrIiwgaXNJbnN0YW5jZTogIisodGhpcy5nZXRDbGFzc05hbWUoKSE9PSJJbnN0YW5jZWRNZXNoIj8iWUVTIjoiTk8iKTt0Kz0iLCAjIG9mIHN1Ym1lc2hlczogIisodGhpcy5zdWJNZXNoZXM/dGhpcy5zdWJNZXNoZXMubGVuZ3RoOjApO2NvbnN0IGk9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b247cmV0dXJuIGkmJih0Kz0iLCBza2VsZXRvbjogIitpLm5hbWUpLGUmJih0Kz0iLCBiaWxsYm9hcmQgbW9kZTogIitbIk5PTkUiLCJYIiwiWSIsbnVsbCwiWiIsbnVsbCxudWxsLCJBTEwiXVt0aGlzLmJpbGxib2FyZE1vZGVdLHQrPSIsIGZyZWV6ZSB3cmxkIG1hdDogIisodGhpcy5faXNXb3JsZE1hdHJpeEZyb3plbnx8dGhpcy5fd2FpdGluZ0RhdGEuZnJlZXplV29ybGRNYXRyaXg/IllFUyI6Ik5PIikpLHR9X2dldEVmZmVjdGl2ZVBhcmVudCgpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoJiZ0aGlzLmJpbGxib2FyZE1vZGUhPT1lZS5CSUxMQk9BUkRNT0RFX05PTkU/dGhpcy5fbWFzdGVyTWVzaDpzdXBlci5fZ2V0RWZmZWN0aXZlUGFyZW50KCl9X2dldEFjdGlvbk1hbmFnZXJGb3JUcmlnZ2VyKGUsdD0hMCl7aWYodGhpcy5hY3Rpb25NYW5hZ2VyJiYodHx8dGhpcy5hY3Rpb25NYW5hZ2VyLmlzUmVjdXJzaXZlKSlpZihlKXtpZih0aGlzLmFjdGlvbk1hbmFnZXIuaGFzU3BlY2lmaWNUcmlnZ2VyKGUpKXJldHVybiB0aGlzLmFjdGlvbk1hbmFnZXJ9ZWxzZSByZXR1cm4gdGhpcy5hY3Rpb25NYW5hZ2VyO3JldHVybiB0aGlzLnBhcmVudD90aGlzLnBhcmVudC5fZ2V0QWN0aW9uTWFuYWdlckZvclRyaWdnZXIoZSwhMSk6bnVsbH1fcmVidWlsZChlPSExKXtpZih0aGlzLm9uUmVidWlsZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMuX29jY2x1c2lvblF1ZXJ5IT09bnVsbCYmKHRoaXMuX29jY2x1c2lvblF1ZXJ5PW51bGwpLCEhdGhpcy5zdWJNZXNoZXMpZm9yKGNvbnN0IHQgb2YgdGhpcy5zdWJNZXNoZXMpdC5fcmVidWlsZCgpfV9yZXN5bmNMaWdodFNvdXJjZXMoKXt0aGlzLl9saWdodFNvdXJjZXMubGVuZ3RoPTA7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZXRTY2VuZSgpLmxpZ2h0cyllLmlzRW5hYmxlZCgpJiZlLmNhbkFmZmVjdE1lc2godGhpcykmJnRoaXMuX2xpZ2h0U291cmNlcy5wdXNoKGUpO3RoaXMuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoKX1fcmVzeW5jTGlnaHRTb3VyY2UoZSl7Y29uc3QgdD1lLmlzRW5hYmxlZCgpJiZlLmNhbkFmZmVjdE1lc2godGhpcyksaT10aGlzLl9saWdodFNvdXJjZXMuaW5kZXhPZihlKTtsZXQgcz0hMTtpZihpPT09LTEpe2lmKCF0KXJldHVybjt0aGlzLl9saWdodFNvdXJjZXMucHVzaChlKX1lbHNle2lmKHQpcmV0dXJuO3M9ITAsdGhpcy5fbGlnaHRTb3VyY2VzLnNwbGljZShpLDEpfXRoaXMuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkocyl9X3VuQmluZEVmZmVjdCgpe2Zvcihjb25zdCBlIG9mIHRoaXMuc3ViTWVzaGVzKWUuc2V0RWZmZWN0KG51bGwpfV9yZW1vdmVMaWdodFNvdXJjZShlLHQpe2NvbnN0IGk9dGhpcy5fbGlnaHRTb3VyY2VzLmluZGV4T2YoZSk7aSE9PS0xJiYodGhpcy5fbGlnaHRTb3VyY2VzLnNwbGljZShpLDEpLHRoaXMuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkodCkpfV9tYXJrU3ViTWVzaGVzQXNEaXJ0eShlKXtpZih0aGlzLnN1Yk1lc2hlcylmb3IoY29uc3QgdCBvZiB0aGlzLnN1Yk1lc2hlcylmb3IobGV0IGk9MDtpPHQuX2RyYXdXcmFwcGVycy5sZW5ndGg7KytpKXtjb25zdCBzPXQuX2RyYXdXcmFwcGVyc1tpXTshc3x8IXMuZGVmaW5lc3x8IXMuZGVmaW5lcy5tYXJrQWxsQXNEaXJ0eXx8ZShzLmRlZmluZXMpfX1fbWFya1N1Yk1lc2hlc0FzTGlnaHREaXJ0eShlPSExKXt0aGlzLl9tYXJrU3ViTWVzaGVzQXNEaXJ0eSh0PT50Lm1hcmtBc0xpZ2h0RGlydHkoZSkpfV9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKXt0aGlzLl9tYXJrU3ViTWVzaGVzQXNEaXJ0eShlPT5lLm1hcmtBc0F0dHJpYnV0ZXNEaXJ0eSgpKX1fbWFya1N1Yk1lc2hlc0FzTWlzY0RpcnR5KCl7dGhpcy5fbWFya1N1Yk1lc2hlc0FzRGlydHkoZT0+ZS5tYXJrQXNNaXNjRGlydHkoKSl9bWFya0FzRGlydHkoZSl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZW5kZXJJZD1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuX2lzRGlydHk9ITAsdGhpc31yZXNldERyYXdDYWNoZShlKXtpZih0aGlzLnN1Yk1lc2hlcylmb3IoY29uc3QgdCBvZiB0aGlzLnN1Yk1lc2hlcyl0LnJlc2V0RHJhd0NhY2hlKGUpfWdldCBpc0Jsb2NrZWQoKXtyZXR1cm4hMX1nZXRMT0QoZSl7cmV0dXJuIHRoaXN9Z2V0VG90YWxWZXJ0aWNlcygpe3JldHVybiAwfWdldFRvdGFsSW5kaWNlcygpe3JldHVybiAwfWdldEluZGljZXMoKXtyZXR1cm4gbnVsbH1nZXRWZXJ0aWNlc0RhdGEoZSl7cmV0dXJuIG51bGx9c2V0VmVydGljZXNEYXRhKGUsdCxpLHMpe3JldHVybiB0aGlzfXVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaSxzKXtyZXR1cm4gdGhpc31zZXRJbmRpY2VzKGUsdCl7cmV0dXJuIHRoaXN9aXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpe3JldHVybiExfWdldEJvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoP3RoaXMuX21hc3Rlck1lc2guZ2V0Qm91bmRpbmdJbmZvKCk6KHRoaXMuX2JvdW5kaW5nSW5mb0lzRGlydHkmJih0aGlzLl9ib3VuZGluZ0luZm9Jc0RpcnR5PSExLHRoaXMuX3VwZGF0ZUJvdW5kaW5nSW5mbygpKSx0aGlzLl9ib3VuZGluZ0luZm8pfWdldFJhd0JvdW5kaW5nSW5mbygpe3ZhciBlO3JldHVybihlPXRoaXMucmF3Qm91bmRpbmdJbmZvKSE9PW51bGwmJmUhPT12b2lkIDA/ZTp0aGlzLmdldEJvdW5kaW5nSW5mbygpfXNldEJvdW5kaW5nSW5mbyhlKXtyZXR1cm4gdGhpcy5fYm91bmRpbmdJbmZvPWUsdGhpc31nZXQgaGFzQm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbyE9PW51bGx9YnVpbGRCb3VuZGluZ0luZm8oZSx0LGkpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm89bmV3IGZ0KGUsdCxpKSx0aGlzLl9ib3VuZGluZ0luZm99bm9ybWFsaXplVG9Vbml0Q3ViZShlPSEwLHQ9ITEsaSl7cmV0dXJuIHN1cGVyLm5vcm1hbGl6ZVRvVW5pdEN1YmUoZSx0LGkpfWdldCB1c2VCb25lcygpe3JldHVybiB0aGlzLnNrZWxldG9uJiZ0aGlzLmdldFNjZW5lKCkuc2tlbGV0b25zRW5hYmxlZCYmdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc0luZGljZXNLaW5kKSYmdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc1dlaWdodHNLaW5kKX1fcHJlQWN0aXZhdGUoKXt9X3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nKGUpe31fYWN0aXZhdGUoZSx0KXtyZXR1cm4gdGhpcy5fcmVuZGVySWQ9ZSwhMH1fcG9zdEFjdGl2YXRlKCl7fV9mcmVlemUoKXt9X3VuRnJlZXplKCl7fWdldFdvcmxkTWF0cml4KCl7cmV0dXJuIHRoaXMuX21hc3Rlck1lc2gmJnRoaXMuYmlsbGJvYXJkTW9kZT09PWVlLkJJTExCT0FSRE1PREVfTk9ORT90aGlzLl9tYXN0ZXJNZXNoLmdldFdvcmxkTWF0cml4KCk6c3VwZXIuZ2V0V29ybGRNYXRyaXgoKX1fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpe3JldHVybiB0aGlzLl9tYXN0ZXJNZXNoP3RoaXMuX21hc3Rlck1lc2guX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKTpzdXBlci5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpfWdldCBpc0FuSW5zdGFuY2UoKXtyZXR1cm4hMX1nZXQgaGFzSW5zdGFuY2VzKCl7cmV0dXJuITF9Z2V0IGhhc1RoaW5JbnN0YW5jZXMoKXtyZXR1cm4hMX1tb3ZlUE9WKGUsdCxpKXtyZXR1cm4gdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKHRoaXMuY2FsY01vdmVQT1YoZSx0LGkpKSx0aGlzfWNhbGNNb3ZlUE9WKGUsdCxpKXtjb25zdCBzPW5ldyBNOyh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbjpaLlJvdGF0aW9uWWF3UGl0Y2hSb2xsKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56KSkudG9Sb3RhdGlvbk1hdHJpeChzKTtjb25zdCBuPXAuWmVybygpLGE9dGhpcy5kZWZpbmVkRmFjaW5nRm9yd2FyZD8tMToxO3JldHVybiBwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUqYSx0LGkqYSxzLG4pLG59cm90YXRlUE9WKGUsdCxpKXtyZXR1cm4gdGhpcy5yb3RhdGlvbi5hZGRJblBsYWNlKHRoaXMuY2FsY1JvdGF0ZVBPVihlLHQsaSkpLHRoaXN9Y2FsY1JvdGF0ZVBPVihlLHQsaSl7Y29uc3Qgcz10aGlzLmRlZmluZWRGYWNpbmdGb3J3YXJkPzE6LTE7cmV0dXJuIG5ldyBwKGUqcyx0LGkqcyl9cmVmcmVzaEJvdW5kaW5nSW5mbyhlPSExLHQ9ITEpe3JldHVybiB0aGlzLl9ib3VuZGluZ0luZm8mJnRoaXMuX2JvdW5kaW5nSW5mby5pc0xvY2tlZD90aGlzOih0aGlzLl9yZWZyZXNoQm91bmRpbmdJbmZvKHRoaXMuX2dldFBvc2l0aW9uRGF0YShlLHQpLG51bGwpLHRoaXMpfV9yZWZyZXNoQm91bmRpbmdJbmZvKGUsdCl7aWYoZSl7Y29uc3QgaT1EcihlLDAsdGhpcy5nZXRUb3RhbFZlcnRpY2VzKCksdCk7dGhpcy5fYm91bmRpbmdJbmZvP3RoaXMuX2JvdW5kaW5nSW5mby5yZUNvbnN0cnVjdChpLm1pbmltdW0saS5tYXhpbXVtKTp0aGlzLl9ib3VuZGluZ0luZm89bmV3IGZ0KGkubWluaW11bSxpLm1heGltdW0pfWlmKHRoaXMuc3ViTWVzaGVzKWZvcihsZXQgaT0wO2k8dGhpcy5zdWJNZXNoZXMubGVuZ3RoO2krKyl0aGlzLnN1Yk1lc2hlc1tpXS5yZWZyZXNoQm91bmRpbmdJbmZvKGUpO3RoaXMuX3VwZGF0ZUJvdW5kaW5nSW5mbygpfV9nZXREYXRhKGU9ITEsdD0hMSxpLHM9Zy5Qb3NpdGlvbktpbmQpe2lmKGk9aT8/dGhpcy5nZXRWZXJ0aWNlc0RhdGEocykuc2xpY2UoKSxpJiZ0JiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcil7bGV0IHI9MCxuPTA7Zm9yKGxldCBhPTA7YTxpLmxlbmd0aDthKyspe2ZvcihsZXQgbz0wO288dGhpcy5tb3JwaFRhcmdldE1hbmFnZXIubnVtVGFyZ2V0cztvKyspe2NvbnN0IGg9dGhpcy5tb3JwaFRhcmdldE1hbmFnZXIuZ2V0VGFyZ2V0KG8pLGw9aC5pbmZsdWVuY2U7aWYobD4wKXtjb25zdCB1PWguZ2V0UG9zaXRpb25zKCk7dSYmKGlbYV0rPSh1W2FdLWlbYV0pKmwpfX1pZihyKysscz09PWcuUG9zaXRpb25LaW5kJiZ0aGlzLl9wb3NpdGlvbnMmJnI9PT0zKXtyPTA7Y29uc3Qgbz1uKjM7dGhpcy5fcG9zaXRpb25zW24rK10uY29weUZyb21GbG9hdHMoaVtvXSxpW28rMV0saVtvKzJdKX19fWlmKGkmJmUmJnRoaXMuc2tlbGV0b24pe2NvbnN0IHI9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc0luZGljZXNLaW5kKSxuPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCk7aWYobiYmcil7Y29uc3QgYT10aGlzLm51bUJvbmVJbmZsdWVuY2Vycz40LG89YT90aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCk6bnVsbCxoPWE/dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpOm51bGwsbD10aGlzLnNrZWxldG9uLmdldFRyYW5zZm9ybU1hdHJpY2VzKHRoaXMpLHU9Ri5WZWN0b3IzWzBdLGQ9Ri5NYXRyaXhbMF0sXz1GLk1hdHJpeFsxXTtsZXQgZj0wO2ZvcihsZXQgbT0wO208aS5sZW5ndGg7bSs9MyxmKz00KXtkLnJlc2V0KCk7bGV0IHYsRTtmb3Iodj0wO3Y8NDt2KyspRT1uW2Yrdl0sRT4wJiYoTS5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQobCxNYXRoLmZsb29yKHJbZit2XSoxNiksRSxfKSxkLmFkZFRvU2VsZihfKSk7aWYoYSlmb3Iodj0wO3Y8NDt2KyspRT1oW2Yrdl0sRT4wJiYoTS5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQobCxNYXRoLmZsb29yKG9bZit2XSoxNiksRSxfKSxkLmFkZFRvU2VsZihfKSk7cz09PWcuTm9ybWFsS2luZD9wLlRyYW5zZm9ybU5vcm1hbEZyb21GbG9hdHNUb1JlZihpW21dLGlbbSsxXSxpW20rMl0sZCx1KTpwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGlbbV0saVttKzFdLGlbbSsyXSxkLHUpLHUudG9BcnJheShpLG0pLHM9PT1nLlBvc2l0aW9uS2luZCYmdGhpcy5fcG9zaXRpb25zJiZ0aGlzLl9wb3NpdGlvbnNbbS8zXS5jb3B5RnJvbSh1KX19fXJldHVybiBpfWdldE5vcm1hbHNEYXRhKGU9ITEsdD0hMSl7cmV0dXJuIHRoaXMuX2dldERhdGEoZSx0LG51bGwsZy5Ob3JtYWxLaW5kKX1nZXRQb3NpdGlvbkRhdGEoZT0hMSx0PSExLGkpe3JldHVybiB0aGlzLl9nZXREYXRhKGUsdCxpLGcuUG9zaXRpb25LaW5kKX1fZ2V0UG9zaXRpb25EYXRhKGUsdCl7dmFyIGk7bGV0IHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2lmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9ucyYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9ucz1udWxsKSxzJiYoZSYmdGhpcy5za2VsZXRvbnx8dCYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXIpKXtpZihzPXMuc2xpY2UoKSx0aGlzLl9nZW5lcmF0ZVBvaW50c0FycmF5KCksdGhpcy5fcG9zaXRpb25zKXtjb25zdCByPXRoaXMuX3Bvc2l0aW9uczt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM9bmV3IEFycmF5KHIubGVuZ3RoKTtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKyl0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnNbbl09KChpPXJbbl0pPT09bnVsbHx8aT09PXZvaWQgMD92b2lkIDA6aS5jbG9uZSgpKXx8bmV3IHB9cmV0dXJuIHRoaXMuZ2V0UG9zaXRpb25EYXRhKGUsdCxzKX1yZXR1cm4gc31fdXBkYXRlQm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nSW5mbz90aGlzLl9ib3VuZGluZ0luZm8udXBkYXRlKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpOnRoaXMuX2JvdW5kaW5nSW5mbz1uZXcgZnQocC5aZXJvKCkscC5aZXJvKCksdGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSksdGhpcy5fdXBkYXRlU3ViTWVzaGVzQm91bmRpbmdJbmZvKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpLHRoaXN9X3VwZGF0ZVN1Yk1lc2hlc0JvdW5kaW5nSW5mbyhlKXtpZighdGhpcy5zdWJNZXNoZXMpcmV0dXJuIHRoaXM7Y29uc3QgdD10aGlzLnN1Yk1lc2hlcy5sZW5ndGg7Zm9yKGxldCBpPTA7aTx0O2krKyl7Y29uc3Qgcz10aGlzLnN1Yk1lc2hlc1tpXTsodD4xfHwhcy5Jc0dsb2JhbCkmJnMudXBkYXRlQm91bmRpbmdJbmZvKGUpfXJldHVybiB0aGlzfV9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpe3RoaXMuZG9Ob3RTeW5jQm91bmRpbmdJbmZvfHwodGhpcy5fYm91bmRpbmdJbmZvSXNEaXJ0eT0hMCl9aXNJbkZydXN0dW0oZSl7cmV0dXJuIHRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaXNJbkZydXN0dW0oZSx0aGlzLmN1bGxpbmdTdHJhdGVneSl9aXNDb21wbGV0ZWx5SW5GcnVzdHVtKGUpe3JldHVybiB0aGlzLmdldEJvdW5kaW5nSW5mbygpLmlzQ29tcGxldGVseUluRnJ1c3R1bShlKX1pbnRlcnNlY3RzTWVzaChlLHQ9ITEsaSl7Y29uc3Qgcz10aGlzLmdldEJvdW5kaW5nSW5mbygpLHI9ZS5nZXRCb3VuZGluZ0luZm8oKTtpZihzLmludGVyc2VjdHMocix0KSlyZXR1cm4hMDtpZihpKXtmb3IoY29uc3QgbiBvZiB0aGlzLmdldENoaWxkTWVzaGVzKCkpaWYobi5pbnRlcnNlY3RzTWVzaChlLHQsITApKXJldHVybiEwfXJldHVybiExfWludGVyc2VjdHNQb2ludChlKXtyZXR1cm4gdGhpcy5nZXRCb3VuZGluZ0luZm8oKS5pbnRlcnNlY3RzUG9pbnQoZSl9Z2V0IGNoZWNrQ29sbGlzaW9ucygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY2hlY2tDb2xsaXNpb25zfXNldCBjaGVja0NvbGxpc2lvbnMoZSl7dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWVzaENvbGxpc2lvbkRhdGEuX2NoZWNrQ29sbGlzaW9ucz1lfWdldCBjb2xsaWRlcigpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXJ9bW92ZVdpdGhDb2xsaXNpb25zKGUpe3RoaXMuZ2V0QWJzb2x1dGVQb3NpdGlvbigpLmFkZFRvUmVmKHRoaXMuZWxsaXBzb2lkT2Zmc2V0LHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbGRQb3NpdGlvbkZvckNvbGxpc2lvbnMpO2NvbnN0IGk9dGhpcy5nZXRTY2VuZSgpLmNvbGxpc2lvbkNvb3JkaW5hdG9yO3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXJ8fCh0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXI9aS5jcmVhdGVDb2xsaWRlcigpKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXIuX3JhZGl1cz10aGlzLmVsbGlwc29pZCxpLmdldE5ld1Bvc2l0aW9uKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21lc2hDb2xsaXNpb25EYXRhLl9vbGRQb3NpdGlvbkZvckNvbGxpc2lvbnMsZSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tZXNoQ29sbGlzaW9uRGF0YS5fY29sbGlkZXIsdGhpcy5jb2xsaXNpb25SZXRyeUNvdW50LHRoaXMsdGhpcy5fb25Db2xsaXNpb25Qb3NpdGlvbkNoYW5nZSx0aGlzLnVuaXF1ZUlkKSx0aGlzfV9jb2xsaWRlRm9yU3ViTWVzaChlLHQsaSl7dmFyIHM7aWYodGhpcy5fZ2VuZXJhdGVQb2ludHNBcnJheSgpLCF0aGlzLl9wb3NpdGlvbnMpcmV0dXJuIHRoaXM7aWYoIWUuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXN8fCFlLl9sYXN0Q29sbGlkZXJUcmFuc2Zvcm1NYXRyaXguZXF1YWxzKHQpKXtlLl9sYXN0Q29sbGlkZXJUcmFuc2Zvcm1NYXRyaXg9dC5jbG9uZSgpLGUuX2xhc3RDb2xsaWRlcldvcmxkVmVydGljZXM9W10sZS5fdHJpYW5nbGVQbGFuZXM9W107Y29uc3Qgcj1lLnZlcnRpY2VzU3RhcnQsbj1lLnZlcnRpY2VzU3RhcnQrZS52ZXJ0aWNlc0NvdW50O2ZvcihsZXQgYT1yO2E8bjthKyspZS5fbGFzdENvbGxpZGVyV29ybGRWZXJ0aWNlcy5wdXNoKHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXModGhpcy5fcG9zaXRpb25zW2FdLHQpKX1yZXR1cm4gaS5fY29sbGlkZShlLl90cmlhbmdsZVBsYW5lcyxlLl9sYXN0Q29sbGlkZXJXb3JsZFZlcnRpY2VzLHRoaXMuZ2V0SW5kaWNlcygpLGUuaW5kZXhTdGFydCxlLmluZGV4U3RhcnQrZS5pbmRleENvdW50LGUudmVydGljZXNTdGFydCwhIWUuZ2V0TWF0ZXJpYWwoKSx0aGlzLHRoaXMuX3Nob3VsZENvbnZlcnRSSFMoKSwoKHM9ZS5nZXRNYXRlcmlhbCgpKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMuZmlsbE1vZGUpPT09NyksdGhpc31fcHJvY2Vzc0NvbGxpc2lvbnNGb3JTdWJNZXNoZXMoZSx0KXtjb25zdCBpPXRoaXMuX3NjZW5lLmdldENvbGxpZGluZ1N1Yk1lc2hDYW5kaWRhdGVzKHRoaXMsZSkscz1pLmxlbmd0aDtmb3IobGV0IHI9MDtyPHM7cisrKXtjb25zdCBuPWkuZGF0YVtyXTtzPjEmJiFuLl9jaGVja0NvbGxpc2lvbihlKXx8dGhpcy5fY29sbGlkZUZvclN1Yk1lc2gobix0LGUpfXJldHVybiB0aGlzfV9zaG91bGRDb252ZXJ0UkhTKCl7cmV0dXJuITF9X2NoZWNrQ29sbGlzaW9uKGUpe2lmKCF0aGlzLmdldEJvdW5kaW5nSW5mbygpLl9jaGVja0NvbGxpc2lvbihlKSlyZXR1cm4gdGhpcztjb25zdCB0PUYuTWF0cml4WzBdLGk9Ri5NYXRyaXhbMV07cmV0dXJuIE0uU2NhbGluZ1RvUmVmKDEvZS5fcmFkaXVzLngsMS9lLl9yYWRpdXMueSwxL2UuX3JhZGl1cy56LHQpLHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUubXVsdGlwbHlUb1JlZih0LGkpLHRoaXMuX3Byb2Nlc3NDb2xsaXNpb25zRm9yU3ViTWVzaGVzKGUsaSksdGhpc31fZ2VuZXJhdGVQb2ludHNBcnJheSgpe3JldHVybiExfWludGVyc2VjdHMoZSx0LGkscz0hMSxyLG49ITEpe2NvbnN0IGE9bmV3IGt0LG89dGhpcy5nZXRDbGFzc05hbWUoKT09PSJJbnN0YW5jZWRMaW5lc01lc2gifHx0aGlzLmdldENsYXNzTmFtZSgpPT09IkxpbmVzTWVzaCI/dGhpcy5pbnRlcnNlY3Rpb25UaHJlc2hvbGQ6MCxoPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7aWYoIXRoaXMuc3ViTWVzaGVzfHwhbiYmKCFlLmludGVyc2VjdHNTcGhlcmUoaC5ib3VuZGluZ1NwaGVyZSxvKXx8IWUuaW50ZXJzZWN0c0JveChoLmJvdW5kaW5nQm94LG8pKSlyZXR1cm4gYTtpZihzKXJldHVybiBhLmhpdD0hbixhLnBpY2tlZE1lc2g9bj9udWxsOnRoaXMsYS5kaXN0YW5jZT1uPzA6cC5EaXN0YW5jZShlLm9yaWdpbixoLmJvdW5kaW5nU3BoZXJlLmNlbnRlciksYS5zdWJNZXNoSWQ9MCxhO2lmKCF0aGlzLl9nZW5lcmF0ZVBvaW50c0FycmF5KCkpcmV0dXJuIGE7bGV0IGw9bnVsbDtjb25zdCB1PXRoaXMuX3NjZW5lLmdldEludGVyc2VjdGluZ1N1Yk1lc2hDYW5kaWRhdGVzKHRoaXMsZSksZD11Lmxlbmd0aDtsZXQgXz0hMTtmb3IobGV0IGY9MDtmPGQ7ZisrKXtjb25zdCB2PXUuZGF0YVtmXS5nZXRNYXRlcmlhbCgpO2lmKHYmJih2LmZpbGxNb2RlPT03fHx2LmZpbGxNb2RlPT0wfHx2LmZpbGxNb2RlPT0xfHx2LmZpbGxNb2RlPT0yfHx2LmZpbGxNb2RlPT00KSl7Xz0hMDticmVha319aWYoIV8pcmV0dXJuIGEuaGl0PSEwLGEucGlja2VkTWVzaD10aGlzLGEuZGlzdGFuY2U9cC5EaXN0YW5jZShlLm9yaWdpbixoLmJvdW5kaW5nU3BoZXJlLmNlbnRlciksYS5zdWJNZXNoSWQ9LTEsYTtmb3IobGV0IGY9MDtmPGQ7ZisrKXtjb25zdCBtPXUuZGF0YVtmXTtpZihkPjEmJiFtLmNhbkludGVyc2VjdHMoZSkpY29udGludWU7Y29uc3Qgdj1tLmludGVyc2VjdHMoZSx0aGlzLl9wb3NpdGlvbnMsdGhpcy5nZXRJbmRpY2VzKCksdCxpKTtpZih2JiYodHx8IWx8fHYuZGlzdGFuY2U8bC5kaXN0YW5jZSkmJihsPXYsbC5zdWJNZXNoSWQ9Zix0KSlicmVha31pZihsKXtjb25zdCBmPXI/P3RoaXMuZ2V0V29ybGRNYXRyaXgoKSxtPUYuVmVjdG9yM1swXSx2PUYuVmVjdG9yM1sxXTtwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoZS5vcmlnaW4sZixtKSxlLmRpcmVjdGlvbi5zY2FsZVRvUmVmKGwuZGlzdGFuY2Usdik7Y29uc3QgUz1wLlRyYW5zZm9ybU5vcm1hbCh2LGYpLmFkZEluUGxhY2UobSk7cmV0dXJuIGEuaGl0PSEwLGEuZGlzdGFuY2U9cC5EaXN0YW5jZShtLFMpLGEucGlja2VkUG9pbnQ9UyxhLnBpY2tlZE1lc2g9dGhpcyxhLmJ1PWwuYnV8fDAsYS5idj1sLmJ2fHwwLGEuc3ViTWVzaEZhY2VJZD1sLmZhY2VJZCxhLmZhY2VJZD1sLmZhY2VJZCt1LmRhdGFbbC5zdWJNZXNoSWRdLmluZGV4U3RhcnQvKHRoaXMuZ2V0Q2xhc3NOYW1lKCkuaW5kZXhPZigiTGluZXNNZXNoIikhPT0tMT8yOjMpLGEuc3ViTWVzaElkPWwuc3ViTWVzaElkLGF9cmV0dXJuIGF9Y2xvbmUoZSx0LGkpe3JldHVybiBudWxsfXJlbGVhc2VTdWJNZXNoZXMoKXtpZih0aGlzLnN1Yk1lc2hlcylmb3IoO3RoaXMuc3ViTWVzaGVzLmxlbmd0aDspdGhpcy5zdWJNZXNoZXNbMF0uZGlzcG9zZSgpO2Vsc2UgdGhpcy5zdWJNZXNoZXM9bmV3IEFycmF5O3JldHVybiB0aGlzfWRpc3Bvc2UoZSx0PSExKXtsZXQgaTtmb3IodGhpcy5fc2NlbmUudXNlTWF0ZXJpYWxNZXNoTWFwJiZ0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9tYXRlcmlhbCYmdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWwubWVzaE1hcCYmKHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsLm1lc2hNYXBbdGhpcy51bmlxdWVJZF09dm9pZCAwKSx0aGlzLmdldFNjZW5lKCkuZnJlZUFjdGl2ZU1lc2hlcygpLHRoaXMuZ2V0U2NlbmUoKS5mcmVlUmVuZGVyaW5nR3JvdXBzKCksdGhpcy5hY3Rpb25NYW5hZ2VyIT09dm9pZCAwJiZ0aGlzLmFjdGlvbk1hbmFnZXIhPT1udWxsJiYodGhpcy5hY3Rpb25NYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLmFjdGlvbk1hbmFnZXI9bnVsbCksdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fc2tlbGV0b249bnVsbCx0aGlzLl90cmFuc2Zvcm1NYXRyaXhUZXh0dXJlJiYodGhpcy5fdHJhbnNmb3JtTWF0cml4VGV4dHVyZS5kaXNwb3NlKCksdGhpcy5fdHJhbnNmb3JtTWF0cml4VGV4dHVyZT1udWxsKSxpPTA7aTx0aGlzLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5sZW5ndGg7aSsrKXtjb25zdCBuPXRoaXMuX2ludGVyc2VjdGlvbnNJblByb2dyZXNzW2ldLGE9bi5faW50ZXJzZWN0aW9uc0luUHJvZ3Jlc3MuaW5kZXhPZih0aGlzKTtuLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5zcGxpY2UoYSwxKX10aGlzLl9pbnRlcnNlY3Rpb25zSW5Qcm9ncmVzcy5sZW5ndGg9MCx0aGlzLmdldFNjZW5lKCkubGlnaHRzLmZvckVhY2gobj0+e2xldCBhPW4uaW5jbHVkZWRPbmx5TWVzaGVzLmluZGV4T2YodGhpcyk7YSE9PS0xJiZuLmluY2x1ZGVkT25seU1lc2hlcy5zcGxpY2UoYSwxKSxhPW4uZXhjbHVkZWRNZXNoZXMuaW5kZXhPZih0aGlzKSxhIT09LTEmJm4uZXhjbHVkZWRNZXNoZXMuc3BsaWNlKGEsMSk7Y29uc3Qgbz1uLmdldFNoYWRvd0dlbmVyYXRvcnMoKTtpZihvKXtjb25zdCBoPW8udmFsdWVzKCk7Zm9yKGxldCBsPWgubmV4dCgpO2wuZG9uZSE9PSEwO2w9aC5uZXh0KCkpe2NvbnN0IGQ9bC52YWx1ZS5nZXRTaGFkb3dNYXAoKTtkJiZkLnJlbmRlckxpc3QmJihhPWQucmVuZGVyTGlzdC5pbmRleE9mKHRoaXMpLGEhPT0tMSYmZC5yZW5kZXJMaXN0LnNwbGljZShhLDEpKX19fSksKHRoaXMuZ2V0Q2xhc3NOYW1lKCkhPT0iSW5zdGFuY2VkTWVzaCJ8fHRoaXMuZ2V0Q2xhc3NOYW1lKCkhPT0iSW5zdGFuY2VkTGluZXNNZXNoIikmJnRoaXMucmVsZWFzZVN1Yk1lc2hlcygpO2NvbnN0IHI9dGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpO2lmKHRoaXMuX29jY2x1c2lvblF1ZXJ5IT09bnVsbCYmKHRoaXMuaXNPY2NsdXNpb25RdWVyeUluUHJvZ3Jlc3M9ITEsci5kZWxldGVRdWVyeSh0aGlzLl9vY2NsdXNpb25RdWVyeSksdGhpcy5fb2NjbHVzaW9uUXVlcnk9bnVsbCksci53aXBlQ2FjaGVzKCksdGhpcy5nZXRTY2VuZSgpLnJlbW92ZU1lc2godGhpcyksdGhpcy5fcGFyZW50Q29udGFpbmVyKXtjb25zdCBuPXRoaXMuX3BhcmVudENvbnRhaW5lci5tZXNoZXMuaW5kZXhPZih0aGlzKTtuPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIubWVzaGVzLnNwbGljZShuLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKHQmJnRoaXMubWF0ZXJpYWwmJih0aGlzLm1hdGVyaWFsLmdldENsYXNzTmFtZSgpPT09Ik11bHRpTWF0ZXJpYWwiP3RoaXMubWF0ZXJpYWwuZGlzcG9zZSghMSwhMCwhMCk6dGhpcy5tYXRlcmlhbC5kaXNwb3NlKCExLCEwKSksIWUpZm9yKGk9MDtpPHRoaXMuZ2V0U2NlbmUoKS5wYXJ0aWNsZVN5c3RlbXMubGVuZ3RoO2krKyl0aGlzLmdldFNjZW5lKCkucGFydGljbGVTeXN0ZW1zW2ldLmVtaXR0ZXI9PT10aGlzJiYodGhpcy5nZXRTY2VuZSgpLnBhcnRpY2xlU3lzdGVtc1tpXS5kaXNwb3NlKCksaS0tKTt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGEuZmFjZXREYXRhRW5hYmxlZCYmdGhpcy5kaXNhYmxlRmFjZXREYXRhKCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5kaXNwb3NlKCksdGhpcy5vbkFmdGVyV29ybGRNYXRyaXhVcGRhdGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNvbGxpZGVPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkNvbGxpc2lvblBvc2l0aW9uQ2hhbmdlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25SZWJ1aWxkT2JzZXJ2YWJsZS5jbGVhcigpLHN1cGVyLmRpc3Bvc2UoZSx0KX1hZGRDaGlsZChlLHQ9ITEpe3JldHVybiBlLnNldFBhcmVudCh0aGlzLHQpLHRoaXN9cmVtb3ZlQ2hpbGQoZSx0PSExKXtyZXR1cm4gZS5zZXRQYXJlbnQobnVsbCx0KSx0aGlzfV9pbml0RmFjZXREYXRhKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7ZS5mYWNldE5vcm1hbHN8fChlLmZhY2V0Tm9ybWFscz1uZXcgQXJyYXkpLGUuZmFjZXRQb3NpdGlvbnN8fChlLmZhY2V0UG9zaXRpb25zPW5ldyBBcnJheSksZS5mYWNldFBhcnRpdGlvbmluZ3x8KGUuZmFjZXRQYXJ0aXRpb25pbmc9bmV3IEFycmF5KSxlLmZhY2V0TmI9dGhpcy5nZXRJbmRpY2VzKCkubGVuZ3RoLzN8MCxlLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucz1lLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9ucz9lLnBhcnRpdGlvbmluZ1N1YmRpdmlzaW9uczoxMCxlLnBhcnRpdGlvbmluZ0JCb3hSYXRpbz1lLnBhcnRpdGlvbmluZ0JCb3hSYXRpbz9lLnBhcnRpdGlvbmluZ0JCb3hSYXRpbzoxLjAxO2ZvcihsZXQgdD0wO3Q8ZS5mYWNldE5iO3QrKyllLmZhY2V0Tm9ybWFsc1t0XT1wLlplcm8oKSxlLmZhY2V0UG9zaXRpb25zW3RdPXAuWmVybygpO3JldHVybiBlLmZhY2V0RGF0YUVuYWJsZWQ9ITAsdGhpc311cGRhdGVGYWNldERhdGEoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YTtlLmZhY2V0RGF0YUVuYWJsZWR8fHRoaXMuX2luaXRGYWNldERhdGEoKTtjb25zdCB0PXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKSxpPXRoaXMuZ2V0SW5kaWNlcygpLHM9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKSxyPXRoaXMuZ2V0Qm91bmRpbmdJbmZvKCk7aWYoZS5mYWNldERlcHRoU29ydCYmIWUuZmFjZXREZXB0aFNvcnRFbmFibGVkKXtpZihlLmZhY2V0RGVwdGhTb3J0RW5hYmxlZD0hMCxpIGluc3RhbmNlb2YgVWludDE2QXJyYXkpZS5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQxNkFycmF5KGkpO2Vsc2UgaWYoaSBpbnN0YW5jZW9mIFVpbnQzMkFycmF5KWUuZGVwdGhTb3J0ZWRJbmRpY2VzPW5ldyBVaW50MzJBcnJheShpKTtlbHNle2xldCBhPSExO2ZvcihsZXQgbz0wO288aS5sZW5ndGg7bysrKWlmKGlbb10+NjU1MzUpe2E9ITA7YnJlYWt9YT9lLmRlcHRoU29ydGVkSW5kaWNlcz1uZXcgVWludDMyQXJyYXkoaSk6ZS5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQxNkFycmF5KGkpfWlmKGUuZmFjZXREZXB0aFNvcnRGdW5jdGlvbj1mdW5jdGlvbihhLG8pe3JldHVybiBvLnNxRGlzdGFuY2UtYS5zcURpc3RhbmNlfSwhZS5mYWNldERlcHRoU29ydEZyb20pe2NvbnN0IGE9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYTtlLmZhY2V0RGVwdGhTb3J0RnJvbT1hP2EucG9zaXRpb246cC5aZXJvKCl9ZS5kZXB0aFNvcnRlZEZhY2V0cz1bXTtmb3IobGV0IGE9MDthPGUuZmFjZXROYjthKyspe2NvbnN0IG89e2luZDphKjMsc3FEaXN0YW5jZTowfTtlLmRlcHRoU29ydGVkRmFjZXRzLnB1c2gobyl9ZS5pbnZlcnRlZE1hdHJpeD1NLklkZW50aXR5KCksZS5mYWNldERlcHRoU29ydE9yaWdpbj1wLlplcm8oKX1lLmJiU2l6ZS54PXIubWF4aW11bS54LXIubWluaW11bS54PlNlP3IubWF4aW11bS54LXIubWluaW11bS54OlNlLGUuYmJTaXplLnk9ci5tYXhpbXVtLnktci5taW5pbXVtLnk+U2U/ci5tYXhpbXVtLnktci5taW5pbXVtLnk6U2UsZS5iYlNpemUuej1yLm1heGltdW0uei1yLm1pbmltdW0uej5TZT9yLm1heGltdW0uei1yLm1pbmltdW0uejpTZTtsZXQgbj1lLmJiU2l6ZS54PmUuYmJTaXplLnk/ZS5iYlNpemUueDplLmJiU2l6ZS55O2lmKG49bj5lLmJiU2l6ZS56P246ZS5iYlNpemUueixlLnN1YkRpdi5tYXg9ZS5wYXJ0aXRpb25pbmdTdWJkaXZpc2lvbnMsZS5zdWJEaXYuWD1NYXRoLmZsb29yKGUuc3ViRGl2Lm1heCplLmJiU2l6ZS54L24pLGUuc3ViRGl2Llk9TWF0aC5mbG9vcihlLnN1YkRpdi5tYXgqZS5iYlNpemUueS9uKSxlLnN1YkRpdi5aPU1hdGguZmxvb3IoZS5zdWJEaXYubWF4KmUuYmJTaXplLnovbiksZS5zdWJEaXYuWD1lLnN1YkRpdi5YPDE/MTplLnN1YkRpdi5YLGUuc3ViRGl2Llk9ZS5zdWJEaXYuWTwxPzE6ZS5zdWJEaXYuWSxlLnN1YkRpdi5aPWUuc3ViRGl2Llo8MT8xOmUuc3ViRGl2LlosZS5mYWNldFBhcmFtZXRlcnMuZmFjZXROb3JtYWxzPXRoaXMuZ2V0RmFjZXRMb2NhbE5vcm1hbHMoKSxlLmZhY2V0UGFyYW1ldGVycy5mYWNldFBvc2l0aW9ucz10aGlzLmdldEZhY2V0TG9jYWxQb3NpdGlvbnMoKSxlLmZhY2V0UGFyYW1ldGVycy5mYWNldFBhcnRpdGlvbmluZz10aGlzLmdldEZhY2V0TG9jYWxQYXJ0aXRpb25pbmcoKSxlLmZhY2V0UGFyYW1ldGVycy5iSW5mbz1yLGUuZmFjZXRQYXJhbWV0ZXJzLmJiU2l6ZT1lLmJiU2l6ZSxlLmZhY2V0UGFyYW1ldGVycy5zdWJEaXY9ZS5zdWJEaXYsZS5mYWNldFBhcmFtZXRlcnMucmF0aW89dGhpcy5wYXJ0aXRpb25pbmdCQm94UmF0aW8sZS5mYWNldFBhcmFtZXRlcnMuZGVwdGhTb3J0PWUuZmFjZXREZXB0aFNvcnQsZS5mYWNldERlcHRoU29ydCYmZS5mYWNldERlcHRoU29ydEVuYWJsZWQmJih0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCksdGhpcy5fd29ybGRNYXRyaXguaW52ZXJ0VG9SZWYoZS5pbnZlcnRlZE1hdHJpeCkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUuZmFjZXREZXB0aFNvcnRGcm9tLGUuaW52ZXJ0ZWRNYXRyaXgsZS5mYWNldERlcHRoU29ydE9yaWdpbiksZS5mYWNldFBhcmFtZXRlcnMuZGlzdGFuY2VUbz1lLmZhY2V0RGVwdGhTb3J0T3JpZ2luKSxlLmZhY2V0UGFyYW1ldGVycy5kZXB0aFNvcnRlZEZhY2V0cz1lLmRlcHRoU29ydGVkRmFjZXRzLHMmJnRlLkNvbXB1dGVOb3JtYWxzKHQsaSxzLGUuZmFjZXRQYXJhbWV0ZXJzKSxlLmZhY2V0RGVwdGhTb3J0JiZlLmZhY2V0RGVwdGhTb3J0RW5hYmxlZCl7ZS5kZXB0aFNvcnRlZEZhY2V0cy5zb3J0KGUuZmFjZXREZXB0aFNvcnRGdW5jdGlvbik7Y29uc3QgYT1lLmRlcHRoU29ydGVkSW5kaWNlcy5sZW5ndGgvM3wwO2ZvcihsZXQgbz0wO288YTtvKyspe2NvbnN0IGg9ZS5kZXB0aFNvcnRlZEZhY2V0c1tvXS5pbmQ7ZS5kZXB0aFNvcnRlZEluZGljZXNbbyozXT1pW2hdLGUuZGVwdGhTb3J0ZWRJbmRpY2VzW28qMysxXT1pW2grMV0sZS5kZXB0aFNvcnRlZEluZGljZXNbbyozKzJdPWlbaCsyXX10aGlzLnVwZGF0ZUluZGljZXMoZS5kZXB0aFNvcnRlZEluZGljZXMsdm9pZCAwLCEwKX1yZXR1cm4gdGhpc31nZXRGYWNldExvY2FsTm9ybWFscygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiBlLmZhY2V0Tm9ybWFsc3x8dGhpcy51cGRhdGVGYWNldERhdGEoKSxlLmZhY2V0Tm9ybWFsc31nZXRGYWNldExvY2FsUG9zaXRpb25zKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7cmV0dXJuIGUuZmFjZXRQb3NpdGlvbnN8fHRoaXMudXBkYXRlRmFjZXREYXRhKCksZS5mYWNldFBvc2l0aW9uc31nZXRGYWNldExvY2FsUGFydGl0aW9uaW5nKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9mYWNldERhdGE7cmV0dXJuIGUuZmFjZXRQYXJ0aXRpb25pbmd8fHRoaXMudXBkYXRlRmFjZXREYXRhKCksZS5mYWNldFBhcnRpdGlvbmluZ31nZXRGYWNldFBvc2l0aW9uKGUpe2NvbnN0IHQ9cC5aZXJvKCk7cmV0dXJuIHRoaXMuZ2V0RmFjZXRQb3NpdGlvblRvUmVmKGUsdCksdH1nZXRGYWNldFBvc2l0aW9uVG9SZWYoZSx0KXtjb25zdCBpPXRoaXMuZ2V0RmFjZXRMb2NhbFBvc2l0aW9ucygpW2VdLHM9dGhpcy5nZXRXb3JsZE1hdHJpeCgpO3JldHVybiBwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYoaSxzLHQpLHRoaXN9Z2V0RmFjZXROb3JtYWwoZSl7Y29uc3QgdD1wLlplcm8oKTtyZXR1cm4gdGhpcy5nZXRGYWNldE5vcm1hbFRvUmVmKGUsdCksdH1nZXRGYWNldE5vcm1hbFRvUmVmKGUsdCl7Y29uc3QgaT10aGlzLmdldEZhY2V0TG9jYWxOb3JtYWxzKClbZV07cmV0dXJuIHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoaSx0aGlzLmdldFdvcmxkTWF0cml4KCksdCksdGhpc31nZXRGYWNldHNBdExvY2FsQ29vcmRpbmF0ZXMoZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRCb3VuZGluZ0luZm8oKSxyPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YSxuPU1hdGguZmxvb3IoKGUtcy5taW5pbXVtLngqci5wYXJ0aXRpb25pbmdCQm94UmF0aW8pKnIuc3ViRGl2Llgqci5wYXJ0aXRpb25pbmdCQm94UmF0aW8vci5iYlNpemUueCksYT1NYXRoLmZsb29yKCh0LXMubWluaW11bS55KnIucGFydGl0aW9uaW5nQkJveFJhdGlvKSpyLnN1YkRpdi5ZKnIucGFydGl0aW9uaW5nQkJveFJhdGlvL3IuYmJTaXplLnkpLG89TWF0aC5mbG9vcigoaS1zLm1pbmltdW0ueipyLnBhcnRpdGlvbmluZ0JCb3hSYXRpbykqci5zdWJEaXYuWipyLnBhcnRpdGlvbmluZ0JCb3hSYXRpby9yLmJiU2l6ZS56KTtyZXR1cm4gbjwwfHxuPnIuc3ViRGl2Lm1heHx8YTwwfHxhPnIuc3ViRGl2Lm1heHx8bzwwfHxvPnIuc3ViRGl2Lm1heD9udWxsOnIuZmFjZXRQYXJ0aXRpb25pbmdbbityLnN1YkRpdi5tYXgqYStyLnN1YkRpdi5tYXgqci5zdWJEaXYubWF4Km9dfWdldENsb3Nlc3RGYWNldEF0Q29vcmRpbmF0ZXMoZSx0LGkscyxyPSExLG49ITApe2NvbnN0IGE9dGhpcy5nZXRXb3JsZE1hdHJpeCgpLG89Ri5NYXRyaXhbNV07YS5pbnZlcnRUb1JlZihvKTtjb25zdCBoPUYuVmVjdG9yM1s4XTtwLlRyYW5zZm9ybUNvb3JkaW5hdGVzRnJvbUZsb2F0c1RvUmVmKGUsdCxpLG8saCk7Y29uc3QgbD10aGlzLmdldENsb3Nlc3RGYWNldEF0TG9jYWxDb29yZGluYXRlcyhoLngsaC55LGgueixzLHIsbik7cmV0dXJuIHMmJnAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNGcm9tRmxvYXRzVG9SZWYocy54LHMueSxzLnosYSxzKSxsfWdldENsb3Nlc3RGYWNldEF0TG9jYWxDb29yZGluYXRlcyhlLHQsaSxzLHI9ITEsbj0hMCl7bGV0IGE9bnVsbCxvPTAsaD0wLGw9MCx1PTAsZD0wLF89MCxmPTAsbT0wO2NvbnN0IHY9dGhpcy5nZXRGYWNldExvY2FsUG9zaXRpb25zKCksRT10aGlzLmdldEZhY2V0TG9jYWxOb3JtYWxzKCksUz10aGlzLmdldEZhY2V0c0F0TG9jYWxDb29yZGluYXRlcyhlLHQsaSk7aWYoIVMpcmV0dXJuIG51bGw7bGV0IFI9TnVtYmVyLk1BWF9WQUxVRSxBPVIsQyxiLHg7Zm9yKGxldCBJPTA7STxTLmxlbmd0aDtJKyspQz1TW0ldLGI9RVtDXSx4PXZbQ10sdT0oZS14LngpKmIueCsodC14LnkpKmIueSsoaS14LnopKmIueiwoIXJ8fHImJm4mJnU+PTB8fHImJiFuJiZ1PD0wKSYmKHU9Yi54KngueCtiLnkqeC55K2Iueip4LnosZD0tKGIueCplK2IueSp0K2IueippLXUpLyhiLngqYi54K2IueSpiLnkrYi56KmIueiksXz1lK2IueCpkLGY9dCtiLnkqZCxtPWkrYi56KmQsbz1fLWUsaD1mLXQsbD1tLWksQT1vKm8raCpoK2wqbCxBPFImJihSPUEsYT1DLHMmJihzLng9XyxzLnk9ZixzLno9bSkpKTtyZXR1cm4gYX1nZXRGYWNldERhdGFQYXJhbWV0ZXJzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2ZhY2V0RGF0YS5mYWNldFBhcmFtZXRlcnN9ZGlzYWJsZUZhY2V0RGF0YSgpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fZmFjZXREYXRhO3JldHVybiBlLmZhY2V0RGF0YUVuYWJsZWQmJihlLmZhY2V0RGF0YUVuYWJsZWQ9ITEsZS5mYWNldFBvc2l0aW9ucz1uZXcgQXJyYXksZS5mYWNldE5vcm1hbHM9bmV3IEFycmF5LGUuZmFjZXRQYXJ0aXRpb25pbmc9bmV3IEFycmF5LGUuZmFjZXRQYXJhbWV0ZXJzPW51bGwsZS5kZXB0aFNvcnRlZEluZGljZXM9bmV3IFVpbnQzMkFycmF5KDApKSx0aGlzfXVwZGF0ZUluZGljZXMoZSx0LGk9ITEpe3JldHVybiB0aGlzfWNyZWF0ZU5vcm1hbHMoZSl7Y29uc3QgdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCksaT10aGlzLmdldEluZGljZXMoKTtsZXQgcztyZXR1cm4gdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKT9zPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCk6cz1bXSx0ZS5Db21wdXRlTm9ybWFscyh0LGkscyx7dXNlUmlnaHRIYW5kZWRTeXN0ZW06dGhpcy5nZXRTY2VuZSgpLnVzZVJpZ2h0SGFuZGVkU3lzdGVtfSksdGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHMsZSksdGhpc31hbGlnbldpdGhOb3JtYWwoZSx0KXt0fHwodD1naS5ZKTtjb25zdCBpPUYuVmVjdG9yM1swXSxzPUYuVmVjdG9yM1sxXTtyZXR1cm4gcC5Dcm9zc1RvUmVmKHQsZSxzKSxwLkNyb3NzVG9SZWYoZSxzLGkpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uP1ouUm90YXRpb25RdWF0ZXJuaW9uRnJvbUF4aXNUb1JlZihpLGUscyx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbik6cC5Sb3RhdGlvbkZyb21BeGlzVG9SZWYoaSxlLHMsdGhpcy5yb3RhdGlvbiksdGhpc31fY2hlY2tPY2NsdXNpb25RdWVyeSgpe3JldHVybiExfWRpc2FibGVFZGdlc1JlbmRlcmluZygpe3Rocm93IFEoIkVkZ2VzUmVuZGVyZXIiKX1lbmFibGVFZGdlc1JlbmRlcmluZyhlLHQsaSl7dGhyb3cgUSgiRWRnZXNSZW5kZXJlciIpfWdldENvbm5lY3RlZFBhcnRpY2xlU3lzdGVtcygpe3JldHVybiB0aGlzLl9zY2VuZS5wYXJ0aWNsZVN5c3RlbXMuZmlsdGVyKGU9PmUuZW1pdHRlcj09PXRoaXMpfX1odC5PQ0NMVVNJT05fVFlQRV9OT05FPTAsaHQuT0NDTFVTSU9OX1RZUEVfT1BUSU1JU1RJQz0xLGh0Lk9DQ0xVU0lPTl9UWVBFX1NUUklDVD0yLGh0Lk9DQ0xVU0lPTl9BTEdPUklUSE1fVFlQRV9BQ0NVUkFURT0wLGh0Lk9DQ0xVU0lPTl9BTEdPUklUSE1fVFlQRV9DT05TRVJWQVRJVkU9MSxodC5DVUxMSU5HU1RSQVRFR1lfU1RBTkRBUkQ9MCxodC5DVUxMSU5HU1RSQVRFR1lfQk9VTkRJTkdTUEhFUkVfT05MWT0xLGh0LkNVTExJTkdTVFJBVEVHWV9PUFRJTUlTVElDX0lOQ0xVU0lPTj0yLGh0LkNVTExJTkdTVFJBVEVHWV9PUFRJTUlTVElDX0lOQ0xVU0lPTl9USEVOX0JTUEhFUkVfT05MWT0zLHN0KCJCQUJZTE9OLkFic3RyYWN0TWVzaCIsaHQpO2Z1bmN0aW9uIG9zKGMpe2MuaW5kZXhPZigidkNsaXBQbGFuZSIpPT09LTEmJmMucHVzaCgidkNsaXBQbGFuZSIpLGMuaW5kZXhPZigidkNsaXBQbGFuZTIiKT09PS0xJiZjLnB1c2goInZDbGlwUGxhbmUyIiksYy5pbmRleE9mKCJ2Q2xpcFBsYW5lMyIpPT09LTEmJmMucHVzaCgidkNsaXBQbGFuZTMiKSxjLmluZGV4T2YoInZDbGlwUGxhbmU0Iik9PT0tMSYmYy5wdXNoKCJ2Q2xpcFBsYW5lNCIpLGMuaW5kZXhPZigidkNsaXBQbGFuZTUiKT09PS0xJiZjLnB1c2goInZDbGlwUGxhbmU1IiksYy5pbmRleE9mKCJ2Q2xpcFBsYW5lNiIpPT09LTEmJmMucHVzaCgidkNsaXBQbGFuZTYiKX1mdW5jdGlvbiB3cihjLGUsdCl7dmFyIGkscyxyLG4sYSxvO2NvbnN0IGg9ISEoKGk9Yy5jbGlwUGxhbmUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOmUuY2xpcFBsYW5lKSxsPSEhKChzPWMuY2xpcFBsYW5lMikhPT1udWxsJiZzIT09dm9pZCAwP3M6ZS5jbGlwUGxhbmUyKSx1PSEhKChyPWMuY2xpcFBsYW5lMykhPT1udWxsJiZyIT09dm9pZCAwP3I6ZS5jbGlwUGxhbmUzKSxkPSEhKChuPWMuY2xpcFBsYW5lNCkhPT1udWxsJiZuIT09dm9pZCAwP246ZS5jbGlwUGxhbmU0KSxfPSEhKChhPWMuY2xpcFBsYW5lNSkhPT1udWxsJiZhIT09dm9pZCAwP2E6ZS5jbGlwUGxhbmU1KSxmPSEhKChvPWMuY2xpcFBsYW5lNikhPT1udWxsJiZvIT09dm9pZCAwP286ZS5jbGlwUGxhbmU2KTtoJiZ0LnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FIiksbCYmdC5wdXNoKCIjZGVmaW5lIENMSVBQTEFORTIiKSx1JiZ0LnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FMyIpLGQmJnQucHVzaCgiI2RlZmluZSBDTElQUExBTkU0IiksXyYmdC5wdXNoKCIjZGVmaW5lIENMSVBQTEFORTUiKSxmJiZ0LnB1c2goIiNkZWZpbmUgQ0xJUFBMQU5FNiIpfWZ1bmN0aW9uIEhuKGMsZSx0KXt2YXIgaSxzLHIsbixhLG87bGV0IGg9ITE7Y29uc3QgbD0hISgoaT1jLmNsaXBQbGFuZSkhPT1udWxsJiZpIT09dm9pZCAwP2k6ZS5jbGlwUGxhbmUpLHU9ISEoKHM9Yy5jbGlwUGxhbmUyKSE9PW51bGwmJnMhPT12b2lkIDA/czplLmNsaXBQbGFuZTIpLGQ9ISEoKHI9Yy5jbGlwUGxhbmUzKSE9PW51bGwmJnIhPT12b2lkIDA/cjplLmNsaXBQbGFuZTMpLF89ISEoKG49Yy5jbGlwUGxhbmU0KSE9PW51bGwmJm4hPT12b2lkIDA/bjplLmNsaXBQbGFuZTQpLGY9ISEoKGE9Yy5jbGlwUGxhbmU1KSE9PW51bGwmJmEhPT12b2lkIDA/YTplLmNsaXBQbGFuZTUpLG09ISEoKG89Yy5jbGlwUGxhbmU2KSE9PW51bGwmJm8hPT12b2lkIDA/bzplLmNsaXBQbGFuZTYpO3JldHVybiB0LkNMSVBQTEFORSE9PWwmJih0LkNMSVBQTEFORT1sLGg9ITApLHQuQ0xJUFBMQU5FMiE9PXUmJih0LkNMSVBQTEFORTI9dSxoPSEwKSx0LkNMSVBQTEFORTMhPT1kJiYodC5DTElQUExBTkUzPWQsaD0hMCksdC5DTElQUExBTkU0IT09XyYmKHQuQ0xJUFBMQU5FND1fLGg9ITApLHQuQ0xJUFBMQU5FNSE9PWYmJih0LkNMSVBQTEFORTU9ZixoPSEwKSx0LkNMSVBQTEFORTYhPT1tJiYodC5DTElQUExBTkU2PW0saD0hMCksaH1mdW5jdGlvbiBocyhjLGUsdCl7dmFyIGkscyxyLG4sYSxvO2xldCBoPShpPWUuY2xpcFBsYW5lKSE9PW51bGwmJmkhPT12b2lkIDA/aTp0LmNsaXBQbGFuZTtBaShjLCJ2Q2xpcFBsYW5lIixoKSxoPShzPWUuY2xpcFBsYW5lMikhPT1udWxsJiZzIT09dm9pZCAwP3M6dC5jbGlwUGxhbmUyLEFpKGMsInZDbGlwUGxhbmUyIixoKSxoPShyPWUuY2xpcFBsYW5lMykhPT1udWxsJiZyIT09dm9pZCAwP3I6dC5jbGlwUGxhbmUzLEFpKGMsInZDbGlwUGxhbmUzIixoKSxoPShuPWUuY2xpcFBsYW5lNCkhPT1udWxsJiZuIT09dm9pZCAwP246dC5jbGlwUGxhbmU0LEFpKGMsInZDbGlwUGxhbmU0IixoKSxoPShhPWUuY2xpcFBsYW5lNSkhPT1udWxsJiZhIT09dm9pZCAwP2E6dC5jbGlwUGxhbmU1LEFpKGMsInZDbGlwUGxhbmU1IixoKSxoPShvPWUuY2xpcFBsYW5lNikhPT1udWxsJiZvIT09dm9pZCAwP286dC5jbGlwUGxhbmU2LEFpKGMsInZDbGlwUGxhbmU2IixoKX1mdW5jdGlvbiBBaShjLGUsdCl7dCYmYy5zZXRGbG9hdDQoZSx0Lm5vcm1hbC54LHQubm9ybWFsLnksdC5ub3JtYWwueix0LmQpfWNsYXNzIHNle3N0YXRpYyBCaW5kU2NlbmVVbmlmb3JtQnVmZmVyKGUsdCl7dC5iaW5kVG9FZmZlY3QoZSwiU2NlbmUiKX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVihlLHQsaSl7dC5fbmVlZFVWcz0hMCx0W2ldPSEwLGUub3B0aW1pemVVVkFsbG9jYXRpb24mJmUuZ2V0VGV4dHVyZU1hdHJpeCgpLmlzSWRlbnRpdHlBczN4MigpPyh0W2krIkRJUkVDVFVWIl09ZS5jb29yZGluYXRlc0luZGV4KzEsdFsiTUFJTlVWIisoZS5jb29yZGluYXRlc0luZGV4KzEpXT0hMCk6dFtpKyJESVJFQ1RVViJdPTB9c3RhdGljIEJpbmRUZXh0dXJlTWF0cml4KGUsdCxpKXtjb25zdCBzPWUuZ2V0VGV4dHVyZU1hdHJpeCgpO3QudXBkYXRlTWF0cml4KGkrIk1hdHJpeCIscyl9c3RhdGljIEdldEZvZ1N0YXRlKGUsdCl7cmV0dXJuIHQuZm9nRW5hYmxlZCYmZS5hcHBseUZvZyYmdC5mb2dNb2RlIT09YWUuRk9HTU9ERV9OT05FfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0Zvck1pc2MoZSx0LGkscyxyLG4sYSl7YS5fYXJlTWlzY0RpcnR5JiYoYS5MT0dBUklUSE1JQ0RFUFRIPWksYS5QT0lOVFNJWkU9cyxhLkZPRz1yJiZ0aGlzLkdldEZvZ1N0YXRlKGUsdCksYS5OT05VTklGT1JNU0NBTElORz1lLm5vblVuaWZvcm1TY2FsaW5nLGEuQUxQSEFURVNUPW4pfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvckNhbWVyYShlLHQpe2xldCBpPSExO2lmKGUuYWN0aXZlQ2FtZXJhKXtjb25zdCBzPXQuQ0FNRVJBX09SVEhPR1JBUEhJQz8xOjAscj10LkNBTUVSQV9QRVJTUEVDVElWRT8xOjAsbj1lLmFjdGl2ZUNhbWVyYS5tb2RlPT09JC5PUlRIT0dSQVBISUNfQ0FNRVJBPzE6MCxhPWUuYWN0aXZlQ2FtZXJhLm1vZGU9PT0kLlBFUlNQRUNUSVZFX0NBTUVSQT8xOjA7KHNebnx8cl5hKSYmKHQuQ0FNRVJBX09SVEhPR1JBUEhJQz1uPT09MSx0LkNBTUVSQV9QRVJTUEVDVElWRT1hPT09MSxpPSEwKX1yZXR1cm4gaX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JGcmFtZUJvdW5kVmFsdWVzKGUsdCxpLHMscixuPW51bGwsYT0hMSl7bGV0IG89c2UuUHJlcGFyZURlZmluZXNGb3JDYW1lcmEoZSxzKTtuIT09ITEmJihvPUhuKGksZSxzKSkscy5ERVBUSFBSRVBBU1MhPT0hdC5nZXRDb2xvcldyaXRlKCkmJihzLkRFUFRIUFJFUEFTUz0hcy5ERVBUSFBSRVBBU1Msbz0hMCkscy5JTlNUQU5DRVMhPT1yJiYocy5JTlNUQU5DRVM9cixvPSEwKSxzLlRISU5fSU5TVEFOQ0VTIT09YSYmKHMuVEhJTl9JTlNUQU5DRVM9YSxvPSEwKSxvJiZzLm1hcmtBc1VucHJvY2Vzc2VkKCl9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yQm9uZXMoZSx0KXtpZihlLnVzZUJvbmVzJiZlLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmZS5za2VsZXRvbil7dC5OVU1fQk9ORV9JTkZMVUVOQ0VSUz1lLm51bUJvbmVJbmZsdWVuY2Vycztjb25zdCBpPXQuQk9ORVRFWFRVUkUhPT12b2lkIDA7aWYoZS5za2VsZXRvbi5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzJiZpKXQuQk9ORVRFWFRVUkU9ITA7ZWxzZXt0LkJvbmVzUGVyTWVzaD1lLnNrZWxldG9uLmJvbmVzLmxlbmd0aCsxLHQuQk9ORVRFWFRVUkU9aT8hMTp2b2lkIDA7Y29uc3Qgcz1lLmdldFNjZW5lKCkucHJlUGFzc1JlbmRlcmVyO2lmKHMmJnMuZW5hYmxlZCl7Y29uc3Qgcj1zLmV4Y2x1ZGVkU2tpbm5lZE1lc2guaW5kZXhPZihlKT09PS0xO3QuQk9ORVNfVkVMT0NJVFlfRU5BQkxFRD1yfX19ZWxzZSB0Lk5VTV9CT05FX0lORkxVRU5DRVJTPTAsdC5Cb25lc1Blck1lc2g9MCx0LkJPTkVURVhUVVJFIT09dm9pZCAwJiYodC5CT05FVEVYVFVSRT0hMSl9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yTW9ycGhUYXJnZXRzKGUsdCl7Y29uc3QgaT1lLm1vcnBoVGFyZ2V0TWFuYWdlcjtpPyh0Lk1PUlBIVEFSR0VUU19VVj1pLnN1cHBvcnRzVVZzJiZ0LlVWMSx0Lk1PUlBIVEFSR0VUU19UQU5HRU5UPWkuc3VwcG9ydHNUYW5nZW50cyYmdC5UQU5HRU5ULHQuTU9SUEhUQVJHRVRTX05PUk1BTD1pLnN1cHBvcnRzTm9ybWFscyYmdC5OT1JNQUwsdC5NT1JQSFRBUkdFVFM9aS5udW1JbmZsdWVuY2Vycz4wLHQuTlVNX01PUlBIX0lORkxVRU5DRVJTPWkubnVtSW5mbHVlbmNlcnMsdC5NT1JQSFRBUkdFVFNfVEVYVFVSRT1pLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyk6KHQuTU9SUEhUQVJHRVRTX1VWPSExLHQuTU9SUEhUQVJHRVRTX1RBTkdFTlQ9ITEsdC5NT1JQSFRBUkdFVFNfTk9STUFMPSExLHQuTU9SUEhUQVJHRVRTPSExLHQuTlVNX01PUlBIX0lORkxVRU5DRVJTPTApfXN0YXRpYyBQcmVwYXJlRGVmaW5lc0ZvckJha2VkVmVydGV4QW5pbWF0aW9uKGUsdCl7Y29uc3QgaT1lLmJha2VkVmVydGV4QW5pbWF0aW9uTWFuYWdlcjt0LkJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRT0hIShpJiZpLmlzRW5hYmxlZCl9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yQXR0cmlidXRlcyhlLHQsaSxzLHI9ITEsbj0hMCxhPSEwKXtpZighdC5fYXJlQXR0cmlidXRlc0RpcnR5JiZ0Ll9uZWVkTm9ybWFscz09PXQuX25vcm1hbHMmJnQuX25lZWRVVnM9PT10Ll91dnMpcmV0dXJuITE7dC5fbm9ybWFscz10Ll9uZWVkTm9ybWFscyx0Ll91dnM9dC5fbmVlZFVWcyx0Lk5PUk1BTD10Ll9uZWVkTm9ybWFscyYmZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSx0Ll9uZWVkTm9ybWFscyYmZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5UYW5nZW50S2luZCkmJih0LlRBTkdFTlQ9ITApO2ZvcihsZXQgbz0xO288PTY7KytvKXRbIlVWIitvXT10Ll9uZWVkVVZzP2UuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGB1diR7bz09PTE/IiI6b31gKTohMTtpZihpKXtjb25zdCBvPWUudXNlVmVydGV4Q29sb3JzJiZlLmlzVmVydGljZXNEYXRhUHJlc2VudChnLkNvbG9yS2luZCk7dC5WRVJURVhDT0xPUj1vLHQuVkVSVEVYQUxQSEE9ZS5oYXNWZXJ0ZXhBbHBoYSYmbyYmbn1yZXR1cm4gZS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Db2xvckluc3RhbmNlS2luZCkmJihlLmhhc0luc3RhbmNlc3x8ZS5oYXNUaGluSW5zdGFuY2VzKSYmKHQuSU5TVEFOQ0VTQ09MT1I9ITApLHMmJnRoaXMuUHJlcGFyZURlZmluZXNGb3JCb25lcyhlLHQpLHImJnRoaXMuUHJlcGFyZURlZmluZXNGb3JNb3JwaFRhcmdldHMoZSx0KSxhJiZ0aGlzLlByZXBhcmVEZWZpbmVzRm9yQmFrZWRWZXJ0ZXhBbmltYXRpb24oZSx0KSwhMH1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JNdWx0aXZpZXcoZSx0KXtpZihlLmFjdGl2ZUNhbWVyYSl7Y29uc3QgaT10Lk1VTFRJVklFVzt0Lk1VTFRJVklFVz1lLmFjdGl2ZUNhbWVyYS5vdXRwdXRSZW5kZXJUYXJnZXQhPT1udWxsJiZlLmFjdGl2ZUNhbWVyYS5vdXRwdXRSZW5kZXJUYXJnZXQuZ2V0Vmlld0NvdW50KCk+MSx0Lk1VTFRJVklFVyE9aSYmdC5tYXJrQXNVbnByb2Nlc3NlZCgpfX1zdGF0aWMgUHJlcGFyZURlZmluZXNGb3JPSVQoZSx0LGkpe2NvbnN0IHM9dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1kscj10Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFM7dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1k9ZS51c2VPcmRlckluZGVwZW5kZW50VHJhbnNwYXJlbmN5JiZpLHQuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZXzE2QklUUz0hZS5nZXRFbmdpbmUoKS5nZXRDYXBzKCkudGV4dHVyZUZsb2F0TGluZWFyRmlsdGVyaW5nLChzIT09dC5PUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1l8fHIhPT10Lk9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFMpJiZ0Lm1hcmtBc1VucHJvY2Vzc2VkKCl9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yUHJlUGFzcyhlLHQsaSl7Y29uc3Qgcz10LlBSRVBBU1M7aWYoIXQuX2FyZVByZVBhc3NEaXJ0eSlyZXR1cm47Y29uc3Qgcj1be3R5cGU6MSxkZWZpbmU6IlBSRVBBU1NfUE9TSVRJT04iLGluZGV4OiJQUkVQQVNTX1BPU0lUSU9OX0lOREVYIn0se3R5cGU6MixkZWZpbmU6IlBSRVBBU1NfVkVMT0NJVFkiLGluZGV4OiJQUkVQQVNTX1ZFTE9DSVRZX0lOREVYIn0se3R5cGU6MyxkZWZpbmU6IlBSRVBBU1NfUkVGTEVDVElWSVRZIixpbmRleDoiUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVgifSx7dHlwZTowLGRlZmluZToiUFJFUEFTU19JUlJBRElBTkNFIixpbmRleDoiUFJFUEFTU19JUlJBRElBTkNFX0lOREVYIn0se3R5cGU6NyxkZWZpbmU6IlBSRVBBU1NfQUxCRURPX1NRUlQiLGluZGV4OiJQUkVQQVNTX0FMQkVET19TUVJUX0lOREVYIn0se3R5cGU6NSxkZWZpbmU6IlBSRVBBU1NfREVQVEgiLGluZGV4OiJQUkVQQVNTX0RFUFRIX0lOREVYIn0se3R5cGU6NixkZWZpbmU6IlBSRVBBU1NfTk9STUFMIixpbmRleDoiUFJFUEFTU19OT1JNQUxfSU5ERVgifV07aWYoZS5wcmVQYXNzUmVuZGVyZXImJmUucHJlUGFzc1JlbmRlcmVyLmVuYWJsZWQmJmkpe3QuUFJFUEFTUz0hMCx0LlNDRU5FX01SVF9DT1VOVD1lLnByZVBhc3NSZW5kZXJlci5tcnRDb3VudDtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKyl7Y29uc3QgYT1lLnByZVBhc3NSZW5kZXJlci5nZXRJbmRleChyW25dLnR5cGUpO2EhPT0tMT8odFtyW25dLmRlZmluZV09ITAsdFtyW25dLmluZGV4XT1hKTp0W3Jbbl0uZGVmaW5lXT0hMX19ZWxzZXt0LlBSRVBBU1M9ITE7Zm9yKGxldCBuPTA7bjxyLmxlbmd0aDtuKyspdFtyW25dLmRlZmluZV09ITF9dC5QUkVQQVNTIT1zJiYodC5tYXJrQXNVbnByb2Nlc3NlZCgpLHQubWFya0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKSl9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yTGlnaHQoZSx0LGkscyxyLG4sYSl7dmFyIG87c3dpdGNoKGEubmVlZE5vcm1hbHM9ITAsclsiTElHSFQiK3NdPT09dm9pZCAwJiYoYS5uZWVkUmVidWlsZD0hMCksclsiTElHSFQiK3NdPSEwLHJbIlNQT1RMSUdIVCIrc109ITEsclsiSEVNSUxJR0hUIitzXT0hMSxyWyJQT0lOVExJR0hUIitzXT0hMSxyWyJESVJMSUdIVCIrc109ITEsaS5wcmVwYXJlTGlnaHRTcGVjaWZpY0RlZmluZXMocixzKSxyWyJMSUdIVF9GQUxMT0ZGX1BIWVNJQ0FMIitzXT0hMSxyWyJMSUdIVF9GQUxMT0ZGX0dMVEYiK3NdPSExLHJbIkxJR0hUX0ZBTExPRkZfU1RBTkRBUkQiK3NdPSExLGkuZmFsbG9mZlR5cGUpe2Nhc2UgRWUuRkFMTE9GRl9HTFRGOnJbIkxJR0hUX0ZBTExPRkZfR0xURiIrc109ITA7YnJlYWs7Y2FzZSBFZS5GQUxMT0ZGX1BIWVNJQ0FMOnJbIkxJR0hUX0ZBTExPRkZfUEhZU0lDQUwiK3NdPSEwO2JyZWFrO2Nhc2UgRWUuRkFMTE9GRl9TVEFOREFSRDpyWyJMSUdIVF9GQUxMT0ZGX1NUQU5EQVJEIitzXT0hMDticmVha31pZihuJiYhaS5zcGVjdWxhci5lcXVhbHNGbG9hdHMoMCwwLDApJiYoYS5zcGVjdWxhckVuYWJsZWQ9ITApLHJbIlNIQURPVyIrc109ITEsclsiU0hBRE9XQ1NNIitzXT0hMSxyWyJTSEFET1dDU01ERUJVRyIrc109ITEsclsiU0hBRE9XQ1NNTlVNX0NBU0NBREVTIitzXT0hMSxyWyJTSEFET1dDU01VU0VTSEFET1dNQVhaIitzXT0hMSxyWyJTSEFET1dDU01OT0JMRU5EIitzXT0hMSxyWyJTSEFET1dDU01fUklHSFRIQU5ERUQiK3NdPSExLHJbIlNIQURPV1BDRiIrc109ITEsclsiU0hBRE9XUENTUyIrc109ITEsclsiU0hBRE9XUE9JU1NPTiIrc109ITEsclsiU0hBRE9XRVNNIitzXT0hMSxyWyJTSEFET1dDTE9TRUVTTSIrc109ITEsclsiU0hBRE9XQ1VCRSIrc109ITEsclsiU0hBRE9XTE9XUVVBTElUWSIrc109ITEsclsiU0hBRE9XTUVESVVNUVVBTElUWSIrc109ITEsdCYmdC5yZWNlaXZlU2hhZG93cyYmZS5zaGFkb3dzRW5hYmxlZCYmaS5zaGFkb3dFbmFibGVkKXtjb25zdCBoPShvPWkuZ2V0U2hhZG93R2VuZXJhdG9yKGUuYWN0aXZlQ2FtZXJhKSkhPT1udWxsJiZvIT09dm9pZCAwP286aS5nZXRTaGFkb3dHZW5lcmF0b3IoKTtpZihoKXtjb25zdCBsPWguZ2V0U2hhZG93TWFwKCk7bCYmbC5yZW5kZXJMaXN0JiZsLnJlbmRlckxpc3QubGVuZ3RoPjAmJihhLnNoYWRvd0VuYWJsZWQ9ITAsaC5wcmVwYXJlRGVmaW5lcyhyLHMpKX19aS5saWdodG1hcE1vZGUhPUVlLkxJR0hUTUFQX0RFRkFVTFQ/KGEubGlnaHRtYXBNb2RlPSEwLHJbIkxJR0hUTUFQRVhDTFVERUQiK3NdPSEwLHJbIkxJR0hUTUFQTk9TUEVDVUxBUiIrc109aS5saWdodG1hcE1vZGU9PUVlLkxJR0hUTUFQX1NIQURPV1NPTkxZKTooclsiTElHSFRNQVBFWENMVURFRCIrc109ITEsclsiTElHSFRNQVBOT1NQRUNVTEFSIitzXT0hMSl9c3RhdGljIFByZXBhcmVEZWZpbmVzRm9yTGlnaHRzKGUsdCxpLHMscj00LG49ITEpe2lmKCFpLl9hcmVMaWdodHNEaXJ0eSlyZXR1cm4gaS5fbmVlZE5vcm1hbHM7bGV0IGE9MDtjb25zdCBvPXtuZWVkTm9ybWFsczppLl9uZWVkTm9ybWFscyxuZWVkUmVidWlsZDohMSxsaWdodG1hcE1vZGU6ITEsc2hhZG93RW5hYmxlZDohMSxzcGVjdWxhckVuYWJsZWQ6ITF9O2lmKGUubGlnaHRzRW5hYmxlZCYmIW4pe2Zvcihjb25zdCBsIG9mIHQubGlnaHRTb3VyY2VzKWlmKHRoaXMuUHJlcGFyZURlZmluZXNGb3JMaWdodChlLHQsbCxhLGkscyxvKSxhKyssYT09PXIpYnJlYWt9aS5TUEVDVUxBUlRFUk09by5zcGVjdWxhckVuYWJsZWQsaS5TSEFET1dTPW8uc2hhZG93RW5hYmxlZDtmb3IobGV0IGw9YTtsPHI7bCsrKWlbIkxJR0hUIitsXSE9PXZvaWQgMCYmKGlbIkxJR0hUIitsXT0hMSxpWyJIRU1JTElHSFQiK2xdPSExLGlbIlBPSU5UTElHSFQiK2xdPSExLGlbIkRJUkxJR0hUIitsXT0hMSxpWyJTUE9UTElHSFQiK2xdPSExLGlbIlNIQURPVyIrbF09ITEsaVsiU0hBRE9XQ1NNIitsXT0hMSxpWyJTSEFET1dDU01ERUJVRyIrbF09ITEsaVsiU0hBRE9XQ1NNTlVNX0NBU0NBREVTIitsXT0hMSxpWyJTSEFET1dDU01VU0VTSEFET1dNQVhaIitsXT0hMSxpWyJTSEFET1dDU01OT0JMRU5EIitsXT0hMSxpWyJTSEFET1dDU01fUklHSFRIQU5ERUQiK2xdPSExLGlbIlNIQURPV1BDRiIrbF09ITEsaVsiU0hBRE9XUENTUyIrbF09ITEsaVsiU0hBRE9XUE9JU1NPTiIrbF09ITEsaVsiU0hBRE9XRVNNIitsXT0hMSxpWyJTSEFET1dDTE9TRUVTTSIrbF09ITEsaVsiU0hBRE9XQ1VCRSIrbF09ITEsaVsiU0hBRE9XTE9XUVVBTElUWSIrbF09ITEsaVsiU0hBRE9XTUVESVVNUVVBTElUWSIrbF09ITEpO2NvbnN0IGg9ZS5nZXRFbmdpbmUoKS5nZXRDYXBzKCk7cmV0dXJuIGkuU0hBRE9XRkxPQVQ9PT12b2lkIDAmJihvLm5lZWRSZWJ1aWxkPSEwKSxpLlNIQURPV0ZMT0FUPW8uc2hhZG93RW5hYmxlZCYmKGgudGV4dHVyZUZsb2F0UmVuZGVyJiZoLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZ3x8aC50ZXh0dXJlSGFsZkZsb2F0UmVuZGVyJiZoLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmcpLGkuTElHSFRNQVBFWENMVURFRD1vLmxpZ2h0bWFwTW9kZSxvLm5lZWRSZWJ1aWxkJiZpLnJlYnVpbGQoKSxvLm5lZWROb3JtYWxzfXN0YXRpYyBQcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0ZvckxpZ2h0KGUsdCxpLHMscj1udWxsLG49ITEpe3ImJnIucHVzaCgiTGlnaHQiK2UpLCFuJiYodC5wdXNoKCJ2TGlnaHREYXRhIitlLCJ2TGlnaHREaWZmdXNlIitlLCJ2TGlnaHRTcGVjdWxhciIrZSwidkxpZ2h0RGlyZWN0aW9uIitlLCJ2TGlnaHRGYWxsb2ZmIitlLCJ2TGlnaHRHcm91bmQiK2UsImxpZ2h0TWF0cml4IitlLCJzaGFkb3dzSW5mbyIrZSwiZGVwdGhWYWx1ZXMiK2UpLGkucHVzaCgic2hhZG93U2FtcGxlciIrZSksaS5wdXNoKCJkZXB0aFNhbXBsZXIiK2UpLHQucHVzaCgidmlld0ZydXN0dW1aIitlLCJjYXNjYWRlQmxlbmRGYWN0b3IiK2UsImxpZ2h0U2l6ZVVWQ29ycmVjdGlvbiIrZSwiZGVwdGhDb3JyZWN0aW9uIitlLCJwZW51bWJyYURhcmtuZXNzIitlLCJmcnVzdHVtTGVuZ3RocyIrZSkscyYmKGkucHVzaCgicHJvamVjdGlvbkxpZ2h0U2FtcGxlciIrZSksdC5wdXNoKCJ0ZXh0dXJlUHJvamVjdGlvbk1hdHJpeCIrZSkpKX1zdGF0aWMgUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNMaXN0KGUsdCxpLHM9NCl7bGV0IHIsbj1udWxsO2lmKGUudW5pZm9ybXNOYW1lcyl7Y29uc3QgYT1lO3I9YS51bmlmb3Jtc05hbWVzLG49YS51bmlmb3JtQnVmZmVyc05hbWVzLHQ9YS5zYW1wbGVycyxpPWEuZGVmaW5lcyxzPWEubWF4U2ltdWx0YW5lb3VzTGlnaHRzfHwwfWVsc2Ugcj1lLHR8fCh0PVtdKTtmb3IobGV0IGE9MDthPHMmJmlbIkxJR0hUIithXTthKyspdGhpcy5QcmVwYXJlVW5pZm9ybXNBbmRTYW1wbGVyc0ZvckxpZ2h0KGEscix0LGlbIlBST0pFQ1RFRExJR0hUVEVYVFVSRSIrYV0sbik7aS5OVU1fTU9SUEhfSU5GTFVFTkNFUlMmJnIucHVzaCgibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiksaS5CQUtFRF9WRVJURVhfQU5JTUFUSU9OX1RFWFRVUkUmJihyLnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3MiKSxyLnB1c2goImJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZVNpemVJbnZlcnRlZCIpLHIucHVzaCgiYmFrZWRWZXJ0ZXhBbmltYXRpb25UaW1lIiksdC5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUiKSl9c3RhdGljIEhhbmRsZUZhbGxiYWNrc0ZvclNoYWRvd3MoZSx0LGk9NCxzPTApe2xldCByPTA7Zm9yKGxldCBuPTA7bjxpJiZlWyJMSUdIVCIrbl07bisrKW4+MCYmKHI9cytuLHQuYWRkRmFsbGJhY2sociwiTElHSFQiK24pKSxlLlNIQURPV1N8fChlWyJTSEFET1ciK25dJiZ0LmFkZEZhbGxiYWNrKHMsIlNIQURPVyIrbiksZVsiU0hBRE9XUENGIituXSYmdC5hZGRGYWxsYmFjayhzLCJTSEFET1dQQ0YiK24pLGVbIlNIQURPV1BDU1MiK25dJiZ0LmFkZEZhbGxiYWNrKHMsIlNIQURPV1BDU1MiK24pLGVbIlNIQURPV1BPSVNTT04iK25dJiZ0LmFkZEZhbGxiYWNrKHMsIlNIQURPV1BPSVNTT04iK24pLGVbIlNIQURPV0VTTSIrbl0mJnQuYWRkRmFsbGJhY2socywiU0hBRE9XRVNNIituKSxlWyJTSEFET1dDTE9TRUVTTSIrbl0mJnQuYWRkRmFsbGJhY2socywiU0hBRE9XQ0xPU0VFU00iK24pKTtyZXR1cm4gcisrfXN0YXRpYyBQcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0c0luZmx1ZW5jZXJzKGUsdCxpKXt0aGlzLl9UbXBNb3JwaEluZmx1ZW5jZXJzLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUz1pLHRoaXMuUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHMoZSx0LHRoaXMuX1RtcE1vcnBoSW5mbHVlbmNlcnMpfXN0YXRpYyBQcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0cyhlLHQsaSl7Y29uc3Qgcz1pLk5VTV9NT1JQSF9JTkZMVUVOQ0VSUztpZihzPjAmJmxlLkxhc3RDcmVhdGVkRW5naW5lKXtjb25zdCByPWxlLkxhc3RDcmVhdGVkRW5naW5lLmdldENhcHMoKS5tYXhWZXJ0ZXhBdHRyaWJzLG49dC5tb3JwaFRhcmdldE1hbmFnZXI7aWYobiE9bnVsbCYmbi5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMpcmV0dXJuO2NvbnN0IGE9biYmbi5zdXBwb3J0c05vcm1hbHMmJmkuTk9STUFMLG89biYmbi5zdXBwb3J0c1RhbmdlbnRzJiZpLlRBTkdFTlQsaD1uJiZuLnN1cHBvcnRzVVZzJiZpLlVWMTtmb3IobGV0IGw9MDtsPHM7bCsrKWUucHVzaChnLlBvc2l0aW9uS2luZCtsKSxhJiZlLnB1c2goZy5Ob3JtYWxLaW5kK2wpLG8mJmUucHVzaChnLlRhbmdlbnRLaW5kK2wpLGgmJmUucHVzaChnLlVWS2luZCsiXyIrbCksZS5sZW5ndGg+ciYmTy5FcnJvcigiQ2Fubm90IGFkZCBtb3JlIHZlcnRleCBhdHRyaWJ1dGVzIGZvciBtZXNoICIrdC5uYW1lKX19c3RhdGljIFByZXBhcmVBdHRyaWJ1dGVzRm9yQmFrZWRWZXJ0ZXhBbmltYXRpb24oZSx0LGkpe2kuQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFJiZpLklOU1RBTkNFUyYmZS5wdXNoKCJiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzSW5zdGFuY2VkIil9c3RhdGljIFByZXBhcmVBdHRyaWJ1dGVzRm9yQm9uZXMoZSx0LGkscyl7aS5OVU1fQk9ORV9JTkZMVUVOQ0VSUz4wJiYocy5hZGRDUFVTa2lubmluZ0ZhbGxiYWNrKDAsdCksZS5wdXNoKGcuTWF0cmljZXNJbmRpY2VzS2luZCksZS5wdXNoKGcuTWF0cmljZXNXZWlnaHRzS2luZCksaS5OVU1fQk9ORV9JTkZMVUVOQ0VSUz40JiYoZS5wdXNoKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSxlLnB1c2goZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpKSl9c3RhdGljIFByZXBhcmVBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKGUsdCl7KHQuSU5TVEFOQ0VTfHx0LlRISU5fSU5TVEFOQ0VTKSYmdGhpcy5QdXNoQXR0cmlidXRlc0Zvckluc3RhbmNlcyhlLCEhdC5QUkVQQVNTX1ZFTE9DSVRZKSx0LklOU1RBTkNFU0NPTE9SJiZlLnB1c2goZy5Db2xvckluc3RhbmNlS2luZCl9c3RhdGljIFB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKGUsdD0hMSl7ZS5wdXNoKCJ3b3JsZDAiKSxlLnB1c2goIndvcmxkMSIpLGUucHVzaCgid29ybGQyIiksZS5wdXNoKCJ3b3JsZDMiKSx0JiYoZS5wdXNoKCJwcmV2aW91c1dvcmxkMCIpLGUucHVzaCgicHJldmlvdXNXb3JsZDEiKSxlLnB1c2goInByZXZpb3VzV29ybGQyIiksZS5wdXNoKCJwcmV2aW91c1dvcmxkMyIpKX1zdGF0aWMgQmluZExpZ2h0UHJvcGVydGllcyhlLHQsaSl7ZS50cmFuc2ZlclRvRWZmZWN0KHQsaSsiIil9c3RhdGljIEJpbmRMaWdodChlLHQsaSxzLHIsbj0hMCl7ZS5fYmluZExpZ2h0KHQsaSxzLHIsbil9c3RhdGljIEJpbmRMaWdodHMoZSx0LGkscyxyPTQpe2NvbnN0IG49TWF0aC5taW4odC5saWdodFNvdXJjZXMubGVuZ3RoLHIpO2ZvcihsZXQgYT0wO2E8bjthKyspe2NvbnN0IG89dC5saWdodFNvdXJjZXNbYV07dGhpcy5CaW5kTGlnaHQobyxhLGUsaSx0eXBlb2Ygcz09ImJvb2xlYW4iP3M6cy5TUEVDVUxBUlRFUk0sdC5yZWNlaXZlU2hhZG93cyl9fXN0YXRpYyBCaW5kRm9nUGFyYW1ldGVycyhlLHQsaSxzPSExKXtlLmZvZ0VuYWJsZWQmJnQuYXBwbHlGb2cmJmUuZm9nTW9kZSE9PWFlLkZPR01PREVfTk9ORSYmKGkuc2V0RmxvYXQ0KCJ2Rm9nSW5mb3MiLGUuZm9nTW9kZSxlLmZvZ1N0YXJ0LGUuZm9nRW5kLGUuZm9nRGVuc2l0eSkscz8oZS5mb2dDb2xvci50b0xpbmVhclNwYWNlVG9SZWYodGhpcy5fVGVtcEZvZ0NvbG9yLGUuZ2V0RW5naW5lKCkudXNlRXhhY3RTcmdiQ29udmVyc2lvbnMpLGkuc2V0Q29sb3IzKCJ2Rm9nQ29sb3IiLHRoaXMuX1RlbXBGb2dDb2xvcikpOmkuc2V0Q29sb3IzKCJ2Rm9nQ29sb3IiLGUuZm9nQ29sb3IpKX1zdGF0aWMgQmluZEJvbmVzUGFyYW1ldGVycyhlLHQsaSl7aWYoISghdHx8IWUpJiYoZS5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJnQuX2JvbmVzQ29tcHV0YXRpb25Gb3JjZWRUb0NQVSYmKGUuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExKSxlLnVzZUJvbmVzJiZlLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyYmZS5za2VsZXRvbikpe2NvbnN0IHM9ZS5za2VsZXRvbjtpZihzLmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXMmJnQuZ2V0VW5pZm9ybUluZGV4KCJib25lVGV4dHVyZVdpZHRoIik+LTEpe2NvbnN0IHI9cy5nZXRUcmFuc2Zvcm1NYXRyaXhUZXh0dXJlKGUpO3Quc2V0VGV4dHVyZSgiYm9uZVNhbXBsZXIiLHIpLHQuc2V0RmxvYXQoImJvbmVUZXh0dXJlV2lkdGgiLDQqKHMuYm9uZXMubGVuZ3RoKzEpKX1lbHNle2NvbnN0IHI9cy5nZXRUcmFuc2Zvcm1NYXRyaWNlcyhlKTtyJiYodC5zZXRNYXRyaWNlcygibUJvbmVzIixyKSxpJiZlLmdldFNjZW5lKCkucHJlUGFzc1JlbmRlcmVyJiZlLmdldFNjZW5lKCkucHJlUGFzc1JlbmRlcmVyLmdldEluZGV4KDIpJiYoaS5wcmV2aW91c0JvbmVzW2UudW5pcXVlSWRdfHwoaS5wcmV2aW91c0JvbmVzW2UudW5pcXVlSWRdPXIuc2xpY2UoKSksdC5zZXRNYXRyaWNlcygibVByZXZpb3VzQm9uZXMiLGkucHJldmlvdXNCb25lc1tlLnVuaXF1ZUlkXSksc2UuX0NvcHlCb25lc1RyYW5zZm9ybWF0aW9uTWF0cmljZXMocixpLnByZXZpb3VzQm9uZXNbZS51bmlxdWVJZF0pKSl9fX1zdGF0aWMgX0NvcHlCb25lc1RyYW5zZm9ybWF0aW9uTWF0cmljZXMoZSx0KXtyZXR1cm4gdC5zZXQoZSksdH1zdGF0aWMgQmluZE1vcnBoVGFyZ2V0UGFyYW1ldGVycyhlLHQpe2NvbnN0IGk9ZS5tb3JwaFRhcmdldE1hbmFnZXI7IWV8fCFpfHx0LnNldEZsb2F0QXJyYXkoIm1vcnBoVGFyZ2V0SW5mbHVlbmNlcyIsaS5pbmZsdWVuY2VzKX1zdGF0aWMgQmluZExvZ0RlcHRoKGUsdCxpKXtpZighZXx8ZS5MT0dBUklUSE1JQ0RFUFRIfHxlLmluZGV4T2YmJmUuaW5kZXhPZigiTE9HQVJJVEhNSUNERVBUSCIpPj0wKXtjb25zdCBzPWkuYWN0aXZlQ2FtZXJhO3MubW9kZT09PSQuT1JUSE9HUkFQSElDX0NBTUVSQSYmTy5FcnJvcigiTG9nYXJpdGhtaWMgZGVwdGggaXMgbm90IGNvbXBhdGlibGUgd2l0aCBvcnRob2dyYXBoaWMgY2FtZXJhcyEiLDIwKSx0LnNldEZsb2F0KCJsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQiLDIvKE1hdGgubG9nKHMubWF4WisxKS9NYXRoLkxOMikpfX19c2UuX1RtcE1vcnBoSW5mbHVlbmNlcnM9e05VTV9NT1JQSF9JTkZMVUVOQ0VSUzowfSxzZS5fVGVtcEZvZ0NvbG9yPXJlLkJsYWNrKCk7Y2xhc3MgR3R7Y29uc3RydWN0b3IoKXt0aGlzLnJlc2V0KCl9cmVzZXQoKXt0aGlzLmVuYWJsZWQ9ITEsdGhpcy5tYXNrPTI1NSx0aGlzLmZ1bmM9NTE5LHRoaXMuZnVuY1JlZj0xLHRoaXMuZnVuY01hc2s9MjU1LHRoaXMub3BTdGVuY2lsRmFpbD03NjgwLHRoaXMub3BEZXB0aEZhaWw9NzY4MCx0aGlzLm9wU3RlbmNpbERlcHRoUGFzcz03NjgxfWdldCBmdW5jKCl7cmV0dXJuIHRoaXMuX2Z1bmN9c2V0IGZ1bmMoZSl7dGhpcy5fZnVuYz1lfWdldCBmdW5jUmVmKCl7cmV0dXJuIHRoaXMuX2Z1bmNSZWZ9c2V0IGZ1bmNSZWYoZSl7dGhpcy5fZnVuY1JlZj1lfWdldCBmdW5jTWFzaygpe3JldHVybiB0aGlzLl9mdW5jTWFza31zZXQgZnVuY01hc2soZSl7dGhpcy5fZnVuY01hc2s9ZX1nZXQgb3BTdGVuY2lsRmFpbCgpe3JldHVybiB0aGlzLl9vcFN0ZW5jaWxGYWlsfXNldCBvcFN0ZW5jaWxGYWlsKGUpe3RoaXMuX29wU3RlbmNpbEZhaWw9ZX1nZXQgb3BEZXB0aEZhaWwoKXtyZXR1cm4gdGhpcy5fb3BEZXB0aEZhaWx9c2V0IG9wRGVwdGhGYWlsKGUpe3RoaXMuX29wRGVwdGhGYWlsPWV9Z2V0IG9wU3RlbmNpbERlcHRoUGFzcygpe3JldHVybiB0aGlzLl9vcFN0ZW5jaWxEZXB0aFBhc3N9c2V0IG9wU3RlbmNpbERlcHRoUGFzcyhlKXt0aGlzLl9vcFN0ZW5jaWxEZXB0aFBhc3M9ZX1nZXQgbWFzaygpe3JldHVybiB0aGlzLl9tYXNrfXNldCBtYXNrKGUpe3RoaXMuX21hc2s9ZX1nZXQgZW5hYmxlZCgpe3JldHVybiB0aGlzLl9lbmFibGVkfXNldCBlbmFibGVkKGUpe3RoaXMuX2VuYWJsZWQ9ZX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iTWF0ZXJpYWxTdGVuY2lsU3RhdGUifWNvcHlUbyhlKXtuZS5DbG9uZSgoKT0+ZSx0aGlzKX1zZXJpYWxpemUoKXtyZXR1cm4gbmUuU2VyaWFsaXplKHRoaXMpfXBhcnNlKGUsdCxpKXtuZS5QYXJzZSgoKT0+dGhpcyxlLHQsaSl9fVQoW3koKV0sR3QucHJvdG90eXBlLCJmdW5jIixudWxsKSxUKFt5KCldLEd0LnByb3RvdHlwZSwiZnVuY1JlZiIsbnVsbCksVChbeSgpXSxHdC5wcm90b3R5cGUsImZ1bmNNYXNrIixudWxsKSxUKFt5KCldLEd0LnByb3RvdHlwZSwib3BTdGVuY2lsRmFpbCIsbnVsbCksVChbeSgpXSxHdC5wcm90b3R5cGUsIm9wRGVwdGhGYWlsIixudWxsKSxUKFt5KCldLEd0LnByb3RvdHlwZSwib3BTdGVuY2lsRGVwdGhQYXNzIixudWxsKSxUKFt5KCldLEd0LnByb3RvdHlwZSwibWFzayIsbnVsbCksVChbeSgpXSxHdC5wcm90b3R5cGUsImVuYWJsZWQiLG51bGwpO3ZhciBldDsoZnVuY3Rpb24oYyl7Y1tjLkNyZWF0ZWQ9MV09IkNyZWF0ZWQiLGNbYy5EaXNwb3NlZD0yXT0iRGlzcG9zZWQiLGNbYy5HZXREZWZpbmVOYW1lcz00XT0iR2V0RGVmaW5lTmFtZXMiLGNbYy5QcmVwYXJlVW5pZm9ybUJ1ZmZlcj04XT0iUHJlcGFyZVVuaWZvcm1CdWZmZXIiLGNbYy5Jc1JlYWR5Rm9yU3ViTWVzaD0xNl09IklzUmVhZHlGb3JTdWJNZXNoIixjW2MuUHJlcGFyZURlZmluZXM9MzJdPSJQcmVwYXJlRGVmaW5lcyIsY1tjLkJpbmRGb3JTdWJNZXNoPTY0XT0iQmluZEZvclN1Yk1lc2giLGNbYy5QcmVwYXJlRWZmZWN0PTEyOF09IlByZXBhcmVFZmZlY3QiLGNbYy5HZXRBbmltYXRhYmxlcz0yNTZdPSJHZXRBbmltYXRhYmxlcyIsY1tjLkdldEFjdGl2ZVRleHR1cmVzPTUxMl09IkdldEFjdGl2ZVRleHR1cmVzIixjW2MuSGFzVGV4dHVyZT0xMDI0XT0iSGFzVGV4dHVyZSIsY1tjLkZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcz0yMDQ4XT0iRmlsbFJlbmRlclRhcmdldFRleHR1cmVzIixjW2MuSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9NDA5Nl09Ikhhc1JlbmRlclRhcmdldFRleHR1cmVzIixjW2MuSGFyZEJpbmRGb3JTdWJNZXNoPTgxOTJdPSJIYXJkQmluZEZvclN1Yk1lc2gifSkoZXR8fChldD17fSkpO2NsYXNzIER7Z2V0IGNhblJlbmRlclRvTVJUKCl7cmV0dXJuITF9c2V0IGFscGhhKGUpe2lmKHRoaXMuX2FscGhhPT09ZSlyZXR1cm47Y29uc3QgdD10aGlzLl9hbHBoYTt0aGlzLl9hbHBoYT1lLCh0PT09MXx8ZT09PTEpJiZ0aGlzLm1hcmtBc0RpcnR5KEQuTWlzY0RpcnR5RmxhZyl9Z2V0IGFscGhhKCl7cmV0dXJuIHRoaXMuX2FscGhhfXNldCBiYWNrRmFjZUN1bGxpbmcoZSl7dGhpcy5fYmFja0ZhY2VDdWxsaW5nIT09ZSYmKHRoaXMuX2JhY2tGYWNlQ3VsbGluZz1lLHRoaXMubWFya0FzRGlydHkoRC5UZXh0dXJlRGlydHlGbGFnKSl9Z2V0IGJhY2tGYWNlQ3VsbGluZygpe3JldHVybiB0aGlzLl9iYWNrRmFjZUN1bGxpbmd9c2V0IGN1bGxCYWNrRmFjZXMoZSl7dGhpcy5fY3VsbEJhY2tGYWNlcyE9PWUmJih0aGlzLl9jdWxsQmFja0ZhY2VzPWUsdGhpcy5tYXJrQXNEaXJ0eShELlRleHR1cmVEaXJ0eUZsYWcpKX1nZXQgY3VsbEJhY2tGYWNlcygpe3JldHVybiB0aGlzLl9jdWxsQmFja0ZhY2VzfWdldCBibG9ja0RpcnR5TWVjaGFuaXNtKCl7cmV0dXJuIHRoaXMuX2Jsb2NrRGlydHlNZWNoYW5pc219c2V0IGJsb2NrRGlydHlNZWNoYW5pc20oZSl7dGhpcy5fYmxvY2tEaXJ0eU1lY2hhbmlzbSE9PWUmJih0aGlzLl9ibG9ja0RpcnR5TWVjaGFuaXNtPWUsZXx8dGhpcy5tYXJrRGlydHkoKSl9YXRvbWljTWF0ZXJpYWxzVXBkYXRlKGUpe3RoaXMuYmxvY2tEaXJ0eU1lY2hhbmlzbT0hMDt0cnl7ZSh0aGlzKX1maW5hbGx5e3RoaXMuYmxvY2tEaXJ0eU1lY2hhbmlzbT0hMX19Z2V0IGhhc1JlbmRlclRhcmdldFRleHR1cmVzKCl7cmV0dXJuIHRoaXMuX2V2ZW50SW5mby5oYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz0hMSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXModGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXN9c2V0IG9uRGlzcG9zZShlKXt0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciYmdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkRpc3Bvc2VPYnNlcnZlciksdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9dGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmFkZChlKX1nZXQgb25CaW5kT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9vbkJpbmRPYnNlcnZhYmxlfHwodGhpcy5fb25CaW5kT2JzZXJ2YWJsZT1uZXcgdyksdGhpcy5fb25CaW5kT2JzZXJ2YWJsZX1zZXQgb25CaW5kKGUpe3RoaXMuX29uQmluZE9ic2VydmVyJiZ0aGlzLm9uQmluZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmluZE9ic2VydmVyKSx0aGlzLl9vbkJpbmRPYnNlcnZlcj10aGlzLm9uQmluZE9ic2VydmFibGUuYWRkKGUpfWdldCBvblVuQmluZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlfHwodGhpcy5fb25VbkJpbmRPYnNlcnZhYmxlPW5ldyB3KSx0aGlzLl9vblVuQmluZE9ic2VydmFibGV9Z2V0IG9uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZXx8KHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGU9bmV3IHcpLHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGV9c2V0IGFscGhhTW9kZShlKXt0aGlzLl9hbHBoYU1vZGUhPT1lJiYodGhpcy5fYWxwaGFNb2RlPWUsdGhpcy5tYXJrQXNEaXJ0eShELlRleHR1cmVEaXJ0eUZsYWcpKX1nZXQgYWxwaGFNb2RlKCl7cmV0dXJuIHRoaXMuX2FscGhhTW9kZX1zZXQgbmVlZERlcHRoUHJlUGFzcyhlKXt0aGlzLl9uZWVkRGVwdGhQcmVQYXNzIT09ZSYmKHRoaXMuX25lZWREZXB0aFByZVBhc3M9ZSx0aGlzLl9uZWVkRGVwdGhQcmVQYXNzJiYodGhpcy5jaGVja1JlYWR5T25FdmVyeUNhbGw9ITApKX1nZXQgbmVlZERlcHRoUHJlUGFzcygpe3JldHVybiB0aGlzLl9uZWVkRGVwdGhQcmVQYXNzfWdldCBpc1ByZVBhc3NDYXBhYmxlKCl7cmV0dXJuITF9c2V0IGZvZ0VuYWJsZWQoZSl7dGhpcy5fZm9nRW5hYmxlZCE9PWUmJih0aGlzLl9mb2dFbmFibGVkPWUsdGhpcy5tYXJrQXNEaXJ0eShELk1pc2NEaXJ0eUZsYWcpKX1nZXQgZm9nRW5hYmxlZCgpe3JldHVybiB0aGlzLl9mb2dFbmFibGVkfWdldCB3aXJlZnJhbWUoKXtzd2l0Y2godGhpcy5fZmlsbE1vZGUpe2Nhc2UgRC5XaXJlRnJhbWVGaWxsTW9kZTpjYXNlIEQuTGluZUxpc3REcmF3TW9kZTpjYXNlIEQuTGluZUxvb3BEcmF3TW9kZTpjYXNlIEQuTGluZVN0cmlwRHJhd01vZGU6cmV0dXJuITB9cmV0dXJuIHRoaXMuX3NjZW5lLmZvcmNlV2lyZWZyYW1lfXNldCB3aXJlZnJhbWUoZSl7dGhpcy5maWxsTW9kZT1lP0QuV2lyZUZyYW1lRmlsbE1vZGU6RC5UcmlhbmdsZUZpbGxNb2RlfWdldCBwb2ludHNDbG91ZCgpe3N3aXRjaCh0aGlzLl9maWxsTW9kZSl7Y2FzZSBELlBvaW50RmlsbE1vZGU6Y2FzZSBELlBvaW50TGlzdERyYXdNb2RlOnJldHVybiEwfXJldHVybiB0aGlzLl9zY2VuZS5mb3JjZVBvaW50c0Nsb3VkfXNldCBwb2ludHNDbG91ZChlKXt0aGlzLmZpbGxNb2RlPWU/RC5Qb2ludEZpbGxNb2RlOkQuVHJpYW5nbGVGaWxsTW9kZX1nZXQgZmlsbE1vZGUoKXtyZXR1cm4gdGhpcy5fZmlsbE1vZGV9c2V0IGZpbGxNb2RlKGUpe3RoaXMuX2ZpbGxNb2RlIT09ZSYmKHRoaXMuX2ZpbGxNb2RlPWUsdGhpcy5tYXJrQXNEaXJ0eShELk1pc2NEaXJ0eUZsYWcpKX1fZ2V0RHJhd1dyYXBwZXIoKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXJ9X3NldERyYXdXcmFwcGVyKGUpe3RoaXMuX2RyYXdXcmFwcGVyPWV9Y29uc3RydWN0b3IoZSx0LGkpe3RoaXMuc2hhZG93RGVwdGhXcmFwcGVyPW51bGwsdGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPSEwLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnJlc2VydmVkRGF0YVN0b3JlPW51bGwsdGhpcy5jaGVja1JlYWR5T25FdmVyeUNhbGw9ITEsdGhpcy5jaGVja1JlYWR5T25seU9uY2U9ITEsdGhpcy5zdGF0ZT0iIix0aGlzLl9hbHBoYT0xLHRoaXMuX2JhY2tGYWNlQ3VsbGluZz0hMCx0aGlzLl9jdWxsQmFja0ZhY2VzPSEwLHRoaXMuX2Jsb2NrRGlydHlNZWNoYW5pc209ITEsdGhpcy5vbkNvbXBpbGVkPW51bGwsdGhpcy5vbkVycm9yPW51bGwsdGhpcy5nZXRSZW5kZXJUYXJnZXRUZXh0dXJlcz1udWxsLHRoaXMuZG9Ob3RTZXJpYWxpemU9ITEsdGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz0hMSx0aGlzLmFuaW1hdGlvbnM9bnVsbCx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGU9bmV3IHcsdGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXI9bnVsbCx0aGlzLl9vblVuQmluZE9ic2VydmFibGU9bnVsbCx0aGlzLl9vbkJpbmRPYnNlcnZlcj1udWxsLHRoaXMuX2FscGhhTW9kZT0yLHRoaXMuX25lZWREZXB0aFByZVBhc3M9ITEsdGhpcy5kaXNhYmxlRGVwdGhXcml0ZT0hMSx0aGlzLmRpc2FibGVDb2xvcldyaXRlPSExLHRoaXMuZm9yY2VEZXB0aFdyaXRlPSExLHRoaXMuZGVwdGhGdW5jdGlvbj0wLHRoaXMuc2VwYXJhdGVDdWxsaW5nUGFzcz0hMSx0aGlzLl9mb2dFbmFibGVkPSEwLHRoaXMucG9pbnRTaXplPTEsdGhpcy56T2Zmc2V0PTAsdGhpcy56T2Zmc2V0VW5pdHM9MCx0aGlzLnN0ZW5jaWw9bmV3IEd0LHRoaXMuX3VzZVVCTz0hMSx0aGlzLl9maWxsTW9kZT1ELlRyaWFuZ2xlRmlsbE1vZGUsdGhpcy5fY2FjaGVkRGVwdGhXcml0ZVN0YXRlPSExLHRoaXMuX2NhY2hlZENvbG9yV3JpdGVTdGF0ZT0hMSx0aGlzLl9jYWNoZWREZXB0aEZ1bmN0aW9uU3RhdGU9MCx0aGlzLl9pbmRleEluU2NlbmVNYXRlcmlhbEFycmF5PS0xLHRoaXMubWVzaE1hcD1udWxsLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsLHRoaXMuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdD0hMSx0aGlzLl9ldmVudEluZm89e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWM9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaD0oKT0+e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzPSgpPT57fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50UHJlcGFyZURlZmluZXNCZWZvcmVBdHRyaWJ1dGVzPSgpPT57fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoPSgpPT57fSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2g9KCk9Pnt9LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz0oKT0+e30sdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcz0oKT0+e30sdGhpcy5fZm9yY2VBbHBoYVRlc3Q9ITEsdGhpcy5fdHJhbnNwYXJlbmN5TW9kZT1udWxsLHRoaXMubmFtZT1lO2NvbnN0IHM9dHx8bGUuTGFzdENyZWF0ZWRTY2VuZTtzJiYodGhpcy5fc2NlbmU9cyx0aGlzLl9kaXJ0eUNhbGxiYWNrcz17fSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1sxXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbMl09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1s0XT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1s4XT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkuYmluZCh0aGlzKSx0aGlzLl9kaXJ0eUNhbGxiYWNrc1sxNl09dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzTWlzY0RpcnR5LmJpbmQodGhpcyksdGhpcy5fZGlydHlDYWxsYmFja3NbMzJdPXRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1ByZVBhc3NEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuX2RpcnR5Q2FsbGJhY2tzWzYzXT10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNBbGxEaXJ0eS5iaW5kKHRoaXMpLHRoaXMuaWQ9ZXx8WC5SYW5kb21JZCgpLHRoaXMudW5pcXVlSWQ9dGhpcy5fc2NlbmUuZ2V0VW5pcXVlSWQoKSx0aGlzLl9tYXRlcmlhbENvbnRleHQ9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuY3JlYXRlTWF0ZXJpYWxDb250ZXh0KCksdGhpcy5fZHJhd1dyYXBwZXI9bmV3IHZpKHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLCExKSx0aGlzLl9kcmF3V3JhcHBlci5tYXRlcmlhbENvbnRleHQ9dGhpcy5fbWF0ZXJpYWxDb250ZXh0LHRoaXMuX3NjZW5lLnVzZVJpZ2h0SGFuZGVkU3lzdGVtP3RoaXMuc2lkZU9yaWVudGF0aW9uPUQuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uOnRoaXMuc2lkZU9yaWVudGF0aW9uPUQuQ291bnRlckNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbix0aGlzLl91bmlmb3JtQnVmZmVyPW5ldyBWKHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHZvaWQgMCx2b2lkIDAsZSksdGhpcy5fdXNlVUJPPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5zdXBwb3J0c1VuaWZvcm1CdWZmZXJzLGl8fHRoaXMuX3NjZW5lLmFkZE1hdGVyaWFsKHRoaXMpLHRoaXMuX3NjZW5lLnVzZU1hdGVyaWFsTWVzaE1hcCYmKHRoaXMubWVzaE1hcD17fSksRC5PbkV2ZW50T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyxldC5DcmVhdGVkKSl9dG9TdHJpbmcoZSl7cmV0dXJuIk5hbWU6ICIrdGhpcy5uYW1lfWdldENsYXNzTmFtZSgpe3JldHVybiJNYXRlcmlhbCJ9Z2V0IF9pc01hdGVyaWFsKCl7cmV0dXJuITB9Z2V0IGlzRnJvemVuKCl7cmV0dXJuIHRoaXMuY2hlY2tSZWFkeU9ubHlPbmNlfWZyZWV6ZSgpe3RoaXMubWFya0RpcnR5KCksdGhpcy5jaGVja1JlYWR5T25seU9uY2U9ITB9dW5mcmVlemUoKXt0aGlzLm1hcmtEaXJ0eSgpLHRoaXMuY2hlY2tSZWFkeU9ubHlPbmNlPSExfWlzUmVhZHkoZSx0KXtyZXR1cm4hMH1pc1JlYWR5Rm9yU3ViTWVzaChlLHQsaSl7Y29uc3Qgcz10Lm1hdGVyaWFsRGVmaW5lcztyZXR1cm4gcz8odGhpcy5fZXZlbnRJbmZvLmlzUmVhZHlGb3JTdWJNZXNoPSEwLHRoaXMuX2V2ZW50SW5mby5kZWZpbmVzPXMsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmlzUmVhZHlGb3JTdWJNZXNoKTohMX1nZXRFZmZlY3QoKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0fWdldFNjZW5lKCl7cmV0dXJuIHRoaXMuX3NjZW5lfWdldCB0cmFuc3BhcmVuY3lNb2RlKCl7cmV0dXJuIHRoaXMuX3RyYW5zcGFyZW5jeU1vZGV9c2V0IHRyYW5zcGFyZW5jeU1vZGUoZSl7dGhpcy5fdHJhbnNwYXJlbmN5TW9kZSE9PWUmJih0aGlzLl90cmFuc3BhcmVuY3lNb2RlPWUsdGhpcy5fZm9yY2VBbHBoYVRlc3Q9ZT09PUQuTUFURVJJQUxfQUxQSEFURVNUQU5EQkxFTkQsdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkoKSl9Z2V0IF9kaXNhYmxlQWxwaGFCbGVuZGluZygpe3JldHVybiB0aGlzLl90cmFuc3BhcmVuY3lNb2RlPT09RC5NQVRFUklBTF9PUEFRVUV8fHRoaXMuX3RyYW5zcGFyZW5jeU1vZGU9PT1ELk1BVEVSSUFMX0FMUEhBVEVTVH1uZWVkQWxwaGFCbGVuZGluZygpe3JldHVybiB0aGlzLl9kaXNhYmxlQWxwaGFCbGVuZGluZz8hMTp0aGlzLmFscGhhPDF9bmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKGUpe3JldHVybiBlLnZpc2liaWxpdHk8MT8hMDp0aGlzLl9kaXNhYmxlQWxwaGFCbGVuZGluZz8hMTplLmhhc1ZlcnRleEFscGhhfHx0aGlzLm5lZWRBbHBoYUJsZW5kaW5nKCl9bmVlZEFscGhhVGVzdGluZygpe3JldHVybiEhdGhpcy5fZm9yY2VBbHBoYVRlc3R9X3Nob3VsZFR1cm5BbHBoYVRlc3RPbihlKXtyZXR1cm4hdGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2goZSkmJnRoaXMubmVlZEFscGhhVGVzdGluZygpfWdldEFscGhhVGVzdFRleHR1cmUoKXtyZXR1cm4gbnVsbH1tYXJrRGlydHkoZT0hMSl7Y29uc3QgdD10aGlzLmdldFNjZW5lKCkubWVzaGVzO2Zvcihjb25zdCBpIG9mIHQpaWYoaS5zdWJNZXNoZXMpZm9yKGNvbnN0IHMgb2YgaS5zdWJNZXNoZXMpcy5nZXRNYXRlcmlhbCgpPT09dGhpcyYmcy5lZmZlY3QmJihzLmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5PSExLHMuZWZmZWN0Ll93YXNQcmV2aW91c2x5VXNpbmdJbnN0YW5jZXM9bnVsbCxzLmVmZmVjdC5fZm9yY2VSZWJpbmRPbk5leHRDYWxsPWUpO2UmJnRoaXMubWFya0FzRGlydHkoRC5BbGxEaXJ0eUZsYWcpfV9wcmVCaW5kKGUsdD1udWxsKXtjb25zdCBpPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHI9KHQ/P3RoaXMuc2lkZU9yaWVudGF0aW9uKT09PUQuQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9uO3JldHVybiBpLmVuYWJsZUVmZmVjdChlfHx0aGlzLl9nZXREcmF3V3JhcHBlcigpKSxpLnNldFN0YXRlKHRoaXMuYmFja0ZhY2VDdWxsaW5nLHRoaXMuek9mZnNldCwhMSxyLHRoaXMuX3NjZW5lLl9taXJyb3JlZENhbWVyYVBvc2l0aW9uPyF0aGlzLmN1bGxCYWNrRmFjZXM6dGhpcy5jdWxsQmFja0ZhY2VzLHRoaXMuc3RlbmNpbCx0aGlzLnpPZmZzZXRVbml0cykscn1iaW5kKGUsdCl7fWJ1aWxkVW5pZm9ybUxheW91dCgpe2NvbnN0IGU9dGhpcy5fdW5pZm9ybUJ1ZmZlcjt0aGlzLl9ldmVudEluZm8udWJvPWUsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoZXQuUHJlcGFyZVVuaWZvcm1CdWZmZXIsdGhpcy5fZXZlbnRJbmZvKSxlLmNyZWF0ZSgpLHRoaXMuX3VuaWZvcm1CdWZmZXJMYXlvdXRCdWlsdD0hMH1iaW5kRm9yU3ViTWVzaChlLHQsaSl7Y29uc3Qgcz1pLmVmZmVjdDtzJiYodGhpcy5fZXZlbnRJbmZvLnN1Yk1lc2g9aSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2godGhpcy5fZXZlbnRJbmZvKSxzLl9mb3JjZVJlYmluZE9uTmV4dENhbGw9ITEpfWJpbmRPbmx5V29ybGRNYXRyaXgoZSl7fWJpbmRWaWV3KGUpe3RoaXMuX3VzZVVCTz90aGlzLl9uZWVkVG9CaW5kU2NlbmVVYm89ITA6ZS5zZXRNYXRyaXgoInZpZXciLHRoaXMuZ2V0U2NlbmUoKS5nZXRWaWV3TWF0cml4KCkpfWJpbmRWaWV3UHJvamVjdGlvbihlKXt0aGlzLl91c2VVQk8/dGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvPSEwOihlLnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLHRoaXMuZ2V0U2NlbmUoKS5nZXRUcmFuc2Zvcm1NYXRyaXgoKSksZS5zZXRNYXRyaXgoInByb2plY3Rpb24iLHRoaXMuZ2V0U2NlbmUoKS5nZXRQcm9qZWN0aW9uTWF0cml4KCkpKX1iaW5kRXllUG9zaXRpb24oZSx0KXt0aGlzLl91c2VVQk8/dGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvPSEwOnRoaXMuX3NjZW5lLmJpbmRFeWVQb3NpdGlvbihlLHQpfV9hZnRlckJpbmQoZSx0PW51bGwpe2lmKHRoaXMuX3NjZW5lLl9jYWNoZWRNYXRlcmlhbD10aGlzLHRoaXMuX25lZWRUb0JpbmRTY2VuZVVibyYmdCYmKHRoaXMuX25lZWRUb0JpbmRTY2VuZVVibz0hMSxzZS5CaW5kU2NlbmVVbmlmb3JtQnVmZmVyKHQsdGhpcy5nZXRTY2VuZSgpLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpKSx0aGlzLl9zY2VuZS5maW5hbGl6ZVNjZW5lVWJvKCkpLGU/dGhpcy5fc2NlbmUuX2NhY2hlZFZpc2liaWxpdHk9ZS52aXNpYmlsaXR5OnRoaXMuX3NjZW5lLl9jYWNoZWRWaXNpYmlsaXR5PTEsdGhpcy5fb25CaW5kT2JzZXJ2YWJsZSYmZSYmdGhpcy5fb25CaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSksdGhpcy5kaXNhYmxlRGVwdGhXcml0ZSl7Y29uc3QgaT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTt0aGlzLl9jYWNoZWREZXB0aFdyaXRlU3RhdGU9aS5nZXREZXB0aFdyaXRlKCksaS5zZXREZXB0aFdyaXRlKCExKX1pZih0aGlzLmRpc2FibGVDb2xvcldyaXRlKXtjb25zdCBpPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO3RoaXMuX2NhY2hlZENvbG9yV3JpdGVTdGF0ZT1pLmdldENvbG9yV3JpdGUoKSxpLnNldENvbG9yV3JpdGUoITEpfWlmKHRoaXMuZGVwdGhGdW5jdGlvbiE9PTApe2NvbnN0IGk9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fY2FjaGVkRGVwdGhGdW5jdGlvblN0YXRlPWkuZ2V0RGVwdGhGdW5jdGlvbigpfHwwLGkuc2V0RGVwdGhGdW5jdGlvbih0aGlzLmRlcHRoRnVuY3Rpb24pfX11bmJpbmQoKXt0aGlzLl9vblVuQmluZE9ic2VydmFibGUmJnRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5kZXB0aEZ1bmN0aW9uIT09MCYmdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuc2V0RGVwdGhGdW5jdGlvbih0aGlzLl9jYWNoZWREZXB0aEZ1bmN0aW9uU3RhdGUpLHRoaXMuZGlzYWJsZURlcHRoV3JpdGUmJnRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLnNldERlcHRoV3JpdGUodGhpcy5fY2FjaGVkRGVwdGhXcml0ZVN0YXRlKSx0aGlzLmRpc2FibGVDb2xvcldyaXRlJiZ0aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5zZXRDb2xvcldyaXRlKHRoaXMuX2NhY2hlZENvbG9yV3JpdGVTdGF0ZSl9Z2V0QW5pbWF0YWJsZXMoKXtyZXR1cm4gdGhpcy5fZXZlbnRJbmZvLmFuaW1hdGFibGVzPVtdLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKGV0LkdldEFuaW1hdGFibGVzLHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fZXZlbnRJbmZvLmFuaW1hdGFibGVzfWdldEFjdGl2ZVRleHR1cmVzKCl7cmV0dXJuIHRoaXMuX2V2ZW50SW5mby5hY3RpdmVUZXh0dXJlcz1bXSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhldC5HZXRBY3RpdmVUZXh0dXJlcyx0aGlzLl9ldmVudEluZm8pLHRoaXMuX2V2ZW50SW5mby5hY3RpdmVUZXh0dXJlc31oYXNUZXh0dXJlKGUpe3JldHVybiB0aGlzLl9ldmVudEluZm8uaGFzVGV4dHVyZT0hMSx0aGlzLl9ldmVudEluZm8udGV4dHVyZT1lLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKGV0Lkhhc1RleHR1cmUsdGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9ldmVudEluZm8uaGFzVGV4dHVyZX1jbG9uZShlKXtyZXR1cm4gbnVsbH1nZXRCaW5kZWRNZXNoZXMoKXtpZih0aGlzLm1lc2hNYXApe2NvbnN0IGU9bmV3IEFycmF5O2Zvcihjb25zdCB0IGluIHRoaXMubWVzaE1hcCl7Y29uc3QgaT10aGlzLm1lc2hNYXBbdF07aSYmZS5wdXNoKGkpfXJldHVybiBlfWVsc2UgcmV0dXJuIHRoaXMuX3NjZW5lLm1lc2hlcy5maWx0ZXIodD0+dC5tYXRlcmlhbD09PXRoaXMpfWZvcmNlQ29tcGlsYXRpb24oZSx0LGkscyl7Y29uc3Qgcj17Y2xpcFBsYW5lOiExLHVzZUluc3RhbmNlczohMSwuLi5pfSxuPXRoaXMuZ2V0U2NlbmUoKSxhPXRoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZzt0aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITE7Y29uc3Qgbz0oKT0+e2lmKCF0aGlzLl9zY2VuZXx8IXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpKXJldHVybjtjb25zdCBoPW4uY2xpcFBsYW5lO2lmKHIuY2xpcFBsYW5lJiYobi5jbGlwUGxhbmU9bmV3IE10KDAsMCwwLDEpKSx0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKXtsZXQgbD0hMCx1PW51bGw7aWYoZS5zdWJNZXNoZXMpe2NvbnN0IGQ9bmV3IFR0KDAsMCwwLDAsMCxlLHZvaWQgMCwhMSwhMSk7ZC5tYXRlcmlhbERlZmluZXMmJihkLm1hdGVyaWFsRGVmaW5lcy5fcmVuZGVySWQ9LTEpLHRoaXMuaXNSZWFkeUZvclN1Yk1lc2goZSxkLHIudXNlSW5zdGFuY2VzKXx8KGQuZWZmZWN0JiZkLmVmZmVjdC5nZXRDb21waWxhdGlvbkVycm9yKCkmJmQuZWZmZWN0LmFsbEZhbGxiYWNrc1Byb2Nlc3NlZCgpP3U9ZC5lZmZlY3QuZ2V0Q29tcGlsYXRpb25FcnJvcigpOihsPSExLHNldFRpbWVvdXQobywxNikpKX1sJiYodGhpcy5hbGxvd1NoYWRlckhvdFN3YXBwaW5nPWEsdSYmcyYmcyh1KSx0JiZ0KHRoaXMpKX1lbHNlIHRoaXMuaXNSZWFkeSgpPyh0aGlzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9YSx0JiZ0KHRoaXMpKTpzZXRUaW1lb3V0KG8sMTYpO3IuY2xpcFBsYW5lJiYobi5jbGlwUGxhbmU9aCl9O28oKX1mb3JjZUNvbXBpbGF0aW9uQXN5bmMoZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKGkscyk9Pnt0aGlzLmZvcmNlQ29tcGlsYXRpb24oZSwoKT0+e2koKX0sdCxyPT57cyhyKX0pfSl9bWFya0FzRGlydHkoZSl7dGhpcy5nZXRTY2VuZSgpLmJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbXx8dGhpcy5fYmxvY2tEaXJ0eU1lY2hhbmlzbXx8KEQuX0RpcnR5Q2FsbGJhY2tBcnJheS5sZW5ndGg9MCxlJkQuVGV4dHVyZURpcnR5RmxhZyYmRC5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goRC5fVGV4dHVyZURpcnR5Q2FsbEJhY2spLGUmRC5MaWdodERpcnR5RmxhZyYmRC5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goRC5fTGlnaHRzRGlydHlDYWxsQmFjayksZSZELkZyZXNuZWxEaXJ0eUZsYWcmJkQuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKEQuX0ZyZXNuZWxEaXJ0eUNhbGxCYWNrKSxlJkQuQXR0cmlidXRlc0RpcnR5RmxhZyYmRC5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goRC5fQXR0cmlidXRlRGlydHlDYWxsQmFjayksZSZELk1pc2NEaXJ0eUZsYWcmJkQuX0RpcnR5Q2FsbGJhY2tBcnJheS5wdXNoKEQuX01pc2NEaXJ0eUNhbGxCYWNrKSxlJkQuUHJlUGFzc0RpcnR5RmxhZyYmRC5fRGlydHlDYWxsYmFja0FycmF5LnB1c2goRC5fUHJlUGFzc0RpcnR5Q2FsbEJhY2spLEQuX0RpcnR5Q2FsbGJhY2tBcnJheS5sZW5ndGgmJnRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KEQuX1J1bkRpcnR5Q2FsbEJhY2tzKSx0aGlzLmdldFNjZW5lKCkucmVzZXRDYWNoZWRNYXRlcmlhbCgpKX1yZXNldERyYXdDYWNoZSgpe2NvbnN0IGU9dGhpcy5nZXRTY2VuZSgpLm1lc2hlcztmb3IoY29uc3QgdCBvZiBlKWlmKHQuc3ViTWVzaGVzKWZvcihjb25zdCBpIG9mIHQuc3ViTWVzaGVzKWkuZ2V0TWF0ZXJpYWwoKT09PXRoaXMmJmkucmVzZXREcmF3Q2FjaGUoKX1fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoZSl7aWYodGhpcy5nZXRTY2VuZSgpLmJsb2NrTWF0ZXJpYWxEaXJ0eU1lY2hhbmlzbXx8dGhpcy5fYmxvY2tEaXJ0eU1lY2hhbmlzbSlyZXR1cm47Y29uc3QgdD10aGlzLmdldFNjZW5lKCkubWVzaGVzO2Zvcihjb25zdCBpIG9mIHQpaWYoaS5zdWJNZXNoZXMpe2Zvcihjb25zdCBzIG9mIGkuc3ViTWVzaGVzKWlmKHMuZ2V0TWF0ZXJpYWwoITEpPT09dGhpcylmb3IoY29uc3QgciBvZiBzLl9kcmF3V3JhcHBlcnMpIXJ8fCFyLmRlZmluZXN8fCFyLmRlZmluZXMubWFya0FsbEFzRGlydHl8fHRoaXMuX21hdGVyaWFsQ29udGV4dD09PXIubWF0ZXJpYWxDb250ZXh0JiZlKHIuZGVmaW5lcyl9fV9tYXJrU2NlbmVQcmVQYXNzRGlydHkoKXtpZih0aGlzLmdldFNjZW5lKCkuYmxvY2tNYXRlcmlhbERpcnR5TWVjaGFuaXNtfHx0aGlzLl9ibG9ja0RpcnR5TWVjaGFuaXNtKXJldHVybjtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKS5lbmFibGVQcmVQYXNzUmVuZGVyZXIoKTtlJiZlLm1hcmtBc0RpcnR5KCl9X21hcmtBbGxTdWJNZXNoZXNBc0FsbERpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoRC5fQWxsRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc0ltYWdlUHJvY2Vzc2luZ0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoRC5fSW1hZ2VQcm9jZXNzaW5nRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShELl9UZXh0dXJlRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc0ZyZXNuZWxEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KEQuX0ZyZXNuZWxEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbEFuZE1pc2NEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KEQuX0ZyZXNuZWxBbmRNaXNjRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc0xpZ2h0c0RpcnR5KCl7dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzRGlydHkoRC5fTGlnaHRzRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc0F0dHJpYnV0ZXNEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KEQuX0F0dHJpYnV0ZURpcnR5Q2FsbEJhY2spfV9tYXJrQWxsU3ViTWVzaGVzQXNNaXNjRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShELl9NaXNjRGlydHlDYWxsQmFjayl9X21hcmtBbGxTdWJNZXNoZXNBc1ByZVBhc3NEaXJ0eSgpe3RoaXMuX21hcmtBbGxTdWJNZXNoZXNBc0RpcnR5KEQuX01pc2NEaXJ0eUNhbGxCYWNrKX1fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkoKXt0aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNEaXJ0eShELl9UZXh0dXJlQW5kTWlzY0RpcnR5Q2FsbEJhY2spfV9jaGVja1NjZW5lUGVyZm9ybWFuY2VQcmlvcml0eSgpe2lmKHRoaXMuX3NjZW5lLnBlcmZvcm1hbmNlUHJpb3JpdHkhPT1QdC5CYWNrd2FyZENvbXBhdGlibGUpe3RoaXMuY2hlY2tSZWFkeU9ubHlPbmNlPSEwO2NvbnN0IGU9dGhpcy5fc2NlbmUub25TY2VuZVBlcmZvcm1hbmNlUHJpb3JpdHlDaGFuZ2VkT2JzZXJ2YWJsZS5hZGRPbmNlKCgpPT57dGhpcy5jaGVja1JlYWR5T25seU9uY2U9ITF9KTt0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5fc2NlbmUub25TY2VuZVBlcmZvcm1hbmNlUHJpb3JpdHlDaGFuZ2VkT2JzZXJ2YWJsZS5yZW1vdmUoZSl9KX19c2V0UHJlUGFzc1JlbmRlcmVyKGUpe3JldHVybiExfWRpc3Bvc2UoZSx0LGkpe2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpO2lmKHMuc3RvcEFuaW1hdGlvbih0aGlzKSxzLmZyZWVQcm9jZXNzZWRNYXRlcmlhbHMoKSxzLnJlbW92ZU1hdGVyaWFsKHRoaXMpLHRoaXMuX2V2ZW50SW5mby5mb3JjZURpc3Bvc2VUZXh0dXJlcz10LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljKGV0LkRpc3Bvc2VkLHRoaXMuX2V2ZW50SW5mbyksdGhpcy5fcGFyZW50Q29udGFpbmVyKXtjb25zdCByPXRoaXMuX3BhcmVudENvbnRhaW5lci5tYXRlcmlhbHMuaW5kZXhPZih0aGlzKTtyPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIubWF0ZXJpYWxzLnNwbGljZShyLDEpLHRoaXMuX3BhcmVudENvbnRhaW5lcj1udWxsfWlmKGkhPT0hMClpZih0aGlzLm1lc2hNYXApZm9yKGNvbnN0IHIgaW4gdGhpcy5tZXNoTWFwKXtjb25zdCBuPXRoaXMubWVzaE1hcFtyXTtuJiYobi5tYXRlcmlhbD1udWxsLHRoaXMucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KG4sZSkpfWVsc2V7Y29uc3Qgcj1zLm1lc2hlcztmb3IoY29uc3QgbiBvZiByKW4ubWF0ZXJpYWw9PT10aGlzJiYhbi5zb3VyY2VNZXNoJiYobi5tYXRlcmlhbD1udWxsLHRoaXMucmVsZWFzZVZlcnRleEFycmF5T2JqZWN0KG4sZSkpfXRoaXMuX3VuaWZvcm1CdWZmZXIuZGlzcG9zZSgpLGUmJnRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdCYmKHRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXN8fHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdC5kaXNwb3NlKCksdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0PW51bGwpLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLm9uRGlzcG9zZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpLHRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX29uQmluZE9ic2VydmFibGUmJnRoaXMuX29uQmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9vblVuQmluZE9ic2VydmFibGUmJnRoaXMuX29uVW5CaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUmJnRoaXMuX29uRWZmZWN0Q3JlYXRlZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9ldmVudEluZm8mJih0aGlzLl9ldmVudEluZm89e30pfXJlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChlLHQpe2lmKGUuZ2VvbWV0cnkpe2NvbnN0IGk9ZS5nZW9tZXRyeTtpZih0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKWZvcihjb25zdCBzIG9mIGUuc3ViTWVzaGVzKWkuX3JlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdChzLmVmZmVjdCksdCYmcy5lZmZlY3QmJnMuZWZmZWN0LmRpc3Bvc2UoKTtlbHNlIGkuX3JlbGVhc2VWZXJ0ZXhBcnJheU9iamVjdCh0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QpfX1zZXJpYWxpemUoKXtjb25zdCBlPW5lLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gZS5zdGVuY2lsPXRoaXMuc3RlbmNpbC5zZXJpYWxpemUoKSxlLnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsZX1zdGF0aWMgUGFyc2UoZSx0LGkpe2lmKCFlLmN1c3RvbVR5cGUpZS5jdXN0b21UeXBlPSJCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwiO2Vsc2UgaWYoZS5jdXN0b21UeXBlPT09IkJBQllMT04uUEJSTWF0ZXJpYWwiJiZlLm92ZXJsb2FkZWRBbGJlZG8mJihlLmN1c3RvbVR5cGU9IkJBQllMT04uTGVnYWN5UEJSTWF0ZXJpYWwiLCFCQUJZTE9OLkxlZ2FjeVBCUk1hdGVyaWFsKSlyZXR1cm4gTy5FcnJvcigiWW91ciBzY2VuZSBpcyB0cnlpbmcgdG8gbG9hZCBhIGxlZ2FjeSB2ZXJzaW9uIG9mIHRoZSBQQlJNYXRlcmlhbCwgcGxlYXNlLCBpbmNsdWRlIGl0IGZyb20gdGhlIG1hdGVyaWFscyBsaWJyYXJ5LiIpLG51bGw7Y29uc3Qgcj1YLkluc3RhbnRpYXRlKGUuY3VzdG9tVHlwZSkuUGFyc2UoZSx0LGkpO3JldHVybiByLl9sb2FkZWRVbmlxdWVJZD1lLnVuaXF1ZUlkLHJ9fUQuVHJpYW5nbGVGaWxsTW9kZT0wLEQuV2lyZUZyYW1lRmlsbE1vZGU9MSxELlBvaW50RmlsbE1vZGU9MixELlBvaW50TGlzdERyYXdNb2RlPTMsRC5MaW5lTGlzdERyYXdNb2RlPTQsRC5MaW5lTG9vcERyYXdNb2RlPTUsRC5MaW5lU3RyaXBEcmF3TW9kZT02LEQuVHJpYW5nbGVTdHJpcERyYXdNb2RlPTcsRC5UcmlhbmdsZUZhbkRyYXdNb2RlPTgsRC5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb249MCxELkNvdW50ZXJDbG9ja1dpc2VTaWRlT3JpZW50YXRpb249MSxELlRleHR1cmVEaXJ0eUZsYWc9MSxELkxpZ2h0RGlydHlGbGFnPTIsRC5GcmVzbmVsRGlydHlGbGFnPTQsRC5BdHRyaWJ1dGVzRGlydHlGbGFnPTgsRC5NaXNjRGlydHlGbGFnPTE2LEQuUHJlUGFzc0RpcnR5RmxhZz0zMixELkFsbERpcnR5RmxhZz02MyxELk1BVEVSSUFMX09QQVFVRT0wLEQuTUFURVJJQUxfQUxQSEFURVNUPTEsRC5NQVRFUklBTF9BTFBIQUJMRU5EPTIsRC5NQVRFUklBTF9BTFBIQVRFU1RBTkRCTEVORD0zLEQuTUFURVJJQUxfTk9STUFMQkxFTkRNRVRIT0RfV0hJVEVPVVQ9MCxELk1BVEVSSUFMX05PUk1BTEJMRU5ETUVUSE9EX1JOTT0xLEQuT25FdmVudE9ic2VydmFibGU9bmV3IHcsbGUuT25FbmdpbmVzRGlzcG9zZWRPYnNlcnZhYmxlLmFkZE9uY2UoKCk9PntELk9uRXZlbnRPYnNlcnZhYmxlLmNsZWFyKCl9KSxELl9BbGxEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FsbEFzRGlydHkoKSxELl9JbWFnZVByb2Nlc3NpbmdEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKSxELl9UZXh0dXJlRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc1RleHR1cmVzRGlydHkoKSxELl9GcmVzbmVsRGlydHlDYWxsQmFjaz1jPT5jLm1hcmtBc0ZyZXNuZWxEaXJ0eSgpLEQuX01pc2NEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FzTWlzY0RpcnR5KCksRC5fUHJlUGFzc0RpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQXNQcmVQYXNzRGlydHkoKSxELl9MaWdodHNEaXJ0eUNhbGxCYWNrPWM9PmMubWFya0FzTGlnaHREaXJ0eSgpLEQuX0F0dHJpYnV0ZURpcnR5Q2FsbEJhY2s9Yz0+Yy5tYXJrQXNBdHRyaWJ1dGVzRGlydHkoKSxELl9GcmVzbmVsQW5kTWlzY0RpcnR5Q2FsbEJhY2s9Yz0+e0QuX0ZyZXNuZWxEaXJ0eUNhbGxCYWNrKGMpLEQuX01pc2NEaXJ0eUNhbGxCYWNrKGMpfSxELl9UZXh0dXJlQW5kTWlzY0RpcnR5Q2FsbEJhY2s9Yz0+e0QuX1RleHR1cmVEaXJ0eUNhbGxCYWNrKGMpLEQuX01pc2NEaXJ0eUNhbGxCYWNrKGMpfSxELl9EaXJ0eUNhbGxiYWNrQXJyYXk9W10sRC5fUnVuRGlydHlDYWxsQmFja3M9Yz0+e2Zvcihjb25zdCBlIG9mIEQuX0RpcnR5Q2FsbGJhY2tBcnJheSllKGMpfSxUKFt5KCldLEQucHJvdG90eXBlLCJpZCIsdm9pZCAwKSxUKFt5KCldLEQucHJvdG90eXBlLCJ1bmlxdWVJZCIsdm9pZCAwKSxUKFt5KCldLEQucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW3koKV0sRC5wcm90b3R5cGUsIm1ldGFkYXRhIix2b2lkIDApLFQoW3koKV0sRC5wcm90b3R5cGUsImNoZWNrUmVhZHlPbkV2ZXJ5Q2FsbCIsdm9pZCAwKSxUKFt5KCldLEQucHJvdG90eXBlLCJjaGVja1JlYWR5T25seU9uY2UiLHZvaWQgMCksVChbeSgpXSxELnByb3RvdHlwZSwic3RhdGUiLHZvaWQgMCksVChbeSgiYWxwaGEiKV0sRC5wcm90b3R5cGUsIl9hbHBoYSIsdm9pZCAwKSxUKFt5KCJiYWNrRmFjZUN1bGxpbmciKV0sRC5wcm90b3R5cGUsIl9iYWNrRmFjZUN1bGxpbmciLHZvaWQgMCksVChbeSgiY3VsbEJhY2tGYWNlcyIpXSxELnByb3RvdHlwZSwiX2N1bGxCYWNrRmFjZXMiLHZvaWQgMCksVChbeSgpXSxELnByb3RvdHlwZSwic2lkZU9yaWVudGF0aW9uIix2b2lkIDApLFQoW3koImFscGhhTW9kZSIpXSxELnByb3RvdHlwZSwiX2FscGhhTW9kZSIsdm9pZCAwKSxUKFt5KCldLEQucHJvdG90eXBlLCJfbmVlZERlcHRoUHJlUGFzcyIsdm9pZCAwKSxUKFt5KCldLEQucHJvdG90eXBlLCJkaXNhYmxlRGVwdGhXcml0ZSIsdm9pZCAwKSxUKFt5KCldLEQucHJvdG90eXBlLCJkaXNhYmxlQ29sb3JXcml0ZSIsdm9pZCAwKSxUKFt5KCldLEQucHJvdG90eXBlLCJmb3JjZURlcHRoV3JpdGUiLHZvaWQgMCksVChbeSgpXSxELnByb3RvdHlwZSwiZGVwdGhGdW5jdGlvbiIsdm9pZCAwKSxUKFt5KCldLEQucHJvdG90eXBlLCJzZXBhcmF0ZUN1bGxpbmdQYXNzIix2b2lkIDApLFQoW3koImZvZ0VuYWJsZWQiKV0sRC5wcm90b3R5cGUsIl9mb2dFbmFibGVkIix2b2lkIDApLFQoW3koKV0sRC5wcm90b3R5cGUsInBvaW50U2l6ZSIsdm9pZCAwKSxUKFt5KCldLEQucHJvdG90eXBlLCJ6T2Zmc2V0Iix2b2lkIDApLFQoW3koKV0sRC5wcm90b3R5cGUsInpPZmZzZXRVbml0cyIsdm9pZCAwKSxUKFt5KCldLEQucHJvdG90eXBlLCJwb2ludHNDbG91ZCIsbnVsbCksVChbeSgpXSxELnByb3RvdHlwZSwiZmlsbE1vZGUiLG51bGwpLFQoW3koKV0sRC5wcm90b3R5cGUsInRyYW5zcGFyZW5jeU1vZGUiLG51bGwpO2NsYXNzIFJpIGV4dGVuZHMgRHtnZXQgc3ViTWF0ZXJpYWxzKCl7cmV0dXJuIHRoaXMuX3N1Yk1hdGVyaWFsc31zZXQgc3ViTWF0ZXJpYWxzKGUpe3RoaXMuX3N1Yk1hdGVyaWFscz1lLHRoaXMuX2hvb2tBcnJheShlKX1nZXRDaGlsZHJlbigpe3JldHVybiB0aGlzLnN1Yk1hdGVyaWFsc31jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCwhMCksdGhpcy5fd2FpdGluZ1N1Yk1hdGVyaWFsc1VuaXF1ZUlkcz1bXSx0aGlzLmdldFNjZW5lKCkubXVsdGlNYXRlcmlhbHMucHVzaCh0aGlzKSx0aGlzLnN1Yk1hdGVyaWFscz1uZXcgQXJyYXksdGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz0hMH1faG9va0FycmF5KGUpe2NvbnN0IHQ9ZS5wdXNoO2UucHVzaD0oLi4ucyk9Pntjb25zdCByPXQuYXBwbHkoZSxzKTtyZXR1cm4gdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpLHJ9O2NvbnN0IGk9ZS5zcGxpY2U7ZS5zcGxpY2U9KHMscik9Pntjb25zdCBuPWkuYXBwbHkoZSxbcyxyXSk7cmV0dXJuIHRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkoKSxufX1nZXRTdWJNYXRlcmlhbChlKXtyZXR1cm4gZTwwfHxlPj10aGlzLnN1Yk1hdGVyaWFscy5sZW5ndGg/dGhpcy5nZXRTY2VuZSgpLmRlZmF1bHRNYXRlcmlhbDp0aGlzLnN1Yk1hdGVyaWFsc1tlXX1nZXRBY3RpdmVUZXh0dXJlcygpe3JldHVybiBzdXBlci5nZXRBY3RpdmVUZXh0dXJlcygpLmNvbmNhdCguLi50aGlzLnN1Yk1hdGVyaWFscy5tYXAoZT0+ZT9lLmdldEFjdGl2ZVRleHR1cmVzKCk6W10pKX1oYXNUZXh0dXJlKGUpe3ZhciB0O2lmKHN1cGVyLmhhc1RleHR1cmUoZSkpcmV0dXJuITA7Zm9yKGxldCBpPTA7aTx0aGlzLnN1Yk1hdGVyaWFscy5sZW5ndGg7aSsrKWlmKCEoKHQ9dGhpcy5zdWJNYXRlcmlhbHNbaV0pPT09bnVsbHx8dD09PXZvaWQgMCkmJnQuaGFzVGV4dHVyZShlKSlyZXR1cm4hMDtyZXR1cm4hMX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iTXVsdGlNYXRlcmlhbCJ9aXNSZWFkeUZvclN1Yk1lc2goZSx0LGkpe2ZvcihsZXQgcz0wO3M8dGhpcy5zdWJNYXRlcmlhbHMubGVuZ3RoO3MrKyl7Y29uc3Qgcj10aGlzLnN1Yk1hdGVyaWFsc1tzXTtpZihyKXtpZihyLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzKXtpZighci5pc1JlYWR5Rm9yU3ViTWVzaChlLHQsaSkpcmV0dXJuITE7Y29udGludWV9aWYoIXIuaXNSZWFkeShlKSlyZXR1cm4hMX19cmV0dXJuITB9Y2xvbmUoZSx0KXtjb25zdCBpPW5ldyBSaShlLHRoaXMuZ2V0U2NlbmUoKSk7Zm9yKGxldCBzPTA7czx0aGlzLnN1Yk1hdGVyaWFscy5sZW5ndGg7cysrKXtsZXQgcj1udWxsO2NvbnN0IG49dGhpcy5zdWJNYXRlcmlhbHNbc107dCYmbj9yPW4uY2xvbmUoZSsiLSIrbi5uYW1lKTpyPXRoaXMuc3ViTWF0ZXJpYWxzW3NdLGkuc3ViTWF0ZXJpYWxzLnB1c2gocil9cmV0dXJuIGl9c2VyaWFsaXplKCl7Y29uc3QgZT17fTtlLm5hbWU9dGhpcy5uYW1lLGUuaWQ9dGhpcy5pZCxlLnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsZmUmJihlLnRhZ3M9ZmUuR2V0VGFncyh0aGlzKSksZS5tYXRlcmlhbHNVbmlxdWVJZHM9W10sZS5tYXRlcmlhbHM9W107Zm9yKGxldCB0PTA7dDx0aGlzLnN1Yk1hdGVyaWFscy5sZW5ndGg7dCsrKXtjb25zdCBpPXRoaXMuc3ViTWF0ZXJpYWxzW3RdO2k/KGUubWF0ZXJpYWxzVW5pcXVlSWRzLnB1c2goaS51bmlxdWVJZCksZS5tYXRlcmlhbHMucHVzaChpLmlkKSk6KGUubWF0ZXJpYWxzVW5pcXVlSWRzLnB1c2gobnVsbCksZS5tYXRlcmlhbHMucHVzaChudWxsKSl9cmV0dXJuIGV9ZGlzcG9zZShlLHQsaSl7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCk7aWYoIXMpcmV0dXJuO2lmKGkpZm9yKGxldCBuPTA7bjx0aGlzLnN1Yk1hdGVyaWFscy5sZW5ndGg7bisrKXtjb25zdCBhPXRoaXMuc3ViTWF0ZXJpYWxzW25dO2EmJmEuZGlzcG9zZShlLHQpfWNvbnN0IHI9cy5tdWx0aU1hdGVyaWFscy5pbmRleE9mKHRoaXMpO3I+PTAmJnMubXVsdGlNYXRlcmlhbHMuc3BsaWNlKHIsMSksc3VwZXIuZGlzcG9zZShlLHQpfXN0YXRpYyBQYXJzZU11bHRpTWF0ZXJpYWwoZSx0KXtjb25zdCBpPW5ldyBSaShlLm5hbWUsdCk7cmV0dXJuIGkuaWQ9ZS5pZCxpLl9sb2FkZWRVbmlxdWVJZD1lLnVuaXF1ZUlkLGZlJiZmZS5BZGRUYWdzVG8oaSxlLnRhZ3MpLGUubWF0ZXJpYWxzVW5pcXVlSWRzP2kuX3dhaXRpbmdTdWJNYXRlcmlhbHNVbmlxdWVJZHM9ZS5tYXRlcmlhbHNVbmlxdWVJZHM6ZS5tYXRlcmlhbHMuZm9yRWFjaChzPT5pLnN1Yk1hdGVyaWFscy5wdXNoKHQuZ2V0TGFzdE1hdGVyaWFsQnlJZChzKSkpLGl9fXN0KCJCQUJZTE9OLk11bHRpTWF0ZXJpYWwiLFJpKTtjbGFzcyBLbntjb25zdHJ1Y3RvcihlLHQpe3RoaXMuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPWUsdGhpcy5tZXNoPXR9fWNsYXNzIFlue2NvbnN0cnVjdG9yKCl7dGhpcy52aXNpYmxlSW5zdGFuY2VzPXt9LHRoaXMuYmF0Y2hDYWNoZT1uZXcgT3IsdGhpcy5iYXRjaENhY2hlUmVwbGFjZW1lbnRNb2RlSW5Gcm96ZW5Nb2RlPW5ldyBPcix0aGlzLmluc3RhbmNlc0J1ZmZlclNpemU9MzIqMTYqNH19Y2xhc3MgT3J7Y29uc3RydWN0b3IoKXt0aGlzLm11c3RSZXR1cm49ITEsdGhpcy52aXNpYmxlSW5zdGFuY2VzPW5ldyBBcnJheSx0aGlzLnJlbmRlclNlbGY9bmV3IEFycmF5LHRoaXMuaGFyZHdhcmVJbnN0YW5jZWRSZW5kZXJpbmc9bmV3IEFycmF5fX1jbGFzcyBabntjb25zdHJ1Y3Rvcigpe3RoaXMuaW5zdGFuY2VzQ291bnQ9MCx0aGlzLm1hdHJpeEJ1ZmZlcj1udWxsLHRoaXMucHJldmlvdXNNYXRyaXhCdWZmZXI9bnVsbCx0aGlzLm1hdHJpeEJ1ZmZlclNpemU9MzIqMTYsdGhpcy5tYXRyaXhEYXRhPW51bGwsdGhpcy5ib3VuZGluZ1ZlY3RvcnM9W10sdGhpcy53b3JsZE1hdHJpY2VzPW51bGx9fWNsYXNzIHFue2NvbnN0cnVjdG9yKCl7dGhpcy5fYXJlTm9ybWFsc0Zyb3plbj0hMSx0aGlzLl9zb3VyY2U9bnVsbCx0aGlzLm1lc2hNYXA9bnVsbCx0aGlzLl9wcmVBY3RpdmF0ZUlkPS0xLHRoaXMuX0xPRExldmVscz1uZXcgQXJyYXksdGhpcy5fdXNlTE9EU2NyZWVuQ292ZXJhZ2U9ITEsdGhpcy5fZWZmZWN0aXZlTWF0ZXJpYWw9bnVsbCx0aGlzLl9mb3JjZWRJbnN0YW5jZUNvdW50PTAsdGhpcy5fb3ZlcnJpZGVSZW5kZXJpbmdGaWxsTW9kZT1udWxsfX1jbGFzcyB6IGV4dGVuZHMgaHR7c3RhdGljIF9HZXREZWZhdWx0U2lkZU9yaWVudGF0aW9uKGUpe3JldHVybiBlfHx6LkZST05UU0lERX1nZXQgdXNlTE9EU2NyZWVuQ292ZXJhZ2UoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3VzZUxPRFNjcmVlbkNvdmVyYWdlfXNldCB1c2VMT0RTY3JlZW5Db3ZlcmFnZShlKXt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fdXNlTE9EU2NyZWVuQ292ZXJhZ2U9ZSx0aGlzLl9zb3J0TE9ETGV2ZWxzKCl9Z2V0IGNvbXB1dGVCb25lc1VzaW5nU2hhZGVycygpe3JldHVybiB0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnN9c2V0IGNvbXB1dGVCb25lc1VzaW5nU2hhZGVycyhlKXt0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMhPT1lJiYoZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZVBvc2l0aW9ucyYmKHRoaXMuc2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VQb3NpdGlvbnMsITApLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VOb3JtYWxzJiZ0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZU5vcm1hbHMsITApLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2VQb3NpdGlvbnM9bnVsbCx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlTm9ybWFscz1udWxsKSx0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ZSx0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKSl9Z2V0IG9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZT1uZXcgdyksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZX1nZXQgb25CZWZvcmVCaW5kT2JzZXJ2YWJsZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZXx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlPW5ldyB3KSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25CZWZvcmVCaW5kT2JzZXJ2YWJsZX1nZXQgb25BZnRlclJlbmRlck9ic2VydmFibGUoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlPW5ldyB3KSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25BZnRlclJlbmRlck9ic2VydmFibGV9Z2V0IG9uQmV0d2VlblBhc3NPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZXx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZT1uZXcgdyksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlfWdldCBvbkJlZm9yZURyYXdPYnNlcnZhYmxlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlfHwodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGU9bmV3IHcpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlfXNldCBvbkJlZm9yZURyYXcoZSl7dGhpcy5fb25CZWZvcmVEcmF3T2JzZXJ2ZXImJnRoaXMub25CZWZvcmVEcmF3T2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25CZWZvcmVEcmF3T2JzZXJ2ZXIpLHRoaXMuX29uQmVmb3JlRHJhd09ic2VydmVyPXRoaXMub25CZWZvcmVEcmF3T2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IGhhc0luc3RhbmNlcygpe3JldHVybiB0aGlzLmluc3RhbmNlcy5sZW5ndGg+MH1nZXQgaGFzVGhpbkluc3RhbmNlcygpe3ZhciBlO3JldHVybigoZT10aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNDb3VudCkhPT1udWxsJiZlIT09dm9pZCAwP2U6MCk+MH1nZXQgZm9yY2VkSW5zdGFuY2VDb3VudCgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZm9yY2VkSW5zdGFuY2VDb3VudH1zZXQgZm9yY2VkSW5zdGFuY2VDb3VudChlKXt0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZm9yY2VkSW5zdGFuY2VDb3VudD1lfWdldCBvdmVycmlkZVJlbmRlcmluZ0ZpbGxNb2RlKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vdmVycmlkZVJlbmRlcmluZ0ZpbGxNb2RlfXNldCBvdmVycmlkZVJlbmRlcmluZ0ZpbGxNb2RlKGUpe3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vdmVycmlkZVJlbmRlcmluZ0ZpbGxNb2RlPWV9Z2V0IHNvdXJjZSgpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlfWdldCBjbG9uZU1lc2hNYXAoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcH1nZXQgaXNVbkluZGV4ZWQoKXtyZXR1cm4gdGhpcy5fdW5JbmRleGVkfXNldCBpc1VuSW5kZXhlZChlKXt0aGlzLl91bkluZGV4ZWQhPT1lJiYodGhpcy5fdW5JbmRleGVkPWUsdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCkpfWdldCB3b3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlcigpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0RhdGF9Z2V0IHByZXZpb3VzV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNQcmV2aW91c0RhdGF9Z2V0IG1hbnVhbFVwZGF0ZU9mV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5tYW51YWxVcGRhdGV9c2V0IG1hbnVhbFVwZGF0ZU9mV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXIoZSl7dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5tYW51YWxVcGRhdGU9ZX1nZXQgbWFudWFsVXBkYXRlT2ZQcmV2aW91c1dvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyKCl7cmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYW51YWxVcGRhdGV9c2V0IG1hbnVhbFVwZGF0ZU9mUHJldmlvdXNXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlcihlKXt0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWFudWFsVXBkYXRlPWV9Z2V0IGZvcmNlV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXJVcGRhdGUoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5mb3JjZU1hdHJpeFVwZGF0ZXN9c2V0IGZvcmNlV29ybGRNYXRyaXhJbnN0YW5jZWRCdWZmZXJVcGRhdGUoZSl7dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5mb3JjZU1hdHJpeFVwZGF0ZXM9ZX1jb25zdHJ1Y3RvcihlLHQ9bnVsbCxpPW51bGwscz1udWxsLHIsbj0hMCl7aWYoc3VwZXIoZSx0KSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbz1uZXcgcW4sdGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuaW5zdGFuY2VzPW5ldyBBcnJheSx0aGlzLl9jcmVhdGlvbkRhdGFTdG9yYWdlPW51bGwsdGhpcy5fZ2VvbWV0cnk9bnVsbCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlPW5ldyBZbix0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZT1uZXcgWm4sdGhpcy5fc2hvdWxkR2VuZXJhdGVGbGF0U2hhZGluZz0hMSx0aGlzLl9vcmlnaW5hbEJ1aWxkZXJTaWRlT3JpZW50YXRpb249ei5ERUZBVUxUU0lERSx0aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249bnVsbCx0aGlzLmlnbm9yZUNhbWVyYU1heFo9ITEsdD10aGlzLmdldFNjZW5lKCksdGhpcy5fb25CZWZvcmVEcmF3PShhLG8saCk9PnthJiZoJiYodGhpcy5fdW5pZm9ybUJ1ZmZlcj90aGlzLnRyYW5zZmVyVG9FZmZlY3Qobyk6aC5iaW5kT25seVdvcmxkTWF0cml4KG8pKX0scyl7aWYocy5fZ2VvbWV0cnkmJnMuX2dlb21ldHJ5LmFwcGx5VG9NZXNoKHRoaXMpLE1zLkRlZXBDb3B5KHMsdGhpcyxbIm5hbWUiLCJtYXRlcmlhbCIsInNrZWxldG9uIiwiaW5zdGFuY2VzIiwicGFyZW50IiwidW5pcXVlSWQiLCJzb3VyY2UiLCJtZXRhZGF0YSIsIm1vcnBoVGFyZ2V0TWFuYWdlciIsImhhc0luc3RhbmNlcyIsIndvcmxkTWF0cml4SW5zdGFuY2VkQnVmZmVyIiwicHJldmlvdXNXb3JsZE1hdHJpeEluc3RhbmNlZEJ1ZmZlciIsImhhc0xPRExldmVscyIsImdlb21ldHJ5IiwiaXNCbG9ja2VkIiwiYXJlTm9ybWFsc0Zyb3plbiIsImZhY2V0TmIiLCJpc0ZhY2V0RGF0YUVuYWJsZWQiLCJsaWdodFNvdXJjZXMiLCJ1c2VCb25lcyIsImlzQW5JbnN0YW5jZSIsImNvbGxpZGVyIiwiZWRnZXNSZW5kZXJlciIsImZvcndhcmQiLCJ1cCIsInJpZ2h0IiwiYWJzb2x1dGVQb3NpdGlvbiIsImFic29sdXRlU2NhbGluZyIsImFic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uIiwiaXNXb3JsZE1hdHJpeEZyb3plbiIsIm5vblVuaWZvcm1TY2FsaW5nIiwiYmVoYXZpb3JzIiwid29ybGRNYXRyaXhGcm9tQ2FjaGUiLCJoYXNUaGluSW5zdGFuY2VzIiwiY2xvbmVNZXNoTWFwIiwiaGFzQm91bmRpbmdJbmZvIl0sWyJfcG9zZU1hdHJpeCJdKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlPXMsdC51c2VDbG9uZWRNZXNoTWFwJiYocy5faW50ZXJuYWxNZXNoRGF0YUluZm8ubWVzaE1hcHx8KHMuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXA9e30pLHMuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXBbdGhpcy51bmlxdWVJZF09dGhpcyksdGhpcy5fb3JpZ2luYWxCdWlsZGVyU2lkZU9yaWVudGF0aW9uPXMuX29yaWdpbmFsQnVpbGRlclNpZGVPcmllbnRhdGlvbix0aGlzLl9jcmVhdGlvbkRhdGFTdG9yYWdlPXMuX2NyZWF0aW9uRGF0YVN0b3JhZ2Uscy5fcmFuZ2VzKXtjb25zdCBhPXMuX3Jhbmdlcztmb3IoY29uc3QgbyBpbiBhKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLG8pJiZhW29dJiZ0aGlzLmNyZWF0ZUFuaW1hdGlvblJhbmdlKG8sYVtvXS5mcm9tLGFbb10udG8pfWlmKHMubWV0YWRhdGEmJnMubWV0YWRhdGEuY2xvbmU/dGhpcy5tZXRhZGF0YT1zLm1ldGFkYXRhLmNsb25lKCk6dGhpcy5tZXRhZGF0YT1zLm1ldGFkYXRhLHRoaXMuX2ludGVybmFsTWV0YWRhdGE9cy5faW50ZXJuYWxNZXRhZGF0YSxmZSYmZmUuSGFzVGFncyhzKSYmZmUuQWRkVGFnc1RvKHRoaXMsZmUuR2V0VGFncyhzLCEwKSksdGhpcy5zZXRFbmFibGVkKHMuaXNFbmFibGVkKCExKSksdGhpcy5wYXJlbnQ9cy5wYXJlbnQsdGhpcy5zZXRQaXZvdE1hdHJpeChzLmdldFBpdm90TWF0cml4KCkpLHRoaXMuaWQ9ZSsiLiIrcy5pZCx0aGlzLm1hdGVyaWFsPXMubWF0ZXJpYWwsIXIpe2NvbnN0IGE9cy5nZXREZXNjZW5kYW50cyghMCk7Zm9yKGxldCBvPTA7bzxhLmxlbmd0aDtvKyspe2NvbnN0IGg9YVtvXTtoLmNsb25lJiZoLmNsb25lKGUrIi4iK2gubmFtZSx0aGlzKX19aWYocy5tb3JwaFRhcmdldE1hbmFnZXImJih0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlcj1zLm1vcnBoVGFyZ2V0TWFuYWdlciksdC5nZXRQaHlzaWNzRW5naW5lKXtjb25zdCBhPXQuZ2V0UGh5c2ljc0VuZ2luZSgpO2lmKG4mJmEpaWYoYS5nZXRQbHVnaW5WZXJzaW9uKCk9PT0xKXtjb25zdCBvPWEuZ2V0SW1wb3N0b3JGb3JQaHlzaWNzT2JqZWN0KHMpO28mJih0aGlzLnBoeXNpY3NJbXBvc3Rvcj1vLmNsb25lKHRoaXMpKX1lbHNlIGEuZ2V0UGx1Z2luVmVyc2lvbigpPT09MiYmcy5waHlzaWNzQm9keSYmcy5waHlzaWNzQm9keS5jbG9uZSh0aGlzKX1mb3IobGV0IGE9MDthPHQucGFydGljbGVTeXN0ZW1zLmxlbmd0aDthKyspe2NvbnN0IG89dC5wYXJ0aWNsZVN5c3RlbXNbYV07by5lbWl0dGVyPT09cyYmby5jbG9uZShvLm5hbWUsdGhpcyl9dGhpcy5za2VsZXRvbj1zLnNrZWxldG9uLHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbyghMCwhMCksdGhpcy5jb21wdXRlV29ybGRNYXRyaXgoITApfWkhPT1udWxsJiYodGhpcy5wYXJlbnQ9aSksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZz10aGlzLmdldEVuZ2luZSgpLmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uTWVzaFJlYWR5T2JzZXJ2ZXJBZGRlZD1hPT57YS51bnJlZ2lzdGVyT25OZXh0Q2FsbD0hMCx0aGlzLmlzUmVhZHkoITApP3RoaXMub25NZXNoUmVhZHlPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTp0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlcnx8KHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9jaGVja1JlYWRpbmVzc09ic2VydmVyPXRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQoKCk9Pnt0aGlzLmlzUmVhZHkoITApJiYodGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlciksdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2NoZWNrUmVhZGluZXNzT2JzZXJ2ZXI9bnVsbCx0aGlzLm9uTWVzaFJlYWR5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcykpfSkpfSx0aGlzLm9uTWVzaFJlYWR5T2JzZXJ2YWJsZT1uZXcgdyh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fb25NZXNoUmVhZHlPYnNlcnZlckFkZGVkKSxzJiZzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9aW5zdGFudGlhdGVIaWVyYXJjaHkoZT1udWxsLHQsaSl7Y29uc3Qgcz10aGlzLmdldFRvdGFsVmVydGljZXMoKT09PTB8fHQmJnQuZG9Ob3RJbnN0YW50aWF0ZSYmKHQuZG9Ob3RJbnN0YW50aWF0ZT09PSEwfHx0LmRvTm90SW5zdGFudGlhdGUodGhpcykpP3RoaXMuY2xvbmUoIkNsb25lIG9mICIrKHRoaXMubmFtZXx8dGhpcy5pZCksZXx8dGhpcy5wYXJlbnQsITApOnRoaXMuY3JlYXRlSW5zdGFuY2UoImluc3RhbmNlIG9mICIrKHRoaXMubmFtZXx8dGhpcy5pZCkpO3MucGFyZW50PWV8fHRoaXMucGFyZW50LHMucG9zaXRpb249dGhpcy5wb3NpdGlvbi5jbG9uZSgpLHMuc2NhbGluZz10aGlzLnNjYWxpbmcuY2xvbmUoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9zLnJvdGF0aW9uUXVhdGVybmlvbj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5jbG9uZSgpOnMucm90YXRpb249dGhpcy5yb3RhdGlvbi5jbG9uZSgpLGkmJmkodGhpcyxzKTtmb3IoY29uc3QgciBvZiB0aGlzLmdldENoaWxkVHJhbnNmb3JtTm9kZXMoITApKXIuZ2V0Q2xhc3NOYW1lKCk9PT0iSW5zdGFuY2VkTWVzaCImJnMuZ2V0Q2xhc3NOYW1lKCk9PT0iTWVzaCImJnIuc291cmNlTWVzaD09PXRoaXM/ci5pbnN0YW50aWF0ZUhpZXJhcmNoeShzLHtkb05vdEluc3RhbnRpYXRlOnQmJnQuZG9Ob3RJbnN0YW50aWF0ZXx8ITEsbmV3U291cmNlZE1lc2g6c30saSk6ci5pbnN0YW50aWF0ZUhpZXJhcmNoeShzLHQsaSk7cmV0dXJuIHN9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIk1lc2gifWdldCBfaXNNZXNoKCl7cmV0dXJuITB9dG9TdHJpbmcoZSl7bGV0IHQ9c3VwZXIudG9TdHJpbmcoZSk7aWYodCs9IiwgbiB2ZXJ0aWNlczogIit0aGlzLmdldFRvdGFsVmVydGljZXMoKSx0Kz0iLCBwYXJlbnQ6ICIrKHRoaXMuX3dhaXRpbmdQYXJlbnRJZD90aGlzLl93YWl0aW5nUGFyZW50SWQ6dGhpcy5wYXJlbnQ/dGhpcy5wYXJlbnQubmFtZToiTk9ORSIpLHRoaXMuYW5pbWF0aW9ucylmb3IobGV0IGk9MDtpPHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7aSsrKXQrPSIsIGFuaW1hdGlvblswXTogIit0aGlzLmFuaW1hdGlvbnNbaV0udG9TdHJpbmcoZSk7aWYoZSlpZih0aGlzLl9nZW9tZXRyeSl7Y29uc3QgaT10aGlzLmdldEluZGljZXMoKSxzPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKTtzJiZpJiYodCs9IiwgZmxhdCBzaGFkaW5nOiAiKyhzLmxlbmd0aC8zPT09aS5sZW5ndGg/IllFUyI6Ik5PIikpfWVsc2UgdCs9IiwgZmxhdCBzaGFkaW5nOiBVTktOT1dOIjtyZXR1cm4gdH1fdW5CaW5kRWZmZWN0KCl7c3VwZXIuX3VuQmluZEVmZmVjdCgpO2Zvcihjb25zdCBlIG9mIHRoaXMuaW5zdGFuY2VzKWUuX3VuQmluZEVmZmVjdCgpfWdldCBoYXNMT0RMZXZlbHMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX0xPRExldmVscy5sZW5ndGg+MH1nZXRMT0RMZXZlbHMoKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX0xPRExldmVsc31fc29ydExPRExldmVscygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3VzZUxPRFNjcmVlbkNvdmVyYWdlPy0xOjE7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX0xPRExldmVscy5zb3J0KCh0LGkpPT50LmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZTxpLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT9lOnQuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPmkuZGlzdGFuY2VPclNjcmVlbkNvdmVyYWdlPy1lOjApfWFkZExPRExldmVsKGUsdCl7aWYodCYmdC5fbWFzdGVyTWVzaClyZXR1cm4gTy5XYXJuKCJZb3UgY2Fubm90IHVzZSBhIG1lc2ggYXMgTE9EIGxldmVsIHR3aWNlIiksdGhpcztjb25zdCBpPW5ldyBLbihlLHQpO3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fTE9ETGV2ZWxzLnB1c2goaSksdCYmKHQuX21hc3Rlck1lc2g9dGhpcyksdGhpcy5fc29ydExPRExldmVscygpLHRoaXN9Z2V0TE9ETGV2ZWxBdERpc3RhbmNlKGUpe2NvbnN0IHQ9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87Zm9yKGxldCBpPTA7aTx0Ll9MT0RMZXZlbHMubGVuZ3RoO2krKyl7Y29uc3Qgcz10Ll9MT0RMZXZlbHNbaV07aWYocy5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U9PT1lKXJldHVybiBzLm1lc2h9cmV0dXJuIG51bGx9cmVtb3ZlTE9ETGV2ZWwoZSl7Y29uc3QgdD10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbztmb3IobGV0IGk9MDtpPHQuX0xPRExldmVscy5sZW5ndGg7aSsrKXQuX0xPRExldmVsc1tpXS5tZXNoPT09ZSYmKHQuX0xPRExldmVscy5zcGxpY2UoaSwxKSxlJiYoZS5fbWFzdGVyTWVzaD1udWxsKSk7cmV0dXJuIHRoaXMuX3NvcnRMT0RMZXZlbHMoKSx0aGlzfWdldExPRChlLHQpe2NvbnN0IGk9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYoIWkuX0xPRExldmVsc3x8aS5fTE9ETGV2ZWxzLmxlbmd0aD09PTApcmV0dXJuIHRoaXM7Y29uc3Qgcz10fHx0aGlzLmdldEJvdW5kaW5nSW5mbygpLmJvdW5kaW5nU3BoZXJlLHI9ZS5tb2RlPT09JC5PUlRIT0dSQVBISUNfQ0FNRVJBP2UubWluWjpzLmNlbnRlcldvcmxkLnN1YnRyYWN0KGUuZ2xvYmFsUG9zaXRpb24pLmxlbmd0aCgpO2xldCBuPXIsYT0xO2lmKGkuX3VzZUxPRFNjcmVlbkNvdmVyYWdlKXtjb25zdCBvPWUuc2NyZWVuQXJlYTtsZXQgaD1zLnJhZGl1c1dvcmxkKmUubWluWi9yO2g9aCpoKk1hdGguUEksbj1oL28sYT0tMX1pZihhKmkuX0xPRExldmVsc1tpLl9MT0RMZXZlbHMubGVuZ3RoLTFdLmRpc3RhbmNlT3JTY3JlZW5Db3ZlcmFnZT5hKm4pcmV0dXJuIHRoaXMub25MT0RMZXZlbFNlbGVjdGlvbiYmdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uKG4sdGhpcyx0aGlzKSx0aGlzO2ZvcihsZXQgbz0wO288aS5fTE9ETGV2ZWxzLmxlbmd0aDtvKyspe2NvbnN0IGg9aS5fTE9ETGV2ZWxzW29dO2lmKGEqaC5kaXN0YW5jZU9yU2NyZWVuQ292ZXJhZ2U8YSpuKXtpZihoLm1lc2gpe2lmKGgubWVzaC5kZWxheUxvYWRTdGF0ZT09PTQpcmV0dXJuIGgubWVzaC5fY2hlY2tEZWxheVN0YXRlKCksdGhpcztpZihoLm1lc2guZGVsYXlMb2FkU3RhdGU9PT0yKXJldHVybiB0aGlzO2gubWVzaC5fcHJlQWN0aXZhdGUoKSxoLm1lc2guX3VwZGF0ZVN1Yk1lc2hlc0JvdW5kaW5nSW5mbyh0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKX1yZXR1cm4gdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uJiZ0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24obix0aGlzLGgubWVzaCksaC5tZXNofX1yZXR1cm4gdGhpcy5vbkxPRExldmVsU2VsZWN0aW9uJiZ0aGlzLm9uTE9ETGV2ZWxTZWxlY3Rpb24obix0aGlzLHRoaXMpLHRoaXN9Z2V0IGdlb21ldHJ5KCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5fWdldFRvdGFsVmVydGljZXMoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk9PT1udWxsfHx0aGlzLl9nZW9tZXRyeT09PXZvaWQgMD8wOnRoaXMuX2dlb21ldHJ5LmdldFRvdGFsVmVydGljZXMoKX1nZXRWZXJ0aWNlc0RhdGEoZSx0LGkscyl7dmFyIHIsbjtpZighdGhpcy5fZ2VvbWV0cnkpcmV0dXJuIG51bGw7bGV0IGE9c3x8KG49KHI9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIudmVydGV4QnVmZmVyc1tlXSk9PT1udWxsfHxuPT09dm9pZCAwP3ZvaWQgMDpuLmdldEZsb2F0RGF0YSh0aGlzLmluc3RhbmNlcy5sZW5ndGgrMSxpfHx0JiZ0aGlzLl9nZW9tZXRyeS5tZXNoZXMubGVuZ3RoIT09MSk7cmV0dXJuIGF8fChhPXRoaXMuX2dlb21ldHJ5LmdldFZlcnRpY2VzRGF0YShlLHQsaSkpLGF9Z2V0VmVydGV4QnVmZmVyKGUsdCl7dmFyIGkscztyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KHM9dHx8KGk9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkudmVydGV4QnVmZmVyc1tlXSkhPT1udWxsJiZzIT09dm9pZCAwP3M6dGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGV4QnVmZmVyKGUpOm51bGx9aXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUsdCl7dmFyIGk7cmV0dXJuIHRoaXMuX2dlb21ldHJ5PyF0JiYoKGk9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkudmVydGV4QnVmZmVyc1tlXSkhPT12b2lkIDB8fHRoaXMuX2dlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChlKTp0aGlzLl9kZWxheUluZm8/dGhpcy5fZGVsYXlJbmZvLmluZGV4T2YoZSkhPT0tMTohMX1pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShlLHQpe3ZhciBpO2lmKCF0aGlzLl9nZW9tZXRyeSlyZXR1cm4gdGhpcy5fZGVsYXlJbmZvP3RoaXMuX2RlbGF5SW5mby5pbmRleE9mKGUpIT09LTE6ITE7aWYoIXQpe2NvbnN0IHM9KGk9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkudmVydGV4QnVmZmVyc1tlXTtpZihzKXJldHVybiBzLmlzVXBkYXRhYmxlKCl9cmV0dXJuIHRoaXMuX2dlb21ldHJ5LmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGUpfWdldFZlcnRpY2VzRGF0YUtpbmRzKGUpe2lmKCF0aGlzLl9nZW9tZXRyeSl7Y29uc3QgaT1uZXcgQXJyYXk7cmV0dXJuIHRoaXMuX2RlbGF5SW5mbyYmdGhpcy5fZGVsYXlJbmZvLmZvckVhY2goZnVuY3Rpb24ocyl7aS5wdXNoKHMpfSksaX1jb25zdCB0PXRoaXMuX2dlb21ldHJ5LmdldFZlcnRpY2VzRGF0YUtpbmRzKCk7aWYoIWUmJnRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSlmb3IoY29uc3QgaSBpbiB0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycyl0LmluZGV4T2YoaSk9PT0tMSYmdC5wdXNoKGkpO3JldHVybiB0fWdldFRvdGFsSW5kaWNlcygpe3JldHVybiB0aGlzLl9nZW9tZXRyeT90aGlzLl9nZW9tZXRyeS5nZXRUb3RhbEluZGljZXMoKTowfWdldEluZGljZXMoZSx0KXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkuZ2V0SW5kaWNlcyhlLHQpOltdfWdldCBpc0Jsb2NrZWQoKXtyZXR1cm4gdGhpcy5fbWFzdGVyTWVzaCE9PW51bGwmJnRoaXMuX21hc3Rlck1lc2ghPT12b2lkIDB9aXNSZWFkeShlPSExLHQ9ITEpe3ZhciBpLHMscixuLGEsbztpZih0aGlzLmRlbGF5TG9hZFN0YXRlPT09Mnx8IXN1cGVyLmlzUmVhZHkoZSkpcmV0dXJuITE7aWYoIXRoaXMuc3ViTWVzaGVzfHx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg9PT0wfHwhZSlyZXR1cm4hMDtjb25zdCBoPXRoaXMuZ2V0RW5naW5lKCksbD10aGlzLmdldFNjZW5lKCksdT10fHxoLmdldENhcHMoKS5pbnN0YW5jZWRBcnJheXMmJih0aGlzLmluc3RhbmNlcy5sZW5ndGg+MHx8dGhpcy5oYXNUaGluSW5zdGFuY2VzKTt0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCgpO2NvbnN0IGQ9dGhpcy5tYXRlcmlhbHx8bC5kZWZhdWx0TWF0ZXJpYWw7aWYoZCl7aWYoZC5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcylmb3IoY29uc3QgZiBvZiB0aGlzLnN1Yk1lc2hlcyl7Y29uc3QgbT1mLmdldE1hdGVyaWFsKCk7aWYobSl7aWYobS5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyl7aWYoIW0uaXNSZWFkeUZvclN1Yk1lc2godGhpcyxmLHUpKXJldHVybiExfWVsc2UgaWYoIW0uaXNSZWFkeSh0aGlzLHUpKXJldHVybiExfX1lbHNlIGlmKCFkLmlzUmVhZHkodGhpcyx1KSlyZXR1cm4hMX1jb25zdCBfPWguY3VycmVudFJlbmRlclBhc3NJZDtmb3IoY29uc3QgZiBvZiB0aGlzLmxpZ2h0U291cmNlcyl7Y29uc3QgbT1mLmdldFNoYWRvd0dlbmVyYXRvcnMoKTtpZighbSljb250aW51ZTtjb25zdCB2PW0udmFsdWVzKCk7Zm9yKGxldCBFPXYubmV4dCgpO0UuZG9uZSE9PSEwO0U9di5uZXh0KCkpe2NvbnN0IFM9RS52YWx1ZTtpZihTJiYoISghKChpPVMuZ2V0U2hhZG93TWFwKCkpPT09bnVsbHx8aT09PXZvaWQgMCkmJmkucmVuZGVyTGlzdCl8fCEoKHM9Uy5nZXRTaGFkb3dNYXAoKSk9PT1udWxsfHxzPT09dm9pZCAwKSYmcy5yZW5kZXJMaXN0JiYoKG49KHI9Uy5nZXRTaGFkb3dNYXAoKSk9PT1udWxsfHxyPT09dm9pZCAwP3ZvaWQgMDpyLnJlbmRlckxpc3QpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi5pbmRleE9mKHRoaXMpKSE9PS0xKSl7Uy5nZXRTaGFkb3dNYXAoKSYmKGguY3VycmVudFJlbmRlclBhc3NJZD1TLmdldFNoYWRvd01hcCgpLnJlbmRlclBhc3NJZCk7Zm9yKGNvbnN0IFIgb2YgdGhpcy5zdWJNZXNoZXMpaWYoIVMuaXNSZWFkeShSLHUsKG89KGE9Ui5nZXRNYXRlcmlhbCgpKT09PW51bGx8fGE9PT12b2lkIDA/dm9pZCAwOmEubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKHRoaXMpKSE9PW51bGwmJm8hPT12b2lkIDA/bzohMSkpcmV0dXJuIGguY3VycmVudFJlbmRlclBhc3NJZD1fLCExO2guY3VycmVudFJlbmRlclBhc3NJZD1ffX19Zm9yKGNvbnN0IGYgb2YgdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX0xPRExldmVscylpZihmLm1lc2gmJiFmLm1lc2guaXNSZWFkeSh1KSlyZXR1cm4hMTtyZXR1cm4hMH1nZXQgYXJlTm9ybWFsc0Zyb3plbigpe3JldHVybiB0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fYXJlTm9ybWFsc0Zyb3plbn1mcmVlemVOb3JtYWxzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9hcmVOb3JtYWxzRnJvemVuPSEwLHRoaXN9dW5mcmVlemVOb3JtYWxzKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9hcmVOb3JtYWxzRnJvemVuPSExLHRoaXN9c2V0IG92ZXJyaWRlbkluc3RhbmNlQ291bnQoZSl7dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5vdmVycmlkZW5JbnN0YW5jZUNvdW50PWV9X3ByZUFjdGl2YXRlKCl7Y29uc3QgZT10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mbyx0PXRoaXMuZ2V0U2NlbmUoKS5nZXRSZW5kZXJJZCgpO3JldHVybiBlLl9wcmVBY3RpdmF0ZUlkPT09dD90aGlzOihlLl9wcmVBY3RpdmF0ZUlkPXQsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzPW51bGwsdGhpcyl9X3ByZUFjdGl2YXRlRm9ySW50ZXJtZWRpYXRlUmVuZGVyaW5nKGUpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXMmJih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXMuaW50ZXJtZWRpYXRlRGVmYXVsdFJlbmRlcklkPWUpLHRoaXN9X3JlZ2lzdGVySW5zdGFuY2VGb3JSZW5kZXJJZChlLHQpe3JldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXN8fCh0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXM9e2RlZmF1bHRSZW5kZXJJZDp0LHNlbGZEZWZhdWx0UmVuZGVySWQ6dGhpcy5fcmVuZGVySWR9KSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXNbdF18fCh0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzUmVuZGVySWQhPT12b2lkIDAmJnRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW4mJih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXNbdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c1JlbmRlcklkXT1udWxsKSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzUmVuZGVySWQ9dCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXNbdF09bmV3IEFycmF5KSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXNbdF0ucHVzaChlKSx0aGlzfV9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpe3N1cGVyLl9hZnRlckNvbXB1dGVXb3JsZE1hdHJpeCgpLHRoaXMuaGFzVGhpbkluc3RhbmNlcyYmKHRoaXMuZG9Ob3RTeW5jQm91bmRpbmdJbmZvfHx0aGlzLnRoaW5JbnN0YW5jZVJlZnJlc2hCb3VuZGluZ0luZm8oITEpKX1fcG9zdEFjdGl2YXRlKCl7dGhpcy5lZGdlc1NoYXJlV2l0aEluc3RhbmNlcyYmdGhpcy5lZGdlc1JlbmRlcmVyJiZ0aGlzLmVkZ2VzUmVuZGVyZXIuaXNFbmFibGVkJiZ0aGlzLl9yZW5kZXJpbmdHcm91cCYmKHRoaXMuX3JlbmRlcmluZ0dyb3VwLl9lZGdlc1JlbmRlcmVycy5wdXNoTm9EdXBsaWNhdGUodGhpcy5lZGdlc1JlbmRlcmVyKSx0aGlzLmVkZ2VzUmVuZGVyZXIuY3VzdG9tSW5zdGFuY2VzLnB1c2godGhpcy5nZXRXb3JsZE1hdHJpeCgpKSl9cmVmcmVzaEJvdW5kaW5nSW5mbyhlPSExLHQ9ITEpe2lmKHRoaXMuaGFzQm91bmRpbmdJbmZvJiZ0aGlzLmdldEJvdW5kaW5nSW5mbygpLmlzTG9ja2VkKXJldHVybiB0aGlzO2NvbnN0IGk9dGhpcy5nZW9tZXRyeT90aGlzLmdlb21ldHJ5LmJvdW5kaW5nQmlhczpudWxsO3JldHVybiB0aGlzLl9yZWZyZXNoQm91bmRpbmdJbmZvKHRoaXMuX2dldFBvc2l0aW9uRGF0YShlLHQpLGkpLHRoaXN9X2NyZWF0ZUdsb2JhbFN1Yk1lc2goZSl7Y29uc3QgdD10aGlzLmdldFRvdGFsVmVydGljZXMoKTtpZighdHx8IXRoaXMuZ2V0SW5kaWNlcygpKXJldHVybiBudWxsO2lmKHRoaXMuc3ViTWVzaGVzJiZ0aGlzLnN1Yk1lc2hlcy5sZW5ndGg+MCl7Y29uc3QgaT10aGlzLmdldEluZGljZXMoKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBzPWkubGVuZ3RoO2xldCByPSExO2lmKGUpcj0hMDtlbHNlIGZvcihjb25zdCBuIG9mIHRoaXMuc3ViTWVzaGVzKXtpZihuLmluZGV4U3RhcnQrbi5pbmRleENvdW50PnMpe3I9ITA7YnJlYWt9aWYobi52ZXJ0aWNlc1N0YXJ0K24udmVydGljZXNDb3VudD50KXtyPSEwO2JyZWFrfX1pZighcilyZXR1cm4gdGhpcy5zdWJNZXNoZXNbMF19cmV0dXJuIHRoaXMucmVsZWFzZVN1Yk1lc2hlcygpLG5ldyBUdCgwLDAsdCwwLHRoaXMuZ2V0VG90YWxJbmRpY2VzKCksdGhpcyl9c3ViZGl2aWRlKGUpe2lmKGU8MSlyZXR1cm47Y29uc3QgdD10aGlzLmdldFRvdGFsSW5kaWNlcygpO2xldCBpPXQvZXwwLHM9MDtmb3IoO2klMyE9PTA7KWkrKzt0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKTtmb3IobGV0IHI9MDtyPGUmJiEocz49dCk7cisrKVR0LkNyZWF0ZUZyb21JbmRpY2VzKDAscyxyPT09ZS0xP3QtczppLHRoaXMpLHMrPWk7dGhpcy5zeW5jaHJvbml6ZUluc3RhbmNlcygpfXNldFZlcnRpY2VzRGF0YShlLHQsaT0hMSxzKXtpZih0aGlzLl9nZW9tZXRyeSl0aGlzLl9nZW9tZXRyeS5zZXRWZXJ0aWNlc0RhdGEoZSx0LGkscyk7ZWxzZXtjb25zdCByPW5ldyB0ZTtyLnNldCh0LGUpO2NvbnN0IG49dGhpcy5nZXRTY2VuZSgpO25ldyBvdChvdC5SYW5kb21JZCgpLG4scixpLHRoaXMpfXJldHVybiB0aGlzfXJlbW92ZVZlcnRpY2VzRGF0YShlKXt0aGlzLl9nZW9tZXRyeSYmdGhpcy5fZ2VvbWV0cnkucmVtb3ZlVmVydGljZXNEYXRhKGUpfW1hcmtWZXJ0aWNlc0RhdGFBc1VwZGF0YWJsZShlLHQ9ITApe2NvbnN0IGk9dGhpcy5nZXRWZXJ0ZXhCdWZmZXIoZSk7IWl8fGkuaXNVcGRhdGFibGUoKT09PXR8fHRoaXMuc2V0VmVydGljZXNEYXRhKGUsdGhpcy5nZXRWZXJ0aWNlc0RhdGEoZSksdCl9c2V0VmVydGljZXNCdWZmZXIoZSx0PSEwKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnl8fCh0aGlzLl9nZW9tZXRyeT1vdC5DcmVhdGVHZW9tZXRyeUZvck1lc2godGhpcykpLHRoaXMuX2dlb21ldHJ5LnNldFZlcnRpY2VzQnVmZmVyKGUsbnVsbCx0KSx0aGlzfXVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaSxzKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KHM/KHRoaXMubWFrZUdlb21ldHJ5VW5pcXVlKCksdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoZSx0LGksITEpKTp0aGlzLl9nZW9tZXRyeS51cGRhdGVWZXJ0aWNlc0RhdGEoZSx0LGkpLHRoaXMpOnRoaXN9dXBkYXRlTWVzaFBvc2l0aW9ucyhlLHQ9ITApe2NvbnN0IGk9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2lmKCFpKXJldHVybiB0aGlzO2lmKGUoaSksdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsaSwhMSwhMSksdCl7Y29uc3Qgcz10aGlzLmdldEluZGljZXMoKSxyPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCk7aWYoIXIpcmV0dXJuIHRoaXM7dGUuQ29tcHV0ZU5vcm1hbHMoaSxzLHIpLHRoaXMudXBkYXRlVmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCxyLCExLCExKX1yZXR1cm4gdGhpc31tYWtlR2VvbWV0cnlVbmlxdWUoKXtpZighdGhpcy5fZ2VvbWV0cnkpcmV0dXJuIHRoaXM7aWYodGhpcy5fZ2VvbWV0cnkubWVzaGVzLmxlbmd0aD09PTEpcmV0dXJuIHRoaXM7Y29uc3QgZT10aGlzLl9nZW9tZXRyeSx0PXRoaXMuX2dlb21ldHJ5LmNvcHkob3QuUmFuZG9tSWQoKSk7cmV0dXJuIGUucmVsZWFzZUZvck1lc2godGhpcywhMCksdC5hcHBseVRvTWVzaCh0aGlzKSx0aGlzfXNldEluZGljZXMoZSx0PW51bGwsaT0hMSl7aWYodGhpcy5fZ2VvbWV0cnkpdGhpcy5fZ2VvbWV0cnkuc2V0SW5kaWNlcyhlLHQsaSk7ZWxzZXtjb25zdCBzPW5ldyB0ZTtzLmluZGljZXM9ZTtjb25zdCByPXRoaXMuZ2V0U2NlbmUoKTtuZXcgb3Qob3QuUmFuZG9tSWQoKSxyLHMsaSx0aGlzKX1yZXR1cm4gdGhpc311cGRhdGVJbmRpY2VzKGUsdCxpPSExKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/KHRoaXMuX2dlb21ldHJ5LnVwZGF0ZUluZGljZXMoZSx0LGkpLHRoaXMpOnRoaXN9dG9MZWZ0SGFuZGVkKCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5Pyh0aGlzLl9nZW9tZXRyeS50b0xlZnRIYW5kZWQoKSx0aGlzKTp0aGlzfV9iaW5kKGUsdCxpLHM9ITApe2lmKCF0aGlzLl9nZW9tZXRyeSlyZXR1cm4gdGhpcztjb25zdCByPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTt0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlciYmdGhpcy5tb3JwaFRhcmdldE1hbmFnZXIuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZ0aGlzLm1vcnBoVGFyZ2V0TWFuYWdlci5fYmluZCh0KTtsZXQgbjtpZih0aGlzLl91bkluZGV4ZWQpbj1udWxsO2Vsc2Ugc3dpdGNoKHRoaXMuX2dldFJlbmRlcmluZ0ZpbGxNb2RlKGkpKXtjYXNlIEQuUG9pbnRGaWxsTW9kZTpuPW51bGw7YnJlYWs7Y2FzZSBELldpcmVGcmFtZUZpbGxNb2RlOm49ZS5fZ2V0TGluZXNJbmRleEJ1ZmZlcih0aGlzLmdldEluZGljZXMoKSxyKTticmVhaztkZWZhdWx0OmNhc2UgRC5UcmlhbmdsZUZpbGxNb2RlOm49dGhpcy5fZ2VvbWV0cnkuZ2V0SW5kZXhCdWZmZXIoKTticmVha31yZXR1cm4hc3x8IXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZXx8dGhpcy5oYXNUaGluSW5zdGFuY2VzP3RoaXMuX2dlb21ldHJ5Ll9iaW5kKHQsbik6dGhpcy5fZ2VvbWV0cnkuX2JpbmQodCxuLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHMpLHRoaXN9X2RyYXcoZSx0LGkpe2lmKCF0aGlzLl9nZW9tZXRyeXx8IXRoaXMuX2dlb21ldHJ5LmdldFZlcnRleEJ1ZmZlcnMoKXx8IXRoaXMuX3VuSW5kZXhlZCYmIXRoaXMuX2dlb21ldHJ5LmdldEluZGV4QnVmZmVyKCkpcmV0dXJuIHRoaXM7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlRHJhd09ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZURyYXdPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtjb25zdCByPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTtyZXR1cm4gdGhpcy5fdW5JbmRleGVkfHx0PT1ELlBvaW50RmlsbE1vZGU/ci5kcmF3QXJyYXlzVHlwZSh0LGUudmVydGljZXNTdGFydCxlLnZlcnRpY2VzQ291bnQsdGhpcy5mb3JjZWRJbnN0YW5jZUNvdW50fHxpKTp0PT1ELldpcmVGcmFtZUZpbGxNb2RlP3IuZHJhd0VsZW1lbnRzVHlwZSh0LDAsZS5fbGluZXNJbmRleENvdW50LHRoaXMuZm9yY2VkSW5zdGFuY2VDb3VudHx8aSk6ci5kcmF3RWxlbWVudHNUeXBlKHQsZS5pbmRleFN0YXJ0LGUuaW5kZXhDb3VudCx0aGlzLmZvcmNlZEluc3RhbmNlQ291bnR8fGkpLHRoaXN9cmVnaXN0ZXJCZWZvcmVSZW5kZXIoZSl7cmV0dXJuIHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmFkZChlKSx0aGlzfXVucmVnaXN0ZXJCZWZvcmVSZW5kZXIoZSl7cmV0dXJuIHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZUNhbGxiYWNrKGUpLHRoaXN9cmVnaXN0ZXJBZnRlclJlbmRlcihlKXtyZXR1cm4gdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSksdGhpc311bnJlZ2lzdGVyQWZ0ZXJSZW5kZXIoZSl7cmV0dXJuIHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUucmVtb3ZlQ2FsbGJhY2soZSksdGhpc31fZ2V0SW5zdGFuY2VzUmVuZGVyTGlzdChlLHQ9ITEpe2lmKHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW4pe2lmKHQpcmV0dXJuIHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuYmF0Y2hDYWNoZVJlcGxhY2VtZW50TW9kZUluRnJvemVuTW9kZS5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZ1tlXT0hMSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmJhdGNoQ2FjaGVSZXBsYWNlbWVudE1vZGVJbkZyb3plbk1vZGUucmVuZGVyU2VsZltlXT0hMCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmJhdGNoQ2FjaGVSZXBsYWNlbWVudE1vZGVJbkZyb3plbk1vZGU7aWYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c0JhdGNoKXJldHVybiB0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzQmF0Y2h9Y29uc3QgaT10aGlzLmdldFNjZW5lKCkscz1pLl9pc0luSW50ZXJtZWRpYXRlUmVuZGVyaW5nKCkscj1zP3RoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX29ubHlGb3JJbnN0YW5jZXNJbnRlcm1lZGlhdGU6dGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlcyxuPXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuYmF0Y2hDYWNoZTtpZihuLm11c3RSZXR1cm49ITEsbi5yZW5kZXJTZWxmW2VdPXR8fCFyJiZ0aGlzLmlzRW5hYmxlZCgpJiZ0aGlzLmlzVmlzaWJsZSxuLnZpc2libGVJbnN0YW5jZXNbZV09bnVsbCx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnZpc2libGVJbnN0YW5jZXMmJiF0KXtjb25zdCBhPXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UudmlzaWJsZUluc3RhbmNlcyxvPWkuZ2V0UmVuZGVySWQoKSxoPXM/YS5pbnRlcm1lZGlhdGVEZWZhdWx0UmVuZGVySWQ6YS5kZWZhdWx0UmVuZGVySWQ7bi52aXNpYmxlSW5zdGFuY2VzW2VdPWFbb10sIW4udmlzaWJsZUluc3RhbmNlc1tlXSYmaCYmKG4udmlzaWJsZUluc3RhbmNlc1tlXT1hW2hdKX1yZXR1cm4gbi5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZ1tlXT0hdCYmdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5oYXJkd2FyZUluc3RhbmNlZFJlbmRlcmluZyYmbi52aXNpYmxlSW5zdGFuY2VzW2VdIT09bnVsbCYmbi52aXNpYmxlSW5zdGFuY2VzW2VdIT09dm9pZCAwLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNCYXRjaD1uLG59X3JlbmRlcldpdGhJbnN0YW5jZXMoZSx0LGkscyxyKXt2YXIgbjtjb25zdCBhPWkudmlzaWJsZUluc3RhbmNlc1tlLl9pZF0sbz1hP2EubGVuZ3RoOjAsaD10aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLGw9aC5pbnN0YW5jZXNCdWZmZXJTaXplO2xldCB1PWguaW5zdGFuY2VzQnVmZmVyLGQ9aC5pbnN0YW5jZXNQcmV2aW91c0J1ZmZlcjtjb25zdCBmPShvKzEpKjE2KjQ7Zm9yKDtoLmluc3RhbmNlc0J1ZmZlclNpemU8ZjspaC5pbnN0YW5jZXNCdWZmZXJTaXplKj0yOyghaC5pbnN0YW5jZXNEYXRhfHxsIT1oLmluc3RhbmNlc0J1ZmZlclNpemUpJiYoaC5pbnN0YW5jZXNEYXRhPW5ldyBGbG9hdDMyQXJyYXkoaC5pbnN0YW5jZXNCdWZmZXJTaXplLzQpKSwodGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJiFoLmluc3RhbmNlc1ByZXZpb3VzRGF0YXx8bCE9aC5pbnN0YW5jZXNCdWZmZXJTaXplKSYmKGguaW5zdGFuY2VzUHJldmlvdXNEYXRhPW5ldyBGbG9hdDMyQXJyYXkoaC5pbnN0YW5jZXNCdWZmZXJTaXplLzQpKTtsZXQgbT0wLHY9MDtjb25zdCBFPWkucmVuZGVyU2VsZltlLl9pZF0sUz0hdXx8bCE9PWguaW5zdGFuY2VzQnVmZmVyU2l6ZXx8dGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJiFoLmluc3RhbmNlc1ByZXZpb3VzQnVmZmVyO2lmKCF0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZSYmKCFoLmlzRnJvemVufHxTKSl7Y29uc3QgUj10aGlzLmdldFdvcmxkTWF0cml4KCk7aWYoRSYmKHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYoaC5tYXN0ZXJNZXNoUHJldmlvdXNXb3JsZE1hdHJpeD8oaC5tYXN0ZXJNZXNoUHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5VG9BcnJheShoLmluc3RhbmNlc1ByZXZpb3VzRGF0YSxtKSxoLm1hc3Rlck1lc2hQcmV2aW91c1dvcmxkTWF0cml4LmNvcHlGcm9tKFIpKTooaC5tYXN0ZXJNZXNoUHJldmlvdXNXb3JsZE1hdHJpeD1SLmNsb25lKCksaC5tYXN0ZXJNZXNoUHJldmlvdXNXb3JsZE1hdHJpeC5jb3B5VG9BcnJheShoLmluc3RhbmNlc1ByZXZpb3VzRGF0YSxtKSkpLFIuY29weVRvQXJyYXkoaC5pbnN0YW5jZXNEYXRhLG0pLG0rPTE2LHYrKyksYSl7aWYoei5JTlNUQU5DRURNRVNIX1NPUlRfVFJBTlNQQVJFTlQmJnRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYSYmKCEoKG49ZS5nZXRNYXRlcmlhbCgpKT09PW51bGx8fG49PT12b2lkIDApJiZuLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaChlLmdldFJlbmRlcmluZ01lc2goKSkpKXtjb25zdCBBPXRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYS5nbG9iYWxQb3NpdGlvbjtmb3IobGV0IEM9MDtDPGEubGVuZ3RoO0MrKyl7Y29uc3QgYj1hW0NdO2IuX2Rpc3RhbmNlVG9DYW1lcmE9cC5EaXN0YW5jZShiLmdldEJvdW5kaW5nSW5mbygpLmJvdW5kaW5nU3BoZXJlLmNlbnRlcldvcmxkLEEpfWEuc29ydCgoQyxiKT0+Qy5fZGlzdGFuY2VUb0NhbWVyYT5iLl9kaXN0YW5jZVRvQ2FtZXJhPy0xOkMuX2Rpc3RhbmNlVG9DYW1lcmE8Yi5fZGlzdGFuY2VUb0NhbWVyYT8xOjApfWZvcihsZXQgQT0wO0E8YS5sZW5ndGg7QSsrKXtjb25zdCBDPWFbQV0sYj1DLmdldFdvcmxkTWF0cml4KCk7Yi5jb3B5VG9BcnJheShoLmluc3RhbmNlc0RhdGEsbSksdGhpcy5fc2NlbmUubmVlZHNQcmV2aW91c1dvcmxkTWF0cmljZXMmJihDLl9wcmV2aW91c1dvcmxkTWF0cml4PyhDLl9wcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGguaW5zdGFuY2VzUHJldmlvdXNEYXRhLG0pLEMuX3ByZXZpb3VzV29ybGRNYXRyaXguY29weUZyb20oYikpOihDLl9wcmV2aW91c1dvcmxkTWF0cml4PWIuY2xvbmUoKSxDLl9wcmV2aW91c1dvcmxkTWF0cml4LmNvcHlUb0FycmF5KGguaW5zdGFuY2VzUHJldmlvdXNEYXRhLG0pKSksbSs9MTYsdisrfX19ZWxzZSB2PShFPzE6MCkrbztyZXR1cm4gUz8odSYmdS5kaXNwb3NlKCksZCYmZC5kaXNwb3NlKCksdT1uZXcgdHMocixoLmluc3RhbmNlc0RhdGEsITAsMTYsITEsITApLGguaW5zdGFuY2VzQnVmZmVyPXUsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlfHwodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlPXtkYXRhOnt9LHZlcnRleEJ1ZmZlcnM6e30sc3RyaWRlczp7fSxzaXplczp7fSx2ZXJ0ZXhBcnJheU9iamVjdHM6dGhpcy5nZXRFbmdpbmUoKS5nZXRDYXBzKCkudmVydGV4QXJyYXlPYmplY3Q/e306dm9pZCAwfSksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMud29ybGQwPXUuY3JlYXRlVmVydGV4QnVmZmVyKCJ3b3JsZDAiLDAsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMud29ybGQxPXUuY3JlYXRlVmVydGV4QnVmZmVyKCJ3b3JsZDEiLDQsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMud29ybGQyPXUuY3JlYXRlVmVydGV4QnVmZmVyKCJ3b3JsZDIiLDgsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMud29ybGQzPXUuY3JlYXRlVmVydGV4QnVmZmVyKCJ3b3JsZDMiLDEyLDQpLHRoaXMuX3NjZW5lLm5lZWRzUHJldmlvdXNXb3JsZE1hdHJpY2VzJiYoZD1uZXcgdHMocixoLmluc3RhbmNlc1ByZXZpb3VzRGF0YSwhMCwxNiwhMSwhMCksaC5pbnN0YW5jZXNQcmV2aW91c0J1ZmZlcj1kLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLnByZXZpb3VzV29ybGQwPWQuY3JlYXRlVmVydGV4QnVmZmVyKCJwcmV2aW91c1dvcmxkMCIsMCw0KSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycy5wcmV2aW91c1dvcmxkMT1kLmNyZWF0ZVZlcnRleEJ1ZmZlcigicHJldmlvdXNXb3JsZDEiLDQsNCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnMucHJldmlvdXNXb3JsZDI9ZC5jcmVhdGVWZXJ0ZXhCdWZmZXIoInByZXZpb3VzV29ybGQyIiw4LDQpLHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzLnByZXZpb3VzV29ybGQzPWQuY3JlYXRlVmVydGV4QnVmZmVyKCJwcmV2aW91c1dvcmxkMyIsMTIsNCkpLHRoaXMuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCkpOighdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbnx8dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5mb3JjZU1hdHJpeFVwZGF0ZXMpJiYodS51cGRhdGVEaXJlY3RseShoLmluc3RhbmNlc0RhdGEsMCx2KSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmKCF0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLm1hbnVhbFVwZGF0ZXx8dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hbnVhbFVwZGF0ZSkmJmQudXBkYXRlRGlyZWN0bHkoaC5pbnN0YW5jZXNQcmV2aW91c0RhdGEsMCx2KSksdGhpcy5fcHJvY2Vzc0luc3RhbmNlZEJ1ZmZlcnMoYSxFKSx0aGlzLmdldFNjZW5lKCkuX2FjdGl2ZUluZGljZXMuYWRkQ291bnQoZS5pbmRleENvdW50KnYsITEpLHIuX2N1cnJlbnREcmF3Q29udGV4dCYmKHIuX2N1cnJlbnREcmF3Q29udGV4dC51c2VJbnN0YW5jaW5nPSEwKSx0aGlzLl9iaW5kKGUscyx0KSx0aGlzLl9kcmF3KGUsdCx2KSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIVMmJnRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UubWFudWFsVXBkYXRlJiYoIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuaXNGcm96ZW58fHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UuZm9yY2VNYXRyaXhVcGRhdGVzKSYmIXRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2UucHJldmlvdXNNYW51YWxVcGRhdGUmJmQudXBkYXRlRGlyZWN0bHkoaC5pbnN0YW5jZXNEYXRhLDAsdiksci51bmJpbmRJbnN0YW5jZUF0dHJpYnV0ZXMoKSx0aGlzfV9yZW5kZXJXaXRoVGhpbkluc3RhbmNlcyhlLHQsaSxzKXt2YXIgcixuO2NvbnN0IGE9KG49KHI9dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6ci5pbnN0YW5jZXNDb3VudCkhPT1udWxsJiZuIT09dm9pZCAwP246MDt0aGlzLmdldFNjZW5lKCkuX2FjdGl2ZUluZGljZXMuYWRkQ291bnQoZS5pbmRleENvdW50KmEsITEpLHMuX2N1cnJlbnREcmF3Q29udGV4dCYmKHMuX2N1cnJlbnREcmF3Q29udGV4dC51c2VJbnN0YW5jaW5nPSEwKSx0aGlzLl9iaW5kKGUsaSx0KSx0aGlzLl9kcmF3KGUsdCxhKSx0aGlzLl9zY2VuZS5uZWVkc1ByZXZpb3VzV29ybGRNYXRyaWNlcyYmIXRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWF0cml4RGF0YSYmdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSYmKHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWF0cml4QnVmZmVyP3RoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzTWF0cml4QnVmZmVyLnVwZGF0ZURpcmVjdGx5KHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeERhdGEsMCxhKTp0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5wcmV2aW91c01hdHJpeEJ1ZmZlcj10aGlzLl90aGluSW5zdGFuY2VDcmVhdGVNYXRyaXhCdWZmZXIoInByZXZpb3VzV29ybGQiLHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeERhdGEsITEpKSxzLnVuYmluZEluc3RhbmNlQXR0cmlidXRlcygpfV9wcm9jZXNzSW5zdGFuY2VkQnVmZmVycyhlLHQpe31fcHJvY2Vzc1JlbmRlcmluZyhlLHQsaSxzLHIsbixhLG8pe2NvbnN0IGg9dGhpcy5nZXRTY2VuZSgpLGw9aC5nZXRFbmdpbmUoKTtpZihzPXRoaXMuX2dldFJlbmRlcmluZ0ZpbGxNb2RlKHMpLG4mJnQuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMpcmV0dXJuIHRoaXMuX3JlbmRlcldpdGhUaGluSW5zdGFuY2VzKHQscyxpLGwpLHRoaXM7aWYobil0aGlzLl9yZW5kZXJXaXRoSW5zdGFuY2VzKHQscyxyLGksbCk7ZWxzZXtsLl9jdXJyZW50RHJhd0NvbnRleHQmJihsLl9jdXJyZW50RHJhd0NvbnRleHQudXNlSW5zdGFuY2luZz0hMSk7bGV0IHU9MDtyLnJlbmRlclNlbGZbdC5faWRdJiYoYSYmYSghMSxlLmdldFdvcmxkTWF0cml4KCksbyksdSsrLHRoaXMuX2RyYXcodCxzLHRoaXMuX2luc3RhbmNlRGF0YVN0b3JhZ2Uub3ZlcnJpZGVuSW5zdGFuY2VDb3VudCkpO2NvbnN0IGQ9ci52aXNpYmxlSW5zdGFuY2VzW3QuX2lkXTtpZihkKXtjb25zdCBfPWQubGVuZ3RoO3UrPV87Zm9yKGxldCBmPTA7ZjxfO2YrKyl7Y29uc3Qgdj1kW2ZdLmdldFdvcmxkTWF0cml4KCk7YSYmYSghMCx2LG8pLHRoaXMuX2RyYXcodCxzKX19aC5fYWN0aXZlSW5kaWNlcy5hZGRDb3VudCh0LmluZGV4Q291bnQqdSwhMSl9cmV0dXJuIHRoaXN9X3JlYnVpbGQoZT0hMSl7aWYodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXImJihlJiZ0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlci5kaXNwb3NlKCksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXI9bnVsbCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlKXtmb3IoY29uc3QgdCBpbiB0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVycyl7Y29uc3QgaT10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1t0XTtpJiYoZSYmaS5kaXNwb3NlKCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbdF09bnVsbCl9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cyYmKHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHM9e30pfXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbD1udWxsLHN1cGVyLl9yZWJ1aWxkKGUpfV9mcmVlemUoKXtpZih0aGlzLnN1Yk1lc2hlcyl7Zm9yKGxldCBlPTA7ZTx0aGlzLnN1Yk1lc2hlcy5sZW5ndGg7ZSsrKXRoaXMuX2dldEluc3RhbmNlc1JlbmRlckxpc3QoZSk7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsPW51bGwsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbj0hMH19X3VuRnJlZXplKCl7dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pc0Zyb3plbj0hMSx0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLnByZXZpb3VzQmF0Y2g9bnVsbH1yZW5kZXIoZSx0LGkpe3ZhciBzLHIsbjtjb25zdCBhPXRoaXMuZ2V0U2NlbmUoKTtpZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT90aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMTp0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZT0hMSx0aGlzLl9jaGVja09jY2x1c2lvblF1ZXJ5KCkmJiF0aGlzLl9vY2NsdXNpb25EYXRhU3RvcmFnZS5mb3JjZVJlbmRlcmluZ1doZW5PY2NsdWRlZClyZXR1cm4gdGhpcztjb25zdCBvPXRoaXMuX2dldEluc3RhbmNlc1JlbmRlckxpc3QoZS5faWQsISFpKTtpZihvLm11c3RSZXR1cm4pcmV0dXJuIHRoaXM7aWYoIXRoaXMuX2dlb21ldHJ5fHwhdGhpcy5fZ2VvbWV0cnkuZ2V0VmVydGV4QnVmZmVycygpfHwhdGhpcy5fdW5JbmRleGVkJiYhdGhpcy5fZ2VvbWV0cnkuZ2V0SW5kZXhCdWZmZXIoKSlyZXR1cm4gdGhpcztjb25zdCBoPWEuZ2V0RW5naW5lKCk7bGV0IGw9MCx1PW51bGw7dGhpcy5pZ25vcmVDYW1lcmFNYXhaJiZhLmFjdGl2ZUNhbWVyYSYmIWEuX2lzSW5JbnRlcm1lZGlhdGVSZW5kZXJpbmcoKSYmKGw9YS5hY3RpdmVDYW1lcmEubWF4Wix1PWEuYWN0aXZlQ2FtZXJhLGEuYWN0aXZlQ2FtZXJhLm1heFo9MCxhLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpO2NvbnN0IGQ9ZS5nZXRSZW5kZXJpbmdNZXNoKCksXz1vLmhhcmR3YXJlSW5zdGFuY2VkUmVuZGVyaW5nW2UuX2lkXXx8ZC5oYXNUaGluSW5zdGFuY2VzfHwhIXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZSYmIWUuZ2V0TWVzaCgpLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoLGY9dGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZSxtPWUuZ2V0TWF0ZXJpYWwoKTtpZighbSlyZXR1cm4gdSYmKHUubWF4Wj1sLGEudXBkYXRlVHJhbnNmb3JtTWF0cml4KCEwKSksdGhpcztpZighZi5pc0Zyb3plbnx8IXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbHx8dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsIT09bSl7aWYobS5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyl7aWYoIW0uaXNSZWFkeUZvclN1Yk1lc2godGhpcyxlLF8pKXJldHVybiB1JiYodS5tYXhaPWwsYS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzfWVsc2UgaWYoIW0uaXNSZWFkeSh0aGlzLF8pKXJldHVybiB1JiYodS5tYXhaPWwsYS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzO3RoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbD1tfWVsc2UgaWYobS5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyYmISghKChzPWUuZWZmZWN0KT09PW51bGx8fHM9PT12b2lkIDApJiZzLl93YXNQcmV2aW91c2x5UmVhZHkpfHwhbS5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcyYmISghKChyPW0uZ2V0RWZmZWN0KCkpPT09bnVsbHx8cj09PXZvaWQgMCkmJnIuX3dhc1ByZXZpb3VzbHlSZWFkeSkpcmV0dXJuIHUmJih1Lm1heFo9bCxhLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCkpLHRoaXM7dCYmaC5zZXRBbHBoYU1vZGUodGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLmFscGhhTW9kZSk7bGV0IHY7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzP3Y9ZS5fZHJhd1dyYXBwZXI6dj10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuX2dldERyYXdXcmFwcGVyKCk7Y29uc3QgRT0obj12PT1udWxsP3ZvaWQgMDp2LmVmZmVjdCkhPT1udWxsJiZuIT09dm9pZCAwP246bnVsbDtmb3IoY29uc3QgSSBvZiBhLl9iZWZvcmVSZW5kZXJpbmdNZXNoU3RhZ2UpSS5hY3Rpb24odGhpcyxlLG8sRSk7aWYoIXZ8fCFFKXJldHVybiB1JiYodS5tYXhaPWwsYS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSx0aGlzO2NvbnN0IFM9aXx8dGhpcztsZXQgUjtpZighZi5pc0Zyb3plbiYmKHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbC5iYWNrRmFjZUN1bGxpbmd8fHRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbiE9PW51bGwpKXtjb25zdCBJPVMuX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKTtSPXRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbixSPT1udWxsJiYoUj10aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwuc2lkZU9yaWVudGF0aW9uKSxJPDAmJihSPVI9PT1ELkNsb2NrV2lzZVNpZGVPcmllbnRhdGlvbj9ELkNvdW50ZXJDbG9ja1dpc2VTaWRlT3JpZW50YXRpb246RC5DbG9ja1dpc2VTaWRlT3JpZW50YXRpb24pLGYuc2lkZU9yaWVudGF0aW9uPVJ9ZWxzZSBSPWYuc2lkZU9yaWVudGF0aW9uO2NvbnN0IEE9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLl9wcmVCaW5kKHYsUik7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsLmZvcmNlRGVwdGhXcml0ZSYmaC5zZXREZXB0aFdyaXRlKCEwKTtjb25zdCBDPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9lZmZlY3RpdmVNYXRlcmlhbCxiPUMuZmlsbE1vZGU7dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmVmb3JlQmluZE9ic2VydmFibGUmJnRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxffHx0aGlzLl9iaW5kKGUsRSxiLCExKTtjb25zdCB4PVMuZ2V0V29ybGRNYXRyaXgoKTtDLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzP0MuYmluZEZvclN1Yk1lc2goeCx0aGlzLGUpOkMuYmluZCh4LHRoaXMpLCFDLmJhY2tGYWNlQ3VsbGluZyYmQy5zZXBhcmF0ZUN1bGxpbmdQYXNzJiYoaC5zZXRTdGF0ZSghMCxDLnpPZmZzZXQsITEsIUEsQy5jdWxsQmFja0ZhY2VzLEMuc3RlbmNpbCxDLnpPZmZzZXRVbml0cyksdGhpcy5fcHJvY2Vzc1JlbmRlcmluZyh0aGlzLGUsRSxiLG8sXyx0aGlzLl9vbkJlZm9yZURyYXcsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsKSxoLnNldFN0YXRlKCEwLEMuek9mZnNldCwhMSxBLEMuY3VsbEJhY2tGYWNlcyxDLnN0ZW5jaWwsQy56T2Zmc2V0VW5pdHMpLHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSksdGhpcy5fcHJvY2Vzc1JlbmRlcmluZyh0aGlzLGUsRSxiLG8sXyx0aGlzLl9vbkJlZm9yZURyYXcsdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX2VmZmVjdGl2ZU1hdGVyaWFsKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fZWZmZWN0aXZlTWF0ZXJpYWwudW5iaW5kKCk7Zm9yKGNvbnN0IEkgb2YgYS5fYWZ0ZXJSZW5kZXJpbmdNZXNoU3RhZ2UpSS5hY3Rpb24odGhpcyxlLG8sRSk7cmV0dXJuIHRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZSYmdGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm8uX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx1JiYodS5tYXhaPWwsYS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApKSxhLnBlcmZvcm1hbmNlUHJpb3JpdHk9PT1QdC5BZ2dyZXNzaXZlJiYhZi5pc0Zyb3plbiYmdGhpcy5fZnJlZXplKCksdGhpc31jbGVhbk1hdHJpeFdlaWdodHMoKXt0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpJiYodGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpP3RoaXMuX25vcm1hbGl6ZVNraW5XZWlnaHRzQW5kRXh0cmEoKTp0aGlzLl9ub3JtYWxpemVTa2luRm91cldlaWdodHMoKSl9X25vcm1hbGl6ZVNraW5Gb3VyV2VpZ2h0cygpe2NvbnN0IGU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kKSx0PWUubGVuZ3RoO2ZvcihsZXQgaT0wO2k8dDtpKz00KXtjb25zdCBzPWVbaV0rZVtpKzFdK2VbaSsyXStlW2krM107aWYocz09PTApZVtpXT0xO2Vsc2V7Y29uc3Qgcj0xL3M7ZVtpXSo9cixlW2krMV0qPXIsZVtpKzJdKj1yLGVbaSszXSo9cn19dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kLGUpfV9ub3JtYWxpemVTa2luV2VpZ2h0c0FuZEV4dHJhKCl7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCksdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLGk9dC5sZW5ndGg7Zm9yKGxldCBzPTA7czxpO3MrPTQpe2xldCByPXRbc10rdFtzKzFdK3RbcysyXSt0W3MrM107aWYocis9ZVtzXStlW3MrMV0rZVtzKzJdK2VbcyszXSxyPT09MCl0W3NdPTE7ZWxzZXtjb25zdCBuPTEvcjt0W3NdKj1uLHRbcysxXSo9bix0W3MrMl0qPW4sdFtzKzNdKj1uLGVbc10qPW4sZVtzKzFdKj1uLGVbcysyXSo9bixlW3MrM10qPW59fXRoaXMuc2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNXZWlnaHRzS2luZCx0KSx0aGlzLnNldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQsZSl9dmFsaWRhdGVTa2lubmluZygpe2NvbnN0IGU9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpLHQ9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5NYXRyaWNlc1dlaWdodHNLaW5kKTtpZih0PT09bnVsbHx8dGhpcy5za2VsZXRvbj09bnVsbClyZXR1cm57c2tpbm5lZDohMSx2YWxpZDohMCxyZXBvcnQ6Im5vdCBza2lubmVkIn07Y29uc3QgaT10Lmxlbmd0aDtsZXQgcz0wLHI9MCxuPTAsYT0wO2NvbnN0IG89ZT09PW51bGw/NDo4LGg9bmV3IEFycmF5O2ZvcihsZXQgdj0wO3Y8PW87disrKWhbdl09MDtjb25zdCBsPS4wMDE7Zm9yKGxldCB2PTA7djxpO3YrPTQpe2xldCBFPXRbdl0sUz1FLFI9Uz09PTA/MDoxO2ZvcihsZXQgQT0xO0E8bztBKyspe2NvbnN0IEM9QTw0P3RbditBXTplW3YrQS00XTtDPkUmJnMrKyxDIT09MCYmUisrLFMrPUMsRT1DfWlmKGhbUl0rKyxSPm4mJihuPVIpLFM9PT0wKXIrKztlbHNle2NvbnN0IEE9MS9TO2xldCBDPTA7Zm9yKGxldCBiPTA7YjxvO2IrKyliPDQ/Qys9TWF0aC5hYnModFt2K2JdLXRbditiXSpBKTpDKz1NYXRoLmFicyhlW3YrYi00XS1lW3YrYi00XSpBKTtDPmwmJmErK319Y29uc3QgdT10aGlzLnNrZWxldG9uLmJvbmVzLmxlbmd0aCxkPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCksXz10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzSW5kaWNlc0V4dHJhS2luZCk7bGV0IGY9MDtmb3IobGV0IHY9MDt2PGk7dis9NClmb3IobGV0IEU9MDtFPG87RSsrKXtjb25zdCBTPUU8ND9kW3YrRV06X1t2K0UtNF07KFM+PXV8fFM8MCkmJmYrK31jb25zdCBtPSJOdW1iZXIgb2YgV2VpZ2h0cyA9ICIraS80K2AKTWF4aW11bSBpbmZsdWVuY2VzID0gYCtuK2AKTWlzc2luZyBXZWlnaHRzID0gYCtyK2AKTm90IFNvcnRlZCA9IGArcytgCk5vdCBOb3JtYWxpemVkID0gYCthK2AKV2VpZ2h0Q291bnRzID0gW2AraCtgXQpOdW1iZXIgb2YgYm9uZXMgPSBgK3UrYApCYWQgQm9uZSBJbmRpY2VzID0gYCtmO3JldHVybntza2lubmVkOiEwLHZhbGlkOnI9PT0wJiZhPT09MCYmZj09PTAscmVwb3J0Om19fV9jaGVja0RlbGF5U3RhdGUoKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTtyZXR1cm4gdGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkubG9hZChlKTp0aGlzLmRlbGF5TG9hZFN0YXRlPT09NCYmKHRoaXMuZGVsYXlMb2FkU3RhdGU9Mix0aGlzLl9xdWV1ZUxvYWQoZSkpLHRoaXN9X3F1ZXVlTG9hZChlKXtlLmFkZFBlbmRpbmdEYXRhKHRoaXMpO2NvbnN0IHQ9dGhpcy5kZWxheUxvYWRpbmdGaWxlLmluZGV4T2YoIi5iYWJ5bG9uYmluYXJ5bWVzaGRhdGEiKSE9PS0xO3JldHVybiBYLkxvYWRGaWxlKHRoaXMuZGVsYXlMb2FkaW5nRmlsZSxpPT57aSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP3RoaXMuX2RlbGF5TG9hZGluZ0Z1bmN0aW9uKGksdGhpcyk6dGhpcy5fZGVsYXlMb2FkaW5nRnVuY3Rpb24oSlNPTi5wYXJzZShpKSx0aGlzKSx0aGlzLmluc3RhbmNlcy5mb3JFYWNoKHM9PntzLnJlZnJlc2hCb3VuZGluZ0luZm8oKSxzLl9zeW5jU3ViTWVzaGVzKCl9KSx0aGlzLmRlbGF5TG9hZFN0YXRlPTEsZS5yZW1vdmVQZW5kaW5nRGF0YSh0aGlzKX0sKCk9Pnt9LGUub2ZmbGluZVByb3ZpZGVyLHQpLHRoaXN9aXNJbkZydXN0dW0oZSl7cmV0dXJuIHRoaXMuZGVsYXlMb2FkU3RhdGU9PT0yfHwhc3VwZXIuaXNJbkZydXN0dW0oZSk/ITE6KHRoaXMuX2NoZWNrRGVsYXlTdGF0ZSgpLCEwKX1zZXRNYXRlcmlhbEJ5SWQoZSl7Y29uc3QgdD10aGlzLmdldFNjZW5lKCkubWF0ZXJpYWxzO2xldCBpO2ZvcihpPXQubGVuZ3RoLTE7aT4tMTtpLS0paWYodFtpXS5pZD09PWUpcmV0dXJuIHRoaXMubWF0ZXJpYWw9dFtpXSx0aGlzO2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpLm11bHRpTWF0ZXJpYWxzO2ZvcihpPXMubGVuZ3RoLTE7aT4tMTtpLS0paWYoc1tpXS5pZD09PWUpcmV0dXJuIHRoaXMubWF0ZXJpYWw9c1tpXSx0aGlzO3JldHVybiB0aGlzfWdldEFuaW1hdGFibGVzKCl7Y29uc3QgZT1uZXcgQXJyYXk7cmV0dXJuIHRoaXMubWF0ZXJpYWwmJmUucHVzaCh0aGlzLm1hdGVyaWFsKSx0aGlzLnNrZWxldG9uJiZlLnB1c2godGhpcy5za2VsZXRvbiksZX1iYWtlVHJhbnNmb3JtSW50b1ZlcnRpY2VzKGUpe2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlBvc2l0aW9uS2luZCkpcmV0dXJuIHRoaXM7Y29uc3QgdD10aGlzLnN1Yk1lc2hlcy5zcGxpY2UoMCk7dGhpcy5fcmVzZXRQb2ludHNBcnJheUNhY2hlKCk7bGV0IGk9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQpO2NvbnN0IHM9cC5aZXJvKCk7bGV0IHI7Zm9yKHI9MDtyPGkubGVuZ3RoO3IrPTMpcC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihpW3JdLGlbcisxXSxpW3IrMl0sZSxzKS50b0FycmF5KGkscik7aWYodGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsaSx0aGlzLmdldFZlcnRleEJ1ZmZlcihnLlBvc2l0aW9uS2luZCkuaXNVcGRhdGFibGUoKSksdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSl7Zm9yKGk9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKSxyPTA7cjxpLmxlbmd0aDtyKz0zKXAuVHJhbnNmb3JtTm9ybWFsRnJvbUZsb2F0c1RvUmVmKGlbcl0saVtyKzFdLGlbcisyXSxlLHMpLm5vcm1hbGl6ZSgpLnRvQXJyYXkoaSxyKTt0aGlzLnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQsaSx0aGlzLmdldFZlcnRleEJ1ZmZlcihnLk5vcm1hbEtpbmQpLmlzVXBkYXRhYmxlKCkpfXJldHVybiBlLmRldGVybWluYW50KCk8MCYmdGhpcy5mbGlwRmFjZXMoKSx0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKSx0aGlzLnN1Yk1lc2hlcz10LHRoaXN9YmFrZUN1cnJlbnRUcmFuc2Zvcm1JbnRvVmVydGljZXMoZT0hMCl7cmV0dXJuIHRoaXMuYmFrZVRyYW5zZm9ybUludG9WZXJ0aWNlcyh0aGlzLmNvbXB1dGVXb3JsZE1hdHJpeCghMCkpLHRoaXMucmVzZXRMb2NhbE1hdHJpeChlKSx0aGlzfWdldCBfcG9zaXRpb25zKCl7cmV0dXJuIHRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX3Bvc2l0aW9ucz90aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9wb3NpdGlvbnM6dGhpcy5fZ2VvbWV0cnk/dGhpcy5fZ2VvbWV0cnkuX3Bvc2l0aW9uczpudWxsfV9yZXNldFBvaW50c0FycmF5Q2FjaGUoKXtyZXR1cm4gdGhpcy5fZ2VvbWV0cnkmJnRoaXMuX2dlb21ldHJ5Ll9yZXNldFBvaW50c0FycmF5Q2FjaGUoKSx0aGlzfV9nZW5lcmF0ZVBvaW50c0FycmF5KCl7cmV0dXJuIHRoaXMuX2dlb21ldHJ5P3RoaXMuX2dlb21ldHJ5Ll9nZW5lcmF0ZVBvaW50c0FycmF5KCk6ITF9Y2xvbmUoZT0iIix0PW51bGwsaSxzPSEwKXtyZXR1cm4gbmV3IHooZSx0aGlzLmdldFNjZW5lKCksdCx0aGlzLGkscyl9ZGlzcG9zZShlLHQ9ITEpe3RoaXMubW9ycGhUYXJnZXRNYW5hZ2VyPW51bGwsdGhpcy5fZ2VvbWV0cnkmJnRoaXMuX2dlb21ldHJ5LnJlbGVhc2VGb3JNZXNoKHRoaXMsITApO2NvbnN0IGk9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYoaS5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZSYmaS5fb25CZWZvcmVEcmF3T2JzZXJ2YWJsZS5jbGVhcigpLGkuX29uQmVmb3JlQmluZE9ic2VydmFibGUmJmkuX29uQmVmb3JlQmluZE9ic2VydmFibGUuY2xlYXIoKSxpLl9vbkJlZm9yZVJlbmRlck9ic2VydmFibGUmJmkuX29uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLGkuX29uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlJiZpLl9vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLGkuX29uQmV0d2VlblBhc3NPYnNlcnZhYmxlJiZpLl9vbkJldHdlZW5QYXNzT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMuX3NjZW5lLnVzZUNsb25lZE1lc2hNYXApe2lmKGkubWVzaE1hcClmb3IoY29uc3QgcyBpbiBpLm1lc2hNYXApe2NvbnN0IHI9aS5tZXNoTWFwW3NdO3ImJihyLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fc291cmNlPW51bGwsaS5tZXNoTWFwW3NdPXZvaWQgMCl9aS5fc291cmNlJiZpLl9zb3VyY2UuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXAmJihpLl9zb3VyY2UuX2ludGVybmFsTWVzaERhdGFJbmZvLm1lc2hNYXBbdGhpcy51bmlxdWVJZF09dm9pZCAwKX1lbHNle2NvbnN0IHM9dGhpcy5nZXRTY2VuZSgpLm1lc2hlcztmb3IoY29uc3QgciBvZiBzKXtjb25zdCBuPXI7bi5faW50ZXJuYWxNZXNoRGF0YUluZm8mJm4uX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2UmJm4uX2ludGVybmFsTWVzaERhdGFJbmZvLl9zb3VyY2U9PT10aGlzJiYobi5faW50ZXJuYWxNZXNoRGF0YUluZm8uX3NvdXJjZT1udWxsKX19aS5fc291cmNlPW51bGwsdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS52aXNpYmxlSW5zdGFuY2VzPXt9LHRoaXMuX2Rpc3Bvc2VJbnN0YW5jZVNwZWNpZmljRGF0YSgpLHRoaXMuX2Rpc3Bvc2VUaGluSW5zdGFuY2VTcGVjaWZpY0RhdGEoKSx0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlciYmdGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9pbnRlcm5hbE1lc2hEYXRhSW5mby5fY2hlY2tSZWFkaW5lc3NPYnNlcnZlciksc3VwZXIuZGlzcG9zZShlLHQpfV9kaXNwb3NlSW5zdGFuY2VTcGVjaWZpY0RhdGEoKXt9X2Rpc3Bvc2VUaGluSW5zdGFuY2VTcGVjaWZpY0RhdGEoKXt9X2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCl7fWFwcGx5RGlzcGxhY2VtZW50TWFwKGUsdCxpLHMscixuLGE9ITEpe2NvbnN0IG89dGhpcy5nZXRTY2VuZSgpLGg9bD0+e2NvbnN0IHU9bC53aWR0aCxkPWwuaGVpZ2h0LGY9dGhpcy5nZXRFbmdpbmUoKS5jcmVhdGVDYW52YXModSxkKS5nZXRDb250ZXh0KCIyZCIpO2YuZHJhd0ltYWdlKGwsMCwwKTtjb25zdCBtPWYuZ2V0SW1hZ2VEYXRhKDAsMCx1LGQpLmRhdGE7dGhpcy5hcHBseURpc3BsYWNlbWVudE1hcEZyb21CdWZmZXIobSx1LGQsdCxpLHIsbixhKSxzJiZzKHRoaXMpfTtyZXR1cm4gWC5Mb2FkSW1hZ2UoZSxoLCgpPT57fSxvLm9mZmxpbmVQcm92aWRlciksdGhpc31hcHBseURpc3BsYWNlbWVudE1hcEZyb21CdWZmZXIoZSx0LGkscyxyLG4sYSxvPSExKXtpZighdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Qb3NpdGlvbktpbmQpfHwhdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKXx8IXRoaXMuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVZLaW5kKSlyZXR1cm4gTy5XYXJuKCJDYW5ub3QgY2FsbCBhcHBseURpc3BsYWNlbWVudE1hcDogR2l2ZW4gbWVzaCBpcyBub3QgY29tcGxldGUuIFBvc2l0aW9uLCBOb3JtYWwgb3IgVVYgYXJlIG1pc3NpbmciKSx0aGlzO2NvbnN0IGg9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsITAsITApLGw9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKSx1PXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuVVZLaW5kKTtsZXQgZD1wLlplcm8oKTtjb25zdCBfPXAuWmVybygpLGY9dmUuWmVybygpO249bnx8dmUuWmVybygpLGE9YXx8bmV3IHZlKDEsMSk7Zm9yKGxldCBtPTA7bTxoLmxlbmd0aDttKz0zKXtwLkZyb21BcnJheVRvUmVmKGgsbSxkKSxwLkZyb21BcnJheVRvUmVmKGwsbSxfKSx2ZS5Gcm9tQXJyYXlUb1JlZih1LG0vMyoyLGYpO2NvbnN0IHY9TWF0aC5hYnMoZi54KmEueCtuLnglMSkqKHQtMSkldHwwLEU9TWF0aC5hYnMoZi55KmEueStuLnklMSkqKGktMSklaXwwLFM9KHYrRSp0KSo0LFI9ZVtTXS8yNTUsQT1lW1MrMV0vMjU1LEM9ZVtTKzJdLzI1NSxiPVIqLjMrQSouNTkrQyouMTE7Xy5ub3JtYWxpemUoKSxfLnNjYWxlSW5QbGFjZShzKyhyLXMpKmIpLGQ9ZC5hZGQoXyksZC50b0FycmF5KGgsbSl9cmV0dXJuIHRlLkNvbXB1dGVOb3JtYWxzKGgsdGhpcy5nZXRJbmRpY2VzKCksbCksbz8odGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsaCksdGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLGwpLHRoaXMuc2V0VmVydGljZXNEYXRhKGcuVVZLaW5kLHUpKToodGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsaCksdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLGwpKSx0aGlzfWNvbnZlcnRUb0ZsYXRTaGFkZWRNZXNoKCl7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YUtpbmRzKCksdD17fSxpPXt9LHM9e307bGV0IHI9ITEsbixhO2ZvcihuPTA7bjxlLmxlbmd0aDtuKyspe2E9ZVtuXTtjb25zdCB2PXRoaXMuZ2V0VmVydGV4QnVmZmVyKGEpLEU9di5nZXREYXRhKCk7aWYoISgoRSBpbnN0YW5jZW9mIEFycmF5fHxFIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KSYmRS5sZW5ndGg9PT0wKSl7aWYoYT09PWcuTm9ybWFsS2luZCl7cj12LmlzVXBkYXRhYmxlKCksZS5zcGxpY2UobiwxKSxuLS07Y29udGludWV9dFthXT12LGlbYV09dGhpcy5nZXRWZXJ0aWNlc0RhdGEoYSksc1thXT1bXX19Y29uc3Qgbz10aGlzLnN1Yk1lc2hlcy5zbGljZSgwKSxoPXRoaXMuZ2V0SW5kaWNlcygpLGw9dGhpcy5nZXRUb3RhbEluZGljZXMoKTtsZXQgdTtmb3IodT0wO3U8bDt1Kyspe2NvbnN0IHY9aFt1XTtmb3Iobj0wO248ZS5sZW5ndGg7bisrKXtpZihhPWVbbl0sIXRbYV0pY29udGludWU7Y29uc3QgRT10W2FdLmdldFN0cmlkZVNpemUoKTtmb3IobGV0IFM9MDtTPEU7UysrKXNbYV0ucHVzaChpW2FdW3YqRStTXSl9fWNvbnN0IGQ9W10sXz1zW2cuUG9zaXRpb25LaW5kXSxmPXRoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbTtsZXQgbTtmb3IoZj9tPXRoaXMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj09PTE6bT10aGlzLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249PT0wLHU9MDt1PGw7dSs9Myl7aFt1XT11LGhbdSsxXT11KzEsaFt1KzJdPXUrMjtjb25zdCB2PXAuRnJvbUFycmF5KF8sdSozKSxFPXAuRnJvbUFycmF5KF8sKHUrMSkqMyksUz1wLkZyb21BcnJheShfLCh1KzIpKjMpLFI9di5zdWJ0cmFjdChFKSxBPVMuc3VidHJhY3QoRSksQz1wLk5vcm1hbGl6ZShwLkNyb3NzKFIsQSkpO20mJkMuc2NhbGVJblBsYWNlKC0xKTtmb3IobGV0IGI9MDtiPDM7YisrKWQucHVzaChDLngpLGQucHVzaChDLnkpLGQucHVzaChDLnopfWZvcih0aGlzLnNldEluZGljZXMoaCksdGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLGQsciksbj0wO248ZS5sZW5ndGg7bisrKWE9ZVtuXSxzW2FdJiZ0aGlzLnNldFZlcnRpY2VzRGF0YShhLHNbYV0sdFthXS5pc1VwZGF0YWJsZSgpKTt0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKTtmb3IobGV0IHY9MDt2PG8ubGVuZ3RoO3YrKyl7Y29uc3QgRT1vW3ZdO1R0LkFkZFRvTWVzaChFLm1hdGVyaWFsSW5kZXgsRS5pbmRleFN0YXJ0LEUuaW5kZXhDb3VudCxFLmluZGV4U3RhcnQsRS5pbmRleENvdW50LHRoaXMpfXJldHVybiB0aGlzLnN5bmNocm9uaXplSW5zdGFuY2VzKCksdGhpc31jb252ZXJ0VG9VbkluZGV4ZWRNZXNoKCl7Y29uc3QgZT10aGlzLmdldFZlcnRpY2VzRGF0YUtpbmRzKCksdD17fSxpPXt9LHM9e307bGV0IHIsbjtmb3Iocj0wO3I8ZS5sZW5ndGg7cisrKXtuPWVbcl07Y29uc3QgdT10aGlzLmdldFZlcnRleEJ1ZmZlcihuKTt0W25dPXUsaVtuXT10W25dLmdldERhdGEoKSxzW25dPVtdfWNvbnN0IGE9dGhpcy5zdWJNZXNoZXMuc2xpY2UoMCksbz10aGlzLmdldEluZGljZXMoKSxoPXRoaXMuZ2V0VG90YWxJbmRpY2VzKCk7bGV0IGw7Zm9yKGw9MDtsPGg7bCsrKXtjb25zdCB1PW9bbF07Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKyl7bj1lW3JdO2NvbnN0IGQ9dFtuXS5nZXRTdHJpZGVTaXplKCk7Zm9yKGxldCBfPTA7XzxkO18rKylzW25dLnB1c2goaVtuXVt1KmQrX10pfX1mb3IobD0wO2w8aDtsKz0zKW9bbF09bCxvW2wrMV09bCsxLG9bbCsyXT1sKzI7Zm9yKHRoaXMuc2V0SW5kaWNlcyhvKSxyPTA7cjxlLmxlbmd0aDtyKyspbj1lW3JdLHRoaXMuc2V0VmVydGljZXNEYXRhKG4sc1tuXSx0W25dLmlzVXBkYXRhYmxlKCksdFtuXS5nZXRTdHJpZGVTaXplKCkpO3RoaXMucmVsZWFzZVN1Yk1lc2hlcygpO2ZvcihsZXQgdT0wO3U8YS5sZW5ndGg7dSsrKXtjb25zdCBkPWFbdV07VHQuQWRkVG9NZXNoKGQubWF0ZXJpYWxJbmRleCxkLmluZGV4U3RhcnQsZC5pbmRleENvdW50LGQuaW5kZXhTdGFydCxkLmluZGV4Q291bnQsdGhpcyl9cmV0dXJuIHRoaXMuX3VuSW5kZXhlZD0hMCx0aGlzLnN5bmNocm9uaXplSW5zdGFuY2VzKCksdGhpc31mbGlwRmFjZXMoZT0hMSl7Y29uc3QgdD10ZS5FeHRyYWN0RnJvbU1lc2godGhpcyk7bGV0IGk7aWYoZSYmdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSYmdC5ub3JtYWxzKWZvcihpPTA7aTx0Lm5vcm1hbHMubGVuZ3RoO2krKyl0Lm5vcm1hbHNbaV0qPS0xO2lmKHQuaW5kaWNlcyl7bGV0IHM7Zm9yKGk9MDtpPHQuaW5kaWNlcy5sZW5ndGg7aSs9MylzPXQuaW5kaWNlc1tpKzFdLHQuaW5kaWNlc1tpKzFdPXQuaW5kaWNlc1tpKzJdLHQuaW5kaWNlc1tpKzJdPXN9cmV0dXJuIHQuYXBwbHlUb01lc2godGhpcyx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuUG9zaXRpb25LaW5kKSksdGhpc31pbmNyZWFzZVZlcnRpY2VzKGU9MSl7Y29uc3QgdD10ZS5FeHRyYWN0RnJvbU1lc2godGhpcyksaT10LmluZGljZXMmJiFBcnJheS5pc0FycmF5KHQuaW5kaWNlcykmJkFycmF5LmZyb20/QXJyYXkuZnJvbSh0LmluZGljZXMpOnQuaW5kaWNlcyxzPXQucG9zaXRpb25zJiYhQXJyYXkuaXNBcnJheSh0LnBvc2l0aW9ucykmJkFycmF5LmZyb20/QXJyYXkuZnJvbSh0LnBvc2l0aW9ucyk6dC5wb3NpdGlvbnMscj10LnV2cyYmIUFycmF5LmlzQXJyYXkodC51dnMpJiZBcnJheS5mcm9tP0FycmF5LmZyb20odC51dnMpOnQudXZzLG49dC5ub3JtYWxzJiYhQXJyYXkuaXNBcnJheSh0Lm5vcm1hbHMpJiZBcnJheS5mcm9tP0FycmF5LmZyb20odC5ub3JtYWxzKTp0Lm5vcm1hbHM7aWYoIWl8fCFzKU8uV2FybigiQ291bGRuJ3QgaW5jcmVhc2UgbnVtYmVyIG9mIHZlcnRpY2VzIDogVmVydGV4RGF0YSBtdXN0IGNvbnRhaW4gYXQgbGVhc3QgaW5kaWNlcyBhbmQgcG9zaXRpb25zIik7ZWxzZXt0LmluZGljZXM9aSx0LnBvc2l0aW9ucz1zLHImJih0LnV2cz1yKSxuJiYodC5ub3JtYWxzPW4pO2NvbnN0IGE9ZSsxLG89bmV3IEFycmF5O2ZvcihsZXQgQz0wO0M8YSsxO0MrKylvW0NdPW5ldyBBcnJheTtsZXQgaCxsO2NvbnN0IHU9bmV3IHAoMCwwLDApLGQ9bmV3IHAoMCwwLDApLF89bmV3IHZlKDAsMCksZj1uZXcgQXJyYXksbT1uZXcgQXJyYXksdj1uZXcgQXJyYXk7bGV0IEUsUz1zLmxlbmd0aCxSO3ImJihSPXIubGVuZ3RoKTtsZXQgQTtuJiYoQT1uLmxlbmd0aCk7Zm9yKGxldCBDPTA7QzxpLmxlbmd0aDtDKz0zKXttWzBdPWlbQ10sbVsxXT1pW0MrMV0sbVsyXT1pW0MrMl07Zm9yKGxldCBiPTA7YjwzO2IrKylpZihoPW1bYl0sbD1tWyhiKzEpJTNdLHZbaF09PT12b2lkIDAmJnZbbF09PT12b2lkIDA/KHZbaF09bmV3IEFycmF5LHZbbF09bmV3IEFycmF5KToodltoXT09PXZvaWQgMCYmKHZbaF09bmV3IEFycmF5KSx2W2xdPT09dm9pZCAwJiYodltsXT1uZXcgQXJyYXkpKSx2W2hdW2xdPT09dm9pZCAwJiZ2W2xdW2hdPT09dm9pZCAwKXt2W2hdW2xdPVtdLHUueD0oc1szKmxdLXNbMypoXSkvYSx1Lnk9KHNbMypsKzFdLXNbMypoKzFdKS9hLHUuej0oc1szKmwrMl0tc1szKmgrMl0pL2EsbiYmKGQueD0oblszKmxdLW5bMypoXSkvYSxkLnk9KG5bMypsKzFdLW5bMypoKzFdKS9hLGQuej0oblszKmwrMl0tblszKmgrMl0pL2EpLHImJihfLng9KHJbMipsXS1yWzIqaF0pL2EsXy55PShyWzIqbCsxXS1yWzIqaCsxXSkvYSksdltoXVtsXS5wdXNoKGgpO2ZvcihsZXQgeD0xO3g8YTt4KyspdltoXVtsXS5wdXNoKHMubGVuZ3RoLzMpLHNbUysrXT1zWzMqaF0reCp1Lngsc1tTKytdPXNbMypoKzFdK3gqdS55LHNbUysrXT1zWzMqaCsyXSt4KnUueixuJiYobltBKytdPW5bMypoXSt4KmQueCxuW0ErK109blszKmgrMV0reCpkLnksbltBKytdPW5bMypoKzJdK3gqZC56KSxyJiYocltSKytdPXJbMipoXSt4Kl8ueCxyW1IrK109clsyKmgrMV0reCpfLnkpO3ZbaF1bbF0ucHVzaChsKSx2W2xdW2hdPW5ldyBBcnJheSxFPXZbaF1bbF0ubGVuZ3RoO2ZvcihsZXQgeD0wO3g8RTt4KyspdltsXVtoXVt4XT12W2hdW2xdW0UtMS14XX1vWzBdWzBdPWlbQ10sb1sxXVswXT12W2lbQ11dW2lbQysxXV1bMV0sb1sxXVsxXT12W2lbQ11dW2lbQysyXV1bMV07Zm9yKGxldCBiPTI7YjxhO2IrKyl7b1tiXVswXT12W2lbQ11dW2lbQysxXV1bYl0sb1tiXVtiXT12W2lbQ11dW2lbQysyXV1bYl0sdS54PShzWzMqb1tiXVtiXV0tc1szKm9bYl1bMF1dKS9iLHUueT0oc1szKm9bYl1bYl0rMV0tc1szKm9bYl1bMF0rMV0pL2IsdS56PShzWzMqb1tiXVtiXSsyXS1zWzMqb1tiXVswXSsyXSkvYixuJiYoZC54PShuWzMqb1tiXVtiXV0tblszKm9bYl1bMF1dKS9iLGQueT0oblszKm9bYl1bYl0rMV0tblszKm9bYl1bMF0rMV0pL2IsZC56PShuWzMqb1tiXVtiXSsyXS1uWzMqb1tiXVswXSsyXSkvYiksciYmKF8ueD0oclsyKm9bYl1bYl1dLXJbMipvW2JdWzBdXSkvYixfLnk9KHJbMipvW2JdW2JdKzFdLXJbMipvW2JdWzBdKzFdKS9iKTtmb3IobGV0IHg9MTt4PGI7eCsrKW9bYl1beF09cy5sZW5ndGgvMyxzW1MrK109c1szKm9bYl1bMF1dK3gqdS54LHNbUysrXT1zWzMqb1tiXVswXSsxXSt4KnUueSxzW1MrK109c1szKm9bYl1bMF0rMl0reCp1LnosbiYmKG5bQSsrXT1uWzMqb1tiXVswXV0reCpkLngsbltBKytdPW5bMypvW2JdWzBdKzFdK3gqZC55LG5bQSsrXT1uWzMqb1tiXVswXSsyXSt4KmQueiksciYmKHJbUisrXT1yWzIqb1tiXVswXV0reCpfLngscltSKytdPXJbMipvW2JdWzBdKzFdK3gqXy55KX1vW2FdPXZbaVtDKzFdXVtpW0MrMl1dLGYucHVzaChvWzBdWzBdLG9bMV1bMF0sb1sxXVsxXSk7Zm9yKGxldCBiPTE7YjxhO2IrKyl7bGV0IHg7Zm9yKHg9MDt4PGI7eCsrKWYucHVzaChvW2JdW3hdLG9bYisxXVt4XSxvW2IrMV1beCsxXSksZi5wdXNoKG9bYl1beF0sb1tiKzFdW3grMV0sb1tiXVt4KzFdKTtmLnB1c2gob1tiXVt4XSxvW2IrMV1beF0sb1tiKzFdW3grMV0pfX10LmluZGljZXM9Zix0LmFwcGx5VG9NZXNoKHRoaXMsdGhpcy5pc1ZlcnRleEJ1ZmZlclVwZGF0YWJsZShnLlBvc2l0aW9uS2luZCkpfX1mb3JjZVNoYXJlZFZlcnRpY2VzKCl7Y29uc3QgZT10ZS5FeHRyYWN0RnJvbU1lc2godGhpcyksdD1lLnV2cyxpPWUuaW5kaWNlcyxzPWUucG9zaXRpb25zLHI9ZS5jb2xvcnMsbj1lLm1hdHJpY2VzSW5kaWNlcyxhPWUubWF0cmljZXNXZWlnaHRzLG89ZS5tYXRyaWNlc0luZGljZXNFeHRyYSxoPWUubWF0cmljZXNXZWlnaHRzRXh0cmE7aWYoaT09PXZvaWQgMHx8cz09PXZvaWQgMHx8aT09PW51bGx8fHM9PT1udWxsKU8uV2FybigiVmVydGV4RGF0YSBjb250YWlucyBlbXB0eSBlbnRyaWVzIik7ZWxzZXtjb25zdCBsPW5ldyBBcnJheSx1PW5ldyBBcnJheSxkPW5ldyBBcnJheSxfPW5ldyBBcnJheSxmPW5ldyBBcnJheSxtPW5ldyBBcnJheSx2PW5ldyBBcnJheSxFPW5ldyBBcnJheTtsZXQgUz1uZXcgQXJyYXksUj0wO2NvbnN0IEE9e307bGV0IEMsYjtmb3IobGV0IEk9MDtJPGkubGVuZ3RoO0krPTMpe2I9W2lbSV0saVtJKzFdLGlbSSsyXV0sUz1uZXcgQXJyYXk7Zm9yKGxldCBVPTA7VTwzO1UrKyl7U1tVXT0iIjtmb3IobGV0IGs9MDtrPDM7aysrKU1hdGguYWJzKHNbMypiW1VdK2tdKTwxZS04JiYoc1szKmJbVV0ra109MCksU1tVXSs9c1szKmJbVV0ra10rInwifWlmKCEoU1swXT09U1sxXXx8U1swXT09U1syXXx8U1sxXT09U1syXSkpZm9yKGxldCBVPTA7VTwzO1UrKyl7aWYoQz1BW1NbVV1dLEM9PT12b2lkIDApe0FbU1tVXV09UixDPVIrKztmb3IobGV0IGs9MDtrPDM7aysrKWwucHVzaChzWzMqYltVXStrXSk7aWYociE9bnVsbClmb3IobGV0IGs9MDtrPDQ7aysrKV8ucHVzaChyWzQqYltVXStrXSk7aWYodCE9bnVsbClmb3IobGV0IGs9MDtrPDI7aysrKWQucHVzaCh0WzIqYltVXStrXSk7aWYobiE9bnVsbClmb3IobGV0IGs9MDtrPDQ7aysrKWYucHVzaChuWzQqYltVXStrXSk7aWYoYSE9bnVsbClmb3IobGV0IGs9MDtrPDQ7aysrKW0ucHVzaChhWzQqYltVXStrXSk7aWYobyE9bnVsbClmb3IobGV0IGs9MDtrPDQ7aysrKXYucHVzaChvWzQqYltVXStrXSk7aWYoaCE9bnVsbClmb3IobGV0IGs9MDtrPDQ7aysrKUUucHVzaChoWzQqYltVXStrXSl9dS5wdXNoKEMpfX1jb25zdCB4PW5ldyBBcnJheTt0ZS5Db21wdXRlTm9ybWFscyhsLHUseCksZS5wb3NpdGlvbnM9bCxlLmluZGljZXM9dSxlLm5vcm1hbHM9eCx0IT1udWxsJiYoZS51dnM9ZCksciE9bnVsbCYmKGUuY29sb3JzPV8pLG4hPW51bGwmJihlLm1hdHJpY2VzSW5kaWNlcz1mKSxhIT1udWxsJiYoZS5tYXRyaWNlc1dlaWdodHM9bSksbyE9bnVsbCYmKGUubWF0cmljZXNJbmRpY2VzRXh0cmE9diksYSE9bnVsbCYmKGUubWF0cmljZXNXZWlnaHRzRXh0cmE9RSksZS5hcHBseVRvTWVzaCh0aGlzLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5Qb3NpdGlvbktpbmQpKX19c3RhdGljIF9pbnN0YW5jZWRNZXNoRmFjdG9yeShlLHQpe3Rocm93IFEoIkluc3RhbmNlZE1lc2giKX1zdGF0aWMgX1BoeXNpY3NJbXBvc3RvclBhcnNlcihlLHQsaSl7dGhyb3cgUSgiUGh5c2ljc0ltcG9zdG9yIil9Y3JlYXRlSW5zdGFuY2UoZSl7cmV0dXJuIHouX2luc3RhbmNlZE1lc2hGYWN0b3J5KGUsdGhpcyl9c3luY2hyb25pemVJbnN0YW5jZXMoKXtmb3IobGV0IGU9MDtlPHRoaXMuaW5zdGFuY2VzLmxlbmd0aDtlKyspdGhpcy5pbnN0YW5jZXNbZV0uX3N5bmNTdWJNZXNoZXMoKTtyZXR1cm4gdGhpc31vcHRpbWl6ZUluZGljZXMoZSl7Y29uc3QgdD10aGlzLmdldEluZGljZXMoKSxpPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuUG9zaXRpb25LaW5kKTtpZighaXx8IXQpcmV0dXJuIHRoaXM7Y29uc3Qgcz1uZXcgQXJyYXk7Zm9yKGxldCBuPTA7bjxpLmxlbmd0aDtuPW4rMylzLnB1c2gocC5Gcm9tQXJyYXkoaSxuKSk7Y29uc3Qgcj1uZXcgQXJyYXk7cmV0dXJuICRpLlN5bmNBc3luY0Zvckxvb3Aocy5sZW5ndGgsNDAsbj0+e2NvbnN0IGE9cy5sZW5ndGgtMS1uLG89c1thXTtmb3IobGV0IGg9MDtoPGE7KytoKXtjb25zdCBsPXNbaF07aWYoby5lcXVhbHMobCkpe3JbYV09aDticmVha319fSwoKT0+e2ZvcihsZXQgYT0wO2E8dC5sZW5ndGg7KythKXRbYV09clt0W2FdXXx8dFthXTtjb25zdCBuPXRoaXMuc3ViTWVzaGVzLnNsaWNlKDApO3RoaXMuc2V0SW5kaWNlcyh0KSx0aGlzLnN1Yk1lc2hlcz1uLGUmJmUodGhpcyl9KSx0aGlzfXNlcmlhbGl6ZShlPXt9KXtlLm5hbWU9dGhpcy5uYW1lLGUuaWQ9dGhpcy5pZCxlLnVuaXF1ZUlkPXRoaXMudW5pcXVlSWQsZS50eXBlPXRoaXMuZ2V0Q2xhc3NOYW1lKCksZmUmJmZlLkhhc1RhZ3ModGhpcykmJihlLnRhZ3M9ZmUuR2V0VGFncyh0aGlzKSksZS5wb3NpdGlvbj10aGlzLnBvc2l0aW9uLmFzQXJyYXkoKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9lLnJvdGF0aW9uUXVhdGVybmlvbj10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5hc0FycmF5KCk6dGhpcy5yb3RhdGlvbiYmKGUucm90YXRpb249dGhpcy5yb3RhdGlvbi5hc0FycmF5KCkpLGUuc2NhbGluZz10aGlzLnNjYWxpbmcuYXNBcnJheSgpLHRoaXMuX3Bvc3RNdWx0aXBseVBpdm90TWF0cml4P2UucGl2b3RNYXRyaXg9dGhpcy5nZXRQaXZvdE1hdHJpeCgpLmFzQXJyYXkoKTplLmxvY2FsTWF0cml4PXRoaXMuZ2V0UGl2b3RNYXRyaXgoKS5hc0FycmF5KCksZS5pc0VuYWJsZWQ9dGhpcy5pc0VuYWJsZWQoITEpLGUuaXNWaXNpYmxlPXRoaXMuaXNWaXNpYmxlLGUuaW5maW5pdGVEaXN0YW5jZT10aGlzLmluZmluaXRlRGlzdGFuY2UsZS5waWNrYWJsZT10aGlzLmlzUGlja2FibGUsZS5yZWNlaXZlU2hhZG93cz10aGlzLnJlY2VpdmVTaGFkb3dzLGUuYmlsbGJvYXJkTW9kZT10aGlzLmJpbGxib2FyZE1vZGUsZS52aXNpYmlsaXR5PXRoaXMudmlzaWJpbGl0eSxlLmNoZWNrQ29sbGlzaW9ucz10aGlzLmNoZWNrQ29sbGlzaW9ucyxlLmlzQmxvY2tlcj10aGlzLmlzQmxvY2tlcixlLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb249dGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5fc2VyaWFsaXplQXNQYXJlbnQoZSksZS5pc1VuSW5kZXhlZD10aGlzLmlzVW5JbmRleGVkO2NvbnN0IHQ9dGhpcy5fZ2VvbWV0cnk7aWYodCYmdGhpcy5zdWJNZXNoZXMpe2UuZ2VvbWV0cnlVbmlxdWVJZD10LnVuaXF1ZUlkLGUuZ2VvbWV0cnlJZD10LmlkLGUuc3ViTWVzaGVzPVtdO2ZvcihsZXQgaT0wO2k8dGhpcy5zdWJNZXNoZXMubGVuZ3RoO2krKyl7Y29uc3Qgcz10aGlzLnN1Yk1lc2hlc1tpXTtlLnN1Yk1lc2hlcy5wdXNoKHttYXRlcmlhbEluZGV4OnMubWF0ZXJpYWxJbmRleCx2ZXJ0aWNlc1N0YXJ0OnMudmVydGljZXNTdGFydCx2ZXJ0aWNlc0NvdW50OnMudmVydGljZXNDb3VudCxpbmRleFN0YXJ0OnMuaW5kZXhTdGFydCxpbmRleENvdW50OnMuaW5kZXhDb3VudH0pfX1pZih0aGlzLm1hdGVyaWFsP3RoaXMubWF0ZXJpYWwuZG9Ob3RTZXJpYWxpemV8fChlLm1hdGVyaWFsVW5pcXVlSWQ9dGhpcy5tYXRlcmlhbC51bmlxdWVJZCxlLm1hdGVyaWFsSWQ9dGhpcy5tYXRlcmlhbC5pZCk6KHRoaXMubWF0ZXJpYWw9bnVsbCxlLm1hdGVyaWFsVW5pcXVlSWQ9dGhpcy5fc2NlbmUuZGVmYXVsdE1hdGVyaWFsLnVuaXF1ZUlkLGUubWF0ZXJpYWxJZD10aGlzLl9zY2VuZS5kZWZhdWx0TWF0ZXJpYWwuaWQpLHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyJiYoZS5tb3JwaFRhcmdldE1hbmFnZXJJZD10aGlzLm1vcnBoVGFyZ2V0TWFuYWdlci51bmlxdWVJZCksdGhpcy5za2VsZXRvbiYmKGUuc2tlbGV0b25JZD10aGlzLnNrZWxldG9uLmlkLGUubnVtQm9uZUluZmx1ZW5jZXJzPXRoaXMubnVtQm9uZUluZmx1ZW5jZXJzKSx0aGlzLmdldFNjZW5lKCkuX2dldENvbXBvbmVudChqLk5BTUVfUEhZU0lDU0VOR0lORSkpe2NvbnN0IGk9dGhpcy5nZXRQaHlzaWNzSW1wb3N0b3IoKTtpJiYoZS5waHlzaWNzTWFzcz1pLmdldFBhcmFtKCJtYXNzIiksZS5waHlzaWNzRnJpY3Rpb249aS5nZXRQYXJhbSgiZnJpY3Rpb24iKSxlLnBoeXNpY3NSZXN0aXR1dGlvbj1pLmdldFBhcmFtKCJtYXNzIiksZS5waHlzaWNzSW1wb3N0b3I9aS50eXBlKX10aGlzLm1ldGFkYXRhJiYoZS5tZXRhZGF0YT10aGlzLm1ldGFkYXRhKSxlLmluc3RhbmNlcz1bXTtmb3IobGV0IGk9MDtpPHRoaXMuaW5zdGFuY2VzLmxlbmd0aDtpKyspe2NvbnN0IHM9dGhpcy5pbnN0YW5jZXNbaV07aWYocy5kb05vdFNlcmlhbGl6ZSljb250aW51ZTtjb25zdCByPXtuYW1lOnMubmFtZSxpZDpzLmlkLGlzRW5hYmxlZDpzLmlzRW5hYmxlZCghMSksaXNWaXNpYmxlOnMuaXNWaXNpYmxlLGlzUGlja2FibGU6cy5pc1BpY2thYmxlLGNoZWNrQ29sbGlzaW9uczpzLmNoZWNrQ29sbGlzaW9ucyxwb3NpdGlvbjpzLnBvc2l0aW9uLmFzQXJyYXkoKSxzY2FsaW5nOnMuc2NhbGluZy5hc0FycmF5KCl9O2lmKHMucGFyZW50JiZzLnBhcmVudC5fc2VyaWFsaXplQXNQYXJlbnQocikscy5yb3RhdGlvblF1YXRlcm5pb24/ci5yb3RhdGlvblF1YXRlcm5pb249cy5yb3RhdGlvblF1YXRlcm5pb24uYXNBcnJheSgpOnMucm90YXRpb24mJihyLnJvdGF0aW9uPXMucm90YXRpb24uYXNBcnJheSgpKSx0aGlzLmdldFNjZW5lKCkuX2dldENvbXBvbmVudChqLk5BTUVfUEhZU0lDU0VOR0lORSkpe2NvbnN0IG49cy5nZXRQaHlzaWNzSW1wb3N0b3IoKTtuJiYoci5waHlzaWNzTWFzcz1uLmdldFBhcmFtKCJtYXNzIiksci5waHlzaWNzRnJpY3Rpb249bi5nZXRQYXJhbSgiZnJpY3Rpb24iKSxyLnBoeXNpY3NSZXN0aXR1dGlvbj1uLmdldFBhcmFtKCJtYXNzIiksci5waHlzaWNzSW1wb3N0b3I9bi50eXBlKX1zLm1ldGFkYXRhJiYoci5tZXRhZGF0YT1zLm1ldGFkYXRhKSxzLmFjdGlvbk1hbmFnZXImJihyLmFjdGlvbnM9cy5hY3Rpb25NYW5hZ2VyLnNlcmlhbGl6ZShzLm5hbWUpKSxlLmluc3RhbmNlcy5wdXNoKHIpLG5lLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKHMsciksci5yYW5nZXM9cy5zZXJpYWxpemVBbmltYXRpb25SYW5nZXMoKX1pZih0aGlzLl90aGluSW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNDb3VudCYmdGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4RGF0YSYmKGUudGhpbkluc3RhbmNlcz17aW5zdGFuY2VzQ291bnQ6dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UuaW5zdGFuY2VzQ291bnQsbWF0cml4RGF0YTpBcnJheS5mcm9tKHRoaXMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeERhdGEpLG1hdHJpeEJ1ZmZlclNpemU6dGhpcy5fdGhpbkluc3RhbmNlRGF0YVN0b3JhZ2UubWF0cml4QnVmZmVyU2l6ZSxlbmFibGVQaWNraW5nOnRoaXMudGhpbkluc3RhbmNlRW5hYmxlUGlja2luZ30sdGhpcy5fdXNlclRoaW5JbnN0YW5jZUJ1ZmZlcnNTdG9yYWdlKSl7Y29uc3QgaT17ZGF0YTp7fSxzaXplczp7fSxzdHJpZGVzOnt9fTtmb3IoY29uc3QgcyBpbiB0aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2UuZGF0YSlpLmRhdGFbc109QXJyYXkuZnJvbSh0aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2UuZGF0YVtzXSksaS5zaXplc1tzXT10aGlzLl91c2VyVGhpbkluc3RhbmNlQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbc10saS5zdHJpZGVzW3NdPXRoaXMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5zdHJpZGVzW3NdO2UudGhpbkluc3RhbmNlcy51c2VyVGhpbkluc3RhbmNlPWl9cmV0dXJuIG5lLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKHRoaXMsZSksZS5yYW5nZXM9dGhpcy5zZXJpYWxpemVBbmltYXRpb25SYW5nZXMoKSxlLmxheWVyTWFzaz10aGlzLmxheWVyTWFzayxlLmFscGhhSW5kZXg9dGhpcy5hbHBoYUluZGV4LGUuaGFzVmVydGV4QWxwaGE9dGhpcy5oYXNWZXJ0ZXhBbHBoYSxlLm92ZXJsYXlBbHBoYT10aGlzLm92ZXJsYXlBbHBoYSxlLm92ZXJsYXlDb2xvcj10aGlzLm92ZXJsYXlDb2xvci5hc0FycmF5KCksZS5yZW5kZXJPdmVybGF5PXRoaXMucmVuZGVyT3ZlcmxheSxlLmFwcGx5Rm9nPXRoaXMuYXBwbHlGb2csdGhpcy5hY3Rpb25NYW5hZ2VyJiYoZS5hY3Rpb25zPXRoaXMuYWN0aW9uTWFuYWdlci5zZXJpYWxpemUodGhpcy5uYW1lKSksZX1fc3luY0dlb21ldHJ5V2l0aE1vcnBoVGFyZ2V0TWFuYWdlcigpe2lmKCF0aGlzLmdlb21ldHJ5KXJldHVybjt0aGlzLl9tYXJrU3ViTWVzaGVzQXNBdHRyaWJ1dGVzRGlydHkoKTtjb25zdCBlPXRoaXMuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21vcnBoVGFyZ2V0TWFuYWdlcjtpZihlJiZlLnZlcnRleENvdW50KXtpZihlLnZlcnRleENvdW50IT09dGhpcy5nZXRUb3RhbFZlcnRpY2VzKCkpe08uRXJyb3IoIk1lc2ggaXMgaW5jb21wYXRpYmxlIHdpdGggbW9ycGggdGFyZ2V0cy4gVGFyZ2V0cyBhbmQgbWVzaCBtdXN0IGFsbCBoYXZlIHRoZSBzYW1lIHZlcnRpY2VzIGNvdW50LiIpLHRoaXMubW9ycGhUYXJnZXRNYW5hZ2VyPW51bGw7cmV0dXJufWlmKGUuaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzKXJldHVybjtmb3IobGV0IHQ9MDt0PGUubnVtSW5mbHVlbmNlcnM7dCsrKXtjb25zdCBpPWUuZ2V0QWN0aXZlVGFyZ2V0KHQpLHM9aS5nZXRQb3NpdGlvbnMoKTtpZighcyl7Ty5FcnJvcigiSW52YWxpZCBtb3JwaCB0YXJnZXQuIFRhcmdldCBtdXN0IGhhdmUgcG9zaXRpb25zLiIpO3JldHVybn10aGlzLmdlb21ldHJ5LnNldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCt0LHMsITEsMyk7Y29uc3Qgcj1pLmdldE5vcm1hbHMoKTtyJiZ0aGlzLmdlb21ldHJ5LnNldFZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQrdCxyLCExLDMpO2NvbnN0IG49aS5nZXRUYW5nZW50cygpO24mJnRoaXMuZ2VvbWV0cnkuc2V0VmVydGljZXNEYXRhKGcuVGFuZ2VudEtpbmQrdCxuLCExLDMpO2NvbnN0IGE9aS5nZXRVVnMoKTthJiZ0aGlzLmdlb21ldHJ5LnNldFZlcnRpY2VzRGF0YShnLlVWS2luZCsiXyIrdCxhLCExLDIpfX1lbHNle2xldCB0PTA7Zm9yKDt0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChnLlBvc2l0aW9uS2luZCt0KTspdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQrdCksdGhpcy5nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kK3QpJiZ0aGlzLmdlb21ldHJ5LnJlbW92ZVZlcnRpY2VzRGF0YShnLk5vcm1hbEtpbmQrdCksdGhpcy5nZW9tZXRyeS5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5UYW5nZW50S2luZCt0KSYmdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEoZy5UYW5nZW50S2luZCt0KSx0aGlzLmdlb21ldHJ5LmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWS2luZCt0KSYmdGhpcy5nZW9tZXRyeS5yZW1vdmVWZXJ0aWNlc0RhdGEoZy5VVktpbmQrIl8iK3QpLHQrK319c3RhdGljIFBhcnNlKGUsdCxpKXtsZXQgcztpZihlLnR5cGUmJmUudHlwZT09PSJMaW5lc01lc2giP3M9ei5fTGluZXNNZXNoUGFyc2VyKGUsdCk6ZS50eXBlJiZlLnR5cGU9PT0iR3JvdW5kTWVzaCI/cz16Ll9Hcm91bmRNZXNoUGFyc2VyKGUsdCk6ZS50eXBlJiZlLnR5cGU9PT0iR29sZGJlcmdNZXNoIj9zPXouX0dvbGRiZXJnTWVzaFBhcnNlcihlLHQpOnM9bmV3IHooZS5uYW1lLHQpLHMuaWQ9ZS5pZCxzLl93YWl0aW5nUGFyc2VkVW5pcXVlSWQ9ZS51bmlxdWVJZCxmZSYmZmUuQWRkVGFnc1RvKHMsZS50YWdzKSxzLnBvc2l0aW9uPXAuRnJvbUFycmF5KGUucG9zaXRpb24pLGUubWV0YWRhdGEhPT12b2lkIDAmJihzLm1ldGFkYXRhPWUubWV0YWRhdGEpLGUucm90YXRpb25RdWF0ZXJuaW9uP3Mucm90YXRpb25RdWF0ZXJuaW9uPVouRnJvbUFycmF5KGUucm90YXRpb25RdWF0ZXJuaW9uKTplLnJvdGF0aW9uJiYocy5yb3RhdGlvbj1wLkZyb21BcnJheShlLnJvdGF0aW9uKSkscy5zY2FsaW5nPXAuRnJvbUFycmF5KGUuc2NhbGluZyksZS5sb2NhbE1hdHJpeD9zLnNldFByZVRyYW5zZm9ybU1hdHJpeChNLkZyb21BcnJheShlLmxvY2FsTWF0cml4KSk6ZS5waXZvdE1hdHJpeCYmcy5zZXRQaXZvdE1hdHJpeChNLkZyb21BcnJheShlLnBpdm90TWF0cml4KSkscy5zZXRFbmFibGVkKGUuaXNFbmFibGVkKSxzLmlzVmlzaWJsZT1lLmlzVmlzaWJsZSxzLmluZmluaXRlRGlzdGFuY2U9ZS5pbmZpbml0ZURpc3RhbmNlLHMuc2hvd0JvdW5kaW5nQm94PWUuc2hvd0JvdW5kaW5nQm94LHMuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94PWUuc2hvd1N1Yk1lc2hlc0JvdW5kaW5nQm94LGUuYXBwbHlGb2chPT12b2lkIDAmJihzLmFwcGx5Rm9nPWUuYXBwbHlGb2cpLGUucGlja2FibGUhPT12b2lkIDAmJihzLmlzUGlja2FibGU9ZS5waWNrYWJsZSksZS5hbHBoYUluZGV4IT09dm9pZCAwJiYocy5hbHBoYUluZGV4PWUuYWxwaGFJbmRleCkscy5yZWNlaXZlU2hhZG93cz1lLnJlY2VpdmVTaGFkb3dzLGUuYmlsbGJvYXJkTW9kZSE9PXZvaWQgMCYmKHMuYmlsbGJvYXJkTW9kZT1lLmJpbGxib2FyZE1vZGUpLGUudmlzaWJpbGl0eSE9PXZvaWQgMCYmKHMudmlzaWJpbGl0eT1lLnZpc2liaWxpdHkpLHMuY2hlY2tDb2xsaXNpb25zPWUuY2hlY2tDb2xsaXNpb25zLHMub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbj1lLm92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24sZS5pc0Jsb2NrZXIhPT12b2lkIDAmJihzLmlzQmxvY2tlcj1lLmlzQmxvY2tlcikscy5fc2hvdWxkR2VuZXJhdGVGbGF0U2hhZGluZz1lLnVzZUZsYXRTaGFkaW5nLGUuZnJlZXplV29ybGRNYXRyaXgmJihzLl93YWl0aW5nRGF0YS5mcmVlemVXb3JsZE1hdHJpeD1lLmZyZWV6ZVdvcmxkTWF0cml4KSxlLnBhcmVudElkIT09dm9pZCAwJiYocy5fd2FpdGluZ1BhcmVudElkPWUucGFyZW50SWQpLGUucGFyZW50SW5zdGFuY2VJbmRleCE9PXZvaWQgMCYmKHMuX3dhaXRpbmdQYXJlbnRJbnN0YW5jZUluZGV4PWUucGFyZW50SW5zdGFuY2VJbmRleCksZS5hY3Rpb25zIT09dm9pZCAwJiYocy5fd2FpdGluZ0RhdGEuYWN0aW9ucz1lLmFjdGlvbnMpLGUub3ZlcmxheUFscGhhIT09dm9pZCAwJiYocy5vdmVybGF5QWxwaGE9ZS5vdmVybGF5QWxwaGEpLGUub3ZlcmxheUNvbG9yIT09dm9pZCAwJiYocy5vdmVybGF5Q29sb3I9cmUuRnJvbUFycmF5KGUub3ZlcmxheUNvbG9yKSksZS5yZW5kZXJPdmVybGF5IT09dm9pZCAwJiYocy5yZW5kZXJPdmVybGF5PWUucmVuZGVyT3ZlcmxheSkscy5pc1VuSW5kZXhlZD0hIWUuaXNVbkluZGV4ZWQscy5oYXNWZXJ0ZXhBbHBoYT1lLmhhc1ZlcnRleEFscGhhLGUuZGVsYXlMb2FkaW5nRmlsZT8ocy5kZWxheUxvYWRTdGF0ZT00LHMuZGVsYXlMb2FkaW5nRmlsZT1pK2UuZGVsYXlMb2FkaW5nRmlsZSxzLmJ1aWxkQm91bmRpbmdJbmZvKHAuRnJvbUFycmF5KGUuYm91bmRpbmdCb3hNaW5pbXVtKSxwLkZyb21BcnJheShlLmJvdW5kaW5nQm94TWF4aW11bSkpLGUuX2JpbmFyeUluZm8mJihzLl9iaW5hcnlJbmZvPWUuX2JpbmFyeUluZm8pLHMuX2RlbGF5SW5mbz1bXSxlLmhhc1VWcyYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVktpbmQpLGUuaGFzVVZzMiYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjJLaW5kKSxlLmhhc1VWczMmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVYzS2luZCksZS5oYXNVVnM0JiZzLl9kZWxheUluZm8ucHVzaChnLlVWNEtpbmQpLGUuaGFzVVZzNSYmcy5fZGVsYXlJbmZvLnB1c2goZy5VVjVLaW5kKSxlLmhhc1VWczYmJnMuX2RlbGF5SW5mby5wdXNoKGcuVVY2S2luZCksZS5oYXNDb2xvcnMmJnMuX2RlbGF5SW5mby5wdXNoKGcuQ29sb3JLaW5kKSxlLmhhc01hdHJpY2VzSW5kaWNlcyYmcy5fZGVsYXlJbmZvLnB1c2goZy5NYXRyaWNlc0luZGljZXNLaW5kKSxlLmhhc01hdHJpY2VzV2VpZ2h0cyYmcy5fZGVsYXlJbmZvLnB1c2goZy5NYXRyaWNlc1dlaWdodHNLaW5kKSxzLl9kZWxheUxvYWRpbmdGdW5jdGlvbj1vdC5fSW1wb3J0R2VvbWV0cnksRmUuRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWwmJnMuX2NoZWNrRGVsYXlTdGF0ZSgpKTpvdC5fSW1wb3J0R2VvbWV0cnkoZSxzKSxlLm1hdGVyaWFsVW5pcXVlSWQ/cy5fd2FpdGluZ01hdGVyaWFsSWQ9ZS5tYXRlcmlhbFVuaXF1ZUlkOmUubWF0ZXJpYWxJZCYmKHMuX3dhaXRpbmdNYXRlcmlhbElkPWUubWF0ZXJpYWxJZCksZS5tb3JwaFRhcmdldE1hbmFnZXJJZD4tMSYmKHMubW9ycGhUYXJnZXRNYW5hZ2VyPXQuZ2V0TW9ycGhUYXJnZXRNYW5hZ2VyQnlJZChlLm1vcnBoVGFyZ2V0TWFuYWdlcklkKSksZS5za2VsZXRvbklkIT09dm9pZCAwJiZlLnNrZWxldG9uSWQhPT1udWxsJiYocy5za2VsZXRvbj10LmdldExhc3RTa2VsZXRvbkJ5SWQoZS5za2VsZXRvbklkKSxlLm51bUJvbmVJbmZsdWVuY2VycyYmKHMubnVtQm9uZUluZmx1ZW5jZXJzPWUubnVtQm9uZUluZmx1ZW5jZXJzKSksZS5hbmltYXRpb25zKXtmb3IobGV0IHI9MDtyPGUuYW5pbWF0aW9ucy5sZW5ndGg7cisrKXtjb25zdCBuPWUuYW5pbWF0aW9uc1tyXSxhPWFpKCJCQUJZTE9OLkFuaW1hdGlvbiIpO2EmJnMuYW5pbWF0aW9ucy5wdXNoKGEuUGFyc2UobikpfXplLlBhcnNlQW5pbWF0aW9uUmFuZ2VzKHMsZSx0KX1pZihlLmF1dG9BbmltYXRlJiZ0LmJlZ2luQW5pbWF0aW9uKHMsZS5hdXRvQW5pbWF0ZUZyb20sZS5hdXRvQW5pbWF0ZVRvLGUuYXV0b0FuaW1hdGVMb29wLGUuYXV0b0FuaW1hdGVTcGVlZHx8MSksZS5sYXllck1hc2smJiFpc05hTihlLmxheWVyTWFzayk/cy5sYXllck1hc2s9TWF0aC5hYnMocGFyc2VJbnQoZS5sYXllck1hc2spKTpzLmxheWVyTWFzaz0yNjg0MzU0NTUsZS5waHlzaWNzSW1wb3N0b3ImJnouX1BoeXNpY3NJbXBvc3RvclBhcnNlcih0LHMsZSksZS5sb2RNZXNoSWRzJiYocy5fd2FpdGluZ0RhdGEubG9kcz17aWRzOmUubG9kTWVzaElkcyxkaXN0YW5jZXM6ZS5sb2REaXN0YW5jZXM/ZS5sb2REaXN0YW5jZXM6bnVsbCxjb3ZlcmFnZXM6ZS5sb2RDb3ZlcmFnZXM/ZS5sb2RDb3ZlcmFnZXM6bnVsbH0pLGUuaW5zdGFuY2VzKWZvcihsZXQgcj0wO3I8ZS5pbnN0YW5jZXMubGVuZ3RoO3IrKyl7Y29uc3Qgbj1lLmluc3RhbmNlc1tyXSxhPXMuY3JlYXRlSW5zdGFuY2Uobi5uYW1lKTtpZihuLmlkJiYoYS5pZD1uLmlkKSxmZSYmKG4udGFncz9mZS5BZGRUYWdzVG8oYSxuLnRhZ3MpOmZlLkFkZFRhZ3NUbyhhLGUudGFncykpLGEucG9zaXRpb249cC5Gcm9tQXJyYXkobi5wb3NpdGlvbiksbi5tZXRhZGF0YSE9PXZvaWQgMCYmKGEubWV0YWRhdGE9bi5tZXRhZGF0YSksbi5wYXJlbnRJZCE9PXZvaWQgMCYmKGEuX3dhaXRpbmdQYXJlbnRJZD1uLnBhcmVudElkKSxuLnBhcmVudEluc3RhbmNlSW5kZXghPT12b2lkIDAmJihhLl93YWl0aW5nUGFyZW50SW5zdGFuY2VJbmRleD1uLnBhcmVudEluc3RhbmNlSW5kZXgpLG4uaXNFbmFibGVkIT09dm9pZCAwJiZuLmlzRW5hYmxlZCE9PW51bGwmJmEuc2V0RW5hYmxlZChuLmlzRW5hYmxlZCksbi5pc1Zpc2libGUhPT12b2lkIDAmJm4uaXNWaXNpYmxlIT09bnVsbCYmKGEuaXNWaXNpYmxlPW4uaXNWaXNpYmxlKSxuLmlzUGlja2FibGUhPT12b2lkIDAmJm4uaXNQaWNrYWJsZSE9PW51bGwmJihhLmlzUGlja2FibGU9bi5pc1BpY2thYmxlKSxuLnJvdGF0aW9uUXVhdGVybmlvbj9hLnJvdGF0aW9uUXVhdGVybmlvbj1aLkZyb21BcnJheShuLnJvdGF0aW9uUXVhdGVybmlvbik6bi5yb3RhdGlvbiYmKGEucm90YXRpb249cC5Gcm9tQXJyYXkobi5yb3RhdGlvbikpLGEuc2NhbGluZz1wLkZyb21BcnJheShuLnNjYWxpbmcpLG4uY2hlY2tDb2xsaXNpb25zIT1udWxsJiZuLmNoZWNrQ29sbGlzaW9ucyE9bnVsbCYmKGEuY2hlY2tDb2xsaXNpb25zPW4uY2hlY2tDb2xsaXNpb25zKSxuLnBpY2thYmxlIT1udWxsJiZuLnBpY2thYmxlIT1udWxsJiYoYS5pc1BpY2thYmxlPW4ucGlja2FibGUpLG4uc2hvd0JvdW5kaW5nQm94IT1udWxsJiZuLnNob3dCb3VuZGluZ0JveCE9bnVsbCYmKGEuc2hvd0JvdW5kaW5nQm94PW4uc2hvd0JvdW5kaW5nQm94KSxuLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveCE9bnVsbCYmbi5zaG93U3ViTWVzaGVzQm91bmRpbmdCb3ghPW51bGwmJihhLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveD1uLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveCksbi5hbHBoYUluZGV4IT1udWxsJiZuLnNob3dTdWJNZXNoZXNCb3VuZGluZ0JveCE9bnVsbCYmKGEuYWxwaGFJbmRleD1uLmFscGhhSW5kZXgpLG4ucGh5c2ljc0ltcG9zdG9yJiZ6Ll9QaHlzaWNzSW1wb3N0b3JQYXJzZXIodCxhLG4pLG4uYWN0aW9ucyE9PXZvaWQgMCYmKGEuX3dhaXRpbmdEYXRhLmFjdGlvbnM9bi5hY3Rpb25zKSxuLmFuaW1hdGlvbnMpe2ZvcihsZXQgbz0wO288bi5hbmltYXRpb25zLmxlbmd0aDtvKyspe2NvbnN0IGg9bi5hbmltYXRpb25zW29dLGw9YWkoIkJBQllMT04uQW5pbWF0aW9uIik7bCYmYS5hbmltYXRpb25zLnB1c2gobC5QYXJzZShoKSl9emUuUGFyc2VBbmltYXRpb25SYW5nZXMoYSxuLHQpLG4uYXV0b0FuaW1hdGUmJnQuYmVnaW5BbmltYXRpb24oYSxuLmF1dG9BbmltYXRlRnJvbSxuLmF1dG9BbmltYXRlVG8sbi5hdXRvQW5pbWF0ZUxvb3Asbi5hdXRvQW5pbWF0ZVNwZWVkfHwxKX19aWYoZS50aGluSW5zdGFuY2VzKXtjb25zdCByPWUudGhpbkluc3RhbmNlcztpZihzLnRoaW5JbnN0YW5jZUVuYWJsZVBpY2tpbmc9ISFyLmVuYWJsZVBpY2tpbmcsci5tYXRyaXhEYXRhPyhzLnRoaW5JbnN0YW5jZVNldEJ1ZmZlcigibWF0cml4IixuZXcgRmxvYXQzMkFycmF5KHIubWF0cml4RGF0YSksMTYsITEpLHMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeEJ1ZmZlclNpemU9ci5tYXRyaXhCdWZmZXJTaXplLHMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0NvdW50PXIuaW5zdGFuY2VzQ291bnQpOnMuX3RoaW5JbnN0YW5jZURhdGFTdG9yYWdlLm1hdHJpeEJ1ZmZlclNpemU9ci5tYXRyaXhCdWZmZXJTaXplLGUudGhpbkluc3RhbmNlcy51c2VyVGhpbkluc3RhbmNlKXtjb25zdCBuPWUudGhpbkluc3RhbmNlcy51c2VyVGhpbkluc3RhbmNlO2Zvcihjb25zdCBhIGluIG4uZGF0YSlzLnRoaW5JbnN0YW5jZVNldEJ1ZmZlcihhLG5ldyBGbG9hdDMyQXJyYXkobi5kYXRhW2FdKSxuLnN0cmlkZXNbYV0sITEpLHMuX3VzZXJUaGluSW5zdGFuY2VCdWZmZXJzU3RvcmFnZS5zaXplc1thXT1uLnNpemVzW2FdfX1yZXR1cm4gc31zZXRQb3NpdGlvbnNGb3JDUFVTa2lubmluZygpe2NvbnN0IGU9dGhpcy5faW50ZXJuYWxNZXNoRGF0YUluZm87aWYoIWUuX3NvdXJjZVBvc2l0aW9ucyl7Y29uc3QgdD10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7aWYoIXQpcmV0dXJuIGUuX3NvdXJjZVBvc2l0aW9ucztlLl9zb3VyY2VQb3NpdGlvbnM9bmV3IEZsb2F0MzJBcnJheSh0KSx0aGlzLmlzVmVydGV4QnVmZmVyVXBkYXRhYmxlKGcuUG9zaXRpb25LaW5kKXx8dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQsdCwhMCl9cmV0dXJuIGUuX3NvdXJjZVBvc2l0aW9uc31zZXROb3JtYWxzRm9yQ1BVU2tpbm5pbmcoKXtjb25zdCBlPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCFlLl9zb3VyY2VOb3JtYWxzKXtjb25zdCB0PXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTm9ybWFsS2luZCk7aWYoIXQpcmV0dXJuIGUuX3NvdXJjZU5vcm1hbHM7ZS5fc291cmNlTm9ybWFscz1uZXcgRmxvYXQzMkFycmF5KHQpLHRoaXMuaXNWZXJ0ZXhCdWZmZXJVcGRhdGFibGUoZy5Ob3JtYWxLaW5kKXx8dGhpcy5zZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHQsITApfXJldHVybiBlLl9zb3VyY2VOb3JtYWxzfWFwcGx5U2tlbGV0b24oZSl7aWYoIXRoaXMuZ2VvbWV0cnkpcmV0dXJuIHRoaXM7aWYodGhpcy5nZW9tZXRyeS5fc29mdHdhcmVTa2lubmluZ0ZyYW1lSWQ9PXRoaXMuZ2V0U2NlbmUoKS5nZXRGcmFtZUlkKCkpcmV0dXJuIHRoaXM7aWYodGhpcy5nZW9tZXRyeS5fc29mdHdhcmVTa2lubmluZ0ZyYW1lSWQ9dGhpcy5nZXRTY2VuZSgpLmdldEZyYW1lSWQoKSwhdGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Qb3NpdGlvbktpbmQpKXJldHVybiB0aGlzO2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpKXJldHVybiB0aGlzO2lmKCF0aGlzLmlzVmVydGljZXNEYXRhUHJlc2VudChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpKXJldHVybiB0aGlzO2NvbnN0IHQ9dGhpcy5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSxpPXRoaXMuX2ludGVybmFsTWVzaERhdGFJbmZvO2lmKCFpLl9zb3VyY2VQb3NpdGlvbnMpe2NvbnN0IEU9dGhpcy5zdWJNZXNoZXMuc2xpY2UoKTt0aGlzLnNldFBvc2l0aW9uc0ZvckNQVVNraW5uaW5nKCksdGhpcy5zdWJNZXNoZXM9RX10JiYhaS5fc291cmNlTm9ybWFscyYmdGhpcy5zZXROb3JtYWxzRm9yQ1BVU2tpbm5pbmcoKTtsZXQgcz10aGlzLmdldFZlcnRpY2VzRGF0YShnLlBvc2l0aW9uS2luZCk7aWYoIXMpcmV0dXJuIHRoaXM7cyBpbnN0YW5jZW9mIEZsb2F0MzJBcnJheXx8KHM9bmV3IEZsb2F0MzJBcnJheShzKSk7bGV0IHI9dGhpcy5nZXRWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kKTtpZih0KXtpZighcilyZXR1cm4gdGhpcztyIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5fHwocj1uZXcgRmxvYXQzMkFycmF5KHIpKX1jb25zdCBuPXRoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzS2luZCksYT10aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpO2lmKCFhfHwhbilyZXR1cm4gdGhpcztjb25zdCBvPXRoaXMubnVtQm9uZUluZmx1ZW5jZXJzPjQsaD1vP3RoaXMuZ2V0VmVydGljZXNEYXRhKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKTpudWxsLGw9bz90aGlzLmdldFZlcnRpY2VzRGF0YShnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCk6bnVsbCx1PWUuZ2V0VHJhbnNmb3JtTWF0cmljZXModGhpcyksZD1wLlplcm8oKSxfPW5ldyBNLGY9bmV3IE07bGV0IG09MCx2O2ZvcihsZXQgRT0wO0U8cy5sZW5ndGg7RSs9MyxtKz00KXtsZXQgUztmb3Iodj0wO3Y8NDt2KyspUz1hW20rdl0sUz4wJiYoTS5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQodSxNYXRoLmZsb29yKG5bbSt2XSoxNiksUyxmKSxfLmFkZFRvU2VsZihmKSk7aWYobylmb3Iodj0wO3Y8NDt2KyspUz1sW20rdl0sUz4wJiYoTS5Gcm9tRmxvYXQzMkFycmF5VG9SZWZTY2FsZWQodSxNYXRoLmZsb29yKGhbbSt2XSoxNiksUyxmKSxfLmFkZFRvU2VsZihmKSk7cC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihpLl9zb3VyY2VQb3NpdGlvbnNbRV0saS5fc291cmNlUG9zaXRpb25zW0UrMV0saS5fc291cmNlUG9zaXRpb25zW0UrMl0sXyxkKSxkLnRvQXJyYXkocyxFKSx0JiYocC5UcmFuc2Zvcm1Ob3JtYWxGcm9tRmxvYXRzVG9SZWYoaS5fc291cmNlTm9ybWFsc1tFXSxpLl9zb3VyY2VOb3JtYWxzW0UrMV0saS5fc291cmNlTm9ybWFsc1tFKzJdLF8sZCksZC50b0FycmF5KHIsRSkpLF8ucmVzZXQoKX1yZXR1cm4gdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Qb3NpdGlvbktpbmQscyksdCYmdGhpcy51cGRhdGVWZXJ0aWNlc0RhdGEoZy5Ob3JtYWxLaW5kLHIpLHRoaXN9c3RhdGljIE1pbk1heChlKXtsZXQgdD1udWxsLGk9bnVsbDtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKHMpe2NvbnN0IG49cy5nZXRCb3VuZGluZ0luZm8oKS5ib3VuZGluZ0JveDshdHx8IWk/KHQ9bi5taW5pbXVtV29ybGQsaT1uLm1heGltdW1Xb3JsZCk6KHQubWluaW1pemVJblBsYWNlKG4ubWluaW11bVdvcmxkKSxpLm1heGltaXplSW5QbGFjZShuLm1heGltdW1Xb3JsZCkpfSksIXR8fCFpP3ttaW46cC5aZXJvKCksbWF4OnAuWmVybygpfTp7bWluOnQsbWF4Oml9fXN0YXRpYyBDZW50ZXIoZSl7Y29uc3QgdD1lIGluc3RhbmNlb2YgQXJyYXk/ei5NaW5NYXgoZSk6ZTtyZXR1cm4gcC5DZW50ZXIodC5taW4sdC5tYXgpfXN0YXRpYyBNZXJnZU1lc2hlcyhlLHQ9ITAsaSxzLHIsbil7cmV0dXJuIExzKHouX01lcmdlTWVzaGVzQ29yb3V0aW5lKGUsdCxpLHMscixuLCExKSl9c3RhdGljIE1lcmdlTWVzaGVzQXN5bmMoZSx0PSEwLGkscyxyLG4pe3JldHVybiBVbih6Ll9NZXJnZU1lc2hlc0Nvcm91dGluZShlLHQsaSxzLHIsbiwhMCksQm4oKSl9c3RhdGljKl9NZXJnZU1lc2hlc0Nvcm91dGluZShlLHQ9ITAsaSxzLHIsbixhKXtpZihlPWUuZmlsdGVyKEJvb2xlYW4pLGUubGVuZ3RoPT09MClyZXR1cm4gbnVsbDtsZXQgbztpZighaSl7bGV0IHg9MDtmb3Iobz0wO288ZS5sZW5ndGg7bysrKWlmKHgrPWVbb10uZ2V0VG90YWxWZXJ0aWNlcygpLHg+PTY1NTM2KXJldHVybiBPLldhcm4oIkNhbm5vdCBtZXJnZSBtZXNoZXMgYmVjYXVzZSByZXN1bHRpbmcgbWVzaCB3aWxsIGhhdmUgbW9yZSB0aGFuIDY1NTM2IHZlcnRpY2VzLiBQbGVhc2UgdXNlIGFsbG93MzJCaXRzSW5kaWNlcyA9IHRydWUgdG8gdXNlIDMyIGJpdHMgaW5kaWNlcyIpLG51bGx9biYmKHI9ITEpO2NvbnN0IGg9bmV3IEFycmF5LGw9bmV3IEFycmF5LHU9bmV3IEFycmF5LGQ9ZVswXS5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uO2ZvcihvPTA7bzxlLmxlbmd0aDtvKyspe2NvbnN0IHg9ZVtvXTtpZih4LmlzQW5JbnN0YW5jZSlyZXR1cm4gTy5XYXJuKCJDYW5ub3QgbWVyZ2UgaW5zdGFuY2UgbWVzaGVzLiIpLG51bGw7aWYoZCE9PXgub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbilyZXR1cm4gTy5XYXJuKCJDYW5ub3QgbWVyZ2UgbWVzaGVzIHdpdGggZGlmZmVyZW50IG92ZXJyaWRlTWF0ZXJpYWxTaWRlT3JpZW50YXRpb24gdmFsdWVzLiIpLG51bGw7aWYociYmdS5wdXNoKHguZ2V0VG90YWxJbmRpY2VzKCkpLG4paWYoeC5tYXRlcmlhbCl7Y29uc3QgST14Lm1hdGVyaWFsO2lmKEkgaW5zdGFuY2VvZiBSaSl7Zm9yKGxldCBVPTA7VTxJLnN1Yk1hdGVyaWFscy5sZW5ndGg7VSsrKWguaW5kZXhPZihJLnN1Yk1hdGVyaWFsc1tVXSk8MCYmaC5wdXNoKEkuc3ViTWF0ZXJpYWxzW1VdKTtmb3IobGV0IFU9MDtVPHguc3ViTWVzaGVzLmxlbmd0aDtVKyspbC5wdXNoKGguaW5kZXhPZihJLnN1Yk1hdGVyaWFsc1t4LnN1Yk1lc2hlc1tVXS5tYXRlcmlhbEluZGV4XSkpLHUucHVzaCh4LnN1Yk1lc2hlc1tVXS5pbmRleENvdW50KX1lbHNle2guaW5kZXhPZihJKTwwJiZoLnB1c2goSSk7Zm9yKGxldCBVPTA7VTx4LnN1Yk1lc2hlcy5sZW5ndGg7VSsrKWwucHVzaChoLmluZGV4T2YoSSkpLHUucHVzaCh4LnN1Yk1lc2hlc1tVXS5pbmRleENvdW50KX19ZWxzZSBmb3IobGV0IEk9MDtJPHguc3ViTWVzaGVzLmxlbmd0aDtJKyspbC5wdXNoKDApLHUucHVzaCh4LnN1Yk1lc2hlc1tJXS5pbmRleENvdW50KX1jb25zdCBfPWVbMF0sZj14PT57Y29uc3QgST14LmNvbXB1dGVXb3JsZE1hdHJpeCghMCk7cmV0dXJue3ZlcnRleERhdGE6dGUuRXh0cmFjdEZyb21NZXNoKHgsITEsITEpLHRyYW5zZm9ybTpJfX0se3ZlcnRleERhdGE6bSx0cmFuc2Zvcm06dn09ZihfKTthJiYoeWllbGQpO2NvbnN0IEU9bmV3IEFycmF5KGUubGVuZ3RoLTEpO2ZvcihsZXQgeD0xO3g8ZS5sZW5ndGg7eCsrKUVbeC0xXT1mKGVbeF0pLGEmJih5aWVsZCk7Y29uc3QgUz1tLl9tZXJnZUNvcm91dGluZSh2LEUsaSxhLCF0KTtsZXQgUj1TLm5leHQoKTtmb3IoOyFSLmRvbmU7KWEmJih5aWVsZCksUj1TLm5leHQoKTtjb25zdCBBPVIudmFsdWU7c3x8KHM9bmV3IHooXy5uYW1lKyJfbWVyZ2VkIixfLmdldFNjZW5lKCkpKTtjb25zdCBDPUEuX2FwcGx5VG9Db3JvdXRpbmUocyx2b2lkIDAsYSk7bGV0IGI9Qy5uZXh0KCk7Zm9yKDshYi5kb25lOylhJiYoeWllbGQpLGI9Qy5uZXh0KCk7aWYocy5jaGVja0NvbGxpc2lvbnM9Xy5jaGVja0NvbGxpc2lvbnMscy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPV8ub3ZlcnJpZGVNYXRlcmlhbFNpZGVPcmllbnRhdGlvbix0KWZvcihvPTA7bzxlLmxlbmd0aDtvKyspZVtvXS5kaXNwb3NlKCk7aWYocnx8bil7cy5yZWxlYXNlU3ViTWVzaGVzKCksbz0wO2xldCB4PTA7Zm9yKDtvPHUubGVuZ3RoOylUdC5DcmVhdGVGcm9tSW5kaWNlcygwLHgsdVtvXSxzLHZvaWQgMCwhMSkseCs9dVtvXSxvKys7Zm9yKGNvbnN0IEkgb2Ygcy5zdWJNZXNoZXMpSS5yZWZyZXNoQm91bmRpbmdJbmZvKCk7cy5jb21wdXRlV29ybGRNYXRyaXgoITApfWlmKG4pe2NvbnN0IHg9bmV3IFJpKF8ubmFtZSsiX21lcmdlZCIsXy5nZXRTY2VuZSgpKTt4LnN1Yk1hdGVyaWFscz1oO2ZvcihsZXQgST0wO0k8cy5zdWJNZXNoZXMubGVuZ3RoO0krKylzLnN1Yk1lc2hlc1tJXS5tYXRlcmlhbEluZGV4PWxbSV07cy5tYXRlcmlhbD14fWVsc2Ugcy5tYXRlcmlhbD1fLm1hdGVyaWFsO3JldHVybiBzfWFkZEluc3RhbmNlKGUpe2UuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT10aGlzLmluc3RhbmNlcy5sZW5ndGgsdGhpcy5pbnN0YW5jZXMucHVzaChlKX1yZW1vdmVJbnN0YW5jZShlKXtjb25zdCB0PWUuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheTtpZih0IT0tMSl7aWYodCE9PXRoaXMuaW5zdGFuY2VzLmxlbmd0aC0xKXtjb25zdCBpPXRoaXMuaW5zdGFuY2VzW3RoaXMuaW5zdGFuY2VzLmxlbmd0aC0xXTt0aGlzLmluc3RhbmNlc1t0XT1pLGkuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT10fWUuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheT0tMSx0aGlzLmluc3RhbmNlcy5wb3AoKX19X3Nob3VsZENvbnZlcnRSSFMoKXtyZXR1cm4gdGhpcy5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uPT09RC5Db3VudGVyQ2xvY2tXaXNlU2lkZU9yaWVudGF0aW9ufV9nZXRSZW5kZXJpbmdGaWxsTW9kZShlKXt2YXIgdDtjb25zdCBpPXRoaXMuZ2V0U2NlbmUoKTtyZXR1cm4gaS5mb3JjZVBvaW50c0Nsb3VkP0QuUG9pbnRGaWxsTW9kZTppLmZvcmNlV2lyZWZyYW1lP0QuV2lyZUZyYW1lRmlsbE1vZGU6KHQ9dGhpcy5vdmVycmlkZVJlbmRlcmluZ0ZpbGxNb2RlKSE9PW51bGwmJnQhPT12b2lkIDA/dDplfX16LkZST05UU0lERT10ZS5GUk9OVFNJREUsei5CQUNLU0lERT10ZS5CQUNLU0lERSx6LkRPVUJMRVNJREU9dGUuRE9VQkxFU0lERSx6LkRFRkFVTFRTSURFPXRlLkRFRkFVTFRTSURFLHouTk9fQ0FQPTAsei5DQVBfU1RBUlQ9MSx6LkNBUF9FTkQ9Mix6LkNBUF9BTEw9Myx6Lk5PX0ZMSVA9MCx6LkZMSVBfVElMRT0xLHouUk9UQVRFX1RJTEU9Mix6LkZMSVBfUk9XPTMsei5ST1RBVEVfUk9XPTQsei5GTElQX05fUk9UQVRFX1RJTEU9NSx6LkZMSVBfTl9ST1RBVEVfUk9XPTYsei5DRU5URVI9MCx6LkxFRlQ9MSx6LlJJR0hUPTIsei5UT1A9Myx6LkJPVFRPTT00LHouSU5TVEFOQ0VETUVTSF9TT1JUX1RSQU5TUEFSRU5UPSExLHouX0dyb3VuZE1lc2hQYXJzZXI9KGMsZSk9Pnt0aHJvdyBRKCJHcm91bmRNZXNoIil9LHouX0dvbGRiZXJnTWVzaFBhcnNlcj0oYyxlKT0+e3Rocm93IFEoIkdvbGRiZXJnTWVzaCIpfSx6Ll9MaW5lc01lc2hQYXJzZXI9KGMsZSk9Pnt0aHJvdyBRKCJMaW5lc01lc2giKX0sc3QoIkJBQllMT04uTWVzaCIseiksei5wcm90b3R5cGUuc2V0TWF0ZXJpYWxCeUlEPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLnNldE1hdGVyaWFsQnlJZChjKX0sei5DcmVhdGVEaXNjPXouQ3JlYXRlRGlzY3x8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksei5DcmVhdGVCb3g9ei5DcmVhdGVCb3h8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLHouQ3JlYXRlU3BoZXJlPXouQ3JlYXRlU3BoZXJlfHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSx6LkNyZWF0ZUN5bGluZGVyPXouQ3JlYXRlQ3lsaW5kZXJ8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLHouQ3JlYXRlVG9ydXNLbm90PXouQ3JlYXRlVG9ydXNLbm90fHwoKCk9Pnt0aHJvdyBuZXcgRXJyb3IoIkltcG9ydCBNZXNoQnVpbGRlciB0byBwb3B1bGF0ZSB0aGlzIGZ1bmN0aW9uIil9KSx6LkNyZWF0ZVRvcnVzPXouQ3JlYXRlVG9ydXN8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLHouQ3JlYXRlUGxhbmU9ei5DcmVhdGVQbGFuZXx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksei5DcmVhdGVHcm91bmQ9ei5DcmVhdGVHcm91bmR8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLHouQ3JlYXRlVGlsZWRHcm91bmQ9ei5DcmVhdGVUaWxlZEdyb3VuZHx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksei5DcmVhdGVHcm91bmRGcm9tSGVpZ2h0TWFwPXouQ3JlYXRlR3JvdW5kRnJvbUhlaWdodE1hcHx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksei5DcmVhdGVUdWJlPXouQ3JlYXRlVHViZXx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksei5DcmVhdGVQb2x5aGVkcm9uPXouQ3JlYXRlUG9seWhlZHJvbnx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksei5DcmVhdGVJY29TcGhlcmU9ei5DcmVhdGVJY29TcGhlcmV8fCgoKT0+e3Rocm93IG5ldyBFcnJvcigiSW1wb3J0IE1lc2hCdWlsZGVyIHRvIHBvcHVsYXRlIHRoaXMgZnVuY3Rpb24iKX0pLHouQ3JlYXRlRGVjYWw9ei5DcmVhdGVEZWNhbHx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksei5DcmVhdGVDYXBzdWxlPXouQ3JlYXRlQ2Fwc3VsZXx8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSksei5FeHRlbmRUb0dvbGRiZXJnPXouRXh0ZW5kVG9Hb2xkYmVyZ3x8KCgpPT57dGhyb3cgbmV3IEVycm9yKCJJbXBvcnQgTWVzaEJ1aWxkZXIgdG8gcG9wdWxhdGUgdGhpcyBmdW5jdGlvbiIpfSk7Y2xhc3MgWHR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iIn1hcHBseShlLHQpe3JldHVybiEwfWNvbnN0cnVjdG9yKGU9MCl7dGhpcy5wcmlvcml0eT1lfX1jbGFzcyBrcyBleHRlbmRzIFh0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIlJlZHVjaW5nIHJlbmRlciB0YXJnZXQgdGV4dHVyZSBzaXplIHRvICIrdGhpcy5tYXhpbXVtU2l6ZX1jb25zdHJ1Y3RvcihlPTAsdD0xMDI0LGk9LjUpe3N1cGVyKGUpLHRoaXMucHJpb3JpdHk9ZSx0aGlzLm1heGltdW1TaXplPXQsdGhpcy5zdGVwPWl9YXBwbHkoZSx0KXtsZXQgaT0hMDtmb3IobGV0IHM9MDtzPGUudGV4dHVyZXMubGVuZ3RoO3MrKyl7Y29uc3Qgcj1lLnRleHR1cmVzW3NdO2lmKCFyLmNhblJlc2NhbGV8fHIuZ2V0Q29udGV4dCljb250aW51ZTtjb25zdCBuPXIuZ2V0U2l6ZSgpO01hdGgubWF4KG4ud2lkdGgsbi5oZWlnaHQpPnRoaXMubWF4aW11bVNpemUmJihyLnNjYWxlKHRoaXMuc3RlcCksaT0hMSl9cmV0dXJuIGl9fWNsYXNzIExyIGV4dGVuZHMgWHR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iU2V0dGluZyBoYXJkd2FyZSBzY2FsaW5nIGxldmVsIHRvICIrdGhpcy5fY3VycmVudFNjYWxlfWNvbnN0cnVjdG9yKGU9MCx0PTIsaT0uMjUpe3N1cGVyKGUpLHRoaXMucHJpb3JpdHk9ZSx0aGlzLm1heGltdW1TY2FsZT10LHRoaXMuc3RlcD1pLHRoaXMuX2N1cnJlbnRTY2FsZT0tMSx0aGlzLl9kaXJlY3Rpb25PZmZzZXQ9MX1hcHBseShlLHQpe3JldHVybiB0aGlzLl9jdXJyZW50U2NhbGU9PT0tMSYmKHRoaXMuX2N1cnJlbnRTY2FsZT1lLmdldEVuZ2luZSgpLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCksdGhpcy5fY3VycmVudFNjYWxlPnRoaXMubWF4aW11bVNjYWxlJiYodGhpcy5fZGlyZWN0aW9uT2Zmc2V0PS0xKSksdGhpcy5fY3VycmVudFNjYWxlKz10aGlzLl9kaXJlY3Rpb25PZmZzZXQqdGhpcy5zdGVwLGUuZ2V0RW5naW5lKCkuc2V0SGFyZHdhcmVTY2FsaW5nTGV2ZWwodGhpcy5fY3VycmVudFNjYWxlKSx0aGlzLl9kaXJlY3Rpb25PZmZzZXQ9PT0xP3RoaXMuX2N1cnJlbnRTY2FsZT49dGhpcy5tYXhpbXVtU2NhbGU6dGhpcy5fY3VycmVudFNjYWxlPD10aGlzLm1heGltdW1TY2FsZX19Y2xhc3MgVnMgZXh0ZW5kcyBYdHtnZXREZXNjcmlwdGlvbigpe3JldHVybiJUdXJuaW5nIHNoYWRvd3Mgb24vb2ZmIn1hcHBseShlLHQpe3JldHVybiBlLnNoYWRvd3NFbmFibGVkPXQuaXNJbkltcHJvdmVtZW50TW9kZSwhMH19Y2xhc3MgV3MgZXh0ZW5kcyBYdHtnZXREZXNjcmlwdGlvbigpe3JldHVybiJUdXJuaW5nIHBvc3QtcHJvY2Vzc2VzIG9uL29mZiJ9YXBwbHkoZSx0KXtyZXR1cm4gZS5wb3N0UHJvY2Vzc2VzRW5hYmxlZD10LmlzSW5JbXByb3ZlbWVudE1vZGUsITB9fWNsYXNzIHpzIGV4dGVuZHMgWHR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iVHVybmluZyBsZW5zIGZsYXJlcyBvbi9vZmYifWFwcGx5KGUsdCl7cmV0dXJuIGUubGVuc0ZsYXJlc0VuYWJsZWQ9dC5pc0luSW1wcm92ZW1lbnRNb2RlLCEwfX1jbGFzcyBqbiBleHRlbmRzIFh0e2dldERlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMub25HZXREZXNjcmlwdGlvbj90aGlzLm9uR2V0RGVzY3JpcHRpb24oKToiUnVubmluZyB1c2VyIGRlZmluZWQgY2FsbGJhY2sifWFwcGx5KGUsdCl7cmV0dXJuIHRoaXMub25BcHBseT90aGlzLm9uQXBwbHkoZSx0KTohMH19Y2xhc3MgR3MgZXh0ZW5kcyBYdHtnZXREZXNjcmlwdGlvbigpe3JldHVybiJUdXJuaW5nIHBhcnRpY2xlcyBvbi9vZmYifWFwcGx5KGUsdCl7cmV0dXJuIGUucGFydGljbGVzRW5hYmxlZD10LmlzSW5JbXByb3ZlbWVudE1vZGUsITB9fWNsYXNzIE5yIGV4dGVuZHMgWHR7Z2V0RGVzY3JpcHRpb24oKXtyZXR1cm4iVHVybmluZyByZW5kZXIgdGFyZ2V0cyBvZmYifWFwcGx5KGUsdCl7cmV0dXJuIGUucmVuZGVyVGFyZ2V0c0VuYWJsZWQ9dC5pc0luSW1wcm92ZW1lbnRNb2RlLCEwfX1jbGFzcyBKdCBleHRlbmRzIFh0e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9jYW5CZU1lcmdlZD1lPT57aWYoIShlIGluc3RhbmNlb2YgeikpcmV0dXJuITE7Y29uc3QgdD1lO3JldHVybiEodC5pc0Rpc3Bvc2VkKCl8fCF0LmlzVmlzaWJsZXx8IXQuaXNFbmFibGVkKCl8fHQuaW5zdGFuY2VzLmxlbmd0aD4wfHx0LnNrZWxldG9ufHx0Lmhhc0xPRExldmVsc3x8dC5nZXRUb3RhbFZlcnRpY2VzKCk9PT0wKX19c3RhdGljIGdldCBVcGRhdGVTZWxlY3Rpb25UcmVlKCl7cmV0dXJuIEp0Ll9VcGRhdGVTZWxlY3Rpb25UcmVlfXN0YXRpYyBzZXQgVXBkYXRlU2VsZWN0aW9uVHJlZShlKXtKdC5fVXBkYXRlU2VsZWN0aW9uVHJlZT1lfWdldERlc2NyaXB0aW9uKCl7cmV0dXJuIk1lcmdpbmcgc2ltaWxhciBtZXNoZXMgdG9nZXRoZXIifWFwcGx5KGUsdCxpKXtjb25zdCBzPWUubWVzaGVzLnNsaWNlKDApO2xldCByPXMubGVuZ3RoO2ZvcihsZXQgYT0wO2E8cjthKyspe2NvbnN0IG89bmV3IEFycmF5LGg9c1thXTtpZih0aGlzLl9jYW5CZU1lcmdlZChoKSl7by5wdXNoKGgpO2ZvcihsZXQgbD1hKzE7bDxyO2wrKyl7Y29uc3QgdT1zW2xdO3RoaXMuX2NhbkJlTWVyZ2VkKHUpJiZ1Lm1hdGVyaWFsPT09aC5tYXRlcmlhbCYmdS5jaGVja0NvbGxpc2lvbnM9PT1oLmNoZWNrQ29sbGlzaW9ucyYmKG8ucHVzaCh1KSxyLS0scy5zcGxpY2UobCwxKSxsLS0pfW8ubGVuZ3RoPDJ8fHouTWVyZ2VNZXNoZXMobyx2b2lkIDAsITApfX1jb25zdCBuPWU7cmV0dXJuIG4uY3JlYXRlT3JVcGRhdGVTZWxlY3Rpb25PY3RyZWUmJihpIT1udWxsP2kmJm4uY3JlYXRlT3JVcGRhdGVTZWxlY3Rpb25PY3RyZWUoKTpKdC5VcGRhdGVTZWxlY3Rpb25UcmVlJiZuLmNyZWF0ZU9yVXBkYXRlU2VsZWN0aW9uT2N0cmVlKCkpLCEwfX1KdC5fVXBkYXRlU2VsZWN0aW9uVHJlZT0hMTtjbGFzcyBwaXtjb25zdHJ1Y3RvcihlPTYwLHQ9MmUzKXt0aGlzLnRhcmdldEZyYW1lUmF0ZT1lLHRoaXMudHJhY2tlckR1cmF0aW9uPXQsdGhpcy5vcHRpbWl6YXRpb25zPW5ldyBBcnJheX1hZGRPcHRpbWl6YXRpb24oZSl7cmV0dXJuIHRoaXMub3B0aW1pemF0aW9ucy5wdXNoKGUpLHRoaXN9YWRkQ3VzdG9tT3B0aW1pemF0aW9uKGUsdCxpPTApe2NvbnN0IHM9bmV3IGpuKGkpO3JldHVybiBzLm9uQXBwbHk9ZSxzLm9uR2V0RGVzY3JpcHRpb249dCx0aGlzLm9wdGltaXphdGlvbnMucHVzaChzKSx0aGlzfXN0YXRpYyBMb3dEZWdyYWRhdGlvbkFsbG93ZWQoZSl7Y29uc3QgdD1uZXcgcGkoZSk7bGV0IGk9MDtyZXR1cm4gdC5hZGRPcHRpbWl6YXRpb24obmV3IEp0KGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgVnMoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyB6cyhpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBXcyhpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IEdzKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IGtzKGksMTAyNCkpLHR9c3RhdGljIE1vZGVyYXRlRGVncmFkYXRpb25BbGxvd2VkKGUpe2NvbnN0IHQ9bmV3IHBpKGUpO2xldCBpPTA7cmV0dXJuIHQuYWRkT3B0aW1pemF0aW9uKG5ldyBKdChpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IFZzKGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgenMoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgV3MoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBHcyhpKSksaSsrLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBrcyhpLDUxMikpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgTnIoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcgTHIoaSwyKSksdH1zdGF0aWMgSGlnaERlZ3JhZGF0aW9uQWxsb3dlZChlKXtjb25zdCB0PW5ldyBwaShlKTtsZXQgaT0wO3JldHVybiB0LmFkZE9wdGltaXphdGlvbihuZXcgSnQoaSkpLHQuYWRkT3B0aW1pemF0aW9uKG5ldyBWcyhpKSksdC5hZGRPcHRpbWl6YXRpb24obmV3IHpzKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IFdzKGkpKSx0LmFkZE9wdGltaXphdGlvbihuZXcgR3MoaSkpLGkrKyx0LmFkZE9wdGltaXphdGlvbihuZXcga3MoaSwyNTYpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IE5yKGkpKSxpKyssdC5hZGRPcHRpbWl6YXRpb24obmV3IExyKGksNCkpLHR9fWNsYXNzIFhze2dldCBpc0luSW1wcm92ZW1lbnRNb2RlKCl7cmV0dXJuIHRoaXMuX2ltcHJvdmVtZW50TW9kZX1zZXQgaXNJbkltcHJvdmVtZW50TW9kZShlKXt0aGlzLl9pbXByb3ZlbWVudE1vZGU9ZX1nZXQgY3VycmVudFByaW9yaXR5TGV2ZWwoKXtyZXR1cm4gdGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWx9Z2V0IGN1cnJlbnRGcmFtZVJhdGUoKXtyZXR1cm4gdGhpcy5fY3VycmVudEZyYW1lUmF0ZX1nZXQgdGFyZ2V0RnJhbWVSYXRlKCl7cmV0dXJuIHRoaXMuX3RhcmdldEZyYW1lUmF0ZX1zZXQgdGFyZ2V0RnJhbWVSYXRlKGUpe3RoaXMuX3RhcmdldEZyYW1lUmF0ZT1lfWdldCB0cmFja2VyRHVyYXRpb24oKXtyZXR1cm4gdGhpcy5fdHJhY2tlckR1cmF0aW9ufXNldCB0cmFja2VyRHVyYXRpb24oZSl7dGhpcy5fdHJhY2tlckR1cmF0aW9uPWV9Z2V0IG9wdGltaXphdGlvbnMoKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy5vcHRpbWl6YXRpb25zfWNvbnN0cnVjdG9yKGUsdCxpPSEwLHM9ITEpe2lmKHRoaXMuX2lzUnVubmluZz0hMSx0aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbD0wLHRoaXMuX3RhcmdldEZyYW1lUmF0ZT02MCx0aGlzLl90cmFja2VyRHVyYXRpb249MmUzLHRoaXMuX2N1cnJlbnRGcmFtZVJhdGU9MCx0aGlzLl9pbXByb3ZlbWVudE1vZGU9ITEsdGhpcy5vblN1Y2Nlc3NPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25OZXdPcHRpbWl6YXRpb25BcHBsaWVkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uRmFpbHVyZU9ic2VydmFibGU9bmV3IHcsdD90aGlzLl9vcHRpb25zPXQ6dGhpcy5fb3B0aW9ucz1uZXcgcGksdGhpcy5fb3B0aW9ucy50YXJnZXRGcmFtZVJhdGUmJih0aGlzLl90YXJnZXRGcmFtZVJhdGU9dGhpcy5fb3B0aW9ucy50YXJnZXRGcmFtZVJhdGUpLHRoaXMuX29wdGlvbnMudHJhY2tlckR1cmF0aW9uJiYodGhpcy5fdHJhY2tlckR1cmF0aW9uPXRoaXMuX29wdGlvbnMudHJhY2tlckR1cmF0aW9uKSxpKXtsZXQgcj0wO2Zvcihjb25zdCBuIG9mIHRoaXMuX29wdGlvbnMub3B0aW1pemF0aW9ucyluLnByaW9yaXR5PXIrK310aGlzLl9pbXByb3ZlbWVudE1vZGU9cyx0aGlzLl9zY2VuZT1lfHxsZS5MYXN0Q3JlYXRlZFNjZW5lLHRoaXMuX3NjZW5lRGlzcG9zZU9ic2VydmVyPXRoaXMuX3NjZW5lLm9uRGlzcG9zZU9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5fc2NlbmVEaXNwb3NlT2JzZXJ2ZXI9bnVsbCx0aGlzLmRpc3Bvc2UoKX0pfXN0b3AoKXt0aGlzLl9pc1J1bm5pbmc9ITF9cmVzZXQoKXt0aGlzLl9jdXJyZW50UHJpb3JpdHlMZXZlbD0wfXN0YXJ0KCl7dGhpcy5faXNSdW5uaW5nfHwodGhpcy5faXNSdW5uaW5nPSEwLHRoaXMuX3NjZW5lLmV4ZWN1dGVXaGVuUmVhZHkoKCk9PntzZXRUaW1lb3V0KCgpPT57dGhpcy5fY2hlY2tDdXJyZW50U3RhdGUoKX0sdGhpcy5fdHJhY2tlckR1cmF0aW9uKX0pKX1fY2hlY2tDdXJyZW50U3RhdGUoKXtpZighdGhpcy5faXNSdW5uaW5nKXJldHVybjtjb25zdCBlPXRoaXMuX3NjZW5lLHQ9dGhpcy5fb3B0aW9ucztpZih0aGlzLl9jdXJyZW50RnJhbWVSYXRlPU1hdGgucm91bmQoZS5nZXRFbmdpbmUoKS5nZXRGcHMoKSksdGhpcy5faW1wcm92ZW1lbnRNb2RlJiZ0aGlzLl9jdXJyZW50RnJhbWVSYXRlPD10aGlzLl90YXJnZXRGcmFtZVJhdGV8fCF0aGlzLl9pbXByb3ZlbWVudE1vZGUmJnRoaXMuX2N1cnJlbnRGcmFtZVJhdGU+PXRoaXMuX3RhcmdldEZyYW1lUmF0ZSl7dGhpcy5faXNSdW5uaW5nPSExLHRoaXMub25TdWNjZXNzT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7cmV0dXJufWxldCBpPSEwLHM9ITA7Zm9yKGxldCByPTA7cjx0Lm9wdGltaXphdGlvbnMubGVuZ3RoO3IrKyl7Y29uc3Qgbj10Lm9wdGltaXphdGlvbnNbcl07bi5wcmlvcml0eT09PXRoaXMuX2N1cnJlbnRQcmlvcml0eUxldmVsJiYocz0hMSxpPWkmJm4uYXBwbHkoZSx0aGlzKSx0aGlzLm9uTmV3T3B0aW1pemF0aW9uQXBwbGllZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKG4pKX1pZihzKXt0aGlzLl9pc1J1bm5pbmc9ITEsdGhpcy5vbkZhaWx1cmVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKTtyZXR1cm59aSYmdGhpcy5fY3VycmVudFByaW9yaXR5TGV2ZWwrKyxlLmV4ZWN1dGVXaGVuUmVhZHkoKCk9PntzZXRUaW1lb3V0KCgpPT57dGhpcy5fY2hlY2tDdXJyZW50U3RhdGUoKX0sdGhpcy5fdHJhY2tlckR1cmF0aW9uKX0pfWRpc3Bvc2UoKXt0aGlzLnN0b3AoKSx0aGlzLm9uU3VjY2Vzc09ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uRmFpbHVyZU9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uTmV3T3B0aW1pemF0aW9uQXBwbGllZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9zY2VuZURpc3Bvc2VPYnNlcnZlciYmdGhpcy5fc2NlbmUub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fc2NlbmVEaXNwb3NlT2JzZXJ2ZXIpfXN0YXRpYyBPcHRpbWl6ZUFzeW5jKGUsdCxpLHMpe2NvbnN0IHI9bmV3IFhzKGUsdHx8cGkuTW9kZXJhdGVEZWdyYWRhdGlvbkFsbG93ZWQoKSwhMSk7cmV0dXJuIGkmJnIub25TdWNjZXNzT2JzZXJ2YWJsZS5hZGQoKCk9PntpKCl9KSxzJiZyLm9uRmFpbHVyZU9ic2VydmFibGUuYWRkKCgpPT57cygpfSksci5zdGFydCgpLHJ9fWZ1bmN0aW9uICRuKGMpe2NvbnN0e2VuZ2luZTplfT1jLHQ9bmV3IGFlKGUpO3QuY2xlYXJDb2xvcj1uZXcgTmUoMCwwLDAsMCksdC5wb2ludGVyTW92ZVByZWRpY2F0ZT0oKT0+ITEsdC5wb2ludGVyRG93blByZWRpY2F0ZT0oKT0+ITEsdC5wb2ludGVyVXBQcmVkaWNhdGU9KCk9PiExLHQuY2xlYXJDYWNoZWRWZXJ0ZXhEYXRhKCksdC50aGVtZURhdGE9e307Y29uc3QgaT1waS5Mb3dEZWdyYWRhdGlvbkFsbG93ZWQoKTtyZXR1cm4gaS5vcHRpbWl6YXRpb25zPWkub3B0aW1pemF0aW9ucy5zcGxpY2UoMSksaS50YXJnZXRGcmFtZVJhdGU9NjAsWHMuT3B0aW1pemVBc3luYyh0LGkpLHR9Y2xhc3MgR2UgZXh0ZW5kcyAke2NvbnN0cnVjdG9yKGUsdCxpLHM9ITApe3N1cGVyKGUsdCxpLHMpLHRoaXMuX3RtcFVwVmVjdG9yPXAuWmVybygpLHRoaXMuX3RtcFRhcmdldFZlY3Rvcj1wLlplcm8oKSx0aGlzLmNhbWVyYURpcmVjdGlvbj1uZXcgcCgwLDAsMCksdGhpcy5jYW1lcmFSb3RhdGlvbj1uZXcgdmUoMCwwKSx0aGlzLmlnbm9yZVBhcmVudFNjYWxpbmc9ITEsdGhpcy51cGRhdGVVcFZlY3RvckZyb21Sb3RhdGlvbj0hMSx0aGlzLl90bXBRdWF0ZXJuaW9uPW5ldyBaLHRoaXMucm90YXRpb249bmV3IHAoMCwwLDApLHRoaXMuc3BlZWQ9Mix0aGlzLm5vUm90YXRpb25Db25zdHJhaW50PSExLHRoaXMuaW52ZXJ0Um90YXRpb249ITEsdGhpcy5pbnZlcnNlUm90YXRpb25TcGVlZD0uMix0aGlzLmxvY2tlZFRhcmdldD1udWxsLHRoaXMuX2N1cnJlbnRUYXJnZXQ9cC5aZXJvKCksdGhpcy5faW5pdGlhbEZvY2FsRGlzdGFuY2U9MSx0aGlzLl92aWV3TWF0cml4PU0uWmVybygpLHRoaXMuX2NhbU1hdHJpeD1NLlplcm8oKSx0aGlzLl9jYW1lcmFUcmFuc2Zvcm1NYXRyaXg9TS5aZXJvKCksdGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXg9TS5aZXJvKCksdGhpcy5fcmVmZXJlbmNlUG9pbnQ9bmV3IHAoMCwwLDEpLHRoaXMuX3RyYW5zZm9ybWVkUmVmZXJlbmNlUG9pbnQ9cC5aZXJvKCksdGhpcy5fZGVmYXVsdFVwPXAuVXAoKSx0aGlzLl9jYWNoZWRSb3RhdGlvblo9MCx0aGlzLl9jYWNoZWRRdWF0ZXJuaW9uUm90YXRpb25aPTB9Z2V0RnJvbnRQb3NpdGlvbihlKXt0aGlzLmdldFdvcmxkTWF0cml4KCk7Y29uc3QgdD10aGlzLmdldFRhcmdldCgpLnN1YnRyYWN0KHRoaXMucG9zaXRpb24pO3JldHVybiB0Lm5vcm1hbGl6ZSgpLHQuc2NhbGVJblBsYWNlKGUpLHRoaXMuZ2xvYmFsUG9zaXRpb24uYWRkKHQpfV9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbigpe2lmKCF0aGlzLmxvY2tlZFRhcmdldClyZXR1cm4gbnVsbDtpZih0aGlzLmxvY2tlZFRhcmdldC5hYnNvbHV0ZVBvc2l0aW9uKXtjb25zdCBlPXRoaXMubG9ja2VkVGFyZ2V0O2UuY29tcHV0ZVdvcmxkTWF0cml4KCkuZ2V0VHJhbnNsYXRpb25Ub1JlZihlLmFic29sdXRlUG9zaXRpb24pfXJldHVybiB0aGlzLmxvY2tlZFRhcmdldC5hYnNvbHV0ZVBvc2l0aW9ufHx0aGlzLmxvY2tlZFRhcmdldH1zdG9yZVN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0b3JlZFBvc2l0aW9uPXRoaXMucG9zaXRpb24uY2xvbmUoKSx0aGlzLl9zdG9yZWRSb3RhdGlvbj10aGlzLnJvdGF0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJih0aGlzLl9zdG9yZWRSb3RhdGlvblF1YXRlcm5pb249dGhpcy5yb3RhdGlvblF1YXRlcm5pb24uY2xvbmUoKSksc3VwZXIuc3RvcmVTdGF0ZSgpfV9yZXN0b3JlU3RhdGVWYWx1ZXMoKXtyZXR1cm4gc3VwZXIuX3Jlc3RvcmVTdGF0ZVZhbHVlcygpPyh0aGlzLnBvc2l0aW9uPXRoaXMuX3N0b3JlZFBvc2l0aW9uLmNsb25lKCksdGhpcy5yb3RhdGlvbj10aGlzLl9zdG9yZWRSb3RhdGlvbi5jbG9uZSgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiYodGhpcy5yb3RhdGlvblF1YXRlcm5pb249dGhpcy5fc3RvcmVkUm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCkpLHRoaXMuY2FtZXJhRGlyZWN0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCwwKSx0aGlzLmNhbWVyYVJvdGF0aW9uLmNvcHlGcm9tRmxvYXRzKDAsMCksITApOiExfV9pbml0Q2FjaGUoKXtzdXBlci5faW5pdENhY2hlKCksdGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0PW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYWNoZS5yb3RhdGlvbj1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGUucm90YXRpb25RdWF0ZXJuaW9uPW5ldyBaKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpfV91cGRhdGVDYWNoZShlKXtlfHxzdXBlci5fdXBkYXRlQ2FjaGUoKTtjb25zdCB0PXRoaXMuX2dldExvY2tlZFRhcmdldFBvc2l0aW9uKCk7dD90aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ/dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0LmNvcHlGcm9tKHQpOnRoaXMuX2NhY2hlLmxvY2tlZFRhcmdldD10LmNsb25lKCk6dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0PW51bGwsdGhpcy5fY2FjaGUucm90YXRpb24uY29weUZyb20odGhpcy5yb3RhdGlvbiksdGhpcy5yb3RhdGlvblF1YXRlcm5pb24mJnRoaXMuX2NhY2hlLnJvdGF0aW9uUXVhdGVybmlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uUXVhdGVybmlvbil9X2lzU3luY2hyb25pemVkVmlld01hdHJpeCgpe2lmKCFzdXBlci5faXNTeW5jaHJvbml6ZWRWaWV3TWF0cml4KCkpcmV0dXJuITE7Y29uc3QgZT10aGlzLl9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbigpO3JldHVybih0aGlzLl9jYWNoZS5sb2NrZWRUYXJnZXQ/dGhpcy5fY2FjaGUubG9ja2VkVGFyZ2V0LmVxdWFscyhlKTohZSkmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi5lcXVhbHModGhpcy5fY2FjaGUucm90YXRpb25RdWF0ZXJuaW9uKTp0aGlzLl9jYWNoZS5yb3RhdGlvbi5lcXVhbHModGhpcy5yb3RhdGlvbikpfV9jb21wdXRlTG9jYWxDYW1lcmFTcGVlZCgpe2NvbnN0IGU9dGhpcy5nZXRFbmdpbmUoKTtyZXR1cm4gdGhpcy5zcGVlZCpNYXRoLnNxcnQoZS5nZXREZWx0YVRpbWUoKS8oZS5nZXRGcHMoKSoxMDApKX1zZXRUYXJnZXQoZSl7dGhpcy51cFZlY3Rvci5ub3JtYWxpemUoKSx0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZT1lLnN1YnRyYWN0KHRoaXMucG9zaXRpb24pLmxlbmd0aCgpLHRoaXMucG9zaXRpb24uej09PWUueiYmKHRoaXMucG9zaXRpb24ueis9U2UpLHRoaXMuX3JlZmVyZW5jZVBvaW50Lm5vcm1hbGl6ZSgpLnNjYWxlSW5QbGFjZSh0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZSksTS5Mb29rQXRMSFRvUmVmKHRoaXMucG9zaXRpb24sZSx0aGlzLl9kZWZhdWx0VXAsdGhpcy5fY2FtTWF0cml4KSx0aGlzLl9jYW1NYXRyaXguaW52ZXJ0KCksdGhpcy5yb3RhdGlvbi54PU1hdGguYXRhbih0aGlzLl9jYW1NYXRyaXgubVs2XS90aGlzLl9jYW1NYXRyaXgubVsxMF0pO2NvbnN0IHQ9ZS5zdWJ0cmFjdCh0aGlzLnBvc2l0aW9uKTt0Lng+PTA/dGhpcy5yb3RhdGlvbi55PS1NYXRoLmF0YW4odC56L3QueCkrTWF0aC5QSS8yOnRoaXMucm90YXRpb24ueT0tTWF0aC5hdGFuKHQuei90LngpLU1hdGguUEkvMix0aGlzLnJvdGF0aW9uLno9MCxpc05hTih0aGlzLnJvdGF0aW9uLngpJiYodGhpcy5yb3RhdGlvbi54PTApLGlzTmFOKHRoaXMucm90YXRpb24ueSkmJih0aGlzLnJvdGF0aW9uLnk9MCksaXNOYU4odGhpcy5yb3RhdGlvbi56KSYmKHRoaXMucm90YXRpb24uej0wKSx0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56LHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKX1nZXQgdGFyZ2V0KCl7cmV0dXJuIHRoaXMuZ2V0VGFyZ2V0KCl9c2V0IHRhcmdldChlKXt0aGlzLnNldFRhcmdldChlKX1nZXRUYXJnZXQoKXtyZXR1cm4gdGhpcy5fY3VycmVudFRhcmdldH1fZGVjaWRlSWZOZWVkc1RvTW92ZSgpe3JldHVybiBNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi54KT4wfHxNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi55KT4wfHxNYXRoLmFicyh0aGlzLmNhbWVyYURpcmVjdGlvbi56KT4wfV91cGRhdGVQb3NpdGlvbigpe2lmKHRoaXMucGFyZW50KXt0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLmludmVydFRvUmVmKEYuTWF0cml4WzBdKSxwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMuY2FtZXJhRGlyZWN0aW9uLEYuTWF0cml4WzBdLEYuVmVjdG9yM1swXSksdGhpcy5wb3NpdGlvbi5hZGRJblBsYWNlKEYuVmVjdG9yM1swXSk7cmV0dXJufXRoaXMucG9zaXRpb24uYWRkSW5QbGFjZSh0aGlzLmNhbWVyYURpcmVjdGlvbil9X2NoZWNrSW5wdXRzKCl7Y29uc3QgZT10aGlzLmludmVydFJvdGF0aW9uPy10aGlzLmludmVyc2VSb3RhdGlvblNwZWVkOjEsdD10aGlzLl9kZWNpZGVJZk5lZWRzVG9Nb3ZlKCksaT1NYXRoLmFicyh0aGlzLmNhbWVyYVJvdGF0aW9uLngpPjB8fE1hdGguYWJzKHRoaXMuY2FtZXJhUm90YXRpb24ueSk+MDt0JiZ0aGlzLl91cGRhdGVQb3NpdGlvbigpLGkmJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbiYmdGhpcy5yb3RhdGlvblF1YXRlcm5pb24udG9FdWxlckFuZ2xlc1RvUmVmKHRoaXMucm90YXRpb24pLHRoaXMucm90YXRpb24ueCs9dGhpcy5jYW1lcmFSb3RhdGlvbi54KmUsdGhpcy5yb3RhdGlvbi55Kz10aGlzLmNhbWVyYVJvdGF0aW9uLnkqZSx0aGlzLm5vUm90YXRpb25Db25zdHJhaW50fHwodGhpcy5yb3RhdGlvbi54PjEuNTcwNzk2JiYodGhpcy5yb3RhdGlvbi54PTEuNTcwNzk2KSx0aGlzLnJvdGF0aW9uLng8LTEuNTcwNzk2JiYodGhpcy5yb3RhdGlvbi54PS0xLjU3MDc5NikpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLnJvdGF0aW9uLmxlbmd0aFNxdWFyZWQoKSYmWi5Sb3RhdGlvbllhd1BpdGNoUm9sbFRvUmVmKHRoaXMucm90YXRpb24ueSx0aGlzLnJvdGF0aW9uLngsdGhpcy5yb3RhdGlvbi56LHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKSksdCYmKE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLngpPHRoaXMuc3BlZWQqU2UmJih0aGlzLmNhbWVyYURpcmVjdGlvbi54PTApLE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnkpPHRoaXMuc3BlZWQqU2UmJih0aGlzLmNhbWVyYURpcmVjdGlvbi55PTApLE1hdGguYWJzKHRoaXMuY2FtZXJhRGlyZWN0aW9uLnopPHRoaXMuc3BlZWQqU2UmJih0aGlzLmNhbWVyYURpcmVjdGlvbi56PTApLHRoaXMuY2FtZXJhRGlyZWN0aW9uLnNjYWxlSW5QbGFjZSh0aGlzLmluZXJ0aWEpKSxpJiYoTWF0aC5hYnModGhpcy5jYW1lcmFSb3RhdGlvbi54KTx0aGlzLnNwZWVkKlNlJiYodGhpcy5jYW1lcmFSb3RhdGlvbi54PTApLE1hdGguYWJzKHRoaXMuY2FtZXJhUm90YXRpb24ueSk8dGhpcy5zcGVlZCpTZSYmKHRoaXMuY2FtZXJhUm90YXRpb24ueT0wKSx0aGlzLmNhbWVyYVJvdGF0aW9uLnNjYWxlSW5QbGFjZSh0aGlzLmluZXJ0aWEpKSxzdXBlci5fY2hlY2tJbnB1dHMoKX1fdXBkYXRlQ2FtZXJhUm90YXRpb25NYXRyaXgoKXt0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj90aGlzLnJvdGF0aW9uUXVhdGVybmlvbi50b1JvdGF0aW9uTWF0cml4KHRoaXMuX2NhbWVyYVJvdGF0aW9uTWF0cml4KTpNLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy5yb3RhdGlvbi55LHRoaXMucm90YXRpb24ueCx0aGlzLnJvdGF0aW9uLnosdGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXgpfV9yb3RhdGVVcFZlY3RvcldpdGhDYW1lcmFSb3RhdGlvbk1hdHJpeCgpe3JldHVybiBwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKHRoaXMuX2RlZmF1bHRVcCx0aGlzLl9jYW1lcmFSb3RhdGlvbk1hdHJpeCx0aGlzLnVwVmVjdG9yKSx0aGlzfV9nZXRWaWV3TWF0cml4KCl7cmV0dXJuIHRoaXMubG9ja2VkVGFyZ2V0JiZ0aGlzLnNldFRhcmdldCh0aGlzLl9nZXRMb2NrZWRUYXJnZXRQb3NpdGlvbigpKSx0aGlzLl91cGRhdGVDYW1lcmFSb3RhdGlvbk1hdHJpeCgpLHRoaXMucm90YXRpb25RdWF0ZXJuaW9uJiZ0aGlzLl9jYWNoZWRRdWF0ZXJuaW9uUm90YXRpb25aIT10aGlzLnJvdGF0aW9uUXVhdGVybmlvbi56Pyh0aGlzLl9yb3RhdGVVcFZlY3RvcldpdGhDYW1lcmFSb3RhdGlvbk1hdHJpeCgpLHRoaXMuX2NhY2hlZFF1YXRlcm5pb25Sb3RhdGlvblo9dGhpcy5yb3RhdGlvblF1YXRlcm5pb24ueik6dGhpcy5fY2FjaGVkUm90YXRpb25aIT09dGhpcy5yb3RhdGlvbi56JiYodGhpcy5fcm90YXRlVXBWZWN0b3JXaXRoQ2FtZXJhUm90YXRpb25NYXRyaXgoKSx0aGlzLl9jYWNoZWRSb3RhdGlvblo9dGhpcy5yb3RhdGlvbi56KSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5fcmVmZXJlbmNlUG9pbnQsdGhpcy5fY2FtZXJhUm90YXRpb25NYXRyaXgsdGhpcy5fdHJhbnNmb3JtZWRSZWZlcmVuY2VQb2ludCksdGhpcy5wb3NpdGlvbi5hZGRUb1JlZih0aGlzLl90cmFuc2Zvcm1lZFJlZmVyZW5jZVBvaW50LHRoaXMuX2N1cnJlbnRUYXJnZXQpLHRoaXMudXBkYXRlVXBWZWN0b3JGcm9tUm90YXRpb24mJih0aGlzLnJvdGF0aW9uUXVhdGVybmlvbj9naS5ZLnJvdGF0ZUJ5UXVhdGVybmlvblRvUmVmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uLHRoaXMudXBWZWN0b3IpOihaLkZyb21FdWxlclZlY3RvclRvUmVmKHRoaXMucm90YXRpb24sdGhpcy5fdG1wUXVhdGVybmlvbiksZ2kuWS5yb3RhdGVCeVF1YXRlcm5pb25Ub1JlZih0aGlzLl90bXBRdWF0ZXJuaW9uLHRoaXMudXBWZWN0b3IpKSksdGhpcy5fY29tcHV0ZVZpZXdNYXRyaXgodGhpcy5wb3NpdGlvbix0aGlzLl9jdXJyZW50VGFyZ2V0LHRoaXMudXBWZWN0b3IpLHRoaXMuX3ZpZXdNYXRyaXh9X2NvbXB1dGVWaWV3TWF0cml4KGUsdCxpKXtpZih0aGlzLmlnbm9yZVBhcmVudFNjYWxpbmcpe2lmKHRoaXMucGFyZW50KXtjb25zdCBzPXRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCk7cC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKGUscyx0aGlzLl9nbG9iYWxQb3NpdGlvbikscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHQscyx0aGlzLl90bXBUYXJnZXRWZWN0b3IpLHAuVHJhbnNmb3JtTm9ybWFsVG9SZWYoaSxzLHRoaXMuX3RtcFVwVmVjdG9yKSx0aGlzLl9tYXJrU3luY2VkV2l0aFBhcmVudCgpfWVsc2UgdGhpcy5fZ2xvYmFsUG9zaXRpb24uY29weUZyb20oZSksdGhpcy5fdG1wVGFyZ2V0VmVjdG9yLmNvcHlGcm9tKHQpLHRoaXMuX3RtcFVwVmVjdG9yLmNvcHlGcm9tKGkpO3RoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbT9NLkxvb2tBdFJIVG9SZWYodGhpcy5fZ2xvYmFsUG9zaXRpb24sdGhpcy5fdG1wVGFyZ2V0VmVjdG9yLHRoaXMuX3RtcFVwVmVjdG9yLHRoaXMuX3ZpZXdNYXRyaXgpOk0uTG9va0F0TEhUb1JlZih0aGlzLl9nbG9iYWxQb3NpdGlvbix0aGlzLl90bXBUYXJnZXRWZWN0b3IsdGhpcy5fdG1wVXBWZWN0b3IsdGhpcy5fdmlld01hdHJpeCk7cmV0dXJufWlmKHRoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbT9NLkxvb2tBdFJIVG9SZWYoZSx0LGksdGhpcy5fdmlld01hdHJpeCk6TS5Mb29rQXRMSFRvUmVmKGUsdCxpLHRoaXMuX3ZpZXdNYXRyaXgpLHRoaXMucGFyZW50KXtjb25zdCBzPXRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KCk7dGhpcy5fdmlld01hdHJpeC5pbnZlcnQoKSx0aGlzLl92aWV3TWF0cml4Lm11bHRpcGx5VG9SZWYocyx0aGlzLl92aWV3TWF0cml4KSx0aGlzLl92aWV3TWF0cml4LmdldFRyYW5zbGF0aW9uVG9SZWYodGhpcy5fZ2xvYmFsUG9zaXRpb24pLHRoaXMuX3ZpZXdNYXRyaXguaW52ZXJ0KCksdGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKX1lbHNlIHRoaXMuX2dsb2JhbFBvc2l0aW9uLmNvcHlGcm9tKGUpfWNyZWF0ZVJpZ0NhbWVyYShlLHQpe2lmKHRoaXMuY2FtZXJhUmlnTW9kZSE9PSQuUklHX01PREVfTk9ORSl7Y29uc3QgaT1uZXcgR2UoZSx0aGlzLnBvc2l0aW9uLmNsb25lKCksdGhpcy5nZXRTY2VuZSgpKTtyZXR1cm4gaS5pc1JpZ0NhbWVyYT0hMCxpLnJpZ1BhcmVudD10aGlzLCh0aGlzLmNhbWVyYVJpZ01vZGU9PT0kLlJJR19NT0RFX1ZSfHx0aGlzLmNhbWVyYVJpZ01vZGU9PT0kLlJJR19NT0RFX1dFQlZSKSYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9ufHwodGhpcy5yb3RhdGlvblF1YXRlcm5pb249bmV3IFopLGkuX2NhbWVyYVJpZ1BhcmFtcz17fSxpLnJvdGF0aW9uUXVhdGVybmlvbj1uZXcgWiksaS5tb2RlPXRoaXMubW9kZSxpLm9ydGhvTGVmdD10aGlzLm9ydGhvTGVmdCxpLm9ydGhvUmlnaHQ9dGhpcy5vcnRob1JpZ2h0LGkub3J0aG9Ub3A9dGhpcy5vcnRob1RvcCxpLm9ydGhvQm90dG9tPXRoaXMub3J0aG9Cb3R0b20saX1yZXR1cm4gbnVsbH1fdXBkYXRlUmlnQ2FtZXJhcygpe2NvbnN0IGU9dGhpcy5fcmlnQ2FtZXJhc1swXSx0PXRoaXMuX3JpZ0NhbWVyYXNbMV07c3dpdGNoKHRoaXMuY29tcHV0ZVdvcmxkTWF0cml4KCksdGhpcy5jYW1lcmFSaWdNb2RlKXtjYXNlICQuUklHX01PREVfU1RFUkVPU0NPUElDX0FOQUdMWVBIOmNhc2UgJC5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9QQVJBTExFTDpjYXNlICQuUklHX01PREVfU1RFUkVPU0NPUElDX1NJREVCWVNJREVfQ1JPU1NFWUVEOmNhc2UgJC5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfT1ZFUlVOREVSOmNhc2UgJC5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfSU5URVJMQUNFRDp7Y29uc3QgaT10aGlzLmNhbWVyYVJpZ01vZGU9PT0kLlJJR19NT0RFX1NURVJFT1NDT1BJQ19TSURFQllTSURFX0NST1NTRVlFRD8xOi0xLHM9dGhpcy5jYW1lcmFSaWdNb2RlPT09JC5SSUdfTU9ERV9TVEVSRU9TQ09QSUNfU0lERUJZU0lERV9DUk9TU0VZRUQ/LTE6MTt0aGlzLl9nZXRSaWdDYW1Qb3NpdGlvbkFuZFRhcmdldCh0aGlzLl9jYW1lcmFSaWdQYXJhbXMuc3RlcmVvSGFsZkFuZ2xlKmksZSksdGhpcy5fZ2V0UmlnQ2FtUG9zaXRpb25BbmRUYXJnZXQodGhpcy5fY2FtZXJhUmlnUGFyYW1zLnN0ZXJlb0hhbGZBbmdsZSpzLHQpO2JyZWFrfWNhc2UgJC5SSUdfTU9ERV9WUjplLnJvdGF0aW9uUXVhdGVybmlvbj8oZS5yb3RhdGlvblF1YXRlcm5pb24uY29weUZyb20odGhpcy5yb3RhdGlvblF1YXRlcm5pb24pLHQucm90YXRpb25RdWF0ZXJuaW9uLmNvcHlGcm9tKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uKSk6KGUucm90YXRpb24uY29weUZyb20odGhpcy5yb3RhdGlvbiksdC5yb3RhdGlvbi5jb3B5RnJvbSh0aGlzLnJvdGF0aW9uKSksZS5wb3NpdGlvbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSx0LnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pO2JyZWFrfXN1cGVyLl91cGRhdGVSaWdDYW1lcmFzKCl9X2dldFJpZ0NhbVBvc2l0aW9uQW5kVGFyZ2V0KGUsdCl7dGhpcy5nZXRUYXJnZXQoKS5zdWJ0cmFjdFRvUmVmKHRoaXMucG9zaXRpb24sR2UuX1RhcmdldEZvY2FsUG9pbnQpLEdlLl9UYXJnZXRGb2NhbFBvaW50Lm5vcm1hbGl6ZSgpLnNjYWxlSW5QbGFjZSh0aGlzLl9pbml0aWFsRm9jYWxEaXN0YW5jZSk7Y29uc3Qgcz1HZS5fVGFyZ2V0Rm9jYWxQb2ludC5hZGRJblBsYWNlKHRoaXMucG9zaXRpb24pO00uVHJhbnNsYXRpb25Ub1JlZigtcy54LC1zLnksLXMueixHZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4KSxHZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4Lm11bHRpcGx5VG9SZWYoTS5Sb3RhdGlvbkF4aXModC51cFZlY3RvcixlKSxHZS5fUmlnQ2FtVHJhbnNmb3JtTWF0cml4KSxNLlRyYW5zbGF0aW9uVG9SZWYocy54LHMueSxzLnosR2UuX1RhcmdldFRyYW5zZm9ybU1hdHJpeCksR2UuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeC5tdWx0aXBseVRvUmVmKEdlLl9UYXJnZXRUcmFuc2Zvcm1NYXRyaXgsR2UuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeCkscC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHRoaXMucG9zaXRpb24sR2UuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeCx0LnBvc2l0aW9uKSx0LnNldFRhcmdldChzKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iVGFyZ2V0Q2FtZXJhIn19R2UuX1JpZ0NhbVRyYW5zZm9ybU1hdHJpeD1uZXcgTSxHZS5fVGFyZ2V0VHJhbnNmb3JtTWF0cml4PW5ldyBNLEdlLl9UYXJnZXRGb2NhbFBvaW50PW5ldyBwLFQoW1V0KCldLEdlLnByb3RvdHlwZSwicm90YXRpb24iLHZvaWQgMCksVChbeSgpXSxHZS5wcm90b3R5cGUsInNwZWVkIix2b2lkIDApLFQoW0NuKCJsb2NrZWRUYXJnZXRJZCIpXSxHZS5wcm90b3R5cGUsImxvY2tlZFRhcmdldCIsdm9pZCAwKTtmdW5jdGlvbiBRbihjKXtjb25zdHtzY2VuZTplfT1jO2xldCB0O2NvbnN0IGk9MzYuNTtyZXR1cm4gdD1uZXcgR2UoIlRhcmdldENhbWVyYTEiLG5ldyBwKDAsaSwwKSxlKSx0LmZvdj0uMjUsdC5taW5aPTUsdC5tYXhaPWkrMSx0LnNldFRhcmdldChwLlplcm8oKSksdH1jbGFzcyBvZSBleHRlbmRzIHple2dldCByYW5nZSgpe3JldHVybiB0aGlzLl9yYW5nZX1zZXQgcmFuZ2UoZSl7dGhpcy5fcmFuZ2U9ZSx0aGlzLl9pbnZlcnNlU3F1YXJlZFJhbmdlPTEvKHRoaXMucmFuZ2UqdGhpcy5yYW5nZSl9Z2V0IGludGVuc2l0eU1vZGUoKXtyZXR1cm4gdGhpcy5faW50ZW5zaXR5TW9kZX1zZXQgaW50ZW5zaXR5TW9kZShlKXt0aGlzLl9pbnRlbnNpdHlNb2RlPWUsdGhpcy5fY29tcHV0ZVBob3RvbWV0cmljU2NhbGUoKX1nZXQgcmFkaXVzKCl7cmV0dXJuIHRoaXMuX3JhZGl1c31zZXQgcmFkaXVzKGUpe3RoaXMuX3JhZGl1cz1lLHRoaXMuX2NvbXB1dGVQaG90b21ldHJpY1NjYWxlKCl9Z2V0IHNoYWRvd0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5fc2hhZG93RW5hYmxlZH1zZXQgc2hhZG93RW5hYmxlZChlKXt0aGlzLl9zaGFkb3dFbmFibGVkIT09ZSYmKHRoaXMuX3NoYWRvd0VuYWJsZWQ9ZSx0aGlzLl9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfWdldCBpbmNsdWRlZE9ubHlNZXNoZXMoKXtyZXR1cm4gdGhpcy5faW5jbHVkZWRPbmx5TWVzaGVzfXNldCBpbmNsdWRlZE9ubHlNZXNoZXMoZSl7dGhpcy5faW5jbHVkZWRPbmx5TWVzaGVzPWUsdGhpcy5faG9va0FycmF5Rm9ySW5jbHVkZWRPbmx5KGUpfWdldCBleGNsdWRlZE1lc2hlcygpe3JldHVybiB0aGlzLl9leGNsdWRlZE1lc2hlc31zZXQgZXhjbHVkZWRNZXNoZXMoZSl7dGhpcy5fZXhjbHVkZWRNZXNoZXM9ZSx0aGlzLl9ob29rQXJyYXlGb3JFeGNsdWRlZChlKX1nZXQgZXhjbHVkZVdpdGhMYXllck1hc2soKXtyZXR1cm4gdGhpcy5fZXhjbHVkZVdpdGhMYXllck1hc2t9c2V0IGV4Y2x1ZGVXaXRoTGF5ZXJNYXNrKGUpe3RoaXMuX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrPWUsdGhpcy5fcmVzeW5jTWVzaGVzKCl9Z2V0IGluY2x1ZGVPbmx5V2l0aExheWVyTWFzaygpe3JldHVybiB0aGlzLl9pbmNsdWRlT25seVdpdGhMYXllck1hc2t9c2V0IGluY2x1ZGVPbmx5V2l0aExheWVyTWFzayhlKXt0aGlzLl9pbmNsdWRlT25seVdpdGhMYXllck1hc2s9ZSx0aGlzLl9yZXN5bmNNZXNoZXMoKX1nZXQgbGlnaHRtYXBNb2RlKCl7cmV0dXJuIHRoaXMuX2xpZ2h0bWFwTW9kZX1zZXQgbGlnaHRtYXBNb2RlKGUpe3RoaXMuX2xpZ2h0bWFwTW9kZSE9PWUmJih0aGlzLl9saWdodG1hcE1vZGU9ZSx0aGlzLl9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0KSx0aGlzLmRpZmZ1c2U9bmV3IHJlKDEsMSwxKSx0aGlzLnNwZWN1bGFyPW5ldyByZSgxLDEsMSksdGhpcy5mYWxsb2ZmVHlwZT1vZS5GQUxMT0ZGX0RFRkFVTFQsdGhpcy5pbnRlbnNpdHk9MSx0aGlzLl9yYW5nZT1OdW1iZXIuTUFYX1ZBTFVFLHRoaXMuX2ludmVyc2VTcXVhcmVkUmFuZ2U9MCx0aGlzLl9waG90b21ldHJpY1NjYWxlPTEsdGhpcy5faW50ZW5zaXR5TW9kZT1vZS5JTlRFTlNJVFlNT0RFX0FVVE9NQVRJQyx0aGlzLl9yYWRpdXM9MWUtNSx0aGlzLnJlbmRlclByaW9yaXR5PTAsdGhpcy5fc2hhZG93RW5hYmxlZD0hMCx0aGlzLl9leGNsdWRlV2l0aExheWVyTWFzaz0wLHRoaXMuX2luY2x1ZGVPbmx5V2l0aExheWVyTWFzaz0wLHRoaXMuX2xpZ2h0bWFwTW9kZT0wLHRoaXMuX3NoYWRvd0dlbmVyYXRvcnM9bnVsbCx0aGlzLl9leGNsdWRlZE1lc2hlc0lkcz1uZXcgQXJyYXksdGhpcy5faW5jbHVkZWRPbmx5TWVzaGVzSWRzPW5ldyBBcnJheSx0aGlzLl9pc0xpZ2h0PSEwLHRoaXMuZ2V0U2NlbmUoKS5hZGRMaWdodCh0aGlzKSx0aGlzLl91bmlmb3JtQnVmZmVyPW5ldyBWKHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKSx2b2lkIDAsdm9pZCAwLGUpLHRoaXMuX2J1aWxkVW5pZm9ybUxheW91dCgpLHRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzPW5ldyBBcnJheSx0aGlzLmV4Y2x1ZGVkTWVzaGVzPW5ldyBBcnJheSx0aGlzLl9yZXN5bmNNZXNoZXMoKX10cmFuc2ZlclRleHR1cmVzVG9FZmZlY3QoZSx0KXtyZXR1cm4gdGhpc31fYmluZExpZ2h0KGUsdCxpLHMscj0hMCl7dmFyIG47Y29uc3QgYT1lLnRvU3RyaW5nKCk7bGV0IG89ITE7aWYodGhpcy5fdW5pZm9ybUJ1ZmZlci5iaW5kVG9FZmZlY3QoaSwiTGlnaHQiK2EpLHRoaXMuX3JlbmRlcklkIT09dC5nZXRSZW5kZXJJZCgpfHx0aGlzLl9sYXN0VXNlU3BlY3VsYXIhPT1zfHwhdGhpcy5fdW5pZm9ybUJ1ZmZlci51c2VVYm8pe3RoaXMuX3JlbmRlcklkPXQuZ2V0UmVuZGVySWQoKSx0aGlzLl9sYXN0VXNlU3BlY3VsYXI9cztjb25zdCBoPXRoaXMuZ2V0U2NhbGVkSW50ZW5zaXR5KCk7dGhpcy50cmFuc2ZlclRvRWZmZWN0KGksYSksdGhpcy5kaWZmdXNlLnNjYWxlVG9SZWYoaCx4aS5Db2xvcjNbMF0pLHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlQ29sb3I0KCJ2TGlnaHREaWZmdXNlIix4aS5Db2xvcjNbMF0sdGhpcy5yYW5nZSxhKSxzJiYodGhpcy5zcGVjdWxhci5zY2FsZVRvUmVmKGgseGkuQ29sb3IzWzFdKSx0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUNvbG9yNCgidkxpZ2h0U3BlY3VsYXIiLHhpLkNvbG9yM1sxXSx0aGlzLnJhZGl1cyxhKSksbz0hMH1pZih0aGlzLnRyYW5zZmVyVGV4dHVyZXNUb0VmZmVjdChpLGEpLHQuc2hhZG93c0VuYWJsZWQmJnRoaXMuc2hhZG93RW5hYmxlZCYmcil7Y29uc3QgaD0obj10aGlzLmdldFNoYWRvd0dlbmVyYXRvcih0LmFjdGl2ZUNhbWVyYSkpIT09bnVsbCYmbiE9PXZvaWQgMD9uOnRoaXMuZ2V0U2hhZG93R2VuZXJhdG9yKCk7aCYmKGguYmluZFNoYWRvd0xpZ2h0KGEsaSksbz0hMCl9bz90aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZSgpOnRoaXMuX3VuaWZvcm1CdWZmZXIuYmluZFVuaWZvcm1CdWZmZXIoKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iTGlnaHQifXRvU3RyaW5nKGUpe2xldCB0PSJOYW1lOiAiK3RoaXMubmFtZTtpZih0Kz0iLCB0eXBlOiAiK1siUG9pbnQiLCJEaXJlY3Rpb25hbCIsIlNwb3QiLCJIZW1pc3BoZXJpYyJdW3RoaXMuZ2V0VHlwZUlEKCldLHRoaXMuYW5pbWF0aW9ucylmb3IobGV0IGk9MDtpPHRoaXMuYW5pbWF0aW9ucy5sZW5ndGg7aSsrKXQrPSIsIGFuaW1hdGlvblswXTogIit0aGlzLmFuaW1hdGlvbnNbaV0udG9TdHJpbmcoZSk7cmV0dXJuIHR9X3N5bmNQYXJlbnRFbmFibGVkU3RhdGUoKXtzdXBlci5fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpLHRoaXMuaXNEaXNwb3NlZCgpfHx0aGlzLl9yZXN5bmNNZXNoZXMoKX1zZXRFbmFibGVkKGUpe3N1cGVyLnNldEVuYWJsZWQoZSksdGhpcy5fcmVzeW5jTWVzaGVzKCl9Z2V0U2hhZG93R2VuZXJhdG9yKGU9bnVsbCl7dmFyIHQ7cmV0dXJuIHRoaXMuX3NoYWRvd0dlbmVyYXRvcnM9PT1udWxsP251bGw6KHQ9dGhpcy5fc2hhZG93R2VuZXJhdG9ycy5nZXQoZSkpIT09bnVsbCYmdCE9PXZvaWQgMD90Om51bGx9Z2V0U2hhZG93R2VuZXJhdG9ycygpe3JldHVybiB0aGlzLl9zaGFkb3dHZW5lcmF0b3JzfWdldEFic29sdXRlUG9zaXRpb24oKXtyZXR1cm4gcC5aZXJvKCl9Y2FuQWZmZWN0TWVzaChlKXtyZXR1cm4gZT8hKHRoaXMuaW5jbHVkZWRPbmx5TWVzaGVzJiZ0aGlzLmluY2x1ZGVkT25seU1lc2hlcy5sZW5ndGg+MCYmdGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMuaW5kZXhPZihlKT09PS0xfHx0aGlzLmV4Y2x1ZGVkTWVzaGVzJiZ0aGlzLmV4Y2x1ZGVkTWVzaGVzLmxlbmd0aD4wJiZ0aGlzLmV4Y2x1ZGVkTWVzaGVzLmluZGV4T2YoZSkhPT0tMXx8dGhpcy5pbmNsdWRlT25seVdpdGhMYXllck1hc2shPT0wJiYhKHRoaXMuaW5jbHVkZU9ubHlXaXRoTGF5ZXJNYXNrJmUubGF5ZXJNYXNrKXx8dGhpcy5leGNsdWRlV2l0aExheWVyTWFzayE9PTAmJnRoaXMuZXhjbHVkZVdpdGhMYXllck1hc2smZS5sYXllck1hc2spOiEwfWRpc3Bvc2UoZSx0PSExKXtpZih0aGlzLl9zaGFkb3dHZW5lcmF0b3JzKXtjb25zdCBpPXRoaXMuX3NoYWRvd0dlbmVyYXRvcnMudmFsdWVzKCk7Zm9yKGxldCBzPWkubmV4dCgpO3MuZG9uZSE9PSEwO3M9aS5uZXh0KCkpcy52YWx1ZS5kaXNwb3NlKCk7dGhpcy5fc2hhZG93R2VuZXJhdG9ycz1udWxsfWlmKHRoaXMuZ2V0U2NlbmUoKS5zdG9wQW5pbWF0aW9uKHRoaXMpLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3QgaT10aGlzLl9wYXJlbnRDb250YWluZXIubGlnaHRzLmluZGV4T2YodGhpcyk7aT4tMSYmdGhpcy5fcGFyZW50Q29udGFpbmVyLmxpZ2h0cy5zcGxpY2UoaSwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1mb3IoY29uc3QgaSBvZiB0aGlzLmdldFNjZW5lKCkubWVzaGVzKWkuX3JlbW92ZUxpZ2h0U291cmNlKHRoaXMsITApO3RoaXMuX3VuaWZvcm1CdWZmZXIuZGlzcG9zZSgpLHRoaXMuZ2V0U2NlbmUoKS5yZW1vdmVMaWdodCh0aGlzKSxzdXBlci5kaXNwb3NlKGUsdCl9Z2V0VHlwZUlEKCl7cmV0dXJuIDB9Z2V0U2NhbGVkSW50ZW5zaXR5KCl7cmV0dXJuIHRoaXMuX3Bob3RvbWV0cmljU2NhbGUqdGhpcy5pbnRlbnNpdHl9Y2xvbmUoZSx0PW51bGwpe2NvbnN0IGk9b2UuR2V0Q29uc3RydWN0b3JGcm9tTmFtZSh0aGlzLmdldFR5cGVJRCgpLGUsdGhpcy5nZXRTY2VuZSgpKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBzPW5lLkNsb25lKGksdGhpcyk7cmV0dXJuIGUmJihzLm5hbWU9ZSksdCYmKHMucGFyZW50PXQpLHMuc2V0RW5hYmxlZCh0aGlzLmlzRW5hYmxlZCgpKSx0aGlzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocyksc31zZXJpYWxpemUoKXtjb25zdCBlPW5lLlNlcmlhbGl6ZSh0aGlzKTtyZXR1cm4gZS51bmlxdWVJZD10aGlzLnVuaXF1ZUlkLGUudHlwZT10aGlzLmdldFR5cGVJRCgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5fc2VyaWFsaXplQXNQYXJlbnQoZSksdGhpcy5leGNsdWRlZE1lc2hlcy5sZW5ndGg+MCYmKGUuZXhjbHVkZWRNZXNoZXNJZHM9W10sdGhpcy5leGNsdWRlZE1lc2hlcy5mb3JFYWNoKHQ9PntlLmV4Y2x1ZGVkTWVzaGVzSWRzLnB1c2godC5pZCl9KSksdGhpcy5pbmNsdWRlZE9ubHlNZXNoZXMubGVuZ3RoPjAmJihlLmluY2x1ZGVkT25seU1lc2hlc0lkcz1bXSx0aGlzLmluY2x1ZGVkT25seU1lc2hlcy5mb3JFYWNoKHQ9PntlLmluY2x1ZGVkT25seU1lc2hlc0lkcy5wdXNoKHQuaWQpfSkpLG5lLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKHRoaXMsZSksZS5yYW5nZXM9dGhpcy5zZXJpYWxpemVBbmltYXRpb25SYW5nZXMoKSxlLmlzRW5hYmxlZD10aGlzLmlzRW5hYmxlZCgpLGV9c3RhdGljIEdldENvbnN0cnVjdG9yRnJvbU5hbWUoZSx0LGkpe2NvbnN0IHM9emUuQ29uc3RydWN0KCJMaWdodF9UeXBlXyIrZSx0LGkpO3JldHVybiBzfHxudWxsfXN0YXRpYyBQYXJzZShlLHQpe2NvbnN0IGk9b2UuR2V0Q29uc3RydWN0b3JGcm9tTmFtZShlLnR5cGUsZS5uYW1lLHQpO2lmKCFpKXJldHVybiBudWxsO2NvbnN0IHM9bmUuUGFyc2UoaSxlLHQpO2lmKGUuZXhjbHVkZWRNZXNoZXNJZHMmJihzLl9leGNsdWRlZE1lc2hlc0lkcz1lLmV4Y2x1ZGVkTWVzaGVzSWRzKSxlLmluY2x1ZGVkT25seU1lc2hlc0lkcyYmKHMuX2luY2x1ZGVkT25seU1lc2hlc0lkcz1lLmluY2x1ZGVkT25seU1lc2hlc0lkcyksZS5wYXJlbnRJZCE9PXZvaWQgMCYmKHMuX3dhaXRpbmdQYXJlbnRJZD1lLnBhcmVudElkKSxlLnBhcmVudEluc3RhbmNlSW5kZXghPT12b2lkIDAmJihzLl93YWl0aW5nUGFyZW50SW5zdGFuY2VJbmRleD1lLnBhcmVudEluc3RhbmNlSW5kZXgpLGUuZmFsbG9mZlR5cGUhPT12b2lkIDAmJihzLmZhbGxvZmZUeXBlPWUuZmFsbG9mZlR5cGUpLGUubGlnaHRtYXBNb2RlIT09dm9pZCAwJiYocy5saWdodG1hcE1vZGU9ZS5saWdodG1hcE1vZGUpLGUuYW5pbWF0aW9ucyl7Zm9yKGxldCByPTA7cjxlLmFuaW1hdGlvbnMubGVuZ3RoO3IrKyl7Y29uc3Qgbj1lLmFuaW1hdGlvbnNbcl0sYT1haSgiQkFCWUxPTi5BbmltYXRpb24iKTthJiZzLmFuaW1hdGlvbnMucHVzaChhLlBhcnNlKG4pKX16ZS5QYXJzZUFuaW1hdGlvblJhbmdlcyhzLGUsdCl9cmV0dXJuIGUuYXV0b0FuaW1hdGUmJnQuYmVnaW5BbmltYXRpb24ocyxlLmF1dG9BbmltYXRlRnJvbSxlLmF1dG9BbmltYXRlVG8sZS5hdXRvQW5pbWF0ZUxvb3AsZS5hdXRvQW5pbWF0ZVNwZWVkfHwxKSxlLmlzRW5hYmxlZCE9PXZvaWQgMCYmcy5zZXRFbmFibGVkKGUuaXNFbmFibGVkKSxzfV9ob29rQXJyYXlGb3JFeGNsdWRlZChlKXtjb25zdCB0PWUucHVzaDtlLnB1c2g9KC4uLnMpPT57Y29uc3Qgcj10LmFwcGx5KGUscyk7Zm9yKGNvbnN0IG4gb2YgcyluLl9yZXN5bmNMaWdodFNvdXJjZSh0aGlzKTtyZXR1cm4gcn07Y29uc3QgaT1lLnNwbGljZTtlLnNwbGljZT0ocyxyKT0+e2NvbnN0IG49aS5hcHBseShlLFtzLHJdKTtmb3IoY29uc3QgYSBvZiBuKWEuX3Jlc3luY0xpZ2h0U291cmNlKHRoaXMpO3JldHVybiBufTtmb3IoY29uc3QgcyBvZiBlKXMuX3Jlc3luY0xpZ2h0U291cmNlKHRoaXMpfV9ob29rQXJyYXlGb3JJbmNsdWRlZE9ubHkoZSl7Y29uc3QgdD1lLnB1c2g7ZS5wdXNoPSguLi5zKT0+e2NvbnN0IHI9dC5hcHBseShlLHMpO3JldHVybiB0aGlzLl9yZXN5bmNNZXNoZXMoKSxyfTtjb25zdCBpPWUuc3BsaWNlO2Uuc3BsaWNlPShzLHIpPT57Y29uc3Qgbj1pLmFwcGx5KGUsW3Mscl0pO3JldHVybiB0aGlzLl9yZXN5bmNNZXNoZXMoKSxufSx0aGlzLl9yZXN5bmNNZXNoZXMoKX1fcmVzeW5jTWVzaGVzKCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZXRTY2VuZSgpLm1lc2hlcyllLl9yZXN5bmNMaWdodFNvdXJjZSh0aGlzKX1fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpe2Zvcihjb25zdCBlIG9mIHRoaXMuZ2V0U2NlbmUoKS5tZXNoZXMpZS5saWdodFNvdXJjZXMuaW5kZXhPZih0aGlzKSE9PS0xJiZlLl9tYXJrU3ViTWVzaGVzQXNMaWdodERpcnR5KCl9X2NvbXB1dGVQaG90b21ldHJpY1NjYWxlKCl7dGhpcy5fcGhvdG9tZXRyaWNTY2FsZT10aGlzLl9nZXRQaG90b21ldHJpY1NjYWxlKCksdGhpcy5nZXRTY2VuZSgpLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKX1fZ2V0UGhvdG9tZXRyaWNTY2FsZSgpe2xldCBlPTA7Y29uc3QgdD10aGlzLmdldFR5cGVJRCgpO2xldCBpPXRoaXMuaW50ZW5zaXR5TW9kZTtzd2l0Y2goaT09PW9lLklOVEVOU0lUWU1PREVfQVVUT01BVElDJiYodD09PW9lLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ/aT1vZS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFOmk9b2UuSU5URU5TSVRZTU9ERV9MVU1JTk9VU0lOVEVOU0lUWSksdCl7Y2FzZSBvZS5MSUdIVFRZUEVJRF9QT0lOVExJR0hUOmNhc2Ugb2UuTElHSFRUWVBFSURfU1BPVExJR0hUOnN3aXRjaChpKXtjYXNlIG9lLklOVEVOU0lUWU1PREVfTFVNSU5PVVNQT1dFUjplPTEvKDQqTWF0aC5QSSk7YnJlYWs7Y2FzZSBvZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZOmU9MTticmVhaztjYXNlIG9lLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFOmU9dGhpcy5yYWRpdXMqdGhpcy5yYWRpdXM7YnJlYWt9YnJlYWs7Y2FzZSBvZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUOnN3aXRjaChpKXtjYXNlIG9lLklOVEVOU0lUWU1PREVfSUxMVU1JTkFOQ0U6ZT0xO2JyZWFrO2Nhc2Ugb2UuSU5URU5TSVRZTU9ERV9MVU1JTkFOQ0U6e2xldCBzPXRoaXMucmFkaXVzO3M9TWF0aC5tYXgocywuMDAxKSxlPTIqTWF0aC5QSSooMS1NYXRoLmNvcyhzKSk7YnJlYWt9fWJyZWFrO2Nhc2Ugb2UuTElHSFRUWVBFSURfSEVNSVNQSEVSSUNMSUdIVDplPTE7YnJlYWt9cmV0dXJuIGV9X3Jlb3JkZXJMaWdodHNJblNjZW5lKCl7Y29uc3QgZT10aGlzLmdldFNjZW5lKCk7dGhpcy5fcmVuZGVyUHJpb3JpdHkhPTAmJihlLnJlcXVpcmVMaWdodFNvcnRpbmc9ITApLHRoaXMuZ2V0U2NlbmUoKS5zb3J0TGlnaHRzQnlQcmlvcml0eSgpfX1vZS5GQUxMT0ZGX0RFRkFVTFQ9RWUuRkFMTE9GRl9ERUZBVUxULG9lLkZBTExPRkZfUEhZU0lDQUw9RWUuRkFMTE9GRl9QSFlTSUNBTCxvZS5GQUxMT0ZGX0dMVEY9RWUuRkFMTE9GRl9HTFRGLG9lLkZBTExPRkZfU1RBTkRBUkQ9RWUuRkFMTE9GRl9TVEFOREFSRCxvZS5MSUdIVE1BUF9ERUZBVUxUPUVlLkxJR0hUTUFQX0RFRkFVTFQsb2UuTElHSFRNQVBfU1BFQ1VMQVI9RWUuTElHSFRNQVBfU1BFQ1VMQVIsb2UuTElHSFRNQVBfU0hBRE9XU09OTFk9RWUuTElHSFRNQVBfU0hBRE9XU09OTFksb2UuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUM9RWUuSU5URU5TSVRZTU9ERV9BVVRPTUFUSUMsb2UuSU5URU5TSVRZTU9ERV9MVU1JTk9VU1BPV0VSPUVlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNQT1dFUixvZS5JTlRFTlNJVFlNT0RFX0xVTUlOT1VTSU5URU5TSVRZPUVlLklOVEVOU0lUWU1PREVfTFVNSU5PVVNJTlRFTlNJVFksb2UuSU5URU5TSVRZTU9ERV9JTExVTUlOQU5DRT1FZS5JTlRFTlNJVFlNT0RFX0lMTFVNSU5BTkNFLG9lLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFPUVlLklOVEVOU0lUWU1PREVfTFVNSU5BTkNFLG9lLkxJR0hUVFlQRUlEX1BPSU5UTElHSFQ9RWUuTElHSFRUWVBFSURfUE9JTlRMSUdIVCxvZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUPUVlLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQsb2UuTElHSFRUWVBFSURfU1BPVExJR0hUPUVlLkxJR0hUVFlQRUlEX1NQT1RMSUdIVCxvZS5MSUdIVFRZUEVJRF9IRU1JU1BIRVJJQ0xJR0hUPUVlLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFQsVChbZGkoKV0sb2UucHJvdG90eXBlLCJkaWZmdXNlIix2b2lkIDApLFQoW2RpKCldLG9lLnByb3RvdHlwZSwic3BlY3VsYXIiLHZvaWQgMCksVChbeSgpXSxvZS5wcm90b3R5cGUsImZhbGxvZmZUeXBlIix2b2lkIDApLFQoW3koKV0sb2UucHJvdG90eXBlLCJpbnRlbnNpdHkiLHZvaWQgMCksVChbeSgpXSxvZS5wcm90b3R5cGUsInJhbmdlIixudWxsKSxUKFt5KCldLG9lLnByb3RvdHlwZSwiaW50ZW5zaXR5TW9kZSIsbnVsbCksVChbeSgpXSxvZS5wcm90b3R5cGUsInJhZGl1cyIsbnVsbCksVChbeSgpXSxvZS5wcm90b3R5cGUsIl9yZW5kZXJQcmlvcml0eSIsdm9pZCAwKSxUKFtUZSgiX3Jlb3JkZXJMaWdodHNJblNjZW5lIildLG9lLnByb3RvdHlwZSwicmVuZGVyUHJpb3JpdHkiLHZvaWQgMCksVChbeSgic2hhZG93RW5hYmxlZCIpXSxvZS5wcm90b3R5cGUsIl9zaGFkb3dFbmFibGVkIix2b2lkIDApLFQoW3koImV4Y2x1ZGVXaXRoTGF5ZXJNYXNrIildLG9lLnByb3RvdHlwZSwiX2V4Y2x1ZGVXaXRoTGF5ZXJNYXNrIix2b2lkIDApLFQoW3koImluY2x1ZGVPbmx5V2l0aExheWVyTWFzayIpXSxvZS5wcm90b3R5cGUsIl9pbmNsdWRlT25seVdpdGhMYXllck1hc2siLHZvaWQgMCksVChbeSgibGlnaHRtYXBNb2RlIildLG9lLnByb3RvdHlwZSwiX2xpZ2h0bWFwTW9kZSIsdm9pZCAwKTtjbGFzcyB6aSBleHRlbmRzIG9le2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLl9uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGU9ITB9X3NldFBvc2l0aW9uKGUpe3RoaXMuX3Bvc2l0aW9uPWV9Z2V0IHBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3Bvc2l0aW9ufXNldCBwb3NpdGlvbihlKXt0aGlzLl9zZXRQb3NpdGlvbihlKX1fc2V0RGlyZWN0aW9uKGUpe3RoaXMuX2RpcmVjdGlvbj1lfWdldCBkaXJlY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGlyZWN0aW9ufXNldCBkaXJlY3Rpb24oZSl7dGhpcy5fc2V0RGlyZWN0aW9uKGUpfWdldCBzaGFkb3dNaW5aKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01pblp9c2V0IHNoYWRvd01pblooZSl7dGhpcy5fc2hhZG93TWluWj1lLHRoaXMuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfWdldCBzaGFkb3dNYXhaKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01heFp9c2V0IHNoYWRvd01heFooZSl7dGhpcy5fc2hhZG93TWF4Wj1lLHRoaXMuZm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpfWNvbXB1dGVUcmFuc2Zvcm1lZEluZm9ybWF0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeD8odGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9ufHwodGhpcy50cmFuc2Zvcm1lZFBvc2l0aW9uPXAuWmVybygpKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5wb3NpdGlvbix0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbiksdGhpcy5kaXJlY3Rpb24mJih0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9ufHwodGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbj1wLlplcm8oKSkscC5UcmFuc2Zvcm1Ob3JtYWxUb1JlZih0aGlzLmRpcmVjdGlvbix0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCgpLHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24pKSwhMCk6ITF9Z2V0RGVwdGhTY2FsZSgpe3JldHVybiA1MH1nZXRTaGFkb3dEaXJlY3Rpb24oZSl7cmV0dXJuIHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24/dGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbjp0aGlzLmRpcmVjdGlvbn1nZXRBYnNvbHV0ZVBvc2l0aW9uKCl7cmV0dXJuIHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbj90aGlzLnRyYW5zZm9ybWVkUG9zaXRpb246dGhpcy5wb3NpdGlvbn1zZXREaXJlY3Rpb25Ub1RhcmdldChlKXtyZXR1cm4gdGhpcy5kaXJlY3Rpb249cC5Ob3JtYWxpemUoZS5zdWJ0cmFjdCh0aGlzLnBvc2l0aW9uKSksdGhpcy5kaXJlY3Rpb259Z2V0Um90YXRpb24oKXt0aGlzLmRpcmVjdGlvbi5ub3JtYWxpemUoKTtjb25zdCBlPXAuQ3Jvc3ModGhpcy5kaXJlY3Rpb24sZ2kuWSksdD1wLkNyb3NzKGUsdGhpcy5kaXJlY3Rpb24pO3JldHVybiBwLlJvdGF0aW9uRnJvbUF4aXMoZSx0LHRoaXMuZGlyZWN0aW9uKX1uZWVkQ3ViZSgpe3JldHVybiExfW5lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpe3JldHVybiB0aGlzLl9uZWVkUHJvamVjdGlvbk1hdHJpeENvbXB1dGV9Zm9yY2VQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZSgpe3RoaXMuX25lZWRQcm9qZWN0aW9uTWF0cml4Q29tcHV0ZT0hMH1faW5pdENhY2hlKCl7c3VwZXIuX2luaXRDYWNoZSgpLHRoaXMuX2NhY2hlLnBvc2l0aW9uPXAuWmVybygpfV9pc1N5bmNocm9uaXplZCgpe3JldHVybiEhdGhpcy5fY2FjaGUucG9zaXRpb24uZXF1YWxzKHRoaXMucG9zaXRpb24pfWNvbXB1dGVXb3JsZE1hdHJpeChlKXtyZXR1cm4hZSYmdGhpcy5pc1N5bmNocm9uaXplZCgpPyh0aGlzLl9jdXJyZW50UmVuZGVySWQ9dGhpcy5nZXRTY2VuZSgpLmdldFJlbmRlcklkKCksdGhpcy5fd29ybGRNYXRyaXgpOih0aGlzLl91cGRhdGVDYWNoZSgpLHRoaXMuX2NhY2hlLnBvc2l0aW9uLmNvcHlGcm9tKHRoaXMucG9zaXRpb24pLHRoaXMuX3dvcmxkTWF0cml4fHwodGhpcy5fd29ybGRNYXRyaXg9TS5JZGVudGl0eSgpKSxNLlRyYW5zbGF0aW9uVG9SZWYodGhpcy5wb3NpdGlvbi54LHRoaXMucG9zaXRpb24ueSx0aGlzLnBvc2l0aW9uLnosdGhpcy5fd29ybGRNYXRyaXgpLHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5nZXRXb3JsZE1hdHJpeCYmKHRoaXMuX3dvcmxkTWF0cml4Lm11bHRpcGx5VG9SZWYodGhpcy5wYXJlbnQuZ2V0V29ybGRNYXRyaXgoKSx0aGlzLl93b3JsZE1hdHJpeCksdGhpcy5fbWFya1N5bmNlZFdpdGhQYXJlbnQoKSksdGhpcy5fd29ybGRNYXRyaXhEZXRlcm1pbmFudElzRGlydHk9ITAsdGhpcy5fd29ybGRNYXRyaXgpfWdldERlcHRoTWluWihlKXtyZXR1cm4gdGhpcy5zaGFkb3dNaW5aIT09dm9pZCAwP3RoaXMuc2hhZG93TWluWjplLm1pblp9Z2V0RGVwdGhNYXhaKGUpe3JldHVybiB0aGlzLnNoYWRvd01heFohPT12b2lkIDA/dGhpcy5zaGFkb3dNYXhaOmUubWF4Wn1zZXRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUsdCxpKXtyZXR1cm4gdGhpcy5jdXN0b21Qcm9qZWN0aW9uTWF0cml4QnVpbGRlcj90aGlzLmN1c3RvbVByb2plY3Rpb25NYXRyaXhCdWlsZGVyKHQsaSxlKTp0aGlzLl9zZXREZWZhdWx0U2hhZG93UHJvamVjdGlvbk1hdHJpeChlLHQsaSksdGhpc31fc3luY1BhcmVudEVuYWJsZWRTdGF0ZSgpe3N1cGVyLl9zeW5jUGFyZW50RW5hYmxlZFN0YXRlKCksKCF0aGlzLnBhcmVudHx8IXRoaXMucGFyZW50LmdldFdvcmxkTWF0cml4KSYmKHRoaXMudHJhbnNmb3JtZWRQb3NpdGlvbj1udWxsLHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb249bnVsbCl9fVQoW1V0KCldLHppLnByb3RvdHlwZSwicG9zaXRpb24iLG51bGwpLFQoW1V0KCldLHppLnByb3RvdHlwZSwiZGlyZWN0aW9uIixudWxsKSxUKFt5KCldLHppLnByb3RvdHlwZSwic2hhZG93TWluWiIsbnVsbCksVChbeSgpXSx6aS5wcm90b3R5cGUsInNoYWRvd01heFoiLG51bGwpLHplLkFkZE5vZGVDb25zdHJ1Y3RvcigiTGlnaHRfVHlwZV8xIiwoYyxlKT0+KCk9Pm5ldyBEdChjLHAuWmVybygpLGUpKTtjbGFzcyBEdCBleHRlbmRzIHppe2dldCBzaGFkb3dGcnVzdHVtU2l6ZSgpe3JldHVybiB0aGlzLl9zaGFkb3dGcnVzdHVtU2l6ZX1zZXQgc2hhZG93RnJ1c3R1bVNpemUoZSl7dGhpcy5fc2hhZG93RnJ1c3R1bVNpemU9ZSx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX1nZXQgc2hhZG93T3J0aG9TY2FsZSgpe3JldHVybiB0aGlzLl9zaGFkb3dPcnRob1NjYWxlfXNldCBzaGFkb3dPcnRob1NjYWxlKGUpe3RoaXMuX3NoYWRvd09ydGhvU2NhbGU9ZSx0aGlzLmZvcmNlUHJvamVjdGlvbk1hdHJpeENvbXB1dGUoKX1nZXQgb3J0aG9MZWZ0KCl7cmV0dXJuIHRoaXMuX29ydGhvTGVmdH1zZXQgb3J0aG9MZWZ0KGUpe3RoaXMuX29ydGhvTGVmdD1lfWdldCBvcnRob1JpZ2h0KCl7cmV0dXJuIHRoaXMuX29ydGhvUmlnaHR9c2V0IG9ydGhvUmlnaHQoZSl7dGhpcy5fb3J0aG9SaWdodD1lfWdldCBvcnRob1RvcCgpe3JldHVybiB0aGlzLl9vcnRob1RvcH1zZXQgb3J0aG9Ub3AoZSl7dGhpcy5fb3J0aG9Ub3A9ZX1nZXQgb3J0aG9Cb3R0b20oKXtyZXR1cm4gdGhpcy5fb3J0aG9Cb3R0b219c2V0IG9ydGhvQm90dG9tKGUpe3RoaXMuX29ydGhvQm90dG9tPWV9Y29uc3RydWN0b3IoZSx0LGkpe3N1cGVyKGUsaSksdGhpcy5fc2hhZG93RnJ1c3R1bVNpemU9MCx0aGlzLl9zaGFkb3dPcnRob1NjYWxlPS4xLHRoaXMuYXV0b1VwZGF0ZUV4dGVuZHM9ITAsdGhpcy5hdXRvQ2FsY1NoYWRvd1pCb3VuZHM9ITEsdGhpcy5fb3J0aG9MZWZ0PU51bWJlci5NQVhfVkFMVUUsdGhpcy5fb3J0aG9SaWdodD1OdW1iZXIuTUlOX1ZBTFVFLHRoaXMuX29ydGhvVG9wPU51bWJlci5NSU5fVkFMVUUsdGhpcy5fb3J0aG9Cb3R0b209TnVtYmVyLk1BWF9WQUxVRSx0aGlzLnBvc2l0aW9uPXQuc2NhbGUoLTEpLHRoaXMuZGlyZWN0aW9uPXR9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkRpcmVjdGlvbmFsTGlnaHQifWdldFR5cGVJRCgpe3JldHVybiBvZS5MSUdIVFRZUEVJRF9ESVJFQ1RJT05BTExJR0hUfV9zZXREZWZhdWx0U2hhZG93UHJvamVjdGlvbk1hdHJpeChlLHQsaSl7dGhpcy5zaGFkb3dGcnVzdHVtU2l6ZT4wP3RoaXMuX3NldERlZmF1bHRGaXhlZEZydXN0dW1TaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUpOnRoaXMuX3NldERlZmF1bHRBdXRvRXh0ZW5kU2hhZG93UHJvamVjdGlvbk1hdHJpeChlLHQsaSl9X3NldERlZmF1bHRGaXhlZEZydXN0dW1TaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUpe2NvbnN0IHQ9dGhpcy5nZXRTY2VuZSgpLmFjdGl2ZUNhbWVyYTt0JiZNLk9ydGhvTEhUb1JlZih0aGlzLnNoYWRvd0ZydXN0dW1TaXplLHRoaXMuc2hhZG93RnJ1c3R1bVNpemUsdGhpcy5zaGFkb3dNaW5aIT09dm9pZCAwP3RoaXMuc2hhZG93TWluWjp0Lm1pblosdGhpcy5zaGFkb3dNYXhaIT09dm9pZCAwP3RoaXMuc2hhZG93TWF4Wjp0Lm1heFosZSx0aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkuaXNORENIYWxmWlJhbmdlKX1fc2V0RGVmYXVsdEF1dG9FeHRlbmRTaGFkb3dQcm9qZWN0aW9uTWF0cml4KGUsdCxpKXtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKS5hY3RpdmVDYW1lcmE7aWYoIXMpcmV0dXJuO2lmKHRoaXMuYXV0b1VwZGF0ZUV4dGVuZHN8fHRoaXMuX29ydGhvTGVmdD09PU51bWJlci5NQVhfVkFMVUUpe2NvbnN0IGw9cC5aZXJvKCk7dGhpcy5fb3J0aG9MZWZ0PU51bWJlci5NQVhfVkFMVUUsdGhpcy5fb3J0aG9SaWdodD1OdW1iZXIuTUlOX1ZBTFVFLHRoaXMuX29ydGhvVG9wPU51bWJlci5NSU5fVkFMVUUsdGhpcy5fb3J0aG9Cb3R0b209TnVtYmVyLk1BWF9WQUxVRTtsZXQgdT1OdW1iZXIuTUFYX1ZBTFVFLGQ9TnVtYmVyLk1JTl9WQUxVRTtmb3IobGV0IF89MDtfPGkubGVuZ3RoO18rKyl7Y29uc3QgZj1pW19dO2lmKCFmKWNvbnRpbnVlO2NvbnN0IHY9Zi5nZXRCb3VuZGluZ0luZm8oKS5ib3VuZGluZ0JveDtmb3IobGV0IEU9MDtFPHYudmVjdG9yc1dvcmxkLmxlbmd0aDtFKyspcC5UcmFuc2Zvcm1Db29yZGluYXRlc1RvUmVmKHYudmVjdG9yc1dvcmxkW0VdLHQsbCksbC54PHRoaXMuX29ydGhvTGVmdCYmKHRoaXMuX29ydGhvTGVmdD1sLngpLGwueTx0aGlzLl9vcnRob0JvdHRvbSYmKHRoaXMuX29ydGhvQm90dG9tPWwueSksbC54PnRoaXMuX29ydGhvUmlnaHQmJih0aGlzLl9vcnRob1JpZ2h0PWwueCksbC55PnRoaXMuX29ydGhvVG9wJiYodGhpcy5fb3J0aG9Ub3A9bC55KSx0aGlzLmF1dG9DYWxjU2hhZG93WkJvdW5kcyYmKGwuejx1JiYodT1sLnopLGwuej5kJiYoZD1sLnopKX10aGlzLmF1dG9DYWxjU2hhZG93WkJvdW5kcyYmKHRoaXMuX3NoYWRvd01pblo9dSx0aGlzLl9zaGFkb3dNYXhaPWQpfWNvbnN0IHI9dGhpcy5fb3J0aG9SaWdodC10aGlzLl9vcnRob0xlZnQsbj10aGlzLl9vcnRob1RvcC10aGlzLl9vcnRob0JvdHRvbSxhPXRoaXMuc2hhZG93TWluWiE9PXZvaWQgMD90aGlzLnNoYWRvd01pblo6cy5taW5aLG89dGhpcy5zaGFkb3dNYXhaIT09dm9pZCAwP3RoaXMuc2hhZG93TWF4WjpzLm1heFosaD10aGlzLmdldFNjZW5lKCkuZ2V0RW5naW5lKCkudXNlUmV2ZXJzZURlcHRoQnVmZmVyO00uT3J0aG9PZmZDZW50ZXJMSFRvUmVmKHRoaXMuX29ydGhvTGVmdC1yKnRoaXMuc2hhZG93T3J0aG9TY2FsZSx0aGlzLl9vcnRob1JpZ2h0K3IqdGhpcy5zaGFkb3dPcnRob1NjYWxlLHRoaXMuX29ydGhvQm90dG9tLW4qdGhpcy5zaGFkb3dPcnRob1NjYWxlLHRoaXMuX29ydGhvVG9wK24qdGhpcy5zaGFkb3dPcnRob1NjYWxlLGg/bzphLGg/YTpvLGUsdGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSl9X2J1aWxkVW5pZm9ybUxheW91dCgpe3RoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0RGF0YSIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHREaWZmdXNlIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodFNwZWN1bGFyIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInNoYWRvd3NJbmZvIiwzKSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oImRlcHRoVmFsdWVzIiwyKSx0aGlzLl91bmlmb3JtQnVmZmVyLmNyZWF0ZSgpfXRyYW5zZmVyVG9FZmZlY3QoZSx0KXtyZXR1cm4gdGhpcy5jb21wdXRlVHJhbnNmb3JtZWRJbmZvcm1hdGlvbigpPyh0aGlzLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgidkxpZ2h0RGF0YSIsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi54LHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueSx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLnosMSx0KSx0aGlzKToodGhpcy5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInZMaWdodERhdGEiLHRoaXMuZGlyZWN0aW9uLngsdGhpcy5kaXJlY3Rpb24ueSx0aGlzLmRpcmVjdGlvbi56LDEsdCksdGhpcyl9dHJhbnNmZXJUb05vZGVNYXRlcmlhbEVmZmVjdChlLHQpe3JldHVybiB0aGlzLmNvbXB1dGVUcmFuc2Zvcm1lZEluZm9ybWF0aW9uKCk/KGUuc2V0RmxvYXQzKHQsdGhpcy50cmFuc2Zvcm1lZERpcmVjdGlvbi54LHRoaXMudHJhbnNmb3JtZWREaXJlY3Rpb24ueSx0aGlzLnRyYW5zZm9ybWVkRGlyZWN0aW9uLnopLHRoaXMpOihlLnNldEZsb2F0Myh0LHRoaXMuZGlyZWN0aW9uLngsdGhpcy5kaXJlY3Rpb24ueSx0aGlzLmRpcmVjdGlvbi56KSx0aGlzKX1nZXREZXB0aE1pblooZSl7Y29uc3QgdD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtyZXR1cm4hdC51c2VSZXZlcnNlRGVwdGhCdWZmZXImJnQuaXNORENIYWxmWlJhbmdlPzA6MX1nZXREZXB0aE1heFooZSl7Y29uc3QgdD10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtyZXR1cm4gdC51c2VSZXZlcnNlRGVwdGhCdWZmZXImJnQuaXNORENIYWxmWlJhbmdlPzA6MX1wcmVwYXJlTGlnaHRTcGVjaWZpY0RlZmluZXMoZSx0KXtlWyJESVJMSUdIVCIrdF09ITB9fVQoW3koKV0sRHQucHJvdG90eXBlLCJzaGFkb3dGcnVzdHVtU2l6ZSIsbnVsbCksVChbeSgpXSxEdC5wcm90b3R5cGUsInNoYWRvd09ydGhvU2NhbGUiLG51bGwpLFQoW3koKV0sRHQucHJvdG90eXBlLCJhdXRvVXBkYXRlRXh0ZW5kcyIsdm9pZCAwKSxUKFt5KCldLER0LnByb3RvdHlwZSwiYXV0b0NhbGNTaGFkb3daQm91bmRzIix2b2lkIDApLFQoW3koIm9ydGhvTGVmdCIpXSxEdC5wcm90b3R5cGUsIl9vcnRob0xlZnQiLHZvaWQgMCksVChbeSgib3J0aG9SaWdodCIpXSxEdC5wcm90b3R5cGUsIl9vcnRob1JpZ2h0Iix2b2lkIDApLFQoW3koIm9ydGhvVG9wIildLER0LnByb3RvdHlwZSwiX29ydGhvVG9wIix2b2lkIDApLFQoW3koIm9ydGhvQm90dG9tIildLER0LnByb3RvdHlwZSwiX29ydGhvQm90dG9tIix2b2lkIDApLHplLkFkZE5vZGVDb25zdHJ1Y3RvcigiTGlnaHRfVHlwZV8zIiwoYyxlKT0+KCk9Pm5ldyBscyhjLHAuWmVybygpLGUpKTtjbGFzcyBscyBleHRlbmRzIG9le2NvbnN0cnVjdG9yKGUsdCxpKXtzdXBlcihlLGkpLHRoaXMuZ3JvdW5kQ29sb3I9bmV3IHJlKDAsMCwwKSx0aGlzLmRpcmVjdGlvbj10fHxwLlVwKCl9X2J1aWxkVW5pZm9ybUxheW91dCgpe3RoaXMuX3VuaWZvcm1CdWZmZXIuYWRkVW5pZm9ybSgidkxpZ2h0RGF0YSIsNCksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJ2TGlnaHREaWZmdXNlIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodFNwZWN1bGFyIiw0KSx0aGlzLl91bmlmb3JtQnVmZmVyLmFkZFVuaWZvcm0oInZMaWdodEdyb3VuZCIsMyksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJzaGFkb3dzSW5mbyIsMyksdGhpcy5fdW5pZm9ybUJ1ZmZlci5hZGRVbmlmb3JtKCJkZXB0aFZhbHVlcyIsMiksdGhpcy5fdW5pZm9ybUJ1ZmZlci5jcmVhdGUoKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iSGVtaXNwaGVyaWNMaWdodCJ9c2V0RGlyZWN0aW9uVG9UYXJnZXQoZSl7cmV0dXJuIHRoaXMuZGlyZWN0aW9uPXAuTm9ybWFsaXplKGUuc3VidHJhY3QocC5aZXJvKCkpKSx0aGlzLmRpcmVjdGlvbn1nZXRTaGFkb3dHZW5lcmF0b3IoKXtyZXR1cm4gbnVsbH10cmFuc2ZlclRvRWZmZWN0KGUsdCl7Y29uc3QgaT1wLk5vcm1hbGl6ZSh0aGlzLmRpcmVjdGlvbik7cmV0dXJuIHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJ2TGlnaHREYXRhIixpLngsaS55LGkueiwwLHQpLHRoaXMuX3VuaWZvcm1CdWZmZXIudXBkYXRlQ29sb3IzKCJ2TGlnaHRHcm91bmQiLHRoaXMuZ3JvdW5kQ29sb3Iuc2NhbGUodGhpcy5pbnRlbnNpdHkpLHQpLHRoaXN9dHJhbnNmZXJUb05vZGVNYXRlcmlhbEVmZmVjdChlLHQpe2NvbnN0IGk9cC5Ob3JtYWxpemUodGhpcy5kaXJlY3Rpb24pO3JldHVybiBlLnNldEZsb2F0Myh0LGkueCxpLnksaS56KSx0aGlzfWNvbXB1dGVXb3JsZE1hdHJpeCgpe3JldHVybiB0aGlzLl93b3JsZE1hdHJpeHx8KHRoaXMuX3dvcmxkTWF0cml4PU0uSWRlbnRpdHkoKSksdGhpcy5fd29ybGRNYXRyaXh9Z2V0VHlwZUlEKCl7cmV0dXJuIG9lLkxJR0hUVFlQRUlEX0hFTUlTUEhFUklDTElHSFR9cHJlcGFyZUxpZ2h0U3BlY2lmaWNEZWZpbmVzKGUsdCl7ZVsiSEVNSUxJR0hUIit0XT0hMH19VChbZGkoKV0sbHMucHJvdG90eXBlLCJncm91bmRDb2xvciIsdm9pZCAwKSxUKFtVdCgpXSxscy5wcm90b3R5cGUsImRpcmVjdGlvbiIsdm9pZCAwKTtjbGFzcyBIdHtjb25zdHJ1Y3RvcihlLHQpe3RoaXMud2lkdGg9ZSx0aGlzLmhlaWdodD10fXRvU3RyaW5nKCl7cmV0dXJuYHtXOiAke3RoaXMud2lkdGh9LCBIOiAke3RoaXMuaGVpZ2h0fX1gfWdldENsYXNzTmFtZSgpe3JldHVybiJTaXplIn1nZXRIYXNoQ29kZSgpe2xldCBlPXRoaXMud2lkdGh8MDtyZXR1cm4gZT1lKjM5N14odGhpcy5oZWlnaHR8MCksZX1jb3B5RnJvbShlKXt0aGlzLndpZHRoPWUud2lkdGgsdGhpcy5oZWlnaHQ9ZS5oZWlnaHR9Y29weUZyb21GbG9hdHMoZSx0KXtyZXR1cm4gdGhpcy53aWR0aD1lLHRoaXMuaGVpZ2h0PXQsdGhpc31zZXQoZSx0KXtyZXR1cm4gdGhpcy5jb3B5RnJvbUZsb2F0cyhlLHQpfW11bHRpcGx5QnlGbG9hdHMoZSx0KXtyZXR1cm4gbmV3IEh0KHRoaXMud2lkdGgqZSx0aGlzLmhlaWdodCp0KX1jbG9uZSgpe3JldHVybiBuZXcgSHQodGhpcy53aWR0aCx0aGlzLmhlaWdodCl9ZXF1YWxzKGUpe3JldHVybiBlP3RoaXMud2lkdGg9PT1lLndpZHRoJiZ0aGlzLmhlaWdodD09PWUuaGVpZ2h0OiExfWdldCBzdXJmYWNlKCl7cmV0dXJuIHRoaXMud2lkdGgqdGhpcy5oZWlnaHR9c3RhdGljIFplcm8oKXtyZXR1cm4gbmV3IEh0KDAsMCl9YWRkKGUpe3JldHVybiBuZXcgSHQodGhpcy53aWR0aCtlLndpZHRoLHRoaXMuaGVpZ2h0K2UuaGVpZ2h0KX1zdWJ0cmFjdChlKXtyZXR1cm4gbmV3IEh0KHRoaXMud2lkdGgtZS53aWR0aCx0aGlzLmhlaWdodC1lLmhlaWdodCl9c3RhdGljIExlcnAoZSx0LGkpe2NvbnN0IHM9ZS53aWR0aCsodC53aWR0aC1lLndpZHRoKSppLHI9ZS5oZWlnaHQrKHQuaGVpZ2h0LWUuaGVpZ2h0KSppO3JldHVybiBuZXcgSHQocyxyKX19Y2xhc3MgSHN7Z2V0IHdyYXBVKCl7cmV0dXJuIHRoaXMuX3dyYXBVfXNldCB3cmFwVShlKXt0aGlzLl93cmFwVT1lfWdldCB3cmFwVigpe3JldHVybiB0aGlzLl93cmFwVn1zZXQgd3JhcFYoZSl7dGhpcy5fd3JhcFY9ZX1nZXQgY29vcmRpbmF0ZXNNb2RlKCl7cmV0dXJuIDB9Z2V0IGlzQ3ViZSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXNDdWJlOiExfXNldCBpc0N1YmUoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuaXNDdWJlPWUpfWdldCBpczNEKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pczNEOiExfXNldCBpczNEKGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLmlzM0Q9ZSl9Z2V0IGlzMkRBcnJheSgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXMyREFycmF5OiExfXNldCBpczJEQXJyYXkoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuaXMyREFycmF5PWUpfWdldENsYXNzTmFtZSgpe3JldHVybiJUaGluVGV4dHVyZSJ9c3RhdGljIF9Jc1JlbmRlclRhcmdldFdyYXBwZXIoZSl7cmV0dXJuKGU9PW51bGw/dm9pZCAwOmUuX3NoYXJlRGVwdGgpIT09dm9pZCAwfWNvbnN0cnVjdG9yKGUpe3RoaXMuX3dyYXBVPTEsdGhpcy5fd3JhcFY9MSx0aGlzLndyYXBSPTEsdGhpcy5hbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPTQsdGhpcy5kZWxheUxvYWRTdGF0ZT0wLHRoaXMuX3RleHR1cmU9bnVsbCx0aGlzLl9lbmdpbmU9bnVsbCx0aGlzLl9jYWNoZWRTaXplPUh0Llplcm8oKSx0aGlzLl9jYWNoZWRCYXNlU2l6ZT1IdC5aZXJvKCksdGhpcy5faW5pdGlhbFNhbXBsaW5nTW9kZT0yLHRoaXMuX3RleHR1cmU9SHMuX0lzUmVuZGVyVGFyZ2V0V3JhcHBlcihlKT9lLnRleHR1cmU6ZSx0aGlzLl90ZXh0dXJlJiYodGhpcy5fZW5naW5lPXRoaXMuX3RleHR1cmUuZ2V0RW5naW5lKCkpfWlzUmVhZHkoKXtyZXR1cm4gdGhpcy5kZWxheUxvYWRTdGF0ZT09PTQ/KHRoaXMuZGVsYXlMb2FkKCksITEpOnRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pc1JlYWR5OiExfWRlbGF5TG9hZCgpe31nZXRJbnRlcm5hbFRleHR1cmUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZX1nZXRTaXplKCl7aWYodGhpcy5fdGV4dHVyZSl7aWYodGhpcy5fdGV4dHVyZS53aWR0aClyZXR1cm4gdGhpcy5fY2FjaGVkU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLndpZHRoLHRoaXMuX2NhY2hlZFNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuaGVpZ2h0LHRoaXMuX2NhY2hlZFNpemU7aWYodGhpcy5fdGV4dHVyZS5fc2l6ZSlyZXR1cm4gdGhpcy5fY2FjaGVkU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLl9zaXplLHRoaXMuX2NhY2hlZFNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuX3NpemUsdGhpcy5fY2FjaGVkU2l6ZX1yZXR1cm4gdGhpcy5fY2FjaGVkU2l6ZX1nZXRCYXNlU2l6ZSgpe3JldHVybiF0aGlzLmlzUmVhZHkoKXx8IXRoaXMuX3RleHR1cmU/KHRoaXMuX2NhY2hlZEJhc2VTaXplLndpZHRoPTAsdGhpcy5fY2FjaGVkQmFzZVNpemUuaGVpZ2h0PTAsdGhpcy5fY2FjaGVkQmFzZVNpemUpOnRoaXMuX3RleHR1cmUuX3NpemU/KHRoaXMuX2NhY2hlZEJhc2VTaXplLndpZHRoPXRoaXMuX3RleHR1cmUuX3NpemUsdGhpcy5fY2FjaGVkQmFzZVNpemUuaGVpZ2h0PXRoaXMuX3RleHR1cmUuX3NpemUsdGhpcy5fY2FjaGVkQmFzZVNpemUpOih0aGlzLl9jYWNoZWRCYXNlU2l6ZS53aWR0aD10aGlzLl90ZXh0dXJlLmJhc2VXaWR0aCx0aGlzLl9jYWNoZWRCYXNlU2l6ZS5oZWlnaHQ9dGhpcy5fdGV4dHVyZS5iYXNlSGVpZ2h0LHRoaXMuX2NhY2hlZEJhc2VTaXplKX1nZXQgc2FtcGxpbmdNb2RlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5zYW1wbGluZ01vZGU6dGhpcy5faW5pdGlhbFNhbXBsaW5nTW9kZX11cGRhdGVTYW1wbGluZ01vZGUoZSl7dGhpcy5fdGV4dHVyZSYmdGhpcy5fZW5naW5lJiZ0aGlzLl9lbmdpbmUudXBkYXRlVGV4dHVyZVNhbXBsaW5nTW9kZShlLHRoaXMuX3RleHR1cmUpfXJlbGVhc2VJbnRlcm5hbFRleHR1cmUoKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZT1udWxsKX1kaXNwb3NlKCl7dGhpcy5fdGV4dHVyZSYmKHRoaXMucmVsZWFzZUludGVybmFsVGV4dHVyZSgpLHRoaXMuX2VuZ2luZT1udWxsKX19Y2xhc3MgUmUgZXh0ZW5kcyBIc3tzZXQgaGFzQWxwaGEoZSl7dGhpcy5faGFzQWxwaGEhPT1lJiYodGhpcy5faGFzQWxwaGE9ZSx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSx0PT50Lmhhc1RleHR1cmUodGhpcykpKX1nZXQgaGFzQWxwaGEoKXtyZXR1cm4gdGhpcy5faGFzQWxwaGF9c2V0IGdldEFscGhhRnJvbVJHQihlKXt0aGlzLl9nZXRBbHBoYUZyb21SR0IhPT1lJiYodGhpcy5fZ2V0QWxwaGFGcm9tUkdCPWUsdGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEsdD0+dC5oYXNUZXh0dXJlKHRoaXMpKSl9Z2V0IGdldEFscGhhRnJvbVJHQigpe3JldHVybiB0aGlzLl9nZXRBbHBoYUZyb21SR0J9c2V0IGNvb3JkaW5hdGVzSW5kZXgoZSl7dGhpcy5fY29vcmRpbmF0ZXNJbmRleCE9PWUmJih0aGlzLl9jb29yZGluYXRlc0luZGV4PWUsdGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLm1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEsdD0+dC5oYXNUZXh0dXJlKHRoaXMpKSl9Z2V0IGNvb3JkaW5hdGVzSW5kZXgoKXtyZXR1cm4gdGhpcy5fY29vcmRpbmF0ZXNJbmRleH1zZXQgY29vcmRpbmF0ZXNNb2RlKGUpe3RoaXMuX2Nvb3JkaW5hdGVzTW9kZSE9PWUmJih0aGlzLl9jb29yZGluYXRlc01vZGU9ZSx0aGlzLl9zY2VuZSYmdGhpcy5fc2NlbmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSx0PT50Lmhhc1RleHR1cmUodGhpcykpKX1nZXQgY29vcmRpbmF0ZXNNb2RlKCl7cmV0dXJuIHRoaXMuX2Nvb3JkaW5hdGVzTW9kZX1nZXQgd3JhcFUoKXtyZXR1cm4gdGhpcy5fd3JhcFV9c2V0IHdyYXBVKGUpe3RoaXMuX3dyYXBVPWV9Z2V0IHdyYXBWKCl7cmV0dXJuIHRoaXMuX3dyYXBWfXNldCB3cmFwVihlKXt0aGlzLl93cmFwVj1lfWdldCBpc0N1YmUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzQ3ViZTp0aGlzLl9pc0N1YmV9c2V0IGlzQ3ViZShlKXt0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuaXNDdWJlPWU6dGhpcy5faXNDdWJlPWV9Z2V0IGlzM0QoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLmlzM0Q6ITF9c2V0IGlzM0QoZSl7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuaXMzRD1lKX1nZXQgaXMyREFycmF5KCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5pczJEQXJyYXk6ITF9c2V0IGlzMkRBcnJheShlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5pczJEQXJyYXk9ZSl9Z2V0IGdhbW1hU3BhY2UoKXtpZih0aGlzLl90ZXh0dXJlKXRoaXMuX3RleHR1cmUuX2dhbW1hU3BhY2U9PT1udWxsJiYodGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZT10aGlzLl9nYW1tYVNwYWNlKTtlbHNlIHJldHVybiB0aGlzLl9nYW1tYVNwYWNlO3JldHVybiB0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlJiYhdGhpcy5fdGV4dHVyZS5fdXNlU1JHQkJ1ZmZlcn1zZXQgZ2FtbWFTcGFjZShlKXtpZih0aGlzLl90ZXh0dXJlKXtpZih0aGlzLl90ZXh0dXJlLl9nYW1tYVNwYWNlPT09ZSlyZXR1cm47dGhpcy5fdGV4dHVyZS5fZ2FtbWFTcGFjZT1lfWVsc2V7aWYodGhpcy5fZ2FtbWFTcGFjZT09PWUpcmV0dXJuO3RoaXMuX2dhbW1hU3BhY2U9ZX10aGlzLl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCl9Z2V0IGlzUkdCRCgpe3JldHVybiB0aGlzLl90ZXh0dXJlIT1udWxsJiZ0aGlzLl90ZXh0dXJlLl9pc1JHQkR9c2V0IGlzUkdCRChlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5faXNSR0JEPWUpfWdldCBub01pcG1hcCgpe3JldHVybiExfWdldCBsb2RHZW5lcmF0aW9uT2Zmc2V0KCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kR2VuZXJhdGlvbk9mZnNldDowfXNldCBsb2RHZW5lcmF0aW9uT2Zmc2V0KGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9sb2RHZW5lcmF0aW9uT2Zmc2V0PWUpfWdldCBsb2RHZW5lcmF0aW9uU2NhbGUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9sb2RHZW5lcmF0aW9uU2NhbGU6MH1zZXQgbG9kR2VuZXJhdGlvblNjYWxlKGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9sb2RHZW5lcmF0aW9uU2NhbGU9ZSl9Z2V0IGxpbmVhclNwZWN1bGFyTE9EKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbGluZWFyU3BlY3VsYXJMT0Q6ITF9c2V0IGxpbmVhclNwZWN1bGFyTE9EKGUpe3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLl9saW5lYXJTcGVjdWxhckxPRD1lKX1nZXQgaXJyYWRpYW5jZVRleHR1cmUoKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9pcnJhZGlhbmNlVGV4dHVyZTpudWxsfXNldCBpcnJhZGlhbmNlVGV4dHVyZShlKXt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5faXJyYWRpYW5jZVRleHR1cmU9ZSl9Z2V0IHVpZCgpe3JldHVybiB0aGlzLl91aWR8fCh0aGlzLl91aWQ9ZnIoKSksdGhpcy5fdWlkfXRvU3RyaW5nKCl7cmV0dXJuIHRoaXMubmFtZX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iQmFzZVRleHR1cmUifXNldCBvbkRpc3Bvc2UoZSl7dGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXImJnRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25EaXNwb3NlT2JzZXJ2ZXIpLHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPXRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IGlzQmxvY2tpbmcoKXtyZXR1cm4hMH1nZXQgbG9hZGluZ0Vycm9yKCl7cmV0dXJuIHRoaXMuX2xvYWRpbmdFcnJvcn1nZXQgZXJyb3JPYmplY3QoKXtyZXR1cm4gdGhpcy5fZXJyb3JPYmplY3R9Y29uc3RydWN0b3IoZSx0PW51bGwpe3N1cGVyKG51bGwpLHRoaXMubWV0YWRhdGE9bnVsbCx0aGlzLnJlc2VydmVkRGF0YVN0b3JlPW51bGwsdGhpcy5faGFzQWxwaGE9ITEsdGhpcy5fZ2V0QWxwaGFGcm9tUkdCPSExLHRoaXMubGV2ZWw9MSx0aGlzLl9jb29yZGluYXRlc0luZGV4PTAsdGhpcy5vcHRpbWl6ZVVWQWxsb2NhdGlvbj0hMCx0aGlzLl9jb29yZGluYXRlc01vZGU9MCx0aGlzLndyYXBSPTEsdGhpcy5hbmlzb3Ryb3BpY0ZpbHRlcmluZ0xldmVsPVJlLkRFRkFVTFRfQU5JU09UUk9QSUNfRklMVEVSSU5HX0xFVkVMLHRoaXMuX2lzQ3ViZT0hMSx0aGlzLl9nYW1tYVNwYWNlPSEwLHRoaXMuaW52ZXJ0Wj0hMSx0aGlzLmxvZExldmVsSW5BbHBoYT0hMSx0aGlzLmlzUmVuZGVyVGFyZ2V0PSExLHRoaXMuX3ByZWZpbHRlcmVkPSExLHRoaXMuX2ZvcmNlU2VyaWFsaXplPSExLHRoaXMuYW5pbWF0aW9ucz1uZXcgQXJyYXksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX29uRGlzcG9zZU9ic2VydmVyPW51bGwsdGhpcy5fc2NlbmU9bnVsbCx0aGlzLl91aWQ9bnVsbCx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLl9sb2FkaW5nRXJyb3I9ITEsZT9SZS5fSXNTY2VuZShlKT90aGlzLl9zY2VuZT1lOnRoaXMuX2VuZ2luZT1lOnRoaXMuX3NjZW5lPWxlLkxhc3RDcmVhdGVkU2NlbmUsdGhpcy5fc2NlbmUmJih0aGlzLnVuaXF1ZUlkPXRoaXMuX3NjZW5lLmdldFVuaXF1ZUlkKCksdGhpcy5fc2NlbmUuYWRkVGV4dHVyZSh0aGlzKSx0aGlzLl9lbmdpbmU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkpLHRoaXMuX3RleHR1cmU9dCx0aGlzLl91aWQ9bnVsbH1nZXRTY2VuZSgpe3JldHVybiB0aGlzLl9zY2VuZX1fZ2V0RW5naW5lKCl7cmV0dXJuIHRoaXMuX2VuZ2luZX1jaGVja1RyYW5zZm9ybXNBcmVJZGVudGljYWwoZSl7cmV0dXJuIGUhPT1udWxsfWdldFRleHR1cmVNYXRyaXgoKXtyZXR1cm4gTS5JZGVudGl0eVJlYWRPbmx5fWdldFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KCl7cmV0dXJuIE0uSWRlbnRpdHlSZWFkT25seX1pc1JlYWR5T3JOb3RCbG9ja2luZygpe3JldHVybiF0aGlzLmlzQmxvY2tpbmd8fHRoaXMuaXNSZWFkeSgpfHx0aGlzLmxvYWRpbmdFcnJvcn1zY2FsZShlKXt9Z2V0IGNhblJlc2NhbGUoKXtyZXR1cm4hMX1fZ2V0RnJvbUNhY2hlKGUsdCxpLHMscixuKXtjb25zdCBhPXRoaXMuX2dldEVuZ2luZSgpO2lmKCFhKXJldHVybiBudWxsO2NvbnN0IG89YS5fZ2V0VXNlU1JHQkJ1ZmZlcighIXIsdCksaD1hLmdldExvYWRlZFRleHR1cmVzQ2FjaGUoKTtmb3IobGV0IGw9MDtsPGgubGVuZ3RoO2wrKyl7Y29uc3QgdT1oW2xdO2lmKChyPT09dm9pZCAwfHxvPT09dS5fdXNlU1JHQkJ1ZmZlcikmJihzPT09dm9pZCAwfHxzPT09dS5pbnZlcnRZKSYmdS51cmw9PT1lJiZ1LmdlbmVyYXRlTWlwTWFwcz09PSF0JiYoIWl8fGk9PT11LnNhbXBsaW5nTW9kZSkmJihuPT09dm9pZCAwfHxuPT09dS5pc0N1YmUpKXJldHVybiB1LmluY3JlbWVudFJlZmVyZW5jZXMoKSx1fXJldHVybiBudWxsfV9yZWJ1aWxkKCl7fWNsb25lKCl7cmV0dXJuIG51bGx9Z2V0IHRleHR1cmVUeXBlKCl7cmV0dXJuIHRoaXMuX3RleHR1cmUmJnRoaXMuX3RleHR1cmUudHlwZSE9PXZvaWQgMD90aGlzLl90ZXh0dXJlLnR5cGU6MH1nZXQgdGV4dHVyZUZvcm1hdCgpe3JldHVybiB0aGlzLl90ZXh0dXJlJiZ0aGlzLl90ZXh0dXJlLmZvcm1hdCE9PXZvaWQgMD90aGlzLl90ZXh0dXJlLmZvcm1hdDo1fV9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5KCl7Y29uc3QgZT10aGlzLmdldFNjZW5lKCk7ZSYmZS5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKX1yZWFkUGl4ZWxzKGU9MCx0PTAsaT1udWxsLHM9ITAscj0hMSxuPTAsYT0wLG89TnVtYmVyLk1BWF9WQUxVRSxoPU51bWJlci5NQVhfVkFMVUUpe2lmKCF0aGlzLl90ZXh0dXJlKXJldHVybiBudWxsO2NvbnN0IGw9dGhpcy5fZ2V0RW5naW5lKCk7aWYoIWwpcmV0dXJuIG51bGw7Y29uc3QgdT10aGlzLmdldFNpemUoKTtsZXQgZD11LndpZHRoLF89dS5oZWlnaHQ7dCE9PTAmJihkPWQvTWF0aC5wb3coMix0KSxfPV8vTWF0aC5wb3coMix0KSxkPU1hdGgucm91bmQoZCksXz1NYXRoLnJvdW5kKF8pKSxvPU1hdGgubWluKGQsbyksaD1NYXRoLm1pbihfLGgpO3RyeXtyZXR1cm4gdGhpcy5fdGV4dHVyZS5pc0N1YmU/bC5fcmVhZFRleHR1cmVQaXhlbHModGhpcy5fdGV4dHVyZSxvLGgsZSx0LGkscyxyLG4sYSk6bC5fcmVhZFRleHR1cmVQaXhlbHModGhpcy5fdGV4dHVyZSxvLGgsLTEsdCxpLHMscixuLGEpfWNhdGNoe3JldHVybiBudWxsfX1fcmVhZFBpeGVsc1N5bmMoZT0wLHQ9MCxpPW51bGwscz0hMCxyPSExKXtpZighdGhpcy5fdGV4dHVyZSlyZXR1cm4gbnVsbDtjb25zdCBuPXRoaXMuZ2V0U2l6ZSgpO2xldCBhPW4ud2lkdGgsbz1uLmhlaWdodDtjb25zdCBoPXRoaXMuX2dldEVuZ2luZSgpO2lmKCFoKXJldHVybiBudWxsO3QhPTAmJihhPWEvTWF0aC5wb3coMix0KSxvPW8vTWF0aC5wb3coMix0KSxhPU1hdGgucm91bmQoYSksbz1NYXRoLnJvdW5kKG8pKTt0cnl7cmV0dXJuIHRoaXMuX3RleHR1cmUuaXNDdWJlP2guX3JlYWRUZXh0dXJlUGl4ZWxzU3luYyh0aGlzLl90ZXh0dXJlLGEsbyxlLHQsaSxzLHIpOmguX3JlYWRUZXh0dXJlUGl4ZWxzU3luYyh0aGlzLl90ZXh0dXJlLGEsbywtMSx0LGkscyxyKX1jYXRjaHtyZXR1cm4gbnVsbH19Z2V0IF9sb2RUZXh0dXJlSGlnaCgpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZFRleHR1cmVIaWdoOm51bGx9Z2V0IF9sb2RUZXh0dXJlTWlkKCl7cmV0dXJuIHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS5fbG9kVGV4dHVyZU1pZDpudWxsfWdldCBfbG9kVGV4dHVyZUxvdygpe3JldHVybiB0aGlzLl90ZXh0dXJlP3RoaXMuX3RleHR1cmUuX2xvZFRleHR1cmVMb3c6bnVsbH1kaXNwb3NlKCl7aWYodGhpcy5fc2NlbmUpe3RoaXMuX3NjZW5lLnN0b3BBbmltYXRpb24mJnRoaXMuX3NjZW5lLnN0b3BBbmltYXRpb24odGhpcyksdGhpcy5fc2NlbmUucmVtb3ZlUGVuZGluZ0RhdGEodGhpcyk7Y29uc3QgZT10aGlzLl9zY2VuZS50ZXh0dXJlcy5pbmRleE9mKHRoaXMpO2lmKGU+PTAmJnRoaXMuX3NjZW5lLnRleHR1cmVzLnNwbGljZShlLDEpLHRoaXMuX3NjZW5lLm9uVGV4dHVyZVJlbW92ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSx0aGlzLl9zY2VuZT1udWxsLHRoaXMuX3BhcmVudENvbnRhaW5lcil7Y29uc3QgdD10aGlzLl9wYXJlbnRDb250YWluZXIudGV4dHVyZXMuaW5kZXhPZih0aGlzKTt0Pi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIudGV4dHVyZXMuc3BsaWNlKHQsMSksdGhpcy5fcGFyZW50Q29udGFpbmVyPW51bGx9fXRoaXMub25EaXNwb3NlT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksdGhpcy5vbkRpc3Bvc2VPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5tZXRhZGF0YT1udWxsLHN1cGVyLmRpc3Bvc2UoKX1zZXJpYWxpemUoZT0hMSl7aWYoIXRoaXMubmFtZSYmIWUpcmV0dXJuIG51bGw7Y29uc3QgdD1uZS5TZXJpYWxpemUodGhpcyk7cmV0dXJuIG5lLkFwcGVuZFNlcmlhbGl6ZWRBbmltYXRpb25zKHRoaXMsdCksdH1zdGF0aWMgV2hlbkFsbFJlYWR5KGUsdCl7bGV0IGk9ZS5sZW5ndGg7aWYoaT09PTApe3QoKTtyZXR1cm59Zm9yKGxldCBzPTA7czxlLmxlbmd0aDtzKyspe2NvbnN0IHI9ZVtzXTtpZihyLmlzUmVhZHkoKSktLWk9PT0wJiZ0KCk7ZWxzZXtjb25zdCBuPXIub25Mb2FkT2JzZXJ2YWJsZTtuP24uYWRkT25jZSgoKT0+ey0taT09PTAmJnQoKX0pOi0taT09PTAmJnQoKX19fXN0YXRpYyBfSXNTY2VuZShlKXtyZXR1cm4gZS5nZXRDbGFzc05hbWUoKT09PSJTY2VuZSJ9fVJlLkRFRkFVTFRfQU5JU09UUk9QSUNfRklMVEVSSU5HX0xFVkVMPTQsVChbeSgpXSxSZS5wcm90b3R5cGUsInVuaXF1ZUlkIix2b2lkIDApLFQoW3koKV0sUmUucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW3koKV0sUmUucHJvdG90eXBlLCJtZXRhZGF0YSIsdm9pZCAwKSxUKFt5KCJoYXNBbHBoYSIpXSxSZS5wcm90b3R5cGUsIl9oYXNBbHBoYSIsdm9pZCAwKSxUKFt5KCJnZXRBbHBoYUZyb21SR0IiKV0sUmUucHJvdG90eXBlLCJfZ2V0QWxwaGFGcm9tUkdCIix2b2lkIDApLFQoW3koKV0sUmUucHJvdG90eXBlLCJsZXZlbCIsdm9pZCAwKSxUKFt5KCJjb29yZGluYXRlc0luZGV4IildLFJlLnByb3RvdHlwZSwiX2Nvb3JkaW5hdGVzSW5kZXgiLHZvaWQgMCksVChbeSgpXSxSZS5wcm90b3R5cGUsIm9wdGltaXplVVZBbGxvY2F0aW9uIix2b2lkIDApLFQoW3koImNvb3JkaW5hdGVzTW9kZSIpXSxSZS5wcm90b3R5cGUsIl9jb29yZGluYXRlc01vZGUiLHZvaWQgMCksVChbeSgpXSxSZS5wcm90b3R5cGUsIndyYXBVIixudWxsKSxUKFt5KCldLFJlLnByb3RvdHlwZSwid3JhcFYiLG51bGwpLFQoW3koKV0sUmUucHJvdG90eXBlLCJ3cmFwUiIsdm9pZCAwKSxUKFt5KCldLFJlLnByb3RvdHlwZSwiYW5pc290cm9waWNGaWx0ZXJpbmdMZXZlbCIsdm9pZCAwKSxUKFt5KCldLFJlLnByb3RvdHlwZSwiaXNDdWJlIixudWxsKSxUKFt5KCldLFJlLnByb3RvdHlwZSwiaXMzRCIsbnVsbCksVChbeSgpXSxSZS5wcm90b3R5cGUsImlzMkRBcnJheSIsbnVsbCksVChbeSgpXSxSZS5wcm90b3R5cGUsImdhbW1hU3BhY2UiLG51bGwpLFQoW3koKV0sUmUucHJvdG90eXBlLCJpbnZlcnRaIix2b2lkIDApLFQoW3koKV0sUmUucHJvdG90eXBlLCJsb2RMZXZlbEluQWxwaGEiLHZvaWQgMCksVChbeSgpXSxSZS5wcm90b3R5cGUsImxvZEdlbmVyYXRpb25PZmZzZXQiLG51bGwpLFQoW3koKV0sUmUucHJvdG90eXBlLCJsb2RHZW5lcmF0aW9uU2NhbGUiLG51bGwpLFQoW3koKV0sUmUucHJvdG90eXBlLCJsaW5lYXJTcGVjdWxhckxPRCIsbnVsbCksVChbdnQoKV0sUmUucHJvdG90eXBlLCJpcnJhZGlhbmNlVGV4dHVyZSIsbnVsbCksVChbeSgpXSxSZS5wcm90b3R5cGUsImlzUmVuZGVyVGFyZ2V0Iix2b2lkIDApO2Z1bmN0aW9uIEJyKGMsZSx0PSExKXtjb25zdCBpPWUud2lkdGgscz1lLmhlaWdodDtpZihjIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXtsZXQgaD1jLmJ5dGVMZW5ndGgvYy5CWVRFU19QRVJfRUxFTUVOVDtjb25zdCBsPW5ldyBVaW50OEFycmF5KGgpO2Zvcig7LS1oPj0wOyl7bGV0IHU9Y1toXTt1PDA/dT0wOnU+MSYmKHU9MSksbFtoXT11KjI1NX1jPWx9Y29uc3Qgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtyLndpZHRoPWksci5oZWlnaHQ9cztjb25zdCBuPXIuZ2V0Q29udGV4dCgiMmQiKTtpZighbilyZXR1cm4gbnVsbDtjb25zdCBhPW4uY3JlYXRlSW1hZ2VEYXRhKGkscyk7aWYoYS5kYXRhLnNldChjKSxuLnB1dEltYWdlRGF0YShhLDAsMCksdCl7Y29uc3QgaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTtoLndpZHRoPWksaC5oZWlnaHQ9cztjb25zdCBsPWguZ2V0Q29udGV4dCgiMmQiKTtyZXR1cm4gbD8obC50cmFuc2xhdGUoMCxzKSxsLnNjYWxlKDEsLTEpLGwuZHJhd0ltYWdlKHIsMCwwKSxoLnRvRGF0YVVSTCgiaW1hZ2UvcG5nIikpOm51bGx9cmV0dXJuIHIudG9EYXRhVVJMKCJpbWFnZS9wbmciKX1mdW5jdGlvbiBKbihjLGU9MCx0PTApe2NvbnN0IGk9Yy5nZXRJbnRlcm5hbFRleHR1cmUoKTtpZighaSlyZXR1cm4gbnVsbDtjb25zdCBzPWMuX3JlYWRQaXhlbHNTeW5jKGUsdCk7cmV0dXJuIHM/QnIocyxjLmdldFNpemUoKSxpLmludmVydFkpOm51bGx9YXN5bmMgZnVuY3Rpb24gZWEoYyxlPTAsdD0wKXtjb25zdCBpPWMuZ2V0SW50ZXJuYWxUZXh0dXJlKCk7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgcz1hd2FpdCBjLnJlYWRQaXhlbHMoZSx0KTtyZXR1cm4gcz9CcihzLGMuZ2V0U2l6ZSgpLGkuaW52ZXJ0WSk6bnVsbH1jbGFzcyBOIGV4dGVuZHMgUmV7Z2V0IG5vTWlwbWFwKCl7cmV0dXJuIHRoaXMuX25vTWlwbWFwfWdldCBtaW1lVHlwZSgpe3JldHVybiB0aGlzLl9taW1lVHlwZX1zZXQgaXNCbG9ja2luZyhlKXt0aGlzLl9pc0Jsb2NraW5nPWV9Z2V0IGlzQmxvY2tpbmcoKXtyZXR1cm4gdGhpcy5faXNCbG9ja2luZ31nZXQgaW52ZXJ0WSgpe3JldHVybiB0aGlzLl9pbnZlcnRZfWNvbnN0cnVjdG9yKGUsdCxpLHMscj1OLlRSSUxJTkVBUl9TQU1QTElOR01PREUsbj1udWxsLGE9bnVsbCxvPW51bGwsaD0hMSxsLHUsZCxfLGYpe3ZhciBtLHYsRSxTLFIsQSxDLGIseDtzdXBlcih0KSx0aGlzLnVybD1udWxsLHRoaXMudU9mZnNldD0wLHRoaXMudk9mZnNldD0wLHRoaXMudVNjYWxlPTEsdGhpcy52U2NhbGU9MSx0aGlzLnVBbmc9MCx0aGlzLnZBbmc9MCx0aGlzLndBbmc9MCx0aGlzLnVSb3RhdGlvbkNlbnRlcj0uNSx0aGlzLnZSb3RhdGlvbkNlbnRlcj0uNSx0aGlzLndSb3RhdGlvbkNlbnRlcj0uNSx0aGlzLmhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtPSExLHRoaXMuaW5zcGVjdGFibGVDdXN0b21Qcm9wZXJ0aWVzPW51bGwsdGhpcy5fbm9NaXBtYXA9ITEsdGhpcy5faW52ZXJ0WT0hMSx0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4PW51bGwsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeD1udWxsLHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4PW51bGwsdGhpcy5fdDA9bnVsbCx0aGlzLl90MT1udWxsLHRoaXMuX3QyPW51bGwsdGhpcy5fY2FjaGVkVU9mZnNldD0tMSx0aGlzLl9jYWNoZWRWT2Zmc2V0PS0xLHRoaXMuX2NhY2hlZFVTY2FsZT0wLHRoaXMuX2NhY2hlZFZTY2FsZT0wLHRoaXMuX2NhY2hlZFVBbmc9LTEsdGhpcy5fY2FjaGVkVkFuZz0tMSx0aGlzLl9jYWNoZWRXQW5nPS0xLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25Qcm9qZWN0aW9uTWF0cml4SWQ9LTEsdGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyPS0xLHRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlcj0tMSx0aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXI9LTEsdGhpcy5fY2FjaGVkSG9tb2dlbmVvdXNSb3RhdGlvbkluVVZUcmFuc2Zvcm09ITEsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXg9bnVsbCx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVU9mZnNldD0tMSx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVk9mZnNldD0tMSx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVVNjYWxlPTAsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblZTY2FsZT0wLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25Db29yZGluYXRlc01vZGU9LTEsdGhpcy5fYnVmZmVyPW51bGwsdGhpcy5fZGVsZXRlQnVmZmVyPSExLHRoaXMuX2Zvcm1hdD1udWxsLHRoaXMuX2RlbGF5ZWRPbkxvYWQ9bnVsbCx0aGlzLl9kZWxheWVkT25FcnJvcj1udWxsLHRoaXMub25Mb2FkT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9pc0Jsb2NraW5nPSEwLHRoaXMubmFtZT1lfHwiIix0aGlzLnVybD1lO2xldCBJLFU9ITEsaz1udWxsO3R5cGVvZiBpPT0ib2JqZWN0IiYmaSE9PW51bGw/KEk9KG09aS5ub01pcG1hcCkhPT1udWxsJiZtIT09dm9pZCAwP206ITEscz0odj1pLmludmVydFkpIT09bnVsbCYmdiE9PXZvaWQgMD92OiFfdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWLHI9KEU9aS5zYW1wbGluZ01vZGUpIT09bnVsbCYmRSE9PXZvaWQgMD9FOk4uVFJJTElORUFSX1NBTVBMSU5HTU9ERSxuPShTPWkub25Mb2FkKSE9PW51bGwmJlMhPT12b2lkIDA/UzpudWxsLGE9KFI9aS5vbkVycm9yKSE9PW51bGwmJlIhPT12b2lkIDA/UjpudWxsLG89KEE9aS5idWZmZXIpIT09bnVsbCYmQSE9PXZvaWQgMD9BOm51bGwsaD0oQz1pLmRlbGV0ZUJ1ZmZlcikhPT1udWxsJiZDIT09dm9pZCAwP0M6ITEsbD1pLmZvcm1hdCx1PWkubWltZVR5cGUsZD1pLmxvYWRlck9wdGlvbnMsXz1pLmNyZWF0aW9uRmxhZ3MsVT0oYj1pLnVzZVNSR0JCdWZmZXIpIT09bnVsbCYmYiE9PXZvaWQgMD9iOiExLGs9KHg9aS5pbnRlcm5hbFRleHR1cmUpIT09bnVsbCYmeCE9PXZvaWQgMD94Om51bGwpOkk9ISFpLHRoaXMuX25vTWlwbWFwPUksdGhpcy5faW52ZXJ0WT1zPT09dm9pZCAwPyFfdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWOnMsdGhpcy5faW5pdGlhbFNhbXBsaW5nTW9kZT1yLHRoaXMuX2J1ZmZlcj1vLHRoaXMuX2RlbGV0ZUJ1ZmZlcj1oLHRoaXMuX21pbWVUeXBlPXUsdGhpcy5fbG9hZGVyT3B0aW9ucz1kLHRoaXMuX2NyZWF0aW9uRmxhZ3M9Xyx0aGlzLl91c2VTUkdCQnVmZmVyPVUsdGhpcy5fZm9yY2VkRXh0ZW5zaW9uPWYsbCYmKHRoaXMuX2Zvcm1hdD1sKTtjb25zdCBtZT10aGlzLmdldFNjZW5lKCkscT10aGlzLl9nZXRFbmdpbmUoKTtpZighcSlyZXR1cm47cS5vbkJlZm9yZVRleHR1cmVJbml0T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Y29uc3QgdWU9KCk9Pnt0aGlzLl90ZXh0dXJlJiYodGhpcy5fdGV4dHVyZS5faW52ZXJ0VlNjYWxlJiYodGhpcy52U2NhbGUqPS0xLHRoaXMudk9mZnNldCs9MSksdGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFUhPT1udWxsJiYodGhpcy53cmFwVT10aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwVSx0aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwVT1udWxsKSx0aGlzLl90ZXh0dXJlLl9jYWNoZWRXcmFwViE9PW51bGwmJih0aGlzLndyYXBWPXRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBWLHRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBWPW51bGwpLHRoaXMuX3RleHR1cmUuX2NhY2hlZFdyYXBSIT09bnVsbCYmKHRoaXMud3JhcFI9dGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFIsdGhpcy5fdGV4dHVyZS5fY2FjaGVkV3JhcFI9bnVsbCkpLHRoaXMub25Mb2FkT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmdGhpcy5vbkxvYWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyh0aGlzKSxuJiZuKCksIXRoaXMuaXNCbG9ja2luZyYmbWUmJm1lLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKX0saWU9KGJlLE1lKT0+e3RoaXMuX2xvYWRpbmdFcnJvcj0hMCx0aGlzLl9lcnJvck9iamVjdD17bWVzc2FnZTpiZSxleGNlcHRpb246TWV9LGEmJmEoYmUsTWUpLE4uT25UZXh0dXJlTG9hZEVycm9yT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9O2lmKCF0aGlzLnVybCYmIWspe3RoaXMuX2RlbGF5ZWRPbkxvYWQ9dWUsdGhpcy5fZGVsYXllZE9uRXJyb3I9aWU7cmV0dXJufWlmKHRoaXMuX3RleHR1cmU9az8/dGhpcy5fZ2V0RnJvbUNhY2hlKHRoaXMudXJsLEkscix0aGlzLl9pbnZlcnRZLFUpLHRoaXMuX3RleHR1cmUpaWYodGhpcy5fdGV4dHVyZS5pc1JlYWR5KVppLlNldEltbWVkaWF0ZSgoKT0+dWUoKSk7ZWxzZXtjb25zdCBiZT10aGlzLl90ZXh0dXJlLm9uTG9hZGVkT2JzZXJ2YWJsZS5hZGQodWUpO3RoaXMuX3RleHR1cmUub25FcnJvck9ic2VydmFibGUuYWRkKE1lPT57dmFyIEhlO2llKE1lLm1lc3NhZ2UsTWUuZXhjZXB0aW9uKSwoSGU9dGhpcy5fdGV4dHVyZSk9PT1udWxsfHxIZT09PXZvaWQgMHx8SGUub25Mb2FkZWRPYnNlcnZhYmxlLnJlbW92ZShiZSl9KX1lbHNlIGlmKCFtZXx8IW1lLnVzZURlbGF5ZWRUZXh0dXJlTG9hZGluZyl7dHJ5e3RoaXMuX3RleHR1cmU9cS5jcmVhdGVUZXh0dXJlKHRoaXMudXJsLEksdGhpcy5faW52ZXJ0WSxtZSxyLHVlLGllLHRoaXMuX2J1ZmZlcix2b2lkIDAsdGhpcy5fZm9ybWF0LHRoaXMuX2ZvcmNlZEV4dGVuc2lvbix1LGQsXyxVKX1jYXRjaChiZSl7dGhyb3cgaWUoImVycm9yIGxvYWRpbmciLGJlKSxiZX1oJiYodGhpcy5fYnVmZmVyPW51bGwpfWVsc2UgdGhpcy5kZWxheUxvYWRTdGF0ZT00LHRoaXMuX2RlbGF5ZWRPbkxvYWQ9dWUsdGhpcy5fZGVsYXllZE9uRXJyb3I9aWV9dXBkYXRlVVJMKGUsdD1udWxsLGkscyl7dGhpcy51cmwmJih0aGlzLnJlbGVhc2VJbnRlcm5hbFRleHR1cmUoKSx0aGlzLmdldFNjZW5lKCkubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpLCghdGhpcy5uYW1lfHx0aGlzLm5hbWUuc3RhcnRzV2l0aCgiZGF0YToiKSkmJih0aGlzLm5hbWU9ZSksdGhpcy51cmw9ZSx0aGlzLl9idWZmZXI9dCx0aGlzLl9mb3JjZWRFeHRlbnNpb249cyx0aGlzLmRlbGF5TG9hZFN0YXRlPTQsaSYmKHRoaXMuX2RlbGF5ZWRPbkxvYWQ9aSksdGhpcy5kZWxheUxvYWQoKX1kZWxheUxvYWQoKXtpZih0aGlzLmRlbGF5TG9hZFN0YXRlIT09NClyZXR1cm47Y29uc3QgZT10aGlzLmdldFNjZW5lKCk7ZSYmKHRoaXMuZGVsYXlMb2FkU3RhdGU9MSx0aGlzLl90ZXh0dXJlPXRoaXMuX2dldEZyb21DYWNoZSh0aGlzLnVybCx0aGlzLl9ub01pcG1hcCx0aGlzLnNhbXBsaW5nTW9kZSx0aGlzLl9pbnZlcnRZLHRoaXMuX3VzZVNSR0JCdWZmZXIpLHRoaXMuX3RleHR1cmU/dGhpcy5fZGVsYXllZE9uTG9hZCYmKHRoaXMuX3RleHR1cmUuaXNSZWFkeT9aaS5TZXRJbW1lZGlhdGUodGhpcy5fZGVsYXllZE9uTG9hZCk6dGhpcy5fdGV4dHVyZS5vbkxvYWRlZE9ic2VydmFibGUuYWRkKHRoaXMuX2RlbGF5ZWRPbkxvYWQpKToodGhpcy5fdGV4dHVyZT1lLmdldEVuZ2luZSgpLmNyZWF0ZVRleHR1cmUodGhpcy51cmwsdGhpcy5fbm9NaXBtYXAsdGhpcy5faW52ZXJ0WSxlLHRoaXMuc2FtcGxpbmdNb2RlLHRoaXMuX2RlbGF5ZWRPbkxvYWQsdGhpcy5fZGVsYXllZE9uRXJyb3IsdGhpcy5fYnVmZmVyLG51bGwsdGhpcy5fZm9ybWF0LHRoaXMuX2ZvcmNlZEV4dGVuc2lvbix0aGlzLl9taW1lVHlwZSx0aGlzLl9sb2FkZXJPcHRpb25zLHRoaXMuX2NyZWF0aW9uRmxhZ3MsdGhpcy5fdXNlU1JHQkJ1ZmZlciksdGhpcy5fZGVsZXRlQnVmZmVyJiYodGhpcy5fYnVmZmVyPW51bGwpKSx0aGlzLl9kZWxheWVkT25Mb2FkPW51bGwsdGhpcy5fZGVsYXllZE9uRXJyb3I9bnVsbCl9X3ByZXBhcmVSb3dGb3JUZXh0dXJlR2VuZXJhdGlvbihlLHQsaSxzKXtlKj10aGlzLl9jYWNoZWRVU2NhbGUsdCo9dGhpcy5fY2FjaGVkVlNjYWxlLGUtPXRoaXMudVJvdGF0aW9uQ2VudGVyKnRoaXMuX2NhY2hlZFVTY2FsZSx0LT10aGlzLnZSb3RhdGlvbkNlbnRlcip0aGlzLl9jYWNoZWRWU2NhbGUsaS09dGhpcy53Um90YXRpb25DZW50ZXIscC5UcmFuc2Zvcm1Db29yZGluYXRlc0Zyb21GbG9hdHNUb1JlZihlLHQsaSx0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4LHMpLHMueCs9dGhpcy51Um90YXRpb25DZW50ZXIqdGhpcy5fY2FjaGVkVVNjYWxlK3RoaXMuX2NhY2hlZFVPZmZzZXQscy55Kz10aGlzLnZSb3RhdGlvbkNlbnRlcip0aGlzLl9jYWNoZWRWU2NhbGUrdGhpcy5fY2FjaGVkVk9mZnNldCxzLnorPXRoaXMud1JvdGF0aW9uQ2VudGVyfWNoZWNrVHJhbnNmb3Jtc0FyZUlkZW50aWNhbChlKXtyZXR1cm4gZSE9PW51bGwmJnRoaXMudU9mZnNldD09PWUudU9mZnNldCYmdGhpcy52T2Zmc2V0PT09ZS52T2Zmc2V0JiZ0aGlzLnVTY2FsZT09PWUudVNjYWxlJiZ0aGlzLnZTY2FsZT09PWUudlNjYWxlJiZ0aGlzLnVBbmc9PT1lLnVBbmcmJnRoaXMudkFuZz09PWUudkFuZyYmdGhpcy53QW5nPT09ZS53QW5nfWdldFRleHR1cmVNYXRyaXgoZT0xKXtpZih0aGlzLnVPZmZzZXQ9PT10aGlzLl9jYWNoZWRVT2Zmc2V0JiZ0aGlzLnZPZmZzZXQ9PT10aGlzLl9jYWNoZWRWT2Zmc2V0JiZ0aGlzLnVTY2FsZSplPT09dGhpcy5fY2FjaGVkVVNjYWxlJiZ0aGlzLnZTY2FsZT09PXRoaXMuX2NhY2hlZFZTY2FsZSYmdGhpcy51QW5nPT09dGhpcy5fY2FjaGVkVUFuZyYmdGhpcy52QW5nPT09dGhpcy5fY2FjaGVkVkFuZyYmdGhpcy53QW5nPT09dGhpcy5fY2FjaGVkV0FuZyYmdGhpcy51Um90YXRpb25DZW50ZXI9PT10aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXImJnRoaXMudlJvdGF0aW9uQ2VudGVyPT09dGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyJiZ0aGlzLndSb3RhdGlvbkNlbnRlcj09PXRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlciYmdGhpcy5ob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT09PXRoaXMuX2NhY2hlZEhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtKXJldHVybiB0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4O3RoaXMuX2NhY2hlZFVPZmZzZXQ9dGhpcy51T2Zmc2V0LHRoaXMuX2NhY2hlZFZPZmZzZXQ9dGhpcy52T2Zmc2V0LHRoaXMuX2NhY2hlZFVTY2FsZT10aGlzLnVTY2FsZSplLHRoaXMuX2NhY2hlZFZTY2FsZT10aGlzLnZTY2FsZSx0aGlzLl9jYWNoZWRVQW5nPXRoaXMudUFuZyx0aGlzLl9jYWNoZWRWQW5nPXRoaXMudkFuZyx0aGlzLl9jYWNoZWRXQW5nPXRoaXMud0FuZyx0aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXI9dGhpcy51Um90YXRpb25DZW50ZXIsdGhpcy5fY2FjaGVkVlJvdGF0aW9uQ2VudGVyPXRoaXMudlJvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZFdSb3RhdGlvbkNlbnRlcj10aGlzLndSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRIb21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT10aGlzLmhvbW9nZW5lb3VzUm90YXRpb25JblVWVHJhbnNmb3JtLCghdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeHx8IXRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgpJiYodGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeD1NLlplcm8oKSx0aGlzLl9yb3dHZW5lcmF0aW9uTWF0cml4PW5ldyBNLHRoaXMuX3QwPXAuWmVybygpLHRoaXMuX3QxPXAuWmVybygpLHRoaXMuX3QyPXAuWmVybygpKSxNLlJvdGF0aW9uWWF3UGl0Y2hSb2xsVG9SZWYodGhpcy52QW5nLHRoaXMudUFuZyx0aGlzLndBbmcsdGhpcy5fcm93R2VuZXJhdGlvbk1hdHJpeCksdGhpcy5ob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybT8oTS5UcmFuc2xhdGlvblRvUmVmKC10aGlzLl9jYWNoZWRVUm90YXRpb25DZW50ZXIsLXRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlciwtdGhpcy5fY2FjaGVkV1JvdGF0aW9uQ2VudGVyLEYuTWF0cml4WzBdKSxNLlRyYW5zbGF0aW9uVG9SZWYodGhpcy5fY2FjaGVkVVJvdGF0aW9uQ2VudGVyLHRoaXMuX2NhY2hlZFZSb3RhdGlvbkNlbnRlcix0aGlzLl9jYWNoZWRXUm90YXRpb25DZW50ZXIsRi5NYXRyaXhbMV0pLE0uU2NhbGluZ1RvUmVmKHRoaXMuX2NhY2hlZFVTY2FsZSx0aGlzLl9jYWNoZWRWU2NhbGUsMCxGLk1hdHJpeFsyXSksTS5UcmFuc2xhdGlvblRvUmVmKHRoaXMuX2NhY2hlZFVPZmZzZXQsdGhpcy5fY2FjaGVkVk9mZnNldCwwLEYuTWF0cml4WzNdKSxGLk1hdHJpeFswXS5tdWx0aXBseVRvUmVmKHRoaXMuX3Jvd0dlbmVyYXRpb25NYXRyaXgsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tdWx0aXBseVRvUmVmKEYuTWF0cml4WzFdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubXVsdGlwbHlUb1JlZihGLk1hdHJpeFsyXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm11bHRpcGx5VG9SZWYoRi5NYXRyaXhbM10sdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeCksdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5zZXRSb3dGcm9tRmxvYXRzKDIsdGhpcy5fY2FjaGVkVGV4dHVyZU1hdHJpeC5tWzEyXSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4Lm1bMTNdLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgubVsxNF0sMSkpOih0aGlzLl9wcmVwYXJlUm93Rm9yVGV4dHVyZUdlbmVyYXRpb24oMCwwLDAsdGhpcy5fdDApLHRoaXMuX3ByZXBhcmVSb3dGb3JUZXh0dXJlR2VuZXJhdGlvbigxLDAsMCx0aGlzLl90MSksdGhpcy5fcHJlcGFyZVJvd0ZvclRleHR1cmVHZW5lcmF0aW9uKDAsMSwwLHRoaXMuX3QyKSx0aGlzLl90MS5zdWJ0cmFjdEluUGxhY2UodGhpcy5fdDApLHRoaXMuX3QyLnN1YnRyYWN0SW5QbGFjZSh0aGlzLl90MCksTS5Gcm9tVmFsdWVzVG9SZWYodGhpcy5fdDEueCx0aGlzLl90MS55LHRoaXMuX3QxLnosMCx0aGlzLl90Mi54LHRoaXMuX3QyLnksdGhpcy5fdDIueiwwLHRoaXMuX3QwLngsdGhpcy5fdDAueSx0aGlzLl90MC56LDAsMCwwLDAsMSx0aGlzLl9jYWNoZWRUZXh0dXJlTWF0cml4KSk7Y29uc3QgdD10aGlzLmdldFNjZW5lKCk7cmV0dXJuIHQ/KHRoaXMub3B0aW1pemVVVkFsbG9jYXRpb24mJnQubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSxpPT5pLmhhc1RleHR1cmUodGhpcykpLHRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXgpOnRoaXMuX2NhY2hlZFRleHR1cmVNYXRyaXh9Z2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXgoKXtjb25zdCBlPXRoaXMuZ2V0U2NlbmUoKTtpZighZSlyZXR1cm4gdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXg7aWYodGhpcy51T2Zmc2V0PT09dGhpcy5fY2FjaGVkUmVmbGVjdGlvblVPZmZzZXQmJnRoaXMudk9mZnNldD09PXRoaXMuX2NhY2hlZFJlZmxlY3Rpb25WT2Zmc2V0JiZ0aGlzLnVTY2FsZT09PXRoaXMuX2NhY2hlZFJlZmxlY3Rpb25VU2NhbGUmJnRoaXMudlNjYWxlPT09dGhpcy5fY2FjaGVkUmVmbGVjdGlvblZTY2FsZSYmdGhpcy5jb29yZGluYXRlc01vZGU9PT10aGlzLl9jYWNoZWRSZWZsZWN0aW9uQ29vcmRpbmF0ZXNNb2RlKWlmKHRoaXMuY29vcmRpbmF0ZXNNb2RlPT09Ti5QUk9KRUNUSU9OX01PREUpe2lmKHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25Qcm9qZWN0aW9uTWF0cml4SWQ9PT1lLmdldFByb2plY3Rpb25NYXRyaXgoKS51cGRhdGVGbGFnKXJldHVybiB0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeH1lbHNlIHJldHVybiB0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeDt0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeHx8KHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4PU0uWmVybygpKSx0aGlzLl9wcm9qZWN0aW9uTW9kZU1hdHJpeHx8KHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4PU0uWmVybygpKTtjb25zdCB0PXRoaXMuX2NhY2hlZFJlZmxlY3Rpb25Db29yZGluYXRlc01vZGUhPT10aGlzLmNvb3JkaW5hdGVzTW9kZTtzd2l0Y2godGhpcy5fY2FjaGVkUmVmbGVjdGlvblVPZmZzZXQ9dGhpcy51T2Zmc2V0LHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25WT2Zmc2V0PXRoaXMudk9mZnNldCx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVVNjYWxlPXRoaXMudVNjYWxlLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25WU2NhbGU9dGhpcy52U2NhbGUsdGhpcy5fY2FjaGVkUmVmbGVjdGlvbkNvb3JkaW5hdGVzTW9kZT10aGlzLmNvb3JkaW5hdGVzTW9kZSx0aGlzLmNvb3JkaW5hdGVzTW9kZSl7Y2FzZSBOLlBMQU5BUl9NT0RFOntNLklkZW50aXR5VG9SZWYodGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXgpLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4WzBdPXRoaXMudVNjYWxlLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4WzVdPXRoaXMudlNjYWxlLHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4WzEyXT10aGlzLnVPZmZzZXQsdGhpcy5fY2FjaGVkUmVmbGVjdGlvblRleHR1cmVNYXRyaXhbMTNdPXRoaXMudk9mZnNldDticmVha31jYXNlIE4uUFJPSkVDVElPTl9NT0RFOntNLkZyb21WYWx1ZXNUb1JlZiguNSwwLDAsMCwwLC0uNSwwLDAsMCwwLDAsMCwuNSwuNSwxLDEsdGhpcy5fcHJvamVjdGlvbk1vZGVNYXRyaXgpO2NvbnN0IGk9ZS5nZXRQcm9qZWN0aW9uTWF0cml4KCk7dGhpcy5fY2FjaGVkUmVmbGVjdGlvblByb2plY3Rpb25NYXRyaXhJZD1pLnVwZGF0ZUZsYWcsaS5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25Nb2RlTWF0cml4LHRoaXMuX2NhY2hlZFJlZmxlY3Rpb25UZXh0dXJlTWF0cml4KTticmVha31kZWZhdWx0Ok0uSWRlbnRpdHlUb1JlZih0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCk7YnJlYWt9cmV0dXJuIHQmJmUubWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSxpPT5pLmdldEFjdGl2ZVRleHR1cmVzKCkuaW5kZXhPZih0aGlzKSE9PS0xKSx0aGlzLl9jYWNoZWRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeH1jbG9uZSgpe2NvbnN0IGU9e25vTWlwbWFwOnRoaXMuX25vTWlwbWFwLGludmVydFk6dGhpcy5faW52ZXJ0WSxzYW1wbGluZ01vZGU6dGhpcy5zYW1wbGluZ01vZGUsb25Mb2FkOnZvaWQgMCxvbkVycm9yOnZvaWQgMCxidWZmZXI6dGhpcy5fdGV4dHVyZT90aGlzLl90ZXh0dXJlLl9idWZmZXI6dm9pZCAwLGRlbGV0ZUJ1ZmZlcjp0aGlzLl9kZWxldGVCdWZmZXIsZm9ybWF0OnRoaXMudGV4dHVyZUZvcm1hdCxtaW1lVHlwZTp0aGlzLm1pbWVUeXBlLGxvYWRlck9wdGlvbnM6dGhpcy5fbG9hZGVyT3B0aW9ucyxjcmVhdGlvbkZsYWdzOnRoaXMuX2NyZWF0aW9uRmxhZ3MsdXNlU1JHQkJ1ZmZlcjp0aGlzLl91c2VTUkdCQnVmZmVyfTtyZXR1cm4gbmUuQ2xvbmUoKCk9Pm5ldyBOKHRoaXMuX3RleHR1cmU/dGhpcy5fdGV4dHVyZS51cmw6bnVsbCx0aGlzLmdldFNjZW5lKCksZSksdGhpcyl9c2VyaWFsaXplKCl7dmFyIGUsdDtjb25zdCBpPXRoaXMubmFtZTtOLlNlcmlhbGl6ZUJ1ZmZlcnN8fHRoaXMubmFtZS5zdGFydHNXaXRoKCJkYXRhOiIpJiYodGhpcy5uYW1lPSIiKSx0aGlzLm5hbWUuc3RhcnRzV2l0aCgiZGF0YToiKSYmdGhpcy51cmw9PT10aGlzLm5hbWUmJih0aGlzLnVybD0iIik7Y29uc3Qgcz1zdXBlci5zZXJpYWxpemUoTi5fU2VyaWFsaXplSW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQpO3JldHVybiBzPygoTi5TZXJpYWxpemVCdWZmZXJzfHxOLkZvcmNlU2VyaWFsaXplQnVmZmVycykmJih0eXBlb2YgdGhpcy5fYnVmZmVyPT0ic3RyaW5nIiYmdGhpcy5fYnVmZmVyLnN1YnN0cigwLDUpPT09ImRhdGE6Ij8ocy5iYXNlNjRTdHJpbmc9dGhpcy5fYnVmZmVyLHMubmFtZT1zLm5hbWUucmVwbGFjZSgiZGF0YToiLCIiKSk6dGhpcy51cmwmJnRoaXMudXJsLnN0YXJ0c1dpdGgoImRhdGE6IikmJnRoaXMuX2J1ZmZlciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/cy5iYXNlNjRTdHJpbmc9ImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCwiK29yKHRoaXMuX2J1ZmZlcik6KE4uRm9yY2VTZXJpYWxpemVCdWZmZXJzfHx0aGlzLnVybCYmdGhpcy51cmwuc3RhcnRzV2l0aCgiYmxvYjoiKXx8dGhpcy5fZm9yY2VTZXJpYWxpemUpJiYocy5iYXNlNjRTdHJpbmc9IXRoaXMuX2VuZ2luZXx8dGhpcy5fZW5naW5lLl9mZWF0dXJlcy5zdXBwb3J0U3luY1RleHR1cmVSZWFkP0puKHRoaXMpOmVhKHRoaXMpKSkscy5pbnZlcnRZPXRoaXMuX2ludmVydFkscy5zYW1wbGluZ01vZGU9dGhpcy5zYW1wbGluZ01vZGUscy5fY3JlYXRpb25GbGFncz10aGlzLl9jcmVhdGlvbkZsYWdzLHMuX3VzZVNSR0JCdWZmZXI9dGhpcy5fdXNlU1JHQkJ1ZmZlcixOLl9TZXJpYWxpemVJbnRlcm5hbFRleHR1cmVVbmlxdWVJZCYmKHMuaW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQ9KHQ9KGU9dGhpcy5fdGV4dHVyZSk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLnVuaXF1ZUlkKSE9PW51bGwmJnQhPT12b2lkIDA/dDp2b2lkIDApLHRoaXMubmFtZT1pLHMpOm51bGx9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlRleHR1cmUifWRpc3Bvc2UoKXtzdXBlci5kaXNwb3NlKCksdGhpcy5vbkxvYWRPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fZGVsYXllZE9uTG9hZD1udWxsLHRoaXMuX2RlbGF5ZWRPbkVycm9yPW51bGwsdGhpcy5fYnVmZmVyPW51bGx9c3RhdGljIFBhcnNlKGUsdCxpKXtpZihlLmN1c3RvbVR5cGUpe2NvbnN0IGg9a2kuSW5zdGFudGlhdGUoZS5jdXN0b21UeXBlKS5QYXJzZShlLHQsaSk7cmV0dXJuIGUuc2FtcGxpbmdNb2RlJiZoLnVwZGF0ZVNhbXBsaW5nTW9kZSYmaC5fc2FtcGxpbmdNb2RlJiZoLl9zYW1wbGluZ01vZGUhPT1lLnNhbXBsaW5nTW9kZSYmaC51cGRhdGVTYW1wbGluZ01vZGUoZS5zYW1wbGluZ01vZGUpLGh9aWYoZS5pc0N1YmUmJiFlLmlzUmVuZGVyVGFyZ2V0KXJldHVybiBOLl9DdWJlVGV4dHVyZVBhcnNlcihlLHQsaSk7Y29uc3Qgcz1lLmludGVybmFsVGV4dHVyZVVuaXF1ZUlkIT09dm9pZCAwO2lmKCFlLm5hbWUmJiFlLmlzUmVuZGVyVGFyZ2V0JiYhcylyZXR1cm4gbnVsbDtsZXQgcjtpZihzKXtjb25zdCBvPXQuZ2V0RW5naW5lKCkuZ2V0TG9hZGVkVGV4dHVyZXNDYWNoZSgpO2Zvcihjb25zdCBoIG9mIG8paWYoaC51bmlxdWVJZD09PWUuaW50ZXJuYWxUZXh0dXJlVW5pcXVlSWQpe3I9aDticmVha319Y29uc3Qgbj1vPT57dmFyIGg7aWYobyYmby5fdGV4dHVyZSYmKG8uX3RleHR1cmUuX2NhY2hlZFdyYXBVPW51bGwsby5fdGV4dHVyZS5fY2FjaGVkV3JhcFY9bnVsbCxvLl90ZXh0dXJlLl9jYWNoZWRXcmFwUj1udWxsKSxlLnNhbXBsaW5nTW9kZSl7Y29uc3QgbD1lLnNhbXBsaW5nTW9kZTtvJiZvLnNhbXBsaW5nTW9kZSE9PWwmJm8udXBkYXRlU2FtcGxpbmdNb2RlKGwpfWlmKG8mJmUuYW5pbWF0aW9ucylmb3IobGV0IGw9MDtsPGUuYW5pbWF0aW9ucy5sZW5ndGg7bCsrKXtjb25zdCB1PWUuYW5pbWF0aW9uc1tsXSxkPWFpKCJCQUJZTE9OLkFuaW1hdGlvbiIpO2QmJm8uYW5pbWF0aW9ucy5wdXNoKGQuUGFyc2UodSkpfXMmJiFyJiYoKGg9bz09bnVsbD92b2lkIDA6by5fdGV4dHVyZSk9PT1udWxsfHxoPT09dm9pZCAwfHxoLl9zZXRVbmlxdWVJZChlLmludGVybmFsVGV4dHVyZVVuaXF1ZUlkKSl9O3JldHVybiBuZS5QYXJzZSgoKT0+e3ZhciBvLGgsbDtsZXQgdT0hMDtpZihlLm5vTWlwbWFwJiYodT0hMSksZS5taXJyb3JQbGFuZSl7Y29uc3QgZD1OLl9DcmVhdGVNaXJyb3IoZS5uYW1lLGUucmVuZGVyVGFyZ2V0U2l6ZSx0LHUpO3JldHVybiBkLl93YWl0aW5nUmVuZGVyTGlzdD1lLnJlbmRlckxpc3QsZC5taXJyb3JQbGFuZT1NdC5Gcm9tQXJyYXkoZS5taXJyb3JQbGFuZSksbihkKSxkfWVsc2UgaWYoZS5pc1JlbmRlclRhcmdldCl7bGV0IGQ9bnVsbDtpZihlLmlzQ3ViZSl7aWYodC5yZWZsZWN0aW9uUHJvYmVzKWZvcihsZXQgXz0wO188dC5yZWZsZWN0aW9uUHJvYmVzLmxlbmd0aDtfKyspe2NvbnN0IGY9dC5yZWZsZWN0aW9uUHJvYmVzW19dO2lmKGYubmFtZT09PWUubmFtZSlyZXR1cm4gZi5jdWJlVGV4dHVyZX19ZWxzZSBkPU4uX0NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmUoZS5uYW1lLGUucmVuZGVyVGFyZ2V0U2l6ZSx0LHUsKG89ZS5fY3JlYXRpb25GbGFncykhPT1udWxsJiZvIT09dm9pZCAwP286MCksZC5fd2FpdGluZ1JlbmRlckxpc3Q9ZS5yZW5kZXJMaXN0O3JldHVybiBuKGQpLGR9ZWxzZXtsZXQgZDtpZihlLmJhc2U2NFN0cmluZyYmIXIpZD1OLkNyZWF0ZUZyb21CYXNlNjRTdHJpbmcoZS5iYXNlNjRTdHJpbmcsZS5iYXNlNjRTdHJpbmcsdCwhdSxlLmludmVydFksZS5zYW1wbGluZ01vZGUsKCk9PntuKGQpfSwoaD1lLl9jcmVhdGlvbkZsYWdzKSE9PW51bGwmJmghPT12b2lkIDA/aDowLChsPWUuX3VzZVNSR0JCdWZmZXIpIT09bnVsbCYmbCE9PXZvaWQgMD9sOiExKSxkLm5hbWU9ZS5uYW1lO2Vsc2V7bGV0IF87ZS5uYW1lJiZlLm5hbWUuaW5kZXhPZigiOi8vIik+MD9fPWUubmFtZTpfPWkrZS5uYW1lLGUudXJsJiYoZS51cmwuc3RhcnRzV2l0aCgiZGF0YToiKXx8Ti5Vc2VTZXJpYWxpemVkVXJsSWZBbnkpJiYoXz1lLnVybCk7Y29uc3QgZj17bm9NaXBtYXA6IXUsaW52ZXJ0WTplLmludmVydFksc2FtcGxpbmdNb2RlOmUuc2FtcGxpbmdNb2RlLG9uTG9hZDooKT0+e24oZCl9LGludGVybmFsVGV4dHVyZTpyfTtkPW5ldyBOKF8sdCxmKX1yZXR1cm4gZH19LGUsdCl9c3RhdGljIENyZWF0ZUZyb21CYXNlNjRTdHJpbmcoZSx0LGkscyxyLG49Ti5UUklMSU5FQVJfU0FNUExJTkdNT0RFLGE9bnVsbCxvPW51bGwsaD01LGwpe3JldHVybiBuZXcgTigiZGF0YToiK3QsaSxzLHIsbixhLG8sZSwhMSxoLHZvaWQgMCx2b2lkIDAsbCl9c3RhdGljIExvYWRGcm9tRGF0YVN0cmluZyhlLHQsaSxzPSExLHIsbj0hMCxhPU4uVFJJTElORUFSX1NBTVBMSU5HTU9ERSxvPW51bGwsaD1udWxsLGw9NSx1KXtyZXR1cm4gZS5zdWJzdHIoMCw1KSE9PSJkYXRhOiImJihlPSJkYXRhOiIrZSksbmV3IE4oZSxpLHIsbixhLG8saCx0LHMsbCx2b2lkIDAsdm9pZCAwLHUpfX1OLlNlcmlhbGl6ZUJ1ZmZlcnM9ITAsTi5Gb3JjZVNlcmlhbGl6ZUJ1ZmZlcnM9ITEsTi5PblRleHR1cmVMb2FkRXJyb3JPYnNlcnZhYmxlPW5ldyB3LE4uX1NlcmlhbGl6ZUludGVybmFsVGV4dHVyZVVuaXF1ZUlkPSExLE4uX0N1YmVUZXh0dXJlUGFyc2VyPShjLGUsdCk9Pnt0aHJvdyBRKCJDdWJlVGV4dHVyZSIpfSxOLl9DcmVhdGVNaXJyb3I9KGMsZSx0LGkpPT57dGhyb3cgUSgiTWlycm9yVGV4dHVyZSIpfSxOLl9DcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlPShjLGUsdCxpLHMpPT57dGhyb3cgUSgiUmVuZGVyVGFyZ2V0VGV4dHVyZSIpfSxOLk5FQVJFU1RfU0FNUExJTkdNT0RFPTEsTi5ORUFSRVNUX05FQVJFU1RfTUlQTElORUFSPTgsTi5CSUxJTkVBUl9TQU1QTElOR01PREU9MixOLkxJTkVBUl9MSU5FQVJfTUlQTkVBUkVTVD0xMSxOLlRSSUxJTkVBUl9TQU1QTElOR01PREU9MyxOLkxJTkVBUl9MSU5FQVJfTUlQTElORUFSPTMsTi5ORUFSRVNUX05FQVJFU1RfTUlQTkVBUkVTVD00LE4uTkVBUkVTVF9MSU5FQVJfTUlQTkVBUkVTVD01LE4uTkVBUkVTVF9MSU5FQVJfTUlQTElORUFSPTYsTi5ORUFSRVNUX0xJTkVBUj03LE4uTkVBUkVTVF9ORUFSRVNUPTEsTi5MSU5FQVJfTkVBUkVTVF9NSVBORUFSRVNUPTksTi5MSU5FQVJfTkVBUkVTVF9NSVBMSU5FQVI9MTAsTi5MSU5FQVJfTElORUFSPTIsTi5MSU5FQVJfTkVBUkVTVD0xMixOLkVYUExJQ0lUX01PREU9MCxOLlNQSEVSSUNBTF9NT0RFPTEsTi5QTEFOQVJfTU9ERT0yLE4uQ1VCSUNfTU9ERT0zLE4uUFJPSkVDVElPTl9NT0RFPTQsTi5TS1lCT1hfTU9ERT01LE4uSU5WQ1VCSUNfTU9ERT02LE4uRVFVSVJFQ1RBTkdVTEFSX01PREU9NyxOLkZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NT0RFPTgsTi5GSVhFRF9FUVVJUkVDVEFOR1VMQVJfTUlSUk9SRURfTU9ERT05LE4uQ0xBTVBfQUREUkVTU01PREU9MCxOLldSQVBfQUREUkVTU01PREU9MSxOLk1JUlJPUl9BRERSRVNTTU9ERT0yLE4uVXNlU2VyaWFsaXplZFVybElmQW55PSExLFQoW3koKV0sTi5wcm90b3R5cGUsInVybCIsdm9pZCAwKSxUKFt5KCldLE4ucHJvdG90eXBlLCJ1T2Zmc2V0Iix2b2lkIDApLFQoW3koKV0sTi5wcm90b3R5cGUsInZPZmZzZXQiLHZvaWQgMCksVChbeSgpXSxOLnByb3RvdHlwZSwidVNjYWxlIix2b2lkIDApLFQoW3koKV0sTi5wcm90b3R5cGUsInZTY2FsZSIsdm9pZCAwKSxUKFt5KCldLE4ucHJvdG90eXBlLCJ1QW5nIix2b2lkIDApLFQoW3koKV0sTi5wcm90b3R5cGUsInZBbmciLHZvaWQgMCksVChbeSgpXSxOLnByb3RvdHlwZSwid0FuZyIsdm9pZCAwKSxUKFt5KCldLE4ucHJvdG90eXBlLCJ1Um90YXRpb25DZW50ZXIiLHZvaWQgMCksVChbeSgpXSxOLnByb3RvdHlwZSwidlJvdGF0aW9uQ2VudGVyIix2b2lkIDApLFQoW3koKV0sTi5wcm90b3R5cGUsIndSb3RhdGlvbkNlbnRlciIsdm9pZCAwKSxUKFt5KCldLE4ucHJvdG90eXBlLCJob21vZ2VuZW91c1JvdGF0aW9uSW5VVlRyYW5zZm9ybSIsdm9pZCAwKSxUKFt5KCldLE4ucHJvdG90eXBlLCJpc0Jsb2NraW5nIixudWxsKSxzdCgiQkFCWUxPTi5UZXh0dXJlIixOKSxuZS5fVGV4dHVyZVBhcnNlcj1OLlBhcnNlO2NsYXNzIHRhe2dldCBkZXB0aFN0ZW5jaWxUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmV9Z2V0IGRlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbCgpe3JldHVybiB0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWx9Z2V0IGlzQ3ViZSgpe3JldHVybiB0aGlzLl9pc0N1YmV9Z2V0IGlzTXVsdGkoKXtyZXR1cm4gdGhpcy5faXNNdWx0aX1nZXQgaXMyREFycmF5KCl7cmV0dXJuIHRoaXMubGF5ZXJzPjB9Z2V0IHNpemUoKXtyZXR1cm4gdGhpcy53aWR0aH1nZXQgd2lkdGgoKXtyZXR1cm4gdGhpcy5fc2l6ZS53aWR0aHx8dGhpcy5fc2l6ZX1nZXQgaGVpZ2h0KCl7cmV0dXJuIHRoaXMuX3NpemUuaGVpZ2h0fHx0aGlzLl9zaXplfWdldCBsYXllcnMoKXtyZXR1cm4gdGhpcy5fc2l6ZS5sYXllcnN8fDB9Z2V0IHRleHR1cmUoKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMuX3RleHR1cmVzKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmVbMF0pIT09bnVsbCYmdCE9PXZvaWQgMD90Om51bGx9Z2V0IHRleHR1cmVzKCl7cmV0dXJuIHRoaXMuX3RleHR1cmVzfWdldCBmYWNlSW5kaWNlcygpe3JldHVybiB0aGlzLl9mYWNlSW5kaWNlc31nZXQgbGF5ZXJJbmRpY2VzKCl7cmV0dXJuIHRoaXMuX2xheWVySW5kaWNlc31nZXQgc2FtcGxlcygpe3JldHVybiB0aGlzLl9zYW1wbGVzfXNldFNhbXBsZXMoZSx0PSEwLGk9ITEpe2lmKHRoaXMuc2FtcGxlcz09PWUmJiFpKXJldHVybiBlO2NvbnN0IHM9dGhpcy5faXNNdWx0aT90aGlzLl9lbmdpbmUudXBkYXRlTXVsdGlwbGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQodGhpcyxlLHQpOnRoaXMuX2VuZ2luZS51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQodGhpcyxlKTtyZXR1cm4gdGhpcy5fc2FtcGxlcz1lLHN9Y29uc3RydWN0b3IoZSx0LGkscyl7dGhpcy5fdGV4dHVyZXM9bnVsbCx0aGlzLl9mYWNlSW5kaWNlcz1udWxsLHRoaXMuX2xheWVySW5kaWNlcz1udWxsLHRoaXMuX3NhbXBsZXM9MSx0aGlzLl9hdHRhY2htZW50cz1udWxsLHRoaXMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcj0hMSx0aGlzLl9nZW5lcmF0ZURlcHRoQnVmZmVyPSExLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbD0hMSx0aGlzLl9pc011bHRpPWUsdGhpcy5faXNDdWJlPXQsdGhpcy5fc2l6ZT1pLHRoaXMuX2VuZ2luZT1zLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9bnVsbH1zZXRUZXh0dXJlcyhlKXtBcnJheS5pc0FycmF5KGUpP3RoaXMuX3RleHR1cmVzPWU6ZT90aGlzLl90ZXh0dXJlcz1bZV06dGhpcy5fdGV4dHVyZXM9bnVsbH1zZXRUZXh0dXJlKGUsdD0wLGk9ITApe3RoaXMuX3RleHR1cmVzfHwodGhpcy5fdGV4dHVyZXM9W10pLHRoaXMuX3RleHR1cmVzW3RdJiZpJiZ0aGlzLl90ZXh0dXJlc1t0XS5kaXNwb3NlKCksdGhpcy5fdGV4dHVyZXNbdF09ZX1zZXRMYXllckFuZEZhY2VJbmRpY2VzKGUsdCl7dGhpcy5fbGF5ZXJJbmRpY2VzPWUsdGhpcy5fZmFjZUluZGljZXM9dH1zZXRMYXllckFuZEZhY2VJbmRleChlPTAsdCxpKXt0aGlzLl9sYXllckluZGljZXN8fCh0aGlzLl9sYXllckluZGljZXM9W10pLHRoaXMuX2ZhY2VJbmRpY2VzfHwodGhpcy5fZmFjZUluZGljZXM9W10pLHQhPT12b2lkIDAmJnQ+PTAmJih0aGlzLl9sYXllckluZGljZXNbZV09dCksaSE9PXZvaWQgMCYmaT49MCYmKHRoaXMuX2ZhY2VJbmRpY2VzW2VdPWkpfWNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUoZT0wLHQ9ITAsaT0hMSxzPTEscj0xNCxuKXt2YXIgYTtyZXR1cm4oYT10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKT09PW51bGx8fGE9PT12b2lkIDB8fGEuZGlzcG9zZSgpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVXaXRoU3RlbmNpbD1pLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9dGhpcy5fZW5naW5lLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUodGhpcy5fc2l6ZSx7YmlsaW5lYXJGaWx0ZXJpbmc6dCxjb21wYXJpc29uRnVuY3Rpb246ZSxnZW5lcmF0ZVN0ZW5jaWw6aSxpc0N1YmU6dGhpcy5faXNDdWJlLHNhbXBsZXM6cyxkZXB0aFRleHR1cmVGb3JtYXQ6cixsYWJlbDpufSx0aGlzKSx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlfV9zaGFyZURlcHRoKGUpe3RoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUmJihlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlJiZlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLmRpc3Bvc2UoKSxlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPXRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUsdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5pbmNyZW1lbnRSZWZlcmVuY2VzKCkpfV9zd2FwQW5kRGllKGUpe3RoaXMudGV4dHVyZSYmdGhpcy50ZXh0dXJlLl9zd2FwQW5kRGllKGUpLHRoaXMuX3RleHR1cmVzPW51bGwsdGhpcy5kaXNwb3NlKCEwKX1fY2xvbmVSZW5kZXJUYXJnZXRXcmFwcGVyKCl7dmFyIGUsdCxpLHMscixuLGEsbztsZXQgaD1udWxsO2lmKHRoaXMuX2lzTXVsdGkpe2NvbnN0IGw9dGhpcy50ZXh0dXJlcztpZihsJiZsLmxlbmd0aD4wKXtsZXQgdT0hMSxkPWwubGVuZ3RoO2NvbnN0IF89bFtsLmxlbmd0aC0xXS5fc291cmNlOyhfPT09TGUuRGVwdGh8fF89PT1MZS5EZXB0aFN0ZW5jaWwpJiYodT0hMCxkLS0pO2NvbnN0IGY9W10sbT1bXSx2PVtdLEU9W10sUz1bXSxSPVtdLEE9W10sQz17fTtmb3IobGV0IEk9MDtJPGQ7KytJKXtjb25zdCBVPWxbSV07Zi5wdXNoKFUuc2FtcGxpbmdNb2RlKSxtLnB1c2goVS50eXBlKSx2LnB1c2goVS5mb3JtYXQpLENbVS51bmlxdWVJZF0hPT12b2lkIDA/KEUucHVzaCgtMSksQS5wdXNoKDApKTooQ1tVLnVuaXF1ZUlkXT1JLFUuaXMyREFycmF5PyhFLnB1c2goMzU4NjYpLEEucHVzaChVLmRlcHRoKSk6VS5pc0N1YmU/KEUucHVzaCgzNDA2NyksQS5wdXNoKDApKTpVLmlzM0Q/KEUucHVzaCgzMjg3OSksQS5wdXNoKFUuZGVwdGgpKTooRS5wdXNoKDM1NTMpLEEucHVzaCgwKSkpLHRoaXMuX2ZhY2VJbmRpY2VzJiZTLnB1c2goKGU9dGhpcy5fZmFjZUluZGljZXNbSV0pIT09bnVsbCYmZSE9PXZvaWQgMD9lOjApLHRoaXMuX2xheWVySW5kaWNlcyYmUi5wdXNoKCh0PXRoaXMuX2xheWVySW5kaWNlc1tJXSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6MCl9Y29uc3QgYj17c2FtcGxpbmdNb2RlczpmLGdlbmVyYXRlTWlwTWFwczpsWzBdLmdlbmVyYXRlTWlwTWFwcyxnZW5lcmF0ZURlcHRoQnVmZmVyOnRoaXMuX2dlbmVyYXRlRGVwdGhCdWZmZXIsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOnRoaXMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcixnZW5lcmF0ZURlcHRoVGV4dHVyZTp1LHR5cGVzOm0sZm9ybWF0czp2LHRleHR1cmVDb3VudDpkLHRhcmdldFR5cGVzOkUsZmFjZUluZGV4OlMsbGF5ZXJJbmRleDpSLGxheWVyQ291bnRzOkF9LHg9e3dpZHRoOnRoaXMud2lkdGgsaGVpZ2h0OnRoaXMuaGVpZ2h0fTtoPXRoaXMuX2VuZ2luZS5jcmVhdGVNdWx0aXBsZVJlbmRlclRhcmdldCh4LGIpO2ZvcihsZXQgST0wO0k8ZDsrK0kpe2lmKEVbSV0hPT0tMSljb250aW51ZTtjb25zdCBVPUNbbFtJXS51bmlxdWVJZF07aC5zZXRUZXh0dXJlKGgudGV4dHVyZXNbVV0sSSl9fX1lbHNle2NvbnN0IGw9e307aWYobC5nZW5lcmF0ZURlcHRoQnVmZmVyPXRoaXMuX2dlbmVyYXRlRGVwdGhCdWZmZXIsbC5nZW5lcmF0ZU1pcE1hcHM9KHM9KGk9dGhpcy50ZXh0dXJlKT09PW51bGx8fGk9PT12b2lkIDA/dm9pZCAwOmkuZ2VuZXJhdGVNaXBNYXBzKSE9PW51bGwmJnMhPT12b2lkIDA/czohMSxsLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcj10aGlzLl9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsbC5zYW1wbGluZ01vZGU9KHI9dGhpcy50ZXh0dXJlKT09PW51bGx8fHI9PT12b2lkIDA/dm9pZCAwOnIuc2FtcGxpbmdNb2RlLGwudHlwZT0obj10aGlzLnRleHR1cmUpPT09bnVsbHx8bj09PXZvaWQgMD92b2lkIDA6bi50eXBlLGwuZm9ybWF0PShhPXRoaXMudGV4dHVyZSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLmZvcm1hdCx0aGlzLmlzQ3ViZSloPXRoaXMuX2VuZ2luZS5jcmVhdGVSZW5kZXJUYXJnZXRDdWJlVGV4dHVyZSh0aGlzLndpZHRoLGwpO2Vsc2V7Y29uc3QgdT17d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHQsbGF5ZXJzOnRoaXMuaXMyREFycmF5PyhvPXRoaXMudGV4dHVyZSk9PT1udWxsfHxvPT09dm9pZCAwP3ZvaWQgMDpvLmRlcHRoOnZvaWQgMH07aD10aGlzLl9lbmdpbmUuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZSh1LGwpfWgudGV4dHVyZS5pc1JlYWR5PSEwfXJldHVybiBofV9zd2FwUmVuZGVyVGFyZ2V0V3JhcHBlcihlKXtpZih0aGlzLl90ZXh0dXJlcyYmZS5fdGV4dHVyZXMpZm9yKGxldCB0PTA7dDx0aGlzLl90ZXh0dXJlcy5sZW5ndGg7Kyt0KXRoaXMuX3RleHR1cmVzW3RdLl9zd2FwQW5kRGllKGUuX3RleHR1cmVzW3RdLCExKSxlLl90ZXh0dXJlc1t0XS5pc1JlYWR5PSEwO3RoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUmJmUuX2RlcHRoU3RlbmNpbFRleHR1cmUmJih0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlLl9zd2FwQW5kRGllKGUuX2RlcHRoU3RlbmNpbFRleHR1cmUpLGUuX2RlcHRoU3RlbmNpbFRleHR1cmUuaXNSZWFkeT0hMCksdGhpcy5fdGV4dHVyZXM9bnVsbCx0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlPW51bGx9X3JlYnVpbGQoKXtjb25zdCBlPXRoaXMuX2Nsb25lUmVuZGVyVGFyZ2V0V3JhcHBlcigpO2lmKGUpe2lmKHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUpe2NvbnN0IHQ9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5zYW1wbGluZ01vZGUsaT10PT09Mnx8dD09PTN8fHQ9PT0xMTtlLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmUodGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZS5fY29tcGFyaXNvbkZ1bmN0aW9uLGksdGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZVdpdGhTdGVuY2lsLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmUuc2FtcGxlcyl9dGhpcy5zYW1wbGVzPjEmJmUuc2V0U2FtcGxlcyh0aGlzLnNhbXBsZXMpLGUuX3N3YXBSZW5kZXJUYXJnZXRXcmFwcGVyKHRoaXMpLGUuZGlzcG9zZSgpfX1yZWxlYXNlVGV4dHVyZXMoKXt2YXIgZSx0O2lmKHRoaXMuX3RleHR1cmVzKWZvcihsZXQgaT0wOyh0PWk8KChlPXRoaXMuX3RleHR1cmVzKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUubGVuZ3RoKSkhPT1udWxsJiZ0IT09dm9pZCAwJiZ0OysraSl0aGlzLl90ZXh0dXJlc1tpXS5kaXNwb3NlKCk7dGhpcy5fdGV4dHVyZXM9bnVsbH1kaXNwb3NlKGU9ITEpe3ZhciB0O2V8fCgodD10aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlKT09PW51bGx8fHQ9PT12b2lkIDB8fHQuZGlzcG9zZSgpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmU9bnVsbCx0aGlzLnJlbGVhc2VUZXh0dXJlcygpKSx0aGlzLl9lbmdpbmUuX3JlbGVhc2VSZW5kZXJUYXJnZXRXcmFwcGVyKHRoaXMpfX1jbGFzcyBpYSBleHRlbmRzIHRhe2NvbnN0cnVjdG9yKGUsdCxpLHMscil7c3VwZXIoZSx0LGkscyksdGhpcy5fZnJhbWVidWZmZXI9bnVsbCx0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXI9bnVsbCx0aGlzLl9NU0FBRnJhbWVidWZmZXI9bnVsbCx0aGlzLl9jb2xvclRleHR1cmVBcnJheT1udWxsLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT1udWxsLHRoaXMuX2NvbnRleHQ9cn1fY2xvbmVSZW5kZXJUYXJnZXRXcmFwcGVyKCl7bGV0IGU9bnVsbDtyZXR1cm4gdGhpcy5fY29sb3JUZXh0dXJlQXJyYXkmJnRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT8oZT10aGlzLl9lbmdpbmUuY3JlYXRlTXVsdGl2aWV3UmVuZGVyVGFyZ2V0VGV4dHVyZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KSxlLnRleHR1cmUuaXNSZWFkeT0hMCk6ZT1zdXBlci5fY2xvbmVSZW5kZXJUYXJnZXRXcmFwcGVyKCksZX1fc3dhcFJlbmRlclRhcmdldFdyYXBwZXIoZSl7c3VwZXIuX3N3YXBSZW5kZXJUYXJnZXRXcmFwcGVyKGUpLGUuX2ZyYW1lYnVmZmVyPXRoaXMuX2ZyYW1lYnVmZmVyLGUuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIsZS5fTVNBQUZyYW1lYnVmZmVyPXRoaXMuX01TQUFGcmFtZWJ1ZmZlcixlLl9jb2xvclRleHR1cmVBcnJheT10aGlzLl9jb2xvclRleHR1cmVBcnJheSxlLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXk9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5LHRoaXMuX2ZyYW1lYnVmZmVyPXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9NU0FBRnJhbWVidWZmZXI9dGhpcy5fY29sb3JUZXh0dXJlQXJyYXk9dGhpcy5fZGVwdGhTdGVuY2lsVGV4dHVyZUFycmF5PW51bGx9X3NoYXJlRGVwdGgoZSl7c3VwZXIuX3NoYXJlRGVwdGgoZSk7Y29uc3QgdD10aGlzLl9jb250ZXh0LGk9dGhpcy5fZGVwdGhTdGVuY2lsQnVmZmVyLHM9ZS5fTVNBQUZyYW1lYnVmZmVyfHxlLl9mcmFtZWJ1ZmZlcjtlLl9kZXB0aFN0ZW5jaWxCdWZmZXImJnQuZGVsZXRlUmVuZGVyYnVmZmVyKGUuX2RlcHRoU3RlbmNpbEJ1ZmZlciksZS5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcix0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIocyksdC5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcih0LkZSQU1FQlVGRkVSLHQuREVQVEhfQVRUQUNITUVOVCx0LlJFTkRFUkJVRkZFUixpKSx0aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCl9X2JpbmRUZXh0dXJlUmVuZGVyVGFyZ2V0KGUsdD0wLGkscz0wKXt2YXIgcixuLGEsbztpZighZS5faGFyZHdhcmVUZXh0dXJlKXJldHVybjtjb25zdCBoPXRoaXMuX2ZyYW1lYnVmZmVyLGw9dGhpcy5fZW5naW5lLl9jdXJyZW50RnJhbWVidWZmZXI7aWYodGhpcy5fZW5naW5lLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGgpLHRoaXMuX2VuZ2luZS53ZWJHTFZlcnNpb24+MSl7Y29uc3QgdT10aGlzLl9jb250ZXh0LGQ9dVsiQ09MT1JfQVRUQUNITUVOVCIrdF07ZS5pczJEQXJyYXl8fGUuaXMzRD8oaT0obj1pPz8oKHI9dGhpcy5sYXllckluZGljZXMpPT09bnVsbHx8cj09PXZvaWQgMD92b2lkIDA6clt0XSkpIT09bnVsbCYmbiE9PXZvaWQgMD9uOjAsdS5mcmFtZWJ1ZmZlclRleHR1cmVMYXllcih1LkZSQU1FQlVGRkVSLGQsZS5faGFyZHdhcmVUZXh0dXJlLnVuZGVybHlpbmdSZXNvdXJjZSxzLGkpKTplLmlzQ3ViZT8oaT0obz1pPz8oKGE9dGhpcy5mYWNlSW5kaWNlcyk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphW3RdKSkhPT1udWxsJiZvIT09dm9pZCAwP286MCx1LmZyYW1lYnVmZmVyVGV4dHVyZTJEKHUuRlJBTUVCVUZGRVIsZCx1LlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtpLGUuX2hhcmR3YXJlVGV4dHVyZS51bmRlcmx5aW5nUmVzb3VyY2UscykpOnUuZnJhbWVidWZmZXJUZXh0dXJlMkQodS5GUkFNRUJVRkZFUixkLHUuVEVYVFVSRV8yRCxlLl9oYXJkd2FyZVRleHR1cmUudW5kZXJseWluZ1Jlc291cmNlLHMpfWVsc2V7Y29uc3QgdT10aGlzLl9jb250ZXh0LGQ9dVsiQ09MT1JfQVRUQUNITUVOVCIrdCsiX1dFQkdMIl0sXz1pIT09dm9pZCAwP3UuVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YK2k6dS5URVhUVVJFXzJEO3UuZnJhbWVidWZmZXJUZXh0dXJlMkQodS5GUkFNRUJVRkZFUixkLF8sZS5faGFyZHdhcmVUZXh0dXJlLnVuZGVybHlpbmdSZXNvdXJjZSxzKX10aGlzLl9lbmdpbmUuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobCl9c2V0VGV4dHVyZShlLHQ9MCxpPSEwKXtzdXBlci5zZXRUZXh0dXJlKGUsdCxpKSx0aGlzLl9iaW5kVGV4dHVyZVJlbmRlclRhcmdldChlLHQpfXNldExheWVyQW5kRmFjZUluZGljZXMoZSx0KXt2YXIgaSxzO2lmKHN1cGVyLnNldExheWVyQW5kRmFjZUluZGljZXMoZSx0KSwhdGhpcy50ZXh0dXJlc3x8IXRoaXMubGF5ZXJJbmRpY2VzfHwhdGhpcy5mYWNlSW5kaWNlcylyZXR1cm47Y29uc3Qgcj0ocz0oaT10aGlzLl9hdHRhY2htZW50cyk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppLmxlbmd0aCkhPT1udWxsJiZzIT09dm9pZCAwP3M6dGhpcy50ZXh0dXJlcy5sZW5ndGg7Zm9yKGxldCBuPTA7bjxyO24rKyl7Y29uc3QgYT10aGlzLnRleHR1cmVzW25dO2EmJihhLmlzMkRBcnJheXx8YS5pczNEP3RoaXMuX2JpbmRUZXh0dXJlUmVuZGVyVGFyZ2V0KGEsbix0aGlzLmxheWVySW5kaWNlc1tuXSk6YS5pc0N1YmU/dGhpcy5fYmluZFRleHR1cmVSZW5kZXJUYXJnZXQoYSxuLHRoaXMuZmFjZUluZGljZXNbbl0pOnRoaXMuX2JpbmRUZXh0dXJlUmVuZGVyVGFyZ2V0KGEsbikpfX1zZXRMYXllckFuZEZhY2VJbmRleChlPTAsdCxpKXtpZihzdXBlci5zZXRMYXllckFuZEZhY2VJbmRleChlLHQsaSksIXRoaXMudGV4dHVyZXN8fCF0aGlzLmxheWVySW5kaWNlc3x8IXRoaXMuZmFjZUluZGljZXMpcmV0dXJuO2NvbnN0IHM9dGhpcy50ZXh0dXJlc1tlXTtzLmlzMkRBcnJheXx8cy5pczNEP3RoaXMuX2JpbmRUZXh0dXJlUmVuZGVyVGFyZ2V0KHRoaXMudGV4dHVyZXNbZV0sZSx0aGlzLmxheWVySW5kaWNlc1tlXSk6cy5pc0N1YmUmJnRoaXMuX2JpbmRUZXh0dXJlUmVuZGVyVGFyZ2V0KHRoaXMudGV4dHVyZXNbZV0sZSx0aGlzLmZhY2VJbmRpY2VzW2VdKX1kaXNwb3NlKGU9ITEpe2NvbnN0IHQ9dGhpcy5fY29udGV4dDtlfHwodGhpcy5fY29sb3JUZXh0dXJlQXJyYXkmJih0aGlzLl9jb250ZXh0LmRlbGV0ZVRleHR1cmUodGhpcy5fY29sb3JUZXh0dXJlQXJyYXkpLHRoaXMuX2NvbG9yVGV4dHVyZUFycmF5PW51bGwpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheSYmKHRoaXMuX2NvbnRleHQuZGVsZXRlVGV4dHVyZSh0aGlzLl9kZXB0aFN0ZW5jaWxUZXh0dXJlQXJyYXkpLHRoaXMuX2RlcHRoU3RlbmNpbFRleHR1cmVBcnJheT1udWxsKSksdGhpcy5fZnJhbWVidWZmZXImJih0LmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuX2ZyYW1lYnVmZmVyKSx0aGlzLl9mcmFtZWJ1ZmZlcj1udWxsKSx0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXImJih0LmRlbGV0ZVJlbmRlcmJ1ZmZlcih0aGlzLl9kZXB0aFN0ZW5jaWxCdWZmZXIpLHRoaXMuX2RlcHRoU3RlbmNpbEJ1ZmZlcj1udWxsKSx0aGlzLl9NU0FBRnJhbWVidWZmZXImJih0LmRlbGV0ZUZyYW1lYnVmZmVyKHRoaXMuX01TQUFGcmFtZWJ1ZmZlciksdGhpcy5fTVNBQUZyYW1lYnVmZmVyPW51bGwpLHN1cGVyLmRpc3Bvc2UoZSl9fWRlLnByb3RvdHlwZS5fY3JlYXRlSGFyZHdhcmVSZW5kZXJUYXJnZXRXcmFwcGVyPWZ1bmN0aW9uKGMsZSx0KXtjb25zdCBpPW5ldyBpYShjLGUsdCx0aGlzLHRoaXMuX2dsKTtyZXR1cm4gdGhpcy5fcmVuZGVyVGFyZ2V0V3JhcHBlckNhY2hlLnB1c2goaSksaX0sZGUucHJvdG90eXBlLmNyZWF0ZVJlbmRlclRhcmdldFRleHR1cmU9ZnVuY3Rpb24oYyxlKXt2YXIgdCxpO2NvbnN0IHM9dGhpcy5fY3JlYXRlSGFyZHdhcmVSZW5kZXJUYXJnZXRXcmFwcGVyKCExLCExLGMpO2xldCByPSEwLG49ITEsYT0hMSxvLGg9MTtlIT09dm9pZCAwJiZ0eXBlb2YgZT09Im9iamVjdCImJihyPSh0PWUuZ2VuZXJhdGVEZXB0aEJ1ZmZlcikhPT1udWxsJiZ0IT09dm9pZCAwP3Q6ITAsbj0hIWUuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLGE9ISFlLm5vQ29sb3JBdHRhY2htZW50LG89ZS5jb2xvckF0dGFjaG1lbnQsaD0oaT1lLnNhbXBsZXMpIT09bnVsbCYmaSE9PXZvaWQgMD9pOjEpO2NvbnN0IGw9b3x8KGE/bnVsbDp0aGlzLl9jcmVhdGVJbnRlcm5hbFRleHR1cmUoYyxlLCEwLExlLlJlbmRlclRhcmdldCkpLHU9Yy53aWR0aHx8YyxkPWMuaGVpZ2h0fHxjLF89dGhpcy5fY3VycmVudEZyYW1lYnVmZmVyLGY9dGhpcy5fZ2wsbT1mLmNyZWF0ZUZyYW1lYnVmZmVyKCk7cmV0dXJuIHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobSkscy5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX3NldHVwRnJhbWVidWZmZXJEZXB0aEF0dGFjaG1lbnRzKG4scix1LGQpLGwmJiFsLmlzMkRBcnJheSYmZi5mcmFtZWJ1ZmZlclRleHR1cmUyRChmLkZSQU1FQlVGRkVSLGYuQ09MT1JfQVRUQUNITUVOVDAsZi5URVhUVVJFXzJELGwuX2hhcmR3YXJlVGV4dHVyZS51bmRlcmx5aW5nUmVzb3VyY2UsMCksdGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihfKSxzLl9mcmFtZWJ1ZmZlcj1tLHMuX2dlbmVyYXRlRGVwdGhCdWZmZXI9cixzLl9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9bixzLnNldFRleHR1cmVzKGwpLHRoaXMudXBkYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZVNhbXBsZUNvdW50KHMsaCksc30sZGUucHJvdG90eXBlLmNyZWF0ZURlcHRoU3RlbmNpbFRleHR1cmU9ZnVuY3Rpb24oYyxlLHQpe2lmKGUuaXNDdWJlKXtjb25zdCBpPWMud2lkdGh8fGM7cmV0dXJuIHRoaXMuX2NyZWF0ZURlcHRoU3RlbmNpbEN1YmVUZXh0dXJlKGksZSx0KX1lbHNlIHJldHVybiB0aGlzLl9jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGMsZSx0KX0sZGUucHJvdG90eXBlLl9jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlPWZ1bmN0aW9uKGMsZSx0KXtjb25zdCBpPXRoaXMuX2dsLHM9Yy5sYXllcnN8fDAscj1zIT09MD9pLlRFWFRVUkVfMkRfQVJSQVk6aS5URVhUVVJFXzJELG49bmV3IEx0KHRoaXMsTGUuRGVwdGhTdGVuY2lsKTtpZighdGhpcy5fY2Fwcy5kZXB0aFRleHR1cmVFeHRlbnNpb24pcmV0dXJuIE8uRXJyb3IoIkRlcHRoIHRleHR1cmUgaXMgbm90IHN1cHBvcnRlZCBieSB5b3VyIGJyb3dzZXIgb3IgaGFyZHdhcmUuIiksbjtjb25zdCBhPXtiaWxpbmVhckZpbHRlcmluZzohMSxjb21wYXJpc29uRnVuY3Rpb246MCxnZW5lcmF0ZVN0ZW5jaWw6ITEsLi4uZX07aWYodGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShyLG4sITApLHRoaXMuX3NldHVwRGVwdGhTdGVuY2lsVGV4dHVyZShuLGMsYS5nZW5lcmF0ZVN0ZW5jaWwsYS5jb21wYXJpc29uRnVuY3Rpb249PT0wPyExOmEuYmlsaW5lYXJGaWx0ZXJpbmcsYS5jb21wYXJpc29uRnVuY3Rpb24sYS5zYW1wbGVzKSxhLmRlcHRoVGV4dHVyZUZvcm1hdCE9PXZvaWQgMCl7aWYoYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xNSYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xNiYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xNyYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xMyYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xNCYmYS5kZXB0aFRleHR1cmVGb3JtYXQhPT0xOClyZXR1cm4gTy5FcnJvcigiRGVwdGggdGV4dHVyZSBmb3JtYXQgaXMgbm90IHN1cHBvcnRlZC4iKSxuO24uZm9ybWF0PWEuZGVwdGhUZXh0dXJlRm9ybWF0fWVsc2Ugbi5mb3JtYXQ9YS5nZW5lcmF0ZVN0ZW5jaWw/MTM6MTY7Y29uc3Qgbz1uLmZvcm1hdD09PTE3fHxuLmZvcm1hdD09PTEzfHxuLmZvcm1hdD09PTE4O3QuX2RlcHRoU3RlbmNpbFRleHR1cmU9bix0Ll9kZXB0aFN0ZW5jaWxUZXh0dXJlV2l0aFN0ZW5jaWw9bztsZXQgaD1pLlVOU0lHTkVEX0lOVDtuLmZvcm1hdD09PTE1P2g9aS5VTlNJR05FRF9TSE9SVDpuLmZvcm1hdD09PTE3fHxuLmZvcm1hdD09PTEzP2g9aS5VTlNJR05FRF9JTlRfMjRfODpuLmZvcm1hdD09PTE0P2g9aS5GTE9BVDpuLmZvcm1hdD09PTE4JiYoaD1pLkZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVik7Y29uc3QgbD1vP2kuREVQVEhfU1RFTkNJTDppLkRFUFRIX0NPTVBPTkVOVDtsZXQgdT1sO3RoaXMud2ViR0xWZXJzaW9uPjEmJihuLmZvcm1hdD09PTE1P3U9aS5ERVBUSF9DT01QT05FTlQxNjpuLmZvcm1hdD09PTE2P3U9aS5ERVBUSF9DT01QT05FTlQyNDpuLmZvcm1hdD09PTE3fHxuLmZvcm1hdD09PTEzP3U9aS5ERVBUSDI0X1NURU5DSUw4Om4uZm9ybWF0PT09MTQ/dT1pLkRFUFRIX0NPTVBPTkVOVDMyRjpuLmZvcm1hdD09PTE4JiYodT1pLkRFUFRIMzJGX1NURU5DSUw4KSksbi5pczJEQXJyYXk/aS50ZXhJbWFnZTNEKHIsMCx1LG4ud2lkdGgsbi5oZWlnaHQscywwLGwsaCxudWxsKTppLnRleEltYWdlMkQociwwLHUsbi53aWR0aCxuLmhlaWdodCwwLGwsaCxudWxsKSx0aGlzLl9iaW5kVGV4dHVyZURpcmVjdGx5KHIsbnVsbCksdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnB1c2gobik7Y29uc3QgZD10O2lmKGQuX2RlcHRoU3RlbmNpbEJ1ZmZlcil7Y29uc3QgXz10aGlzLl9jdXJyZW50RnJhbWVidWZmZXI7dGhpcy5fYmluZFVuYm91bmRGcmFtZWJ1ZmZlcihkLl9mcmFtZWJ1ZmZlciksaS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihpLkZSQU1FQlVGRkVSLGkuREVQVEhfU1RFTkNJTF9BVFRBQ0hNRU5ULGkuUkVOREVSQlVGRkVSLG51bGwpLGkuZnJhbWVidWZmZXJSZW5kZXJidWZmZXIoaS5GUkFNRUJVRkZFUixpLkRFUFRIX0FUVEFDSE1FTlQsaS5SRU5ERVJCVUZGRVIsbnVsbCksaS5mcmFtZWJ1ZmZlclJlbmRlcmJ1ZmZlcihpLkZSQU1FQlVGRkVSLGkuU1RFTkNJTF9BVFRBQ0hNRU5ULGkuUkVOREVSQlVGRkVSLG51bGwpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoXyksaS5kZWxldGVSZW5kZXJidWZmZXIoZC5fZGVwdGhTdGVuY2lsQnVmZmVyKSxkLl9kZXB0aFN0ZW5jaWxCdWZmZXI9bnVsbH1yZXR1cm4gbn0sZGUucHJvdG90eXBlLnVwZGF0ZVJlbmRlclRhcmdldFRleHR1cmVTYW1wbGVDb3VudD1mdW5jdGlvbihjLGUpe2lmKHRoaXMud2ViR0xWZXJzaW9uPDJ8fCFjfHwhYy50ZXh0dXJlKXJldHVybiAxO2lmKGMuc2FtcGxlcz09PWUpcmV0dXJuIGU7Y29uc3QgdD10aGlzLl9nbDtlPU1hdGgubWluKGUsdGhpcy5nZXRDYXBzKCkubWF4TVNBQVNhbXBsZXMpLGMuX2RlcHRoU3RlbmNpbEJ1ZmZlciYmKHQuZGVsZXRlUmVuZGVyYnVmZmVyKGMuX2RlcHRoU3RlbmNpbEJ1ZmZlciksYy5fZGVwdGhTdGVuY2lsQnVmZmVyPW51bGwpLGMuX01TQUFGcmFtZWJ1ZmZlciYmKHQuZGVsZXRlRnJhbWVidWZmZXIoYy5fTVNBQUZyYW1lYnVmZmVyKSxjLl9NU0FBRnJhbWVidWZmZXI9bnVsbCk7Y29uc3QgaT1jLnRleHR1cmUuX2hhcmR3YXJlVGV4dHVyZTtpZihpLnJlbGVhc2VNU0FBUmVuZGVyQnVmZmVycygpLGU+MSYmdHlwZW9mIHQucmVuZGVyYnVmZmVyU3RvcmFnZU11bHRpc2FtcGxlPT0iZnVuY3Rpb24iKXtjb25zdCBzPXQuY3JlYXRlRnJhbWVidWZmZXIoKTtpZighcyl0aHJvdyBuZXcgRXJyb3IoIlVuYWJsZSB0byBjcmVhdGUgbXVsdGkgc2FtcGxlZCBmcmFtZWJ1ZmZlciIpO2MuX01TQUFGcmFtZWJ1ZmZlcj1zLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIoYy5fTVNBQUZyYW1lYnVmZmVyKTtjb25zdCByPXRoaXMuX2NyZWF0ZVJlbmRlckJ1ZmZlcihjLnRleHR1cmUud2lkdGgsYy50ZXh0dXJlLmhlaWdodCxlLC0xLHRoaXMuX2dldFJHQkFNdWx0aVNhbXBsZUJ1ZmZlckZvcm1hdChjLnRleHR1cmUudHlwZSksdC5DT0xPUl9BVFRBQ0hNRU5UMCwhMSk7aWYoIXIpdGhyb3cgbmV3IEVycm9yKCJVbmFibGUgdG8gY3JlYXRlIG11bHRpIHNhbXBsZWQgZnJhbWVidWZmZXIiKTtpLmFkZE1TQUFSZW5kZXJCdWZmZXIocil9ZWxzZSB0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGMuX2ZyYW1lYnVmZmVyKTtyZXR1cm4gYy50ZXh0dXJlLnNhbXBsZXM9ZSxjLl9zYW1wbGVzPWUsYy5fZGVwdGhTdGVuY2lsQnVmZmVyPXRoaXMuX3NldHVwRnJhbWVidWZmZXJEZXB0aEF0dGFjaG1lbnRzKGMuX2dlbmVyYXRlU3RlbmNpbEJ1ZmZlcixjLl9nZW5lcmF0ZURlcHRoQnVmZmVyLGMudGV4dHVyZS53aWR0aCxjLnRleHR1cmUuaGVpZ2h0LGUpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCksZX0sZGUucHJvdG90eXBlLmNyZWF0ZVJlbmRlclRhcmdldEN1YmVUZXh0dXJlPWZ1bmN0aW9uKGMsZSl7Y29uc3QgdD10aGlzLl9jcmVhdGVIYXJkd2FyZVJlbmRlclRhcmdldFdyYXBwZXIoITEsITAsYyksaT17Z2VuZXJhdGVNaXBNYXBzOiEwLGdlbmVyYXRlRGVwdGhCdWZmZXI6ITAsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOiExLHR5cGU6MCxzYW1wbGluZ01vZGU6Myxmb3JtYXQ6NSwuLi5lfTtpLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcj1pLmdlbmVyYXRlRGVwdGhCdWZmZXImJmkuZ2VuZXJhdGVTdGVuY2lsQnVmZmVyLChpLnR5cGU9PT0xJiYhdGhpcy5fY2Fwcy50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmd8fGkudHlwZT09PTImJiF0aGlzLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmcpJiYoaS5zYW1wbGluZ01vZGU9MSk7Y29uc3Qgcz10aGlzLl9nbCxyPW5ldyBMdCh0aGlzLExlLlJlbmRlclRhcmdldCk7dGhpcy5fYmluZFRleHR1cmVEaXJlY3RseShzLlRFWFRVUkVfQ1VCRV9NQVAsciwhMCk7Y29uc3Qgbj10aGlzLl9nZXRTYW1wbGluZ1BhcmFtZXRlcnMoaS5zYW1wbGluZ01vZGUsaS5nZW5lcmF0ZU1pcE1hcHMpO2kudHlwZT09PTEmJiF0aGlzLl9jYXBzLnRleHR1cmVGbG9hdCYmKGkudHlwZT0wLE8uV2FybigiRmxvYXQgdGV4dHVyZXMgYXJlIG5vdCBzdXBwb3J0ZWQuIEN1YmUgcmVuZGVyIHRhcmdldCBmb3JjZWQgdG8gVEVYVFVSRVRZUEVfVU5FU0lHTkVEX0JZVEUgdHlwZSIpKSxzLnRleFBhcmFtZXRlcmkocy5URVhUVVJFX0NVQkVfTUFQLHMuVEVYVFVSRV9NQUdfRklMVEVSLG4ubWFnKSxzLnRleFBhcmFtZXRlcmkocy5URVhUVVJFX0NVQkVfTUFQLHMuVEVYVFVSRV9NSU5fRklMVEVSLG4ubWluKSxzLnRleFBhcmFtZXRlcmkocy5URVhUVVJFX0NVQkVfTUFQLHMuVEVYVFVSRV9XUkFQX1Mscy5DTEFNUF9UT19FREdFKSxzLnRleFBhcmFtZXRlcmkocy5URVhUVVJFX0NVQkVfTUFQLHMuVEVYVFVSRV9XUkFQX1Qscy5DTEFNUF9UT19FREdFKTtmb3IobGV0IG89MDtvPDY7bysrKXMudGV4SW1hZ2UyRChzLlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWCtvLDAsdGhpcy5fZ2V0UkdCQUJ1ZmZlckludGVybmFsU2l6ZWRGb3JtYXQoaS50eXBlLGkuZm9ybWF0KSxjLGMsMCx0aGlzLl9nZXRJbnRlcm5hbEZvcm1hdChpLmZvcm1hdCksdGhpcy5fZ2V0V2ViR0xUZXh0dXJlVHlwZShpLnR5cGUpLG51bGwpO2NvbnN0IGE9cy5jcmVhdGVGcmFtZWJ1ZmZlcigpO3JldHVybiB0aGlzLl9iaW5kVW5ib3VuZEZyYW1lYnVmZmVyKGEpLHQuX2RlcHRoU3RlbmNpbEJ1ZmZlcj10aGlzLl9zZXR1cEZyYW1lYnVmZmVyRGVwdGhBdHRhY2htZW50cyhpLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcixpLmdlbmVyYXRlRGVwdGhCdWZmZXIsYyxjKSxpLmdlbmVyYXRlTWlwTWFwcyYmcy5nZW5lcmF0ZU1pcG1hcChzLlRFWFRVUkVfQ1VCRV9NQVApLHRoaXMuX2JpbmRUZXh0dXJlRGlyZWN0bHkocy5URVhUVVJFX0NVQkVfTUFQLG51bGwpLHRoaXMuX2JpbmRVbmJvdW5kRnJhbWVidWZmZXIobnVsbCksdC5fZnJhbWVidWZmZXI9YSx0Ll9nZW5lcmF0ZURlcHRoQnVmZmVyPWkuZ2VuZXJhdGVEZXB0aEJ1ZmZlcix0Ll9nZW5lcmF0ZVN0ZW5jaWxCdWZmZXI9aS5nZW5lcmF0ZVN0ZW5jaWxCdWZmZXIsci53aWR0aD1jLHIuaGVpZ2h0PWMsci5pc1JlYWR5PSEwLHIuaXNDdWJlPSEwLHIuc2FtcGxlcz0xLHIuZ2VuZXJhdGVNaXBNYXBzPWkuZ2VuZXJhdGVNaXBNYXBzLHIuc2FtcGxpbmdNb2RlPWkuc2FtcGxpbmdNb2RlLHIudHlwZT1pLnR5cGUsci5mb3JtYXQ9aS5mb3JtYXQsdGhpcy5faW50ZXJuYWxUZXh0dXJlc0NhY2hlLnB1c2gociksdC5zZXRUZXh0dXJlcyhyKSx0fTtjb25zdCBzYT0icG9zdHByb2Nlc3NWZXJ0ZXhTaGFkZXIiLHJhPWBhdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKdW5pZm9ybSB2ZWMyIHNjYWxlOwp2YXJ5aW5nIHZlYzIgdlVWOwpjb25zdCB2ZWMyIG1hZGQ9dmVjMigwLjUsMC41KTsKI2RlZmluZSBDVVNUT01fVkVSVEVYX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKSB7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOCnZVVj0ocG9zaXRpb24qbWFkZCttYWRkKSpzY2FsZTsKZ2xfUG9zaXRpb249dmVjNChwb3NpdGlvbiwwLjAsMS4wKTsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5ECn1gO0wuU2hhZGVyc1N0b3JlW3NhXT1yYTtjb25zdCBLcz17cG9zaXRpb25zOlsxLDEsLTEsMSwtMSwtMSwxLC0xXSxpbmRpY2VzOlswLDEsMiwwLDIsM119O2NsYXNzIG5he2NvbnN0cnVjdG9yKGUsdD1Lcyl7dmFyIGksczt0aGlzLl9mdWxsc2NyZWVuVmlld3BvcnQ9bmV3IFdpKDAsMCwxLDEpO2NvbnN0IHI9KGk9dC5wb3NpdGlvbnMpIT09bnVsbCYmaSE9PXZvaWQgMD9pOktzLnBvc2l0aW9ucyxuPShzPXQuaW5kaWNlcykhPT1udWxsJiZzIT09dm9pZCAwP3M6S3MuaW5kaWNlczt0aGlzLmVuZ2luZT1lLHRoaXMuX3ZlcnRleEJ1ZmZlcnM9e1tnLlBvc2l0aW9uS2luZF06bmV3IGcoZSxyLGcuUG9zaXRpb25LaW5kLCExLCExLDIpfSx0aGlzLl9pbmRleEJ1ZmZlcj1lLmNyZWF0ZUluZGV4QnVmZmVyKG4pLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXI9ZS5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5faW5kZXhCdWZmZXI9ZS5jcmVhdGVJbmRleEJ1ZmZlcihuKTtmb3IoY29uc3QgYSBpbiB0aGlzLl92ZXJ0ZXhCdWZmZXJzKXRoaXMuX3ZlcnRleEJ1ZmZlcnNbYV0uX3JlYnVpbGQoKX0pfXNldFZpZXdwb3J0KGU9dGhpcy5fZnVsbHNjcmVlblZpZXdwb3J0KXt0aGlzLmVuZ2luZS5zZXRWaWV3cG9ydChlKX1iaW5kQnVmZmVycyhlKXt0aGlzLmVuZ2luZS5iaW5kQnVmZmVycyh0aGlzLl92ZXJ0ZXhCdWZmZXJzLHRoaXMuX2luZGV4QnVmZmVyLGUpfWFwcGx5RWZmZWN0V3JhcHBlcihlKXt0aGlzLmVuZ2luZS5zZXRTdGF0ZSghMCksdGhpcy5lbmdpbmUuZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PSExLHRoaXMuZW5naW5lLnN0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdD0hMSx0aGlzLmVuZ2luZS5lbmFibGVFZmZlY3QoZS5fZHJhd1dyYXBwZXIpLHRoaXMuYmluZEJ1ZmZlcnMoZS5lZmZlY3QpLGUub25BcHBseU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHt9KX1yZXN0b3JlU3RhdGVzKCl7dGhpcy5lbmdpbmUuZGVwdGhDdWxsaW5nU3RhdGUuZGVwdGhUZXN0PSEwLHRoaXMuZW5naW5lLnN0ZW5jaWxTdGF0ZS5zdGVuY2lsVGVzdD0hMH1kcmF3KCl7dGhpcy5lbmdpbmUuZHJhd0VsZW1lbnRzVHlwZSgwLDAsNil9X2lzUmVuZGVyVGFyZ2V0VGV4dHVyZShlKXtyZXR1cm4gZS5yZW5kZXJUYXJnZXQhPT12b2lkIDB9cmVuZGVyKGUsdD1udWxsKXtpZighZS5lZmZlY3QuaXNSZWFkeSgpKXJldHVybjt0aGlzLnNldFZpZXdwb3J0KCk7Y29uc3QgaT10PT09bnVsbD9udWxsOnRoaXMuX2lzUmVuZGVyVGFyZ2V0VGV4dHVyZSh0KT90LnJlbmRlclRhcmdldDp0O2kmJnRoaXMuZW5naW5lLmJpbmRGcmFtZWJ1ZmZlcihpKSx0aGlzLmFwcGx5RWZmZWN0V3JhcHBlcihlKSx0aGlzLmRyYXcoKSxpJiZ0aGlzLmVuZ2luZS51bkJpbmRGcmFtZWJ1ZmZlcihpKSx0aGlzLnJlc3RvcmVTdGF0ZXMoKX1kaXNwb3NlKCl7Y29uc3QgZT10aGlzLl92ZXJ0ZXhCdWZmZXJzW2cuUG9zaXRpb25LaW5kXTtlJiYoZS5kaXNwb3NlKCksZGVsZXRlIHRoaXMuX3ZlcnRleEJ1ZmZlcnNbZy5Qb3NpdGlvbktpbmRdKSx0aGlzLl9pbmRleEJ1ZmZlciYmdGhpcy5lbmdpbmUuX3JlbGVhc2VCdWZmZXIodGhpcy5faW5kZXhCdWZmZXIpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXImJih0aGlzLmVuZ2luZS5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXIpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXI9bnVsbCl9fWNsYXNzIGFhe2dldCBlZmZlY3QoKXtyZXR1cm4gdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0fXNldCBlZmZlY3QoZSl7dGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0PWV9Y29uc3RydWN0b3IoZSl7dGhpcy5vbkFwcGx5T2JzZXJ2YWJsZT1uZXcgdztsZXQgdDtjb25zdCBpPWUudW5pZm9ybU5hbWVzfHxbXTtlLnZlcnRleFNoYWRlcj90PXtmcmFnbWVudFNvdXJjZTplLmZyYWdtZW50U2hhZGVyLHZlcnRleFNvdXJjZTplLnZlcnRleFNoYWRlcixzcGVjdG9yTmFtZTplLm5hbWV8fCJlZmZlY3RXcmFwcGVyIn06KGkucHVzaCgic2NhbGUiKSx0PXtmcmFnbWVudFNvdXJjZTplLmZyYWdtZW50U2hhZGVyLHZlcnRleDoicG9zdHByb2Nlc3MiLHNwZWN0b3JOYW1lOmUubmFtZXx8ImVmZmVjdFdyYXBwZXIifSx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmFkZCgoKT0+e3RoaXMuZWZmZWN0LnNldEZsb2F0Migic2NhbGUiLDEsMSl9KSk7Y29uc3Qgcz1lLmRlZmluZXM/ZS5kZWZpbmVzLmpvaW4oYApgKToiIjt0aGlzLl9kcmF3V3JhcHBlcj1uZXcgdmkoZS5lbmdpbmUpLGUudXNlU2hhZGVyU3RvcmU/KHQuZnJhZ21lbnQ9dC5mcmFnbWVudFNvdXJjZSx0LnZlcnRleHx8KHQudmVydGV4PXQudmVydGV4U291cmNlKSxkZWxldGUgdC5mcmFnbWVudFNvdXJjZSxkZWxldGUgdC52ZXJ0ZXhTb3VyY2UsdGhpcy5lZmZlY3Q9ZS5lbmdpbmUuY3JlYXRlRWZmZWN0KHQsZS5hdHRyaWJ1dGVOYW1lc3x8WyJwb3NpdGlvbiJdLGksZS5zYW1wbGVyTmFtZXMscyx2b2lkIDAsZS5vbkNvbXBpbGVkLHZvaWQgMCx2b2lkIDAsZS5zaGFkZXJMYW5ndWFnZSkpOih0aGlzLmVmZmVjdD1uZXcgRGUodCxlLmF0dHJpYnV0ZU5hbWVzfHxbInBvc2l0aW9uIl0saSxlLnNhbXBsZXJOYW1lcyxlLmVuZ2luZSxzLHZvaWQgMCxlLm9uQ29tcGlsZWQsdm9pZCAwLHZvaWQgMCx2b2lkIDAsZS5zaGFkZXJMYW5ndWFnZSksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1lLmVuZ2luZS5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5lZmZlY3QuX3BpcGVsaW5lQ29udGV4dD1udWxsLHRoaXMuZWZmZWN0Ll93YXNQcmV2aW91c2x5UmVhZHk9ITEsdGhpcy5lZmZlY3QuX3ByZXBhcmVFZmZlY3QoKX0pKX1kaXNwb3NlKCl7dGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciYmKHRoaXMuZWZmZWN0LmdldEVuZ2luZSgpLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1udWxsKSx0aGlzLmVmZmVjdC5kaXNwb3NlKCl9fWNvbnN0IFVyPSJwYXNzUGl4ZWxTaGFkZXIiLGtyPWB2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlcjsKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIAp7CmdsX0ZyYWdDb2xvcj10ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsdlVWKTsKfWA7TC5TaGFkZXJzU3RvcmVbVXJdPWtyO2NvbnN0IFZyPXtuYW1lOlVyLHNoYWRlcjprcn07Y2xhc3MgaXR7c3RhdGljIF9DcmVhdGVEdW1wUmVuZGVyZXIoKXtpZighaXQuX0R1bXBUb29sc0VuZ2luZSl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKSx0PW5ldyBkZShlLCExLHtwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6ITAsZGVwdGg6ITEsc3RlbmNpbDohMSxhbHBoYTohMCxwcmVtdWx0aXBsaWVkQWxwaGE6ITEsYW50aWFsaWFzOiExLGZhaWxJZk1ham9yUGVyZm9ybWFuY2VDYXZlYXQ6ITF9KTt0LmdldENhcHMoKS5wYXJhbGxlbFNoYWRlckNvbXBpbGU9dm9pZCAwO2NvbnN0IGk9bmV3IG5hKHQpLHM9bmV3IGFhKHtlbmdpbmU6dCxuYW1lOlZyLm5hbWUsZnJhZ21lbnRTaGFkZXI6VnIuc2hhZGVyLHNhbXBsZXJOYW1lczpbInRleHR1cmVTYW1wbGVyIl19KTtpdC5fRHVtcFRvb2xzRW5naW5lPXtjYW52YXM6ZSxlbmdpbmU6dCxyZW5kZXJlcjppLHdyYXBwZXI6c319cmV0dXJuIGl0Ll9EdW1wVG9vbHNFbmdpbmV9c3RhdGljIGFzeW5jIER1bXBGcmFtZWJ1ZmZlcihlLHQsaSxzLHI9ImltYWdlL3BuZyIsbil7Y29uc3QgYT1hd2FpdCBpLnJlYWRQaXhlbHMoMCwwLGUsdCksbz1uZXcgVWludDhBcnJheShhLmJ1ZmZlcik7aXQuRHVtcERhdGEoZSx0LG8scyxyLG4sITApfXN0YXRpYyBEdW1wRGF0YUFzeW5jKGUsdCxpLHM9ImltYWdlL3BuZyIscixuPSExLGE9ITEsbyl7cmV0dXJuIG5ldyBQcm9taXNlKGg9PntpdC5EdW1wRGF0YShlLHQsaSxsPT5oKGwpLHMscixuLGEsbyl9KX1zdGF0aWMgRHVtcERhdGEoZSx0LGkscyxyPSJpbWFnZS9wbmciLG4sYT0hMSxvPSExLGgpe2NvbnN0IGw9aXQuX0NyZWF0ZUR1bXBSZW5kZXJlcigpO2lmKGwuZW5naW5lLnNldFNpemUoZSx0LCEwKSxpIGluc3RhbmNlb2YgRmxvYXQzMkFycmF5KXtjb25zdCBkPW5ldyBVaW50OEFycmF5KGkubGVuZ3RoKTtsZXQgXz1pLmxlbmd0aDtmb3IoO18tLTspe2NvbnN0IGY9aVtfXTtkW19dPWY8MD8wOmY+MT8xOk1hdGgucm91bmQoZioyNTUpfWk9ZH1jb25zdCB1PWwuZW5naW5lLmNyZWF0ZVJhd1RleHR1cmUoaSxlLHQsNSwhMSwhYSwxKTtsLnJlbmRlcmVyLnNldFZpZXdwb3J0KCksbC5yZW5kZXJlci5hcHBseUVmZmVjdFdyYXBwZXIobC53cmFwcGVyKSxsLndyYXBwZXIuZWZmZWN0Ll9iaW5kVGV4dHVyZSgidGV4dHVyZVNhbXBsZXIiLHUpLGwucmVuZGVyZXIuZHJhdygpLG8/WC5Ub0Jsb2IobC5jYW52YXMsZD0+e2NvbnN0IF89bmV3IEZpbGVSZWFkZXI7Xy5vbmxvYWQ9Zj0+e2NvbnN0IG09Zi50YXJnZXQucmVzdWx0O3MmJnMobSl9LF8ucmVhZEFzQXJyYXlCdWZmZXIoZCl9LHIsaCk6WC5FbmNvZGVTY3JlZW5zaG90Q2FudmFzRGF0YShsLmNhbnZhcyxzLHIsbixoKSx1LmRpc3Bvc2UoKX1zdGF0aWMgRGlzcG9zZSgpe2l0Ll9EdW1wVG9vbHNFbmdpbmUmJihpdC5fRHVtcFRvb2xzRW5naW5lLndyYXBwZXIuZGlzcG9zZSgpLGl0Ll9EdW1wVG9vbHNFbmdpbmUucmVuZGVyZXIuZGlzcG9zZSgpLGl0Ll9EdW1wVG9vbHNFbmdpbmUuZW5naW5lLmRpc3Bvc2UoKSksaXQuX0R1bXBUb29sc0VuZ2luZT1udWxsfX0oKCk9PntYLkR1bXBEYXRhPWl0LkR1bXBEYXRhLFguRHVtcERhdGFBc3luYz1pdC5EdW1wRGF0YUFzeW5jLFguRHVtcEZyYW1lYnVmZmVyPWl0LkR1bXBGcmFtZWJ1ZmZlcn0pKCk7Y2xhc3MgZ3QgZXh0ZW5kcyBOe2dldCByZW5kZXJMaXN0KCl7cmV0dXJuIHRoaXMuX3JlbmRlckxpc3R9c2V0IHJlbmRlckxpc3QoZSl7dGhpcy5fdW5PYnNlcnZlUmVuZGVyTGlzdCYmKHRoaXMuX3VuT2JzZXJ2ZVJlbmRlckxpc3QoKSx0aGlzLl91bk9ic2VydmVSZW5kZXJMaXN0PW51bGwpLGUmJih0aGlzLl91bk9ic2VydmVSZW5kZXJMaXN0PWlyKGUsdGhpcy5fcmVuZGVyTGlzdEhhc0NoYW5nZWQpKSx0aGlzLl9yZW5kZXJMaXN0PWV9Z2V0IHBvc3RQcm9jZXNzZXMoKXtyZXR1cm4gdGhpcy5fcG9zdFByb2Nlc3Nlc31nZXQgX3ByZVBhc3NFbmFibGVkKCl7cmV0dXJuISF0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0JiZ0aGlzLl9wcmVQYXNzUmVuZGVyVGFyZ2V0LmVuYWJsZWR9c2V0IG9uQWZ0ZXJVbmJpbmQoZSl7dGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyJiZ0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXIpLHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlcj10aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZChlKX1zZXQgb25CZWZvcmVSZW5kZXIoZSl7dGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGUpfXNldCBvbkFmdGVyUmVuZGVyKGUpe3RoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQ2xlYXIoZSl7dGhpcy5fb25DbGVhck9ic2VydmVyJiZ0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkNsZWFyT2JzZXJ2ZXIpLHRoaXMuX29uQ2xlYXJPYnNlcnZlcj10aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmFkZChlKX1nZXQgcmVuZGVyUGFzc0lkcygpe3JldHVybiB0aGlzLl9yZW5kZXJQYXNzSWRzfWdldCBjdXJyZW50UmVmcmVzaElkKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZWZyZXNoSWR9c2V0TWF0ZXJpYWxGb3JSZW5kZXJpbmcoZSx0KXtsZXQgaTtBcnJheS5pc0FycmF5KGUpP2k9ZTppPVtlXTtmb3IobGV0IHM9MDtzPGkubGVuZ3RoOysrcylmb3IobGV0IHI9MDtyPHRoaXMuX3JlbmRlclBhc3NJZHMubGVuZ3RoOysrcilpW3NdLnNldE1hdGVyaWFsRm9yUmVuZGVyUGFzcyh0aGlzLl9yZW5kZXJQYXNzSWRzW3JdLHQhPT12b2lkIDA/QXJyYXkuaXNBcnJheSh0KT90W3JdOnQ6dm9pZCAwKX1nZXQgaXNNdWx0aSgpe3ZhciBlLHQ7cmV0dXJuKHQ9KGU9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuaXNNdWx0aSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6ITF9Z2V0IHJlbmRlclRhcmdldE9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9uc31nZXQgcmVuZGVyVGFyZ2V0KCl7cmV0dXJuIHRoaXMuX3JlbmRlclRhcmdldH1fb25SYXRpb1Jlc2NhbGUoKXt0aGlzLl9zaXplUmF0aW8mJnRoaXMucmVzaXplKHRoaXMuX2luaXRpYWxTaXplUGFyYW1ldGVyKX1zZXQgYm91bmRpbmdCb3hTaXplKGUpe2lmKHRoaXMuX2JvdW5kaW5nQm94U2l6ZSYmdGhpcy5fYm91bmRpbmdCb3hTaXplLmVxdWFscyhlKSlyZXR1cm47dGhpcy5fYm91bmRpbmdCb3hTaXplPWU7Y29uc3QgdD10aGlzLmdldFNjZW5lKCk7dCYmdC5tYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKX1nZXQgYm91bmRpbmdCb3hTaXplKCl7cmV0dXJuIHRoaXMuX2JvdW5kaW5nQm94U2l6ZX1nZXQgZGVwdGhTdGVuY2lsVGV4dHVyZSgpe3ZhciBlLHQ7cmV0dXJuKHQ9KGU9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuX2RlcHRoU3RlbmNpbFRleHR1cmUpIT09bnVsbCYmdCE9PXZvaWQgMD90Om51bGx9Y29uc3RydWN0b3IoZSx0LGkscz0hMSxyPSEwLG49MCxhPSExLG89Ti5UUklMSU5FQVJfU0FNUExJTkdNT0RFLGg9ITAsbD0hMSx1PSExLGQ9NSxfPSExLGYsbSx2PSExLEU9ITEpe3ZhciBTLFIsQSxDLGIseDtsZXQgSTtpZih0eXBlb2Ygcz09Im9iamVjdCIpe2NvbnN0IGs9cztzPSEhay5nZW5lcmF0ZU1pcE1hcHMscj0oUz1rLmRvTm90Q2hhbmdlQXNwZWN0UmF0aW8pIT09bnVsbCYmUyE9PXZvaWQgMD9TOiEwLG49KFI9ay50eXBlKSE9PW51bGwmJlIhPT12b2lkIDA/UjowLGE9ISFrLmlzQ3ViZSxvPShBPWsuc2FtcGxpbmdNb2RlKSE9PW51bGwmJkEhPT12b2lkIDA/QTpOLlRSSUxJTkVBUl9TQU1QTElOR01PREUsaD0oQz1rLmdlbmVyYXRlRGVwdGhCdWZmZXIpIT09bnVsbCYmQyE9PXZvaWQgMD9DOiEwLGw9ISFrLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcix1PSEhay5pc011bHRpLGQ9KGI9ay5mb3JtYXQpIT09bnVsbCYmYiE9PXZvaWQgMD9iOjUsXz0hIWsuZGVsYXlBbGxvY2F0aW9uLGY9ay5zYW1wbGVzLG09ay5jcmVhdGlvbkZsYWdzLHY9ISFrLm5vQ29sb3JBdHRhY2htZW50LEU9ISFrLnVzZVNSR0JCdWZmZXIsST1rLmNvbG9yQXR0YWNobWVudH1pZihzdXBlcihudWxsLGksIXMsdm9pZCAwLG8sdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGQpLHRoaXMuX3VuT2JzZXJ2ZVJlbmRlckxpc3Q9bnVsbCx0aGlzLl9yZW5kZXJMaXN0SGFzQ2hhbmdlZD0oayxtZSk9Pnt2YXIgcTtjb25zdCB1ZT10aGlzLl9yZW5kZXJMaXN0P3RoaXMuX3JlbmRlckxpc3QubGVuZ3RoOjA7KG1lPT09MCYmdWU+MHx8dWU9PT0wKSYmKChxPXRoaXMuZ2V0U2NlbmUoKSk9PT1udWxsfHxxPT09dm9pZCAwfHxxLm1lc2hlcy5mb3JFYWNoKGllPT57aWUuX21hcmtTdWJNZXNoZXNBc0xpZ2h0RGlydHkoKX0pKX0sdGhpcy5yZW5kZXJQYXJ0aWNsZXM9ITAsdGhpcy5yZW5kZXJTcHJpdGVzPSExLHRoaXMuZm9yY2VMYXllck1hc2tDaGVjaz0hMSx0aGlzLmlnbm9yZUNhbWVyYVZpZXdwb3J0PSExLHRoaXMub25CZWZvcmVCaW5kT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkNsZWFyT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLl9jbGVhcmVkPSExLHRoaXMuc2tpcEluaXRpYWxDbGVhcj0hMSx0aGlzLl9jdXJyZW50UmVmcmVzaElkPS0xLHRoaXMuX3JlZnJlc2hSYXRlPTEsdGhpcy5fc2FtcGxlcz0xLHRoaXMuX2NhblJlc2NhbGU9ITAsdGhpcy5fcmVuZGVyVGFyZ2V0PW51bGwsdGhpcy5ib3VuZGluZ0JveFBvc2l0aW9uPXAuWmVybygpLGk9dGhpcy5nZXRTY2VuZSgpLCFpKXJldHVybjtjb25zdCBVPXRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKTt0aGlzLl9jb29yZGluYXRlc01vZGU9Ti5QUk9KRUNUSU9OX01PREUsdGhpcy5yZW5kZXJMaXN0PW5ldyBBcnJheSx0aGlzLm5hbWU9ZSx0aGlzLmlzUmVuZGVyVGFyZ2V0PSEwLHRoaXMuX2luaXRpYWxTaXplUGFyYW1ldGVyPXQsdGhpcy5fcmVuZGVyUGFzc0lkcz1bXSx0aGlzLl9pc0N1YmVEYXRhPWEsdGhpcy5fcHJvY2Vzc1NpemVQYXJhbWV0ZXIodCksdGhpcy5yZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1swXSx0aGlzLl9yZXNpemVPYnNlcnZlcj1VLm9uUmVzaXplT2JzZXJ2YWJsZS5hZGQoKCk9Pnt9KSx0aGlzLl9nZW5lcmF0ZU1pcE1hcHM9ISFzLHRoaXMuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW89cix0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyPW5ldyBXZShpKSx0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLl91c2VTY2VuZUF1dG9DbGVhclNldHVwPSEwLCF1JiYodGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucz17Z2VuZXJhdGVNaXBNYXBzOnMsdHlwZTpuLGZvcm1hdDooeD10aGlzLl9mb3JtYXQpIT09bnVsbCYmeCE9PXZvaWQgMD94OnZvaWQgMCxzYW1wbGluZ01vZGU6dGhpcy5zYW1wbGluZ01vZGUsZ2VuZXJhdGVEZXB0aEJ1ZmZlcjpoLGdlbmVyYXRlU3RlbmNpbEJ1ZmZlcjpsLHNhbXBsZXM6ZixjcmVhdGlvbkZsYWdzOm0sbm9Db2xvckF0dGFjaG1lbnQ6dix1c2VTUkdCQnVmZmVyOkUsY29sb3JBdHRhY2htZW50OkksbGFiZWw6dGhpcy5uYW1lfSx0aGlzLnNhbXBsaW5nTW9kZT09PU4uTkVBUkVTVF9TQU1QTElOR01PREUmJih0aGlzLndyYXBVPU4uQ0xBTVBfQUREUkVTU01PREUsdGhpcy53cmFwVj1OLkNMQU1QX0FERFJFU1NNT0RFKSxffHwoYT8odGhpcy5fcmVuZGVyVGFyZ2V0PWkuZ2V0RW5naW5lKCkuY3JlYXRlUmVuZGVyVGFyZ2V0Q3ViZVRleHR1cmUodGhpcy5nZXRSZW5kZXJTaXplKCksdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucyksdGhpcy5jb29yZGluYXRlc01vZGU9Ti5JTlZDVUJJQ19NT0RFLHRoaXMuX3RleHR1cmVNYXRyaXg9TS5JZGVudGl0eSgpKTp0aGlzLl9yZW5kZXJUYXJnZXQ9aS5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKHRoaXMuX3NpemUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucyksdGhpcy5fdGV4dHVyZT10aGlzLl9yZW5kZXJUYXJnZXQudGV4dHVyZSxmIT09dm9pZCAwJiYodGhpcy5zYW1wbGVzPWYpKSl9Y3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZShlPTAsdD0hMCxpPSExLHM9MSxyPTE0KXt2YXIgbjsobj10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8bj09PXZvaWQgMHx8bi5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGUsdCxpLHMscil9X3JlbGVhc2VSZW5kZXJQYXNzSWQoKXtpZih0aGlzLl9zY2VuZSl7Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKTtmb3IobGV0IHQ9MDt0PHRoaXMuX3JlbmRlclBhc3NJZHMubGVuZ3RoOysrdCllLnJlbGVhc2VSZW5kZXJQYXNzSWQodGhpcy5fcmVuZGVyUGFzc0lkc1t0XSl9dGhpcy5fcmVuZGVyUGFzc0lkcz1bXX1fY3JlYXRlUmVuZGVyUGFzc0lkKCl7dGhpcy5fcmVsZWFzZVJlbmRlclBhc3NJZCgpO2NvbnN0IGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCksdD10aGlzLl9pc0N1YmVEYXRhPzY6dGhpcy5nZXRSZW5kZXJMYXllcnMoKXx8MTtmb3IobGV0IGk9MDtpPHQ7KytpKXRoaXMuX3JlbmRlclBhc3NJZHNbaV09ZS5jcmVhdGVSZW5kZXJQYXNzSWQoYFJlbmRlclRhcmdldFRleHR1cmUgLSAke3RoaXMubmFtZX0jJHtpfWApfV9wcm9jZXNzU2l6ZVBhcmFtZXRlcihlKXtpZihlLnJhdGlvKXt0aGlzLl9zaXplUmF0aW89ZS5yYXRpbztjb25zdCB0PXRoaXMuX2dldEVuZ2luZSgpO3RoaXMuX3NpemU9e3dpZHRoOnRoaXMuX2Jlc3RSZWZsZWN0aW9uUmVuZGVyVGFyZ2V0RGltZW5zaW9uKHQuZ2V0UmVuZGVyV2lkdGgoKSx0aGlzLl9zaXplUmF0aW8pLGhlaWdodDp0aGlzLl9iZXN0UmVmbGVjdGlvblJlbmRlclRhcmdldERpbWVuc2lvbih0LmdldFJlbmRlckhlaWdodCgpLHRoaXMuX3NpemVSYXRpbyl9fWVsc2UgdGhpcy5fc2l6ZT1lO3RoaXMuX2NyZWF0ZVJlbmRlclBhc3NJZCgpfWdldCBzYW1wbGVzKCl7dmFyIGUsdDtyZXR1cm4odD0oZT10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8ZT09PXZvaWQgMD92b2lkIDA6ZS5zYW1wbGVzKSE9PW51bGwmJnQhPT12b2lkIDA/dDp0aGlzLl9zYW1wbGVzfXNldCBzYW1wbGVzKGUpe3RoaXMuX3JlbmRlclRhcmdldCYmKHRoaXMuX3NhbXBsZXM9dGhpcy5fcmVuZGVyVGFyZ2V0LnNldFNhbXBsZXMoZSkpfXJlc2V0UmVmcmVzaENvdW50ZXIoKXt0aGlzLl9jdXJyZW50UmVmcmVzaElkPS0xfWdldCByZWZyZXNoUmF0ZSgpe3JldHVybiB0aGlzLl9yZWZyZXNoUmF0ZX1zZXQgcmVmcmVzaFJhdGUoZSl7dGhpcy5fcmVmcmVzaFJhdGU9ZSx0aGlzLnJlc2V0UmVmcmVzaENvdW50ZXIoKX1hZGRQb3N0UHJvY2VzcyhlKXtpZighdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyKXtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKTtpZighdClyZXR1cm47dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyPW5ldyBpcyh0KSx0aGlzLl9wb3N0UHJvY2Vzc2VzPW5ldyBBcnJheX10aGlzLl9wb3N0UHJvY2Vzc2VzLnB1c2goZSksdGhpcy5fcG9zdFByb2Nlc3Nlc1swXS5hdXRvQ2xlYXI9ITF9Y2xlYXJQb3N0UHJvY2Vzc2VzKGU9ITEpe2lmKHRoaXMuX3Bvc3RQcm9jZXNzZXMpe2lmKGUpZm9yKGNvbnN0IHQgb2YgdGhpcy5fcG9zdFByb2Nlc3Nlcyl0LmRpc3Bvc2UoKTt0aGlzLl9wb3N0UHJvY2Vzc2VzPVtdfX1yZW1vdmVQb3N0UHJvY2VzcyhlKXtpZighdGhpcy5fcG9zdFByb2Nlc3NlcylyZXR1cm47Y29uc3QgdD10aGlzLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YoZSk7dCE9PS0xJiYodGhpcy5fcG9zdFByb2Nlc3Nlcy5zcGxpY2UodCwxKSx0aGlzLl9wb3N0UHJvY2Vzc2VzLmxlbmd0aD4wJiYodGhpcy5fcG9zdFByb2Nlc3Nlc1swXS5hdXRvQ2xlYXI9ITEpKX1fc2hvdWxkUmVuZGVyKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSZWZyZXNoSWQ9PT0tMT8odGhpcy5fY3VycmVudFJlZnJlc2hJZD0xLCEwKTp0aGlzLnJlZnJlc2hSYXRlPT09dGhpcy5fY3VycmVudFJlZnJlc2hJZD8odGhpcy5fY3VycmVudFJlZnJlc2hJZD0xLCEwKToodGhpcy5fY3VycmVudFJlZnJlc2hJZCsrLCExKX1nZXRSZW5kZXJTaXplKCl7cmV0dXJuIHRoaXMuZ2V0UmVuZGVyV2lkdGgoKX1nZXRSZW5kZXJXaWR0aCgpe3JldHVybiB0aGlzLl9zaXplLndpZHRoP3RoaXMuX3NpemUud2lkdGg6dGhpcy5fc2l6ZX1nZXRSZW5kZXJIZWlnaHQoKXtyZXR1cm4gdGhpcy5fc2l6ZS53aWR0aD90aGlzLl9zaXplLmhlaWdodDp0aGlzLl9zaXplfWdldFJlbmRlckxheWVycygpe2NvbnN0IGU9dGhpcy5fc2l6ZS5sYXllcnM7cmV0dXJuIGV8fDB9ZGlzYWJsZVJlc2NhbGluZygpe3RoaXMuX2NhblJlc2NhbGU9ITF9Z2V0IGNhblJlc2NhbGUoKXtyZXR1cm4gdGhpcy5fY2FuUmVzY2FsZX1zY2FsZShlKXtjb25zdCB0PU1hdGgubWF4KDEsdGhpcy5nZXRSZW5kZXJTaXplKCkqZSk7dGhpcy5yZXNpemUodCl9Z2V0UmVmbGVjdGlvblRleHR1cmVNYXRyaXgoKXtyZXR1cm4gdGhpcy5pc0N1YmU/dGhpcy5fdGV4dHVyZU1hdHJpeDpzdXBlci5nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCgpfXJlc2l6ZShlKXt2YXIgdDtjb25zdCBpPXRoaXMuaXNDdWJlOyh0PXRoaXMuX3JlbmRlclRhcmdldCk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmRpc3Bvc2UoKSx0aGlzLl9yZW5kZXJUYXJnZXQ9bnVsbDtjb25zdCBzPXRoaXMuZ2V0U2NlbmUoKTtzJiYodGhpcy5fcHJvY2Vzc1NpemVQYXJhbWV0ZXIoZSksaT90aGlzLl9yZW5kZXJUYXJnZXQ9cy5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJUYXJnZXRDdWJlVGV4dHVyZSh0aGlzLmdldFJlbmRlclNpemUoKSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zKTp0aGlzLl9yZW5kZXJUYXJnZXQ9cy5nZXRFbmdpbmUoKS5jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKHRoaXMuX3NpemUsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucyksdGhpcy5fdGV4dHVyZT10aGlzLl9yZW5kZXJUYXJnZXQudGV4dHVyZSx0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLnNhbXBsZXMhPT12b2lkIDAmJih0aGlzLnNhbXBsZXM9dGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5zYW1wbGVzKSx0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5oYXNPYnNlcnZlcnMoKSYmdGhpcy5vblJlc2l6ZU9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHRoaXMpKX1yZW5kZXIoZT0hMSx0PSExKXt0aGlzLl9yZW5kZXIoZSx0KX1pc1JlYWR5Rm9yUmVuZGVyaW5nKCl7cmV0dXJuIHRoaXMuX3JlbmRlcighMSwhMSwhMCl9X3JlbmRlcihlPSExLHQ9ITEsaT0hMSl7dmFyIHM7Y29uc3Qgcj10aGlzLmdldFNjZW5lKCk7aWYoIXIpcmV0dXJuIGk7Y29uc3Qgbj1yLmdldEVuZ2luZSgpO2lmKHRoaXMudXNlQ2FtZXJhUG9zdFByb2Nlc3NlcyE9PXZvaWQgMCYmKGU9dGhpcy51c2VDYW1lcmFQb3N0UHJvY2Vzc2VzKSx0aGlzLl93YWl0aW5nUmVuZGVyTGlzdCl7dGhpcy5yZW5kZXJMaXN0PVtdO2ZvcihsZXQgdT0wO3U8dGhpcy5fd2FpdGluZ1JlbmRlckxpc3QubGVuZ3RoO3UrKyl7Y29uc3QgZD10aGlzLl93YWl0aW5nUmVuZGVyTGlzdFt1XSxfPXIuZ2V0TWVzaEJ5SWQoZCk7XyYmdGhpcy5yZW5kZXJMaXN0LnB1c2goXyl9dGhpcy5fd2FpdGluZ1JlbmRlckxpc3Q9dm9pZCAwfWlmKHRoaXMucmVuZGVyTGlzdFByZWRpY2F0ZSl7dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdC5sZW5ndGg9MDp0aGlzLnJlbmRlckxpc3Q9W107Y29uc3QgdT10aGlzLmdldFNjZW5lKCk7aWYoIXUpcmV0dXJuIGk7Y29uc3QgZD11Lm1lc2hlcztmb3IobGV0IF89MDtfPGQubGVuZ3RoO18rKyl7Y29uc3QgZj1kW19dO3RoaXMucmVuZGVyTGlzdFByZWRpY2F0ZShmKSYmdGhpcy5yZW5kZXJMaXN0LnB1c2goZil9fWNvbnN0IGE9bi5jdXJyZW50UmVuZGVyUGFzc0lkO3RoaXMub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyk7Y29uc3Qgbz0ocz10aGlzLmFjdGl2ZUNhbWVyYSkhPT1udWxsJiZzIT09dm9pZCAwP3M6ci5hY3RpdmVDYW1lcmEsaD1yLmFjdGl2ZUNhbWVyYTtvJiYobyE9PXIuYWN0aXZlQ2FtZXJhJiYoci5zZXRUcmFuc2Zvcm1NYXRyaXgoby5nZXRWaWV3TWF0cml4KCksby5nZXRQcm9qZWN0aW9uTWF0cml4KCEwKSksci5hY3RpdmVDYW1lcmE9byksbi5zZXRWaWV3cG9ydChvLnZpZXdwb3J0LHRoaXMuZ2V0UmVuZGVyV2lkdGgoKSx0aGlzLmdldFJlbmRlckhlaWdodCgpKSksdGhpcy5fZGVmYXVsdFJlbmRlckxpc3RQcmVwYXJlZD0hMTtsZXQgbD1pO2lmKGkpe3IuZ2V0Vmlld01hdHJpeCgpfHxyLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCgpO2NvbnN0IHU9dGhpcy5pczJEQXJyYXk/dGhpcy5nZXRSZW5kZXJMYXllcnMoKTp0aGlzLmlzQ3ViZT82OjE7Zm9yKGxldCBkPTA7ZDx1JiZsO2QrKyl7bGV0IF89bnVsbDtjb25zdCBmPXRoaXMucmVuZGVyTGlzdD90aGlzLnJlbmRlckxpc3Q6ci5nZXRBY3RpdmVNZXNoZXMoKS5kYXRhLG09dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdC5sZW5ndGg6ci5nZXRBY3RpdmVNZXNoZXMoKS5sZW5ndGg7bi5jdXJyZW50UmVuZGVyUGFzc0lkPXRoaXMuX3JlbmRlclBhc3NJZHNbZF0sdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGQpLHRoaXMuZ2V0Q3VzdG9tUmVuZGVyTGlzdCYmKF89dGhpcy5nZXRDdXN0b21SZW5kZXJMaXN0KGQsZixtKSksX3x8KF89ZiksdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpb3x8ci51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApO2ZvcihsZXQgdj0wO3Y8Xy5sZW5ndGgmJmw7Kyt2KXtjb25zdCBFPV9bdl07aWYoISghRS5pc0VuYWJsZWQoKXx8RS5pc0Jsb2NrZWR8fCFFLmlzVmlzaWJsZXx8IUUuc3ViTWVzaGVzKSl7aWYodGhpcy5jdXN0b21Jc1JlYWR5RnVuY3Rpb24pe2lmKCF0aGlzLmN1c3RvbUlzUmVhZHlGdW5jdGlvbihFLHRoaXMucmVmcmVzaFJhdGUsaSkpe2w9ITE7Y29udGludWV9fWVsc2UgaWYoIUUuaXNSZWFkeSghMCkpe2w9ITE7Y29udGludWV9fX10aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhkKSwodGhpcy5pczJEQXJyYXl8fHRoaXMuaXNDdWJlKSYmKHIuaW5jcmVtZW50UmVuZGVySWQoKSxyLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKSl9fWVsc2UgaWYodGhpcy5pczJEQXJyYXkmJiF0aGlzLmlzTXVsdGkpZm9yKGxldCB1PTA7dTx0aGlzLmdldFJlbmRlckxheWVycygpO3UrKyl0aGlzLl9yZW5kZXJUb1RhcmdldCgwLGUsdCx1LG8pLHIuaW5jcmVtZW50UmVuZGVySWQoKSxyLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKTtlbHNlIGlmKHRoaXMuaXNDdWJlJiYhdGhpcy5pc011bHRpKWZvcihsZXQgdT0wO3U8Njt1KyspdGhpcy5fcmVuZGVyVG9UYXJnZXQodSxlLHQsdm9pZCAwLG8pLHIuaW5jcmVtZW50UmVuZGVySWQoKSxyLnJlc2V0Q2FjaGVkTWF0ZXJpYWwoKTtlbHNlIHRoaXMuX3JlbmRlclRvVGFyZ2V0KDAsZSx0LHZvaWQgMCxvKTtyZXR1cm4gdGhpcy5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyksbi5jdXJyZW50UmVuZGVyUGFzc0lkPWEsaCYmKHIuYWN0aXZlQ2FtZXJhPWgsKHIuZ2V0RW5naW5lKCkuc2NlbmVzLmxlbmd0aD4xfHx0aGlzLmFjdGl2ZUNhbWVyYSYmdGhpcy5hY3RpdmVDYW1lcmEhPT1yLmFjdGl2ZUNhbWVyYSkmJnIuc2V0VHJhbnNmb3JtTWF0cml4KHIuYWN0aXZlQ2FtZXJhLmdldFZpZXdNYXRyaXgoKSxyLmFjdGl2ZUNhbWVyYS5nZXRQcm9qZWN0aW9uTWF0cml4KCEwKSksbi5zZXRWaWV3cG9ydChyLmFjdGl2ZUNhbWVyYS52aWV3cG9ydCkpLHIucmVzZXRDYWNoZWRNYXRlcmlhbCgpLGx9X2Jlc3RSZWZsZWN0aW9uUmVuZGVyVGFyZ2V0RGltZW5zaW9uKGUsdCl7Y29uc3Qgcz1lKnQscj1QLk5lYXJlc3RQT1QocysxMjgqMTI4LygxMjgrcykpO3JldHVybiBNYXRoLm1pbihQLkZsb29yUE9UKGUpLHIpfV9wcmVwYXJlUmVuZGVyaW5nTWFuYWdlcihlLHQsaSxzKXtjb25zdCByPXRoaXMuZ2V0U2NlbmUoKTtpZighcilyZXR1cm47dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZXNldCgpO2NvbnN0IG49ci5nZXRSZW5kZXJJZCgpO2ZvcihsZXQgYT0wO2E8dDthKyspe2NvbnN0IG89ZVthXTtpZihvJiYhby5pc0Jsb2NrZWQpe2lmKHRoaXMuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uKXtpZighdGhpcy5jdXN0b21Jc1JlYWR5RnVuY3Rpb24obyx0aGlzLnJlZnJlc2hSYXRlLCExKSl7dGhpcy5yZXNldFJlZnJlc2hDb3VudGVyKCk7Y29udGludWV9fWVsc2UgaWYoIW8uaXNSZWFkeSh0aGlzLnJlZnJlc2hSYXRlPT09MCkpe3RoaXMucmVzZXRSZWZyZXNoQ291bnRlcigpO2NvbnRpbnVlfWlmKCFvLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9ESXNVcFRvRGF0ZSYmci5hY3RpdmVDYW1lcmEmJihvLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9EPXIuY3VzdG9tTE9EU2VsZWN0b3I/ci5jdXN0b21MT0RTZWxlY3RvcihvLHRoaXMuYWN0aXZlQ2FtZXJhfHxyLmFjdGl2ZUNhbWVyYSk6by5nZXRMT0QodGhpcy5hY3RpdmVDYW1lcmF8fHIuYWN0aXZlQ2FtZXJhKSxvLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9jdXJyZW50TE9ESXNVcFRvRGF0ZT0hMCksIW8uX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2N1cnJlbnRMT0QpY29udGludWU7bGV0IGg9by5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fY3VycmVudExPRDtoLl9wcmVBY3RpdmF0ZUZvckludGVybWVkaWF0ZVJlbmRlcmluZyhuKTtsZXQgbDtpZihzJiZpP2w9KG8ubGF5ZXJNYXNrJmkubGF5ZXJNYXNrKT09PTA6bD0hMSxvLmlzRW5hYmxlZCgpJiZvLmlzVmlzaWJsZSYmby5zdWJNZXNoZXMmJiFsJiYoaCE9PW8mJmguX2FjdGl2YXRlKG4sITApLG8uX2FjdGl2YXRlKG4sITApJiZvLnN1Yk1lc2hlcy5sZW5ndGgpKXtvLmlzQW5JbnN0YW5jZT9vLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoJiYoaD1vKTpoLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9vbmx5Rm9ySW5zdGFuY2VzSW50ZXJtZWRpYXRlPSExLGguX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX2lzQWN0aXZlSW50ZXJtZWRpYXRlPSEwO2ZvcihsZXQgdT0wO3U8aC5zdWJNZXNoZXMubGVuZ3RoO3UrKyl7Y29uc3QgZD1oLnN1Yk1lc2hlc1t1XTt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLmRpc3BhdGNoKGQsaCl9fX19Zm9yKGxldCBhPTA7YTxyLnBhcnRpY2xlU3lzdGVtcy5sZW5ndGg7YSsrKXtjb25zdCBvPXIucGFydGljbGVTeXN0ZW1zW2FdLGg9by5lbWl0dGVyOyFvLmlzU3RhcnRlZCgpfHwhaHx8aC5wb3NpdGlvbiYmIWguaXNFbmFibGVkKCl8fHRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZGlzcGF0Y2hQYXJ0aWNsZXMobyl9fV9iaW5kRnJhbWVCdWZmZXIoZT0wLHQ9MCl7Y29uc3QgaT10aGlzLmdldFNjZW5lKCk7aWYoIWkpcmV0dXJuO2NvbnN0IHM9aS5nZXRFbmdpbmUoKTt0aGlzLl9yZW5kZXJUYXJnZXQmJnMuYmluZEZyYW1lYnVmZmVyKHRoaXMuX3JlbmRlclRhcmdldCx0aGlzLmlzQ3ViZT9lOnZvaWQgMCx2b2lkIDAsdm9pZCAwLHRoaXMuaWdub3JlQ2FtZXJhVmlld3BvcnQsMCx0KX1fdW5iaW5kRnJhbWVCdWZmZXIoZSx0KXt0aGlzLl9yZW5kZXJUYXJnZXQmJmUudW5CaW5kRnJhbWVidWZmZXIodGhpcy5fcmVuZGVyVGFyZ2V0LHRoaXMuaXNDdWJlLCgpPT57dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModCl9KX1fcHJlcGFyZUZyYW1lKGUsdCxpLHMpe3RoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlcj90aGlzLl9wcmVQYXNzRW5hYmxlZHx8dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9wcmVwYXJlRnJhbWUodGhpcy5fdGV4dHVyZSx0aGlzLl9wb3N0UHJvY2Vzc2VzKTooIXN8fCFlLnBvc3RQcm9jZXNzTWFuYWdlci5fcHJlcGFyZUZyYW1lKHRoaXMuX3RleHR1cmUpKSYmdGhpcy5fYmluZEZyYW1lQnVmZmVyKHQsaSl9X3JlbmRlclRvVGFyZ2V0KGUsdCxpLHM9MCxyPW51bGwpe3ZhciBuLGEsbyxoLGwsdTtjb25zdCBkPXRoaXMuZ2V0U2NlbmUoKTtpZighZClyZXR1cm47Y29uc3QgXz1kLmdldEVuZ2luZSgpO2lmKChuPV8uX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fG49PT12b2lkIDB8fG4uY2FsbChfLGByZW5kZXIgdG8gZmFjZSAjJHtlfSBsYXllciAjJHtzfWAsMSksdGhpcy5fcHJlcGFyZUZyYW1lKGQsZSxzLHQpLHRoaXMuaXMyREFycmF5PyhfLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1tzXSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocykpOihfLmN1cnJlbnRSZW5kZXJQYXNzSWQ9dGhpcy5fcmVuZGVyUGFzc0lkc1tlXSx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMoZSkpLF8uc25hcHNob3RSZW5kZXJpbmcmJl8uc25hcHNob3RSZW5kZXJpbmdNb2RlPT09MSl0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpP3RoaXMub25DbGVhck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKF8pOnRoaXMuc2tpcEluaXRpYWxDbGVhcnx8Xy5jbGVhcih0aGlzLmNsZWFyQ29sb3J8fGQuY2xlYXJDb2xvciwhMCwhMCwhMCk7ZWxzZXtsZXQgbT1udWxsO2NvbnN0IHY9dGhpcy5yZW5kZXJMaXN0P3RoaXMucmVuZGVyTGlzdDpkLmdldEFjdGl2ZU1lc2hlcygpLmRhdGEsRT10aGlzLnJlbmRlckxpc3Q/dGhpcy5yZW5kZXJMaXN0Lmxlbmd0aDpkLmdldEFjdGl2ZU1lc2hlcygpLmxlbmd0aDt0aGlzLmdldEN1c3RvbVJlbmRlckxpc3QmJihtPXRoaXMuZ2V0Q3VzdG9tUmVuZGVyTGlzdCh0aGlzLmlzMkRBcnJheT9zOmUsdixFKSksbT90aGlzLl9wcmVwYXJlUmVuZGVyaW5nTWFuYWdlcihtLG0ubGVuZ3RoLHIsdGhpcy5mb3JjZUxheWVyTWFza0NoZWNrKToodGhpcy5fZGVmYXVsdFJlbmRlckxpc3RQcmVwYXJlZHx8KHRoaXMuX3ByZXBhcmVSZW5kZXJpbmdNYW5hZ2VyKHYsRSxyLCF0aGlzLnJlbmRlckxpc3R8fHRoaXMuZm9yY2VMYXllck1hc2tDaGVjayksdGhpcy5fZGVmYXVsdFJlbmRlckxpc3RQcmVwYXJlZD0hMCksbT12KTtmb3IoY29uc3QgUiBvZiBkLl9iZWZvcmVSZW5kZXJUYXJnZXRDbGVhclN0YWdlKVIuYWN0aW9uKHRoaXMsZSxzKTt0aGlzLm9uQ2xlYXJPYnNlcnZhYmxlLmhhc09ic2VydmVycygpP3RoaXMub25DbGVhck9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKF8pOnRoaXMuc2tpcEluaXRpYWxDbGVhcnx8Xy5jbGVhcih0aGlzLmNsZWFyQ29sb3J8fGQuY2xlYXJDb2xvciwhMCwhMCwhMCksdGhpcy5fZG9Ob3RDaGFuZ2VBc3BlY3RSYXRpb3x8ZC51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoITApO2Zvcihjb25zdCBSIG9mIGQuX2JlZm9yZVJlbmRlclRhcmdldERyYXdTdGFnZSlSLmFjdGlvbih0aGlzLGUscyk7dGhpcy5fcmVuZGVyaW5nTWFuYWdlci5yZW5kZXIodGhpcy5jdXN0b21SZW5kZXJGdW5jdGlvbixtLHRoaXMucmVuZGVyUGFydGljbGVzLHRoaXMucmVuZGVyU3ByaXRlcyk7Zm9yKGNvbnN0IFIgb2YgZC5fYWZ0ZXJSZW5kZXJUYXJnZXREcmF3U3RhZ2UpUi5hY3Rpb24odGhpcyxlLHMpO2NvbnN0IFM9KG89KGE9dGhpcy5fdGV4dHVyZSk9PT1udWxsfHxhPT09dm9pZCAwP3ZvaWQgMDphLmdlbmVyYXRlTWlwTWFwcykhPT1udWxsJiZvIT09dm9pZCAwP286ITE7dGhpcy5fdGV4dHVyZSYmKHRoaXMuX3RleHR1cmUuZ2VuZXJhdGVNaXBNYXBzPSExKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI/dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9maW5hbGl6ZUZyYW1lKCExLChoPXRoaXMuX3JlbmRlclRhcmdldCkhPT1udWxsJiZoIT09dm9pZCAwP2g6dm9pZCAwLGUsdGhpcy5fcG9zdFByb2Nlc3Nlcyx0aGlzLmlnbm9yZUNhbWVyYVZpZXdwb3J0KTp0JiZkLnBvc3RQcm9jZXNzTWFuYWdlci5fZmluYWxpemVGcmFtZSghMSwobD10aGlzLl9yZW5kZXJUYXJnZXQpIT09bnVsbCYmbCE9PXZvaWQgMD9sOnZvaWQgMCxlKTtmb3IoY29uc3QgUiBvZiBkLl9hZnRlclJlbmRlclRhcmdldFBvc3RQcm9jZXNzU3RhZ2UpUi5hY3Rpb24odGhpcyxlLHMpO3RoaXMuX3RleHR1cmUmJih0aGlzLl90ZXh0dXJlLmdlbmVyYXRlTWlwTWFwcz1TKSx0aGlzLl9kb05vdENoYW5nZUFzcGVjdFJhdGlvfHxkLnVwZGF0ZVRyYW5zZm9ybU1hdHJpeCghMCksaSYmaXQuRHVtcEZyYW1lYnVmZmVyKHRoaXMuZ2V0UmVuZGVyV2lkdGgoKSx0aGlzLmdldFJlbmRlckhlaWdodCgpLF8pfXRoaXMuX3VuYmluZEZyYW1lQnVmZmVyKF8sZSksdGhpcy5fdGV4dHVyZSYmdGhpcy5pc0N1YmUmJmU9PT01JiZfLmdlbmVyYXRlTWlwTWFwc0ZvckN1YmVtYXAodGhpcy5fdGV4dHVyZSksKHU9Xy5fZGVidWdQb3BHcm91cCk9PT1udWxsfHx1PT09dm9pZCAwfHx1LmNhbGwoXywxKX1zZXRSZW5kZXJpbmdPcmRlcihlLHQ9bnVsbCxpPW51bGwscz1udWxsKXt0aGlzLl9yZW5kZXJpbmdNYW5hZ2VyLnNldFJlbmRlcmluZ09yZGVyKGUsdCxpLHMpfXNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbChlLHQpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXIuc2V0UmVuZGVyaW5nQXV0b0NsZWFyRGVwdGhTdGVuY2lsKGUsdCksdGhpcy5fcmVuZGVyaW5nTWFuYWdlci5fdXNlU2NlbmVBdXRvQ2xlYXJTZXR1cD0hMX1jbG9uZSgpe2NvbnN0IGU9dGhpcy5nZXRTaXplKCksdD1uZXcgZ3QodGhpcy5uYW1lLGUsdGhpcy5nZXRTY2VuZSgpLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuZ2VuZXJhdGVNaXBNYXBzLHRoaXMuX2RvTm90Q2hhbmdlQXNwZWN0UmF0aW8sdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy50eXBlLHRoaXMuaXNDdWJlLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuc2FtcGxpbmdNb2RlLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuZ2VuZXJhdGVEZXB0aEJ1ZmZlcix0aGlzLl9yZW5kZXJUYXJnZXRPcHRpb25zLmdlbmVyYXRlU3RlbmNpbEJ1ZmZlcix2b2lkIDAsdGhpcy5fcmVuZGVyVGFyZ2V0T3B0aW9ucy5mb3JtYXQsdm9pZCAwLHRoaXMuX3JlbmRlclRhcmdldE9wdGlvbnMuc2FtcGxlcyk7cmV0dXJuIHQuaGFzQWxwaGE9dGhpcy5oYXNBbHBoYSx0LmxldmVsPXRoaXMubGV2ZWwsdC5jb29yZGluYXRlc01vZGU9dGhpcy5jb29yZGluYXRlc01vZGUsdGhpcy5yZW5kZXJMaXN0JiYodC5yZW5kZXJMaXN0PXRoaXMucmVuZGVyTGlzdC5zbGljZSgwKSksdH1zZXJpYWxpemUoKXtpZighdGhpcy5uYW1lKXJldHVybiBudWxsO2NvbnN0IGU9c3VwZXIuc2VyaWFsaXplKCk7aWYoZS5yZW5kZXJUYXJnZXRTaXplPXRoaXMuZ2V0UmVuZGVyU2l6ZSgpLGUucmVuZGVyTGlzdD1bXSx0aGlzLnJlbmRlckxpc3QpZm9yKGxldCB0PTA7dDx0aGlzLnJlbmRlckxpc3QubGVuZ3RoO3QrKyllLnJlbmRlckxpc3QucHVzaCh0aGlzLnJlbmRlckxpc3RbdF0uaWQpO3JldHVybiBlfWRpc3Bvc2VGcmFtZWJ1ZmZlck9iamVjdHMoKXt2YXIgZTsoZT10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5kaXNwb3NlKCEwKX1yZWxlYXNlSW50ZXJuYWxUZXh0dXJlKCl7dmFyIGU7KGU9dGhpcy5fcmVuZGVyVGFyZ2V0KT09PW51bGx8fGU9PT12b2lkIDB8fGUucmVsZWFzZVRleHR1cmVzKCksdGhpcy5fdGV4dHVyZT1udWxsfWRpc3Bvc2UoKXt2YXIgZTt0aGlzLm9uUmVzaXplT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25DbGVhck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyJiYodGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLmRpc3Bvc2UoKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXI9bnVsbCksdGhpcy5fcHJlUGFzc1JlbmRlclRhcmdldCYmdGhpcy5fcHJlUGFzc1JlbmRlclRhcmdldC5kaXNwb3NlKCksdGhpcy5fcmVsZWFzZVJlbmRlclBhc3NJZCgpLHRoaXMuY2xlYXJQb3N0UHJvY2Vzc2VzKCEwKSx0aGlzLl9yZXNpemVPYnNlcnZlciYmKHRoaXMuZ2V0U2NlbmUoKS5nZXRFbmdpbmUoKS5vblJlc2l6ZU9ic2VydmFibGUucmVtb3ZlKHRoaXMuX3Jlc2l6ZU9ic2VydmVyKSx0aGlzLl9yZXNpemVPYnNlcnZlcj1udWxsKSx0aGlzLnJlbmRlckxpc3Q9bnVsbDtjb25zdCB0PXRoaXMuZ2V0U2NlbmUoKTtpZighdClyZXR1cm47bGV0IGk9dC5jdXN0b21SZW5kZXJUYXJnZXRzLmluZGV4T2YodGhpcyk7aT49MCYmdC5jdXN0b21SZW5kZXJUYXJnZXRzLnNwbGljZShpLDEpO2Zvcihjb25zdCBzIG9mIHQuY2FtZXJhcylpPXMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5pbmRleE9mKHRoaXMpLGk+PTAmJnMuY3VzdG9tUmVuZGVyVGFyZ2V0cy5zcGxpY2UoaSwxKTsoZT10aGlzLl9yZW5kZXJUYXJnZXQpPT09bnVsbHx8ZT09PXZvaWQgMHx8ZS5kaXNwb3NlKCksdGhpcy5fcmVuZGVyVGFyZ2V0PW51bGwsdGhpcy5fdGV4dHVyZT1udWxsLHN1cGVyLmRpc3Bvc2UoKX1fcmVidWlsZCgpe3RoaXMucmVmcmVzaFJhdGU9PT1ndC5SRUZSRVNIUkFURV9SRU5ERVJfT05DRSYmKHRoaXMucmVmcmVzaFJhdGU9Z3QuUkVGUkVTSFJBVEVfUkVOREVSX09OQ0UpLHRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlciYmdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9yZWJ1aWxkKCl9ZnJlZVJlbmRlcmluZ0dyb3Vwcygpe3RoaXMuX3JlbmRlcmluZ01hbmFnZXImJnRoaXMuX3JlbmRlcmluZ01hbmFnZXIuZnJlZVJlbmRlcmluZ0dyb3VwcygpfWdldFZpZXdDb3VudCgpe3JldHVybiAxfX1ndC5SRUZSRVNIUkFURV9SRU5ERVJfT05DRT0wLGd0LlJFRlJFU0hSQVRFX1JFTkRFUl9PTkVWRVJZRlJBTUU9MSxndC5SRUZSRVNIUkFURV9SRU5ERVJfT05FVkVSWVRXT0ZSQU1FUz0yLE4uX0NyZWF0ZVJlbmRlclRhcmdldFRleHR1cmU9KGMsZSx0LGkscyk9Pm5ldyBndChjLGUsdCxpKTtjbGFzcyB4ZXtzdGF0aWMgUmVnaXN0ZXJTaGFkZXJDb2RlUHJvY2Vzc2luZyhlLHQpe2lmKCF0KXtkZWxldGUgeGUuX0N1c3RvbVNoYWRlckNvZGVQcm9jZXNzaW5nW2U/PyIiXTtyZXR1cm59eGUuX0N1c3RvbVNoYWRlckNvZGVQcm9jZXNzaW5nW2U/PyIiXT10fXN0YXRpYyBfR2V0U2hhZGVyQ29kZVByb2Nlc3NpbmcoZSl7dmFyIHQ7cmV0dXJuKHQ9eGUuX0N1c3RvbVNoYWRlckNvZGVQcm9jZXNzaW5nW2VdKSE9PW51bGwmJnQhPT12b2lkIDA/dDp4ZS5fQ3VzdG9tU2hhZGVyQ29kZVByb2Nlc3NpbmdbIiJdfWdldCBzYW1wbGVzKCl7cmV0dXJuIHRoaXMuX3NhbXBsZXN9c2V0IHNhbXBsZXMoZSl7dGhpcy5fc2FtcGxlcz1NYXRoLm1pbihlLHRoaXMuX2VuZ2luZS5nZXRDYXBzKCkubWF4TVNBQVNhbXBsZXMpLHRoaXMuX3RleHR1cmVzLmZvckVhY2godD0+e3Quc2V0U2FtcGxlcyh0aGlzLl9zYW1wbGVzKX0pfWdldEVmZmVjdE5hbWUoKXtyZXR1cm4gdGhpcy5fZnJhZ21lbnRVcmx9c2V0IG9uQWN0aXZhdGUoZSl7dGhpcy5fb25BY3RpdmF0ZU9ic2VydmVyJiZ0aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFjdGl2YXRlT2JzZXJ2ZXIpLGUmJih0aGlzLl9vbkFjdGl2YXRlT2JzZXJ2ZXI9dGhpcy5vbkFjdGl2YXRlT2JzZXJ2YWJsZS5hZGQoZSkpfXNldCBvblNpemVDaGFuZ2VkKGUpe3RoaXMuX29uU2l6ZUNoYW5nZWRPYnNlcnZlciYmdGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25TaXplQ2hhbmdlZE9ic2VydmVyKSx0aGlzLl9vblNpemVDaGFuZ2VkT2JzZXJ2ZXI9dGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZS5hZGQoZSl9c2V0IG9uQXBwbHkoZSl7dGhpcy5fb25BcHBseU9ic2VydmVyJiZ0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9vbkFwcGx5T2JzZXJ2ZXIpLHRoaXMuX29uQXBwbHlPYnNlcnZlcj10aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmFkZChlKX1zZXQgb25CZWZvcmVSZW5kZXIoZSl7dGhpcy5fb25CZWZvcmVSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXIpLHRoaXMuX29uQmVmb3JlUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKGUpfXNldCBvbkFmdGVyUmVuZGVyKGUpe3RoaXMuX29uQWZ0ZXJSZW5kZXJPYnNlcnZlciYmdGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25BZnRlclJlbmRlck9ic2VydmVyKSx0aGlzLl9vbkFmdGVyUmVuZGVyT2JzZXJ2ZXI9dGhpcy5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQoZSl9Z2V0IGlucHV0VGV4dHVyZSgpe3JldHVybiB0aGlzLl90ZXh0dXJlcy5kYXRhW3RoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kXX1zZXQgaW5wdXRUZXh0dXJlKGUpe3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU9ZX1yZXN0b3JlRGVmYXVsdElucHV0VGV4dHVyZSgpe3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUmJih0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlPW51bGwsdGhpcy5tYXJrVGV4dHVyZURpcnR5KCkpfWdldENhbWVyYSgpe3JldHVybiB0aGlzLl9jYW1lcmF9Z2V0IHRleGVsU2l6ZSgpe3JldHVybiB0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcz90aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcy50ZXhlbFNpemU6KHRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUmJnRoaXMuX3RleGVsU2l6ZS5jb3B5RnJvbUZsb2F0cygxL3RoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUud2lkdGgsMS90aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLmhlaWdodCksdGhpcy5fdGV4ZWxTaXplKX1jb25zdHJ1Y3RvcihlLHQsaSxzLHIsbixhPTEsbyxoLGw9bnVsbCx1PTAsZD0icG9zdHByb2Nlc3MiLF8sZj0hMSxtPTUsdj1aZS5HTFNMKXt0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbCx0aGlzLndpZHRoPS0xLHRoaXMuaGVpZ2h0PS0xLHRoaXMubm9kZU1hdGVyaWFsU291cmNlPW51bGwsdGhpcy5fb3V0cHV0VGV4dHVyZT1udWxsLHRoaXMuYXV0b0NsZWFyPSEwLHRoaXMuZm9yY2VBdXRvQ2xlYXJJbkFscGhhTW9kZT0hMSx0aGlzLmFscGhhTW9kZT0wLHRoaXMuYW5pbWF0aW9ucz1uZXcgQXJyYXksdGhpcy5lbmFibGVQaXhlbFBlcmZlY3RNb2RlPSExLHRoaXMuZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQ9ITAsdGhpcy5zY2FsZU1vZGU9MSx0aGlzLmFsd2F5c0ZvcmNlUE9UPSExLHRoaXMuX3NhbXBsZXM9MSx0aGlzLmFkYXB0U2NhbGVUb0N1cnJlbnRWaWV3cG9ydD0hMSx0aGlzLl9yZXVzYWJsZT0hMSx0aGlzLl9yZW5kZXJJZD0wLHRoaXMuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmc9ITEsdGhpcy5fdGV4dHVyZXM9bmV3IEplKDIpLHRoaXMuX3RleHR1cmVDYWNoZT1bXSx0aGlzLl9jdXJyZW50UmVuZGVyVGV4dHVyZUluZD0wLHRoaXMuX3NjYWxlUmF0aW89bmV3IHZlKDEsMSksdGhpcy5fdGV4ZWxTaXplPXZlLlplcm8oKSx0aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25TaXplQ2hhbmdlZE9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkFwcGx5T2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZT1uZXcgdyx0aGlzLm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlPW5ldyB3LHRoaXMubmFtZT1lLG4hPW51bGw/KHRoaXMuX2NhbWVyYT1uLHRoaXMuX3NjZW5lPW4uZ2V0U2NlbmUoKSxuLmF0dGFjaFBvc3RQcm9jZXNzKHRoaXMpLHRoaXMuX2VuZ2luZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSx0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzLnB1c2godGhpcyksdGhpcy51bmlxdWVJZD10aGlzLl9zY2VuZS5nZXRVbmlxdWVJZCgpKTpvJiYodGhpcy5fZW5naW5lPW8sdGhpcy5fZW5naW5lLnBvc3RQcm9jZXNzZXMucHVzaCh0aGlzKSksdGhpcy5fb3B0aW9ucz1yLHRoaXMucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlPWF8fDEsdGhpcy5fcmV1c2FibGU9aHx8ITEsdGhpcy5fdGV4dHVyZVR5cGU9dSx0aGlzLl90ZXh0dXJlRm9ybWF0PW0sdGhpcy5fc2hhZGVyTGFuZ3VhZ2U9dix0aGlzLl9zYW1wbGVycz1zfHxbXSx0aGlzLl9zYW1wbGVycy5wdXNoKCJ0ZXh0dXJlU2FtcGxlciIpLHRoaXMuX2ZyYWdtZW50VXJsPXQsdGhpcy5fdmVydGV4VXJsPWQsdGhpcy5fcGFyYW1ldGVycz1pfHxbXSx0aGlzLl9wYXJhbWV0ZXJzLnB1c2goInNjYWxlIiksdGhpcy5faW5kZXhQYXJhbWV0ZXJzPV8sdGhpcy5fZHJhd1dyYXBwZXI9bmV3IHZpKHRoaXMuX2VuZ2luZSksZnx8dGhpcy51cGRhdGVFZmZlY3QobCl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlBvc3RQcm9jZXNzIn1nZXRFbmdpbmUoKXtyZXR1cm4gdGhpcy5fZW5naW5lfWdldEVmZmVjdCgpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3R9c2hhcmVPdXRwdXRXaXRoKGUpe3JldHVybiB0aGlzLl9kaXNwb3NlVGV4dHVyZXMoKSx0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcz1lLHRoaXN9dXNlT3duT3V0cHV0KCl7dGhpcy5fdGV4dHVyZXMubGVuZ3RoPT0wJiYodGhpcy5fdGV4dHVyZXM9bmV3IEplKDIpKSx0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcz1udWxsfXVwZGF0ZUVmZmVjdChlPW51bGwsdD1udWxsLGk9bnVsbCxzLHIsbixhLG8pe3ZhciBoLGw7Y29uc3QgdT14ZS5fR2V0U2hhZGVyQ29kZVByb2Nlc3NpbmcodGhpcy5uYW1lKTtpZih1IT1udWxsJiZ1LmRlZmluZUN1c3RvbUJpbmRpbmdzKXtjb25zdCBkPShoPXQ9PW51bGw/dm9pZCAwOnQuc2xpY2UoKSkhPT1udWxsJiZoIT09dm9pZCAwP2g6W107ZC5wdXNoKC4uLnRoaXMuX3BhcmFtZXRlcnMpO2NvbnN0IF89KGw9aT09bnVsbD92b2lkIDA6aS5zbGljZSgpKSE9PW51bGwmJmwhPT12b2lkIDA/bDpbXTtfLnB1c2goLi4udGhpcy5fc2FtcGxlcnMpLGU9dS5kZWZpbmVDdXN0b21CaW5kaW5ncyh0aGlzLm5hbWUsZSxkLF8pLHQ9ZCxpPV99dGhpcy5fcG9zdFByb2Nlc3NEZWZpbmVzPWUsdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0PXRoaXMuX2VuZ2luZS5jcmVhdGVFZmZlY3Qoe3ZlcnRleDphPz90aGlzLl92ZXJ0ZXhVcmwsZnJhZ21lbnQ6bz8/dGhpcy5fZnJhZ21lbnRVcmx9LHthdHRyaWJ1dGVzOlsicG9zaXRpb24iXSx1bmlmb3Jtc05hbWVzOnR8fHRoaXMuX3BhcmFtZXRlcnMsdW5pZm9ybUJ1ZmZlcnNOYW1lczpbXSxzYW1wbGVyczppfHx0aGlzLl9zYW1wbGVycyxkZWZpbmVzOmUhPT1udWxsP2U6IiIsZmFsbGJhY2tzOm51bGwsb25Db21waWxlZDpyPz9udWxsLG9uRXJyb3I6bj8/bnVsbCxpbmRleFBhcmFtZXRlcnM6c3x8dGhpcy5faW5kZXhQYXJhbWV0ZXJzLHByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlczp1IT1udWxsJiZ1LnByb2Nlc3NDb2RlQWZ0ZXJJbmNsdWRlcz8oZCxfKT0+dS5wcm9jZXNzQ29kZUFmdGVySW5jbHVkZXModGhpcy5uYW1lLGQsXyk6bnVsbCxwcm9jZXNzRmluYWxDb2RlOnUhPW51bGwmJnUucHJvY2Vzc0ZpbmFsQ29kZT8oZCxfKT0+dS5wcm9jZXNzRmluYWxDb2RlKHRoaXMubmFtZSxkLF8pOm51bGwsc2hhZGVyTGFuZ3VhZ2U6dGhpcy5fc2hhZGVyTGFuZ3VhZ2V9LHRoaXMuX2VuZ2luZSl9aXNSZXVzYWJsZSgpe3JldHVybiB0aGlzLl9yZXVzYWJsZX1tYXJrVGV4dHVyZURpcnR5KCl7dGhpcy53aWR0aD0tMX1fY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZShlLHQsaT0wKXtmb3IobGV0IHI9MDtyPHRoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGg7cisrKWlmKHRoaXMuX3RleHR1cmVDYWNoZVtyXS50ZXh0dXJlLndpZHRoPT09ZS53aWR0aCYmdGhpcy5fdGV4dHVyZUNhY2hlW3JdLnRleHR1cmUuaGVpZ2h0PT09ZS5oZWlnaHQmJnRoaXMuX3RleHR1cmVDYWNoZVtyXS5wb3N0UHJvY2Vzc0NoYW5uZWw9PT1pJiZ0aGlzLl90ZXh0dXJlQ2FjaGVbcl0udGV4dHVyZS5fZ2VuZXJhdGVEZXB0aEJ1ZmZlcj09PXQuZ2VuZXJhdGVEZXB0aEJ1ZmZlciYmdGhpcy5fdGV4dHVyZUNhY2hlW3JdLnRleHR1cmUuc2FtcGxlcz09PXQuc2FtcGxlcylyZXR1cm4gdGhpcy5fdGV4dHVyZUNhY2hlW3JdLnRleHR1cmU7Y29uc3Qgcz10aGlzLl9lbmdpbmUuY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZShlLHQpO3JldHVybiB0aGlzLl90ZXh0dXJlQ2FjaGUucHVzaCh7dGV4dHVyZTpzLHBvc3RQcm9jZXNzQ2hhbm5lbDppLGxhc3RVc2VkUmVuZGVySWQ6LTF9KSxzfV9mbHVzaFRleHR1cmVDYWNoZSgpe2NvbnN0IGU9dGhpcy5fcmVuZGVySWQ7Zm9yKGxldCB0PXRoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGgtMTt0Pj0wO3QtLSlpZihlLXRoaXMuX3RleHR1cmVDYWNoZVt0XS5sYXN0VXNlZFJlbmRlcklkPjEwMCl7bGV0IGk9ITE7Zm9yKGxldCBzPTA7czx0aGlzLl90ZXh0dXJlcy5sZW5ndGg7cysrKWlmKHRoaXMuX3RleHR1cmVzLmRhdGFbc109PT10aGlzLl90ZXh0dXJlQ2FjaGVbdF0udGV4dHVyZSl7aT0hMDticmVha31pfHwodGhpcy5fdGV4dHVyZUNhY2hlW3RdLnRleHR1cmUuZGlzcG9zZSgpLHRoaXMuX3RleHR1cmVDYWNoZS5zcGxpY2UodCwxKSl9fV9yZXNpemUoZSx0LGkscyxyKXt0aGlzLl90ZXh0dXJlcy5sZW5ndGg+MCYmdGhpcy5fdGV4dHVyZXMucmVzZXQoKSx0aGlzLndpZHRoPWUsdGhpcy5oZWlnaHQ9dDtsZXQgbj1udWxsO2ZvcihsZXQgaD0wO2g8aS5fcG9zdFByb2Nlc3Nlcy5sZW5ndGg7aCsrKWlmKGkuX3Bvc3RQcm9jZXNzZXNbaF0hPT1udWxsKXtuPWkuX3Bvc3RQcm9jZXNzZXNbaF07YnJlYWt9Y29uc3QgYT17d2lkdGg6dGhpcy53aWR0aCxoZWlnaHQ6dGhpcy5oZWlnaHR9LG89e2dlbmVyYXRlTWlwTWFwczpzLGdlbmVyYXRlRGVwdGhCdWZmZXI6cnx8bj09PXRoaXMsZ2VuZXJhdGVTdGVuY2lsQnVmZmVyOihyfHxuPT09dGhpcykmJnRoaXMuX2VuZ2luZS5pc1N0ZW5jaWxFbmFibGUsc2FtcGxpbmdNb2RlOnRoaXMucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlLHR5cGU6dGhpcy5fdGV4dHVyZVR5cGUsZm9ybWF0OnRoaXMuX3RleHR1cmVGb3JtYXQsc2FtcGxlczp0aGlzLl9zYW1wbGVzLGxhYmVsOiJQb3N0UHJvY2Vzc1JUVC0iK3RoaXMubmFtZX07dGhpcy5fdGV4dHVyZXMucHVzaCh0aGlzLl9jcmVhdGVSZW5kZXJUYXJnZXRUZXh0dXJlKGEsbywwKSksdGhpcy5fcmV1c2FibGUmJnRoaXMuX3RleHR1cmVzLnB1c2godGhpcy5fY3JlYXRlUmVuZGVyVGFyZ2V0VGV4dHVyZShhLG8sMSkpLHRoaXMuX3RleGVsU2l6ZS5jb3B5RnJvbUZsb2F0cygxL3RoaXMud2lkdGgsMS90aGlzLmhlaWdodCksdGhpcy5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcyl9YWN0aXZhdGUoZSx0PW51bGwsaSl7dmFyIHMscjtlPWV8fHRoaXMuX2NhbWVyYTtjb25zdCBuPWUuZ2V0U2NlbmUoKSxhPW4uZ2V0RW5naW5lKCksbz1hLmdldENhcHMoKS5tYXhUZXh0dXJlU2l6ZTtsZXQgaD0odD90LndpZHRoOnRoaXMuX2VuZ2luZS5nZXRSZW5kZXJXaWR0aCghMCkpKnRoaXMuX29wdGlvbnN8MDtjb25zdCBsPSh0P3QuaGVpZ2h0OnRoaXMuX2VuZ2luZS5nZXRSZW5kZXJIZWlnaHQoITApKSp0aGlzLl9vcHRpb25zfDAsdT1lLnBhcmVudDt1JiYodS5sZWZ0Q2FtZXJhPT1lfHx1LnJpZ2h0Q2FtZXJhPT1lKSYmKGgvPTIpO2xldCBkPXRoaXMuX29wdGlvbnMud2lkdGh8fGgsXz10aGlzLl9vcHRpb25zLmhlaWdodHx8bDtjb25zdCBmPXRoaXMucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlIT09NyYmdGhpcy5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUhPT0xJiZ0aGlzLnJlbmRlclRhcmdldFNhbXBsaW5nTW9kZSE9PTI7aWYoIXRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzJiYhdGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSl7aWYodGhpcy5hZGFwdFNjYWxlVG9DdXJyZW50Vmlld3BvcnQpe2NvbnN0IHY9YS5jdXJyZW50Vmlld3BvcnQ7diYmKGQqPXYud2lkdGgsXyo9di5oZWlnaHQpfShmfHx0aGlzLmFsd2F5c0ZvcmNlUE9UKSYmKHRoaXMuX29wdGlvbnMud2lkdGh8fChkPWEubmVlZFBPVFRleHR1cmVzP1AuR2V0RXhwb25lbnRPZlR3byhkLG8sdGhpcy5zY2FsZU1vZGUpOmQpLHRoaXMuX29wdGlvbnMuaGVpZ2h0fHwoXz1hLm5lZWRQT1RUZXh0dXJlcz9QLkdldEV4cG9uZW50T2ZUd28oXyxvLHRoaXMuc2NhbGVNb2RlKTpfKSksKHRoaXMud2lkdGghPT1kfHx0aGlzLmhlaWdodCE9PV8pJiZ0aGlzLl9yZXNpemUoZCxfLGUsZixpKSx0aGlzLl90ZXh0dXJlcy5mb3JFYWNoKHY9Pnt2LnNhbXBsZXMhPT10aGlzLnNhbXBsZXMmJnRoaXMuX2VuZ2luZS51cGRhdGVSZW5kZXJUYXJnZXRUZXh0dXJlU2FtcGxlQ291bnQodix0aGlzLnNhbXBsZXMpfSksdGhpcy5fZmx1c2hUZXh0dXJlQ2FjaGUoKSx0aGlzLl9yZW5kZXJJZCsrfWxldCBtO2lmKHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzKW09dGhpcy5fc2hhcmVPdXRwdXRXaXRoUG9zdFByb2Nlc3MuaW5wdXRUZXh0dXJlO2Vsc2UgaWYodGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZSltPXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUsdGhpcy53aWR0aD10aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLndpZHRoLHRoaXMuaGVpZ2h0PXRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmUuaGVpZ2h0O2Vsc2V7bT10aGlzLmlucHV0VGV4dHVyZTtsZXQgdjtmb3IobGV0IEU9MDtFPHRoaXMuX3RleHR1cmVDYWNoZS5sZW5ndGg7RSsrKWlmKHRoaXMuX3RleHR1cmVDYWNoZVtFXS50ZXh0dXJlPT09bSl7dj10aGlzLl90ZXh0dXJlQ2FjaGVbRV07YnJlYWt9diYmKHYubGFzdFVzZWRSZW5kZXJJZD10aGlzLl9yZW5kZXJJZCl9cmV0dXJuIHRoaXMuZW5hYmxlUGl4ZWxQZXJmZWN0TW9kZT8odGhpcy5fc2NhbGVSYXRpby5jb3B5RnJvbUZsb2F0cyhoL2QsbC9fKSx0aGlzLl9lbmdpbmUuYmluZEZyYW1lYnVmZmVyKG0sMCxoLGwsdGhpcy5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydCkpOih0aGlzLl9zY2FsZVJhdGlvLmNvcHlGcm9tRmxvYXRzKDEsMSksdGhpcy5fZW5naW5lLmJpbmRGcmFtZWJ1ZmZlcihtLDAsdm9pZCAwLHZvaWQgMCx0aGlzLmZvcmNlRnVsbHNjcmVlblZpZXdwb3J0KSksKHI9KHM9dGhpcy5fZW5naW5lKS5fZGVidWdJbnNlcnRNYXJrZXIpPT09bnVsbHx8cj09PXZvaWQgMHx8ci5jYWxsKHMsYHBvc3QgcHJvY2VzcyAke3RoaXMubmFtZX0gaW5wdXRgKSx0aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhlKSx0aGlzLmF1dG9DbGVhciYmKHRoaXMuYWxwaGFNb2RlPT09MHx8dGhpcy5mb3JjZUF1dG9DbGVhckluQWxwaGFNb2RlKSYmdGhpcy5fZW5naW5lLmNsZWFyKHRoaXMuY2xlYXJDb2xvcj90aGlzLmNsZWFyQ29sb3I6bi5jbGVhckNvbG9yLG4uX2FsbG93UG9zdFByb2Nlc3NDbGVhckNvbG9yLCEwLCEwKSx0aGlzLl9yZXVzYWJsZSYmKHRoaXMuX2N1cnJlbnRSZW5kZXJUZXh0dXJlSW5kPSh0aGlzLl9jdXJyZW50UmVuZGVyVGV4dHVyZUluZCsxKSUyKSxtfWdldCBpc1N1cHBvcnRlZCgpe3JldHVybiB0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3QuaXNTdXBwb3J0ZWR9Z2V0IGFzcGVjdFJhdGlvKCl7cmV0dXJuIHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzP3RoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzLmFzcGVjdFJhdGlvOnRoaXMuX2ZvcmNlZE91dHB1dFRleHR1cmU/dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZS53aWR0aC90aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlLmhlaWdodDp0aGlzLndpZHRoL3RoaXMuaGVpZ2h0fWlzUmVhZHkoKXt2YXIgZSx0O3JldHVybih0PShlPXRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdCk9PT1udWxsfHxlPT09dm9pZCAwP3ZvaWQgMDplLmlzUmVhZHkoKSkhPT1udWxsJiZ0IT09dm9pZCAwP3Q6ITF9YXBwbHkoKXt2YXIgZSx0LGk7aWYoISghKChlPXRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdCk9PT1udWxsfHxlPT09dm9pZCAwKSYmZS5pc1JlYWR5KCkpKXJldHVybiBudWxsO3RoaXMuX2VuZ2luZS5lbmFibGVFZmZlY3QodGhpcy5fZHJhd1dyYXBwZXIpLHRoaXMuX2VuZ2luZS5zZXRTdGF0ZSghMSksdGhpcy5fZW5naW5lLnNldERlcHRoQnVmZmVyKCExKSx0aGlzLl9lbmdpbmUuc2V0RGVwdGhXcml0ZSghMSksdGhpcy5fZW5naW5lLnNldEFscGhhTW9kZSh0aGlzLmFscGhhTW9kZSksdGhpcy5hbHBoYUNvbnN0YW50cyYmdGhpcy5nZXRFbmdpbmUoKS5zZXRBbHBoYUNvbnN0YW50cyh0aGlzLmFscGhhQ29uc3RhbnRzLnIsdGhpcy5hbHBoYUNvbnN0YW50cy5nLHRoaXMuYWxwaGFDb25zdGFudHMuYix0aGlzLmFscGhhQ29uc3RhbnRzLmEpO2xldCBzO3JldHVybiB0aGlzLl9zaGFyZU91dHB1dFdpdGhQb3N0UHJvY2Vzcz9zPXRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzLmlucHV0VGV4dHVyZTp0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlP3M9dGhpcy5fZm9yY2VkT3V0cHV0VGV4dHVyZTpzPXRoaXMuaW5wdXRUZXh0dXJlLHRoaXMuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmd8fHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdC5fYmluZFRleHR1cmUoInRleHR1cmVTYW1wbGVyIixzPT1udWxsP3ZvaWQgMDpzLnRleHR1cmUpLHRoaXMuX2RyYXdXcmFwcGVyLmVmZmVjdC5zZXRWZWN0b3IyKCJzY2FsZSIsdGhpcy5fc2NhbGVSYXRpbyksdGhpcy5vbkFwcGx5T2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnModGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KSwoaT0odD14ZS5fR2V0U2hhZGVyQ29kZVByb2Nlc3NpbmcodGhpcy5uYW1lKSk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LmJpbmRDdXN0b21CaW5kaW5ncyk9PT1udWxsfHxpPT09dm9pZCAwfHxpLmNhbGwodCx0aGlzLm5hbWUsdGhpcy5fZHJhd1dyYXBwZXIuZWZmZWN0KSx0aGlzLl9kcmF3V3JhcHBlci5lZmZlY3R9X2Rpc3Bvc2VUZXh0dXJlcygpe2lmKHRoaXMuX3NoYXJlT3V0cHV0V2l0aFBvc3RQcm9jZXNzfHx0aGlzLl9mb3JjZWRPdXRwdXRUZXh0dXJlKXt0aGlzLl9kaXNwb3NlVGV4dHVyZUNhY2hlKCk7cmV0dXJufXRoaXMuX2Rpc3Bvc2VUZXh0dXJlQ2FjaGUoKSx0aGlzLl90ZXh0dXJlcy5kaXNwb3NlKCl9X2Rpc3Bvc2VUZXh0dXJlQ2FjaGUoKXtmb3IobGV0IGU9dGhpcy5fdGV4dHVyZUNhY2hlLmxlbmd0aC0xO2U+PTA7ZS0tKXRoaXMuX3RleHR1cmVDYWNoZVtlXS50ZXh0dXJlLmRpc3Bvc2UoKTt0aGlzLl90ZXh0dXJlQ2FjaGUubGVuZ3RoPTB9c2V0UHJlUGFzc1JlbmRlcmVyKGUpe3JldHVybiB0aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbj8odGhpcy5fcHJlUGFzc0VmZmVjdENvbmZpZ3VyYXRpb249ZS5hZGRFZmZlY3RDb25maWd1cmF0aW9uKHRoaXMuX3ByZVBhc3NFZmZlY3RDb25maWd1cmF0aW9uKSx0aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbi5lbmFibGVkPSEwLCEwKTohMX1kaXNwb3NlKGUpe2U9ZXx8dGhpcy5fY2FtZXJhLHRoaXMuX2Rpc3Bvc2VUZXh0dXJlcygpO2xldCB0O2lmKHRoaXMuX3NjZW5lJiYodD10aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdCE9PS0xJiZ0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc2VzLnNwbGljZSh0LDEpKSx0aGlzLl9wYXJlbnRDb250YWluZXIpe2NvbnN0IGk9dGhpcy5fcGFyZW50Q29udGFpbmVyLnBvc3RQcm9jZXNzZXMuaW5kZXhPZih0aGlzKTtpPi0xJiZ0aGlzLl9wYXJlbnRDb250YWluZXIucG9zdFByb2Nlc3Nlcy5zcGxpY2UoaSwxKSx0aGlzLl9wYXJlbnRDb250YWluZXI9bnVsbH1pZih0PXRoaXMuX2VuZ2luZS5wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdCE9PS0xJiZ0aGlzLl9lbmdpbmUucG9zdFByb2Nlc3Nlcy5zcGxpY2UodCwxKSwhIWUpe2lmKGUuZGV0YWNoUG9zdFByb2Nlc3ModGhpcyksdD1lLl9wb3N0UHJvY2Vzc2VzLmluZGV4T2YodGhpcyksdD09PTAmJmUuX3Bvc3RQcm9jZXNzZXMubGVuZ3RoPjApe2NvbnN0IGk9dGhpcy5fY2FtZXJhLl9nZXRGaXJzdFBvc3RQcm9jZXNzKCk7aSYmaS5tYXJrVGV4dHVyZURpcnR5KCl9dGhpcy5vbkFjdGl2YXRlT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLmNsZWFyKCl9fXNlcmlhbGl6ZSgpe2NvbnN0IGU9bmUuU2VyaWFsaXplKHRoaXMpLHQ9dGhpcy5nZXRDYW1lcmEoKXx8dGhpcy5fc2NlbmUmJnRoaXMuX3NjZW5lLmFjdGl2ZUNhbWVyYTtyZXR1cm4gZS5jdXN0b21UeXBlPSJCQUJZTE9OLiIrdGhpcy5nZXRDbGFzc05hbWUoKSxlLmNhbWVyYUlkPXQ/dC5pZDpudWxsLGUucmV1c2FibGU9dGhpcy5fcmV1c2FibGUsZS50ZXh0dXJlVHlwZT10aGlzLl90ZXh0dXJlVHlwZSxlLmZyYWdtZW50VXJsPXRoaXMuX2ZyYWdtZW50VXJsLGUucGFyYW1ldGVycz10aGlzLl9wYXJhbWV0ZXJzLGUuc2FtcGxlcnM9dGhpcy5fc2FtcGxlcnMsZS5vcHRpb25zPXRoaXMuX29wdGlvbnMsZS5kZWZpbmVzPXRoaXMuX3Bvc3RQcm9jZXNzRGVmaW5lcyxlLnRleHR1cmVGb3JtYXQ9dGhpcy5fdGV4dHVyZUZvcm1hdCxlLnZlcnRleFVybD10aGlzLl92ZXJ0ZXhVcmwsZS5pbmRleFBhcmFtZXRlcnM9dGhpcy5faW5kZXhQYXJhbWV0ZXJzLGV9Y2xvbmUoKXtjb25zdCBlPXRoaXMuc2VyaWFsaXplKCk7ZS5fZW5naW5lPXRoaXMuX2VuZ2luZSxlLmNhbWVyYUlkPW51bGw7Y29uc3QgdD14ZS5QYXJzZShlLHRoaXMuX3NjZW5lLCIiKTtyZXR1cm4gdD8odC5vbkFjdGl2YXRlT2JzZXJ2YWJsZT10aGlzLm9uQWN0aXZhdGVPYnNlcnZhYmxlLmNsb25lKCksdC5vblNpemVDaGFuZ2VkT2JzZXJ2YWJsZT10aGlzLm9uU2l6ZUNoYW5nZWRPYnNlcnZhYmxlLmNsb25lKCksdC5vbkFwcGx5T2JzZXJ2YWJsZT10aGlzLm9uQXBwbHlPYnNlcnZhYmxlLmNsb25lKCksdC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGU9dGhpcy5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuY2xvbmUoKSx0Lm9uQWZ0ZXJSZW5kZXJPYnNlcnZhYmxlPXRoaXMub25BZnRlclJlbmRlck9ic2VydmFibGUuY2xvbmUoKSx0Ll9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbj10aGlzLl9wcmVQYXNzRWZmZWN0Q29uZmlndXJhdGlvbix0KTpudWxsfXN0YXRpYyBQYXJzZShlLHQsaSl7Y29uc3Qgcz1haShlLmN1c3RvbVR5cGUpO2lmKCFzfHwhcy5fUGFyc2UpcmV0dXJuIG51bGw7Y29uc3Qgcj10P3QuZ2V0Q2FtZXJhQnlJZChlLmNhbWVyYUlkKTpudWxsO3JldHVybiBzLl9QYXJzZShlLHIsdCxpKX1zdGF0aWMgX1BhcnNlKGUsdCxpLHMpe3JldHVybiBuZS5QYXJzZSgoKT0+bmV3IHhlKGUubmFtZSxlLmZyYWdtZW50VXJsLGUucGFyYW1ldGVycyxlLnNhbXBsZXJzLGUub3B0aW9ucyx0LGUucmVuZGVyVGFyZ2V0U2FtcGxpbmdNb2RlLGUuX2VuZ2luZSxlLnJldXNhYmxlLGUuZGVmaW5lcyxlLnRleHR1cmVUeXBlLGUudmVydGV4VXJsLGUuaW5kZXhQYXJhbWV0ZXJzLCExLGUudGV4dHVyZUZvcm1hdCksZSxpLHMpfX14ZS5fQ3VzdG9tU2hhZGVyQ29kZVByb2Nlc3Npbmc9e30sVChbeSgpXSx4ZS5wcm90b3R5cGUsInVuaXF1ZUlkIix2b2lkIDApLFQoW3koKV0seGUucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW3koKV0seGUucHJvdG90eXBlLCJ3aWR0aCIsdm9pZCAwKSxUKFt5KCldLHhlLnByb3RvdHlwZSwiaGVpZ2h0Iix2b2lkIDApLFQoW3koKV0seGUucHJvdG90eXBlLCJyZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUiLHZvaWQgMCksVChbcHIoKV0seGUucHJvdG90eXBlLCJjbGVhckNvbG9yIix2b2lkIDApLFQoW3koKV0seGUucHJvdG90eXBlLCJhdXRvQ2xlYXIiLHZvaWQgMCksVChbeSgpXSx4ZS5wcm90b3R5cGUsImZvcmNlQXV0b0NsZWFySW5BbHBoYU1vZGUiLHZvaWQgMCksVChbeSgpXSx4ZS5wcm90b3R5cGUsImFscGhhTW9kZSIsdm9pZCAwKSxUKFt5KCldLHhlLnByb3RvdHlwZSwiYWxwaGFDb25zdGFudHMiLHZvaWQgMCksVChbeSgpXSx4ZS5wcm90b3R5cGUsImVuYWJsZVBpeGVsUGVyZmVjdE1vZGUiLHZvaWQgMCksVChbeSgpXSx4ZS5wcm90b3R5cGUsImZvcmNlRnVsbHNjcmVlblZpZXdwb3J0Iix2b2lkIDApLFQoW3koKV0seGUucHJvdG90eXBlLCJzY2FsZU1vZGUiLHZvaWQgMCksVChbeSgpXSx4ZS5wcm90b3R5cGUsImFsd2F5c0ZvcmNlUE9UIix2b2lkIDApLFQoW3koInNhbXBsZXMiKV0seGUucHJvdG90eXBlLCJfc2FtcGxlcyIsdm9pZCAwKSxUKFt5KCldLHhlLnByb3RvdHlwZSwiYWRhcHRTY2FsZVRvQ3VycmVudFZpZXdwb3J0Iix2b2lkIDApLHN0KCJCQUJZTE9OLlBvc3RQcm9jZXNzIix4ZSk7Y29uc3Qgb2E9Imtlcm5lbEJsdXJWYXJ5aW5nRGVjbGFyYXRpb24iLGhhPSJ2YXJ5aW5nIHZlYzIgc2FtcGxlQ29vcmR7WH07IjtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW29hXT1oYTtjb25zdCBsYT0icGFja2luZ0Z1bmN0aW9ucyIsY2E9YHZlYzQgcGFjayhmbG9hdCBkZXB0aCkKewpjb25zdCB2ZWM0IGJpdF9zaGlmdD12ZWM0KDI1NS4wKjI1NS4wKjI1NS4wLDI1NS4wKjI1NS4wLDI1NS4wLDEuMCk7CmNvbnN0IHZlYzQgYml0X21hc2s9dmVjNCgwLjAsMS4wLzI1NS4wLDEuMC8yNTUuMCwxLjAvMjU1LjApOwp2ZWM0IHJlcz1mcmFjdChkZXB0aCpiaXRfc2hpZnQpOwpyZXMtPXJlcy54eHl6KmJpdF9tYXNrOwpyZXR1cm4gcmVzOwp9CmZsb2F0IHVucGFjayh2ZWM0IGNvbG9yKQp7CmNvbnN0IHZlYzQgYml0X3NoaWZ0PXZlYzQoMS4wLygyNTUuMCoyNTUuMCoyNTUuMCksMS4wLygyNTUuMCoyNTUuMCksMS4wLzI1NS4wLDEuMCk7CnJldHVybiBkb3QoY29sb3IsYml0X3NoaWZ0KTsKfWA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtsYV09Y2E7Y29uc3QgdWE9Imtlcm5lbEJsdXJGcmFnbWVudCIsZGE9YCNpZmRlZiBET0YKZmFjdG9yPXNhbXBsZUNvQyhzYW1wbGVDb29yZHtYfSk7IApjb21wdXRlZFdlaWdodD1LRVJORUxfV0VJR0hUe1h9KmZhY3RvcjsKc3VtT2ZXZWlnaHRzKz1jb21wdXRlZFdlaWdodDsKI2Vsc2UKY29tcHV0ZWRXZWlnaHQ9S0VSTkVMX1dFSUdIVHtYfTsKI2VuZGlmCiNpZmRlZiBQQUNLRURGTE9BVApibGVuZCs9dW5wYWNrKHRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDb29yZHtYfSkpKmNvbXB1dGVkV2VpZ2h0OwojZWxzZQpibGVuZCs9dGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNvb3Jke1h9KSpjb21wdXRlZFdlaWdodDsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt1YV09ZGE7Y29uc3QgZmE9Imtlcm5lbEJsdXJGcmFnbWVudDIiLF9hPWAjaWZkZWYgRE9GCmZhY3Rvcj1zYW1wbGVDb0Moc2FtcGxlQ2VudGVyK2RlbHRhKktFUk5FTF9ERVBfT0ZGU0VUe1h9KTsKY29tcHV0ZWRXZWlnaHQ9S0VSTkVMX0RFUF9XRUlHSFR7WH0qZmFjdG9yOwpzdW1PZldlaWdodHMrPWNvbXB1dGVkV2VpZ2h0OwojZWxzZQpjb21wdXRlZFdlaWdodD1LRVJORUxfREVQX1dFSUdIVHtYfTsKI2VuZGlmCiNpZmRlZiBQQUNLRURGTE9BVApibGVuZCs9dW5wYWNrKHRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDZW50ZXIrZGVsdGEqS0VSTkVMX0RFUF9PRkZTRVR7WH0pKSpjb21wdXRlZFdlaWdodDsKI2Vsc2UKYmxlbmQrPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcixzYW1wbGVDZW50ZXIrZGVsdGEqS0VSTkVMX0RFUF9PRkZTRVR7WH0pKmNvbXB1dGVkV2VpZ2h0OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2ZhXT1fYTtjb25zdCBnYT0ia2VybmVsQmx1clBpeGVsU2hhZGVyIixwYT1gdW5pZm9ybSBzYW1wbGVyMkQgdGV4dHVyZVNhbXBsZXI7CnVuaWZvcm0gdmVjMiBkZWx0YTsKdmFyeWluZyB2ZWMyIHNhbXBsZUNlbnRlcjsKI2lmZGVmIERPRgp1bmlmb3JtIHNhbXBsZXIyRCBjaXJjbGVPZkNvbmZ1c2lvblNhbXBsZXI7CmZsb2F0IHNhbXBsZUNvQyhpbiB2ZWMyIG9mZnNldCkgewpmbG9hdCBjb2M9dGV4dHVyZTJEKGNpcmNsZU9mQ29uZnVzaW9uU2FtcGxlcixvZmZzZXQpLnI7CnJldHVybiBjb2M7IAp9CiNlbmRpZgojaW5jbHVkZTxrZXJuZWxCbHVyVmFyeWluZ0RlY2xhcmF0aW9uPlswLi52YXJ5aW5nQ291bnRdCiNpZmRlZiBQQUNLRURGTE9BVAojaW5jbHVkZTxwYWNraW5nRnVuY3Rpb25zPgojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKZmxvYXQgY29tcHV0ZWRXZWlnaHQ9MC4wOwojaWZkZWYgUEFDS0VERkxPQVQKZmxvYXQgYmxlbmQ9MC47CiNlbHNlCnZlYzQgYmxlbmQ9dmVjNCgwLik7CiNlbmRpZgojaWZkZWYgRE9GCmZsb2F0IHN1bU9mV2VpZ2h0cz1DRU5URVJfV0VJR0hUOyAKZmxvYXQgZmFjdG9yPTAuMDsKI2lmZGVmIFBBQ0tFREZMT0FUCmJsZW5kKz11bnBhY2sodGV4dHVyZTJEKHRleHR1cmVTYW1wbGVyLHNhbXBsZUNlbnRlcikpKkNFTlRFUl9XRUlHSFQ7CiNlbHNlCmJsZW5kKz10ZXh0dXJlMkQodGV4dHVyZVNhbXBsZXIsc2FtcGxlQ2VudGVyKSpDRU5URVJfV0VJR0hUOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPGtlcm5lbEJsdXJGcmFnbWVudD5bMC4udmFyeWluZ0NvdW50XQojaW5jbHVkZTxrZXJuZWxCbHVyRnJhZ21lbnQyPlswLi5kZXBDb3VudF0KI2lmZGVmIFBBQ0tFREZMT0FUCmdsX0ZyYWdDb2xvcj1wYWNrKGJsZW5kKTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPWJsZW5kOwojZW5kaWYKI2lmZGVmIERPRgpnbF9GcmFnQ29sb3IvPXN1bU9mV2VpZ2h0czsKI2VuZGlmCn1gO0wuU2hhZGVyc1N0b3JlW2dhXT1wYTtjb25zdCBtYT0ia2VybmVsQmx1clZlcnRleCIsdmE9InNhbXBsZUNvb3Jke1h9PXNhbXBsZUNlbnRlcitkZWx0YSpLRVJORUxfT0ZGU0VUe1h9OyI7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVttYV09dmE7Y29uc3QgRWE9Imtlcm5lbEJsdXJWZXJ0ZXhTaGFkZXIiLFRhPWBhdHRyaWJ1dGUgdmVjMiBwb3NpdGlvbjsKdW5pZm9ybSB2ZWMyIGRlbHRhOwp2YXJ5aW5nIHZlYzIgc2FtcGxlQ2VudGVyOwojaW5jbHVkZTxrZXJuZWxCbHVyVmFyeWluZ0RlY2xhcmF0aW9uPlswLi52YXJ5aW5nQ291bnRdCmNvbnN0IHZlYzIgbWFkZD12ZWMyKDAuNSwwLjUpOwojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fQkVHSU4Kc2FtcGxlQ2VudGVyPShwb3NpdGlvbiptYWRkK21hZGQpOwojaW5jbHVkZTxrZXJuZWxCbHVyVmVydGV4PlswLi52YXJ5aW5nQ291bnRdCmdsX1Bvc2l0aW9uPXZlYzQocG9zaXRpb24sMC4wLDEuMCk7CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORAp9YDtMLlNoYWRlcnNTdG9yZVtFYV09VGE7Y2xhc3MgZWkgZXh0ZW5kcyB4ZXtzZXQga2VybmVsKGUpe3RoaXMuX2lkZWFsS2VybmVsIT09ZSYmKGU9TWF0aC5tYXgoZSwxKSx0aGlzLl9pZGVhbEtlcm5lbD1lLHRoaXMuX2tlcm5lbD10aGlzLl9uZWFyZXN0QmVzdEtlcm5lbChlKSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9ufHx0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKCkpfWdldCBrZXJuZWwoKXtyZXR1cm4gdGhpcy5faWRlYWxLZXJuZWx9c2V0IHBhY2tlZEZsb2F0KGUpe3RoaXMuX3BhY2tlZEZsb2F0IT09ZSYmKHRoaXMuX3BhY2tlZEZsb2F0PWUsdGhpcy5fYmxvY2tDb21waWxhdGlvbnx8dGhpcy5fdXBkYXRlUGFyYW1ldGVycygpKX1nZXQgcGFja2VkRmxvYXQoKXtyZXR1cm4gdGhpcy5fcGFja2VkRmxvYXR9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkJsdXJQb3N0UHJvY2VzcyJ9Y29uc3RydWN0b3IoZSx0LGkscyxyLG49Ti5CSUxJTkVBUl9TQU1QTElOR01PREUsYSxvLGg9MCxsPSIiLHU9ITEsZD01KXtzdXBlcihlLCJrZXJuZWxCbHVyIixbImRlbHRhIiwiZGlyZWN0aW9uIl0sWyJjaXJjbGVPZkNvbmZ1c2lvblNhbXBsZXIiXSxzLHIsbixhLG8sbnVsbCxoLCJrZXJuZWxCbHVyIix7dmFyeWluZ0NvdW50OjAsZGVwQ291bnQ6MH0sITAsZCksdGhpcy5fYmxvY2tDb21waWxhdGlvbj11LHRoaXMuX3BhY2tlZEZsb2F0PSExLHRoaXMuX3N0YXRpY0RlZmluZXM9IiIsdGhpcy5fc3RhdGljRGVmaW5lcz1sLHRoaXMuZGlyZWN0aW9uPXQsdGhpcy5vbkFwcGx5T2JzZXJ2YWJsZS5hZGQoXz0+e3RoaXMuX291dHB1dFRleHR1cmU/Xy5zZXRGbG9hdDIoImRlbHRhIiwxL3RoaXMuX291dHB1dFRleHR1cmUud2lkdGgqdGhpcy5kaXJlY3Rpb24ueCwxL3RoaXMuX291dHB1dFRleHR1cmUuaGVpZ2h0KnRoaXMuZGlyZWN0aW9uLnkpOl8uc2V0RmxvYXQyKCJkZWx0YSIsMS90aGlzLndpZHRoKnRoaXMuZGlyZWN0aW9uLngsMS90aGlzLmhlaWdodCp0aGlzLmRpcmVjdGlvbi55KX0pLHRoaXMua2VybmVsPWl9dXBkYXRlRWZmZWN0KGU9bnVsbCx0PW51bGwsaT1udWxsLHMscixuKXt0aGlzLl91cGRhdGVQYXJhbWV0ZXJzKHIsbil9X3VwZGF0ZVBhcmFtZXRlcnMoZSx0KXtjb25zdCBpPXRoaXMuX2tlcm5lbCxzPShpLTEpLzI7bGV0IHI9W10sbj1bXSxhPTA7Zm9yKGxldCB2PTA7djxpO3YrKyl7Y29uc3QgRT12LyhpLTEpLFM9dGhpcy5fZ2F1c3NpYW5XZWlnaHQoRSoyLTEpO3Jbdl09di1zLG5bdl09UyxhKz1TfWZvcihsZXQgdj0wO3Y8bi5sZW5ndGg7disrKW5bdl0vPWE7Y29uc3Qgbz1bXSxoPVtdLGw9W107Zm9yKGxldCB2PTA7djw9czt2Kz0yKXtjb25zdCBFPU1hdGgubWluKHYrMSxNYXRoLmZsb29yKHMpKTtpZih2PT09RSlsLnB1c2goe286clt2XSx3Om5bdl19KTtlbHNle2NvbnN0IFI9RT09PXMsQT1uW3ZdK25bRV0qKFI/LjU6MSksQz1yW3ZdKzEvKDErblt2XS9uW0VdKTtDPT09MD8obC5wdXNoKHtvOnJbdl0sdzpuW3ZdfSksbC5wdXNoKHtvOnJbdisxXSx3Om5bdisxXX0pKToobC5wdXNoKHtvOkMsdzpBfSksbC5wdXNoKHtvOi1DLHc6QX0pKX19Zm9yKGxldCB2PTA7djxsLmxlbmd0aDt2KyspaFt2XT1sW3ZdLm8sb1t2XT1sW3ZdLnc7cj1oLG49bztjb25zdCB1PXRoaXMuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLm1heFZhcnlpbmdWZWN0b3JzLGQ9TWF0aC5tYXgodSwwKS0xO2xldCBfPU1hdGgubWluKHIubGVuZ3RoLGQpLGY9IiI7Zis9dGhpcy5fc3RhdGljRGVmaW5lcyx0aGlzLl9zdGF0aWNEZWZpbmVzLmluZGV4T2YoIkRPRiIpIT0tMSYmKGYrPWAjZGVmaW5lIENFTlRFUl9XRUlHSFQgJHt0aGlzLl9nbHNsRmxvYXQobltfLTFdKX1ccgpgLF8tLSk7Zm9yKGxldCB2PTA7djxfO3YrKylmKz1gI2RlZmluZSBLRVJORUxfT0ZGU0VUJHt2fSAke3RoaXMuX2dsc2xGbG9hdChyW3ZdKX1ccgpgLGYrPWAjZGVmaW5lIEtFUk5FTF9XRUlHSFQke3Z9ICR7dGhpcy5fZ2xzbEZsb2F0KG5bdl0pfVxyCmA7bGV0IG09MDtmb3IobGV0IHY9ZDt2PHIubGVuZ3RoO3YrKylmKz1gI2RlZmluZSBLRVJORUxfREVQX09GRlNFVCR7bX0gJHt0aGlzLl9nbHNsRmxvYXQoclt2XSl9XHIKYCxmKz1gI2RlZmluZSBLRVJORUxfREVQX1dFSUdIVCR7bX0gJHt0aGlzLl9nbHNsRmxvYXQoblt2XSl9XHIKYCxtKys7dGhpcy5wYWNrZWRGbG9hdCYmKGYrPSIjZGVmaW5lIFBBQ0tFREZMT0FUIDEiKSx0aGlzLl9ibG9ja0NvbXBpbGF0aW9uPSExLHN1cGVyLnVwZGF0ZUVmZmVjdChmLG51bGwsbnVsbCx7dmFyeWluZ0NvdW50Ol8sZGVwQ291bnQ6bX0sZSx0KX1fbmVhcmVzdEJlc3RLZXJuZWwoZSl7Y29uc3QgdD1NYXRoLnJvdW5kKGUpO2Zvcihjb25zdCBpIG9mW3QsdC0xLHQrMSx0LTIsdCsyXSlpZihpJTIhPT0wJiZNYXRoLmZsb29yKGkvMiklMj09PTAmJmk+MClyZXR1cm4gTWF0aC5tYXgoaSwzKTtyZXR1cm4gTWF0aC5tYXgodCwzKX1fZ2F1c3NpYW5XZWlnaHQoZSl7Y29uc3QgdD0uMzMzMzMzMzMzMzMzMzMzMyxpPU1hdGguc3FydCgyKk1hdGguUEkpKnQscz0tKGUqZS8oMip0KnQpKTtyZXR1cm4gMS9pKk1hdGguZXhwKHMpfV9nbHNsRmxvYXQoZSx0PTgpe3JldHVybiBlLnRvRml4ZWQodCkucmVwbGFjZSgvMCskLywiIil9c3RhdGljIF9QYXJzZShlLHQsaSxzKXtyZXR1cm4gbmUuUGFyc2UoKCk9Pm5ldyBlaShlLm5hbWUsZS5kaXJlY3Rpb24sZS5rZXJuZWwsZS5vcHRpb25zLHQsZS5yZW5kZXJUYXJnZXRTYW1wbGluZ01vZGUsaS5nZXRFbmdpbmUoKSxlLnJldXNhYmxlLGUudGV4dHVyZVR5cGUsdm9pZCAwLCExKSxlLGkscyl9fVQoW3koImtlcm5lbCIpXSxlaS5wcm90b3R5cGUsIl9rZXJuZWwiLHZvaWQgMCksVChbeSgicGFja2VkRmxvYXQiKV0sZWkucHJvdG90eXBlLCJfcGFja2VkRmxvYXQiLHZvaWQgMCksVChbeW4oKV0sZWkucHJvdG90eXBlLCJkaXJlY3Rpb24iLHZvaWQgMCksc3QoIkJBQllMT04uQmx1clBvc3RQcm9jZXNzIixlaSk7Y2xhc3MgWXN7Y29uc3RydWN0b3IoKXt0aGlzLl9kZWZpbmVzPXt9LHRoaXMuX2N1cnJlbnRSYW5rPTMyLHRoaXMuX21heFJhbms9LTEsdGhpcy5fbWVzaD1udWxsfXVuQmluZE1lc2goKXt0aGlzLl9tZXNoPW51bGx9YWRkRmFsbGJhY2soZSx0KXt0aGlzLl9kZWZpbmVzW2VdfHwoZTx0aGlzLl9jdXJyZW50UmFuayYmKHRoaXMuX2N1cnJlbnRSYW5rPWUpLGU+dGhpcy5fbWF4UmFuayYmKHRoaXMuX21heFJhbms9ZSksdGhpcy5fZGVmaW5lc1tlXT1uZXcgQXJyYXkpLHRoaXMuX2RlZmluZXNbZV0ucHVzaCh0KX1hZGRDUFVTa2lubmluZ0ZhbGxiYWNrKGUsdCl7dGhpcy5fbWVzaD10LGU8dGhpcy5fY3VycmVudFJhbmsmJih0aGlzLl9jdXJyZW50UmFuaz1lKSxlPnRoaXMuX21heFJhbmsmJih0aGlzLl9tYXhSYW5rPWUpfWdldCBoYXNNb3JlRmFsbGJhY2tzKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRSYW5rPD10aGlzLl9tYXhSYW5rfXJlZHVjZShlLHQpe2lmKHRoaXMuX21lc2gmJnRoaXMuX21lc2guY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZ0aGlzLl9tZXNoLm51bUJvbmVJbmZsdWVuY2Vycz4wKXt0aGlzLl9tZXNoLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMSxlPWUucmVwbGFjZSgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAiK3RoaXMuX21lc2gubnVtQm9uZUluZmx1ZW5jZXJzLCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTIDAiKSx0Ll9ib25lc0NvbXB1dGF0aW9uRm9yY2VkVG9DUFU9ITA7Y29uc3QgaT10aGlzLl9tZXNoLmdldFNjZW5lKCk7Zm9yKGxldCBzPTA7czxpLm1lc2hlcy5sZW5ndGg7cysrKXtjb25zdCByPWkubWVzaGVzW3NdO2lmKCFyLm1hdGVyaWFsKXshdGhpcy5fbWVzaC5tYXRlcmlhbCYmci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMmJnIubnVtQm9uZUluZmx1ZW5jZXJzPjAmJihyLmNvbXB1dGVCb25lc1VzaW5nU2hhZGVycz0hMSk7Y29udGludWV9aWYoISghci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnN8fHIubnVtQm9uZUluZmx1ZW5jZXJzPT09MCkpe2lmKHIubWF0ZXJpYWwuZ2V0RWZmZWN0KCk9PT10KXIuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzPSExO2Vsc2UgaWYoci5zdWJNZXNoZXMpe2Zvcihjb25zdCBuIG9mIHIuc3ViTWVzaGVzKWlmKG4uZWZmZWN0PT09dCl7ci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnM9ITE7YnJlYWt9fX19fWVsc2V7Y29uc3QgaT10aGlzLl9kZWZpbmVzW3RoaXMuX2N1cnJlbnRSYW5rXTtpZihpKWZvcihsZXQgcz0wO3M8aS5sZW5ndGg7cysrKWU9ZS5yZXBsYWNlKCIjZGVmaW5lICIraVtzXSwiIik7dGhpcy5fY3VycmVudFJhbmsrK31yZXR1cm4gZX19Y29uc3QgYmE9ImJheWVyRGl0aGVyRnVuY3Rpb25zIixTYT1gZmxvYXQgYmF5ZXJEaXRoZXIyKHZlYzIgX1ApIHsKcmV0dXJuIG1vZCgyLjAqX1AueStfUC54KzEuMCw0LjApOwp9CmZsb2F0IGJheWVyRGl0aGVyNCh2ZWMyIF9QKSB7CnZlYzIgUDE9bW9kKF9QLDIuMCk7IAp2ZWMyIFAyPWZsb29yKDAuNSptb2QoX1AsNC4wKSk7IApyZXR1cm4gNC4wKmJheWVyRGl0aGVyMihQMSkrYmF5ZXJEaXRoZXIyKFAyKTsKfQpmbG9hdCBiYXllckRpdGhlcjgodmVjMiBfUCkgewp2ZWMyIFAxPW1vZChfUCwyLjApOyAKdmVjMiBQMj1mbG9vcigwLjUgKm1vZChfUCw0LjApKTsgCnZlYzIgUDQ9Zmxvb3IoMC4yNSptb2QoX1AsOC4wKSk7IApyZXR1cm4gNC4wKig0LjAqYmF5ZXJEaXRoZXIyKFAxKStiYXllckRpdGhlcjIoUDIpKStiYXllckRpdGhlcjIoUDQpOwp9CmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtiYV09U2E7Y29uc3QgeGE9InNoYWRvd01hcEZyYWdtZW50RXh0cmFEZWNsYXJhdGlvbiIsTWE9YCNpZiBTTV9GTE9BVD09MAojaW5jbHVkZTxwYWNraW5nRnVuY3Rpb25zPgojZW5kaWYKI2lmIFNNX1NPRlRUUkFOU1BBUkVOVFNIQURPVz09MQojaW5jbHVkZTxiYXllckRpdGhlckZ1bmN0aW9ucz4KdW5pZm9ybSBmbG9hdCBzb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTTsKI2VuZGlmCnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljU007CiNpZiBTTV9VU0VESVNUQU5DRT09MQp1bmlmb3JtIHZlYzMgbGlnaHREYXRhU007CnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XU007CiNlbmRpZgp1bmlmb3JtIHZlYzMgYmlhc0FuZFNjYWxlU007CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc1NNOwojaWYgZGVmaW5lZChTTV9ERVBUSENMQU1QKSAmJiBTTV9ERVBUSENMQU1QPT0xCnZhcnlpbmcgZmxvYXQgelNNOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3hhXT1NYTtjb25zdCBBYT0iY2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbiIsUmE9YCNpZmRlZiBDTElQUExBTkUKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTIKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlMjsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTM7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNAp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U0OwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTUKdmFyeWluZyBmbG9hdCBmQ2xpcERpc3RhbmNlNTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTY7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbQWFdPVJhO2NvbnN0IHlhPSJjbGlwUGxhbmVGcmFnbWVudCIsQ2E9YCNpZiBkZWZpbmVkKENMSVBQTEFORSkgfHwgZGVmaW5lZChDTElQUExBTkUyKSB8fCBkZWZpbmVkKENMSVBQTEFORTMpIHx8IGRlZmluZWQoQ0xJUFBMQU5FNCkgfHwgZGVmaW5lZChDTElQUExBTkU1KSB8fCBkZWZpbmVkKENMSVBQTEFORTYpCmlmIChmYWxzZSkge30KI2VuZGlmCiNpZmRlZiBDTElQUExBTkUKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZT4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTIKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTI+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCmVsc2UgaWYgKGZDbGlwRGlzdGFuY2UzPjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNAplbHNlIGlmIChmQ2xpcERpc3RhbmNlND4wLjApCnsKZGlzY2FyZDsKfQojZW5kaWYKI2lmZGVmIENMSVBQTEFORTUKZWxzZSBpZiAoZkNsaXBEaXN0YW5jZTU+MC4wKQp7CmRpc2NhcmQ7Cn0KI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CmVsc2UgaWYgKGZDbGlwRGlzdGFuY2U2PjAuMCkKewpkaXNjYXJkOwp9CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbeWFdPUNhO2NvbnN0IElhPSJzaGFkb3dNYXBGcmFnbWVudCIsUGE9YGZsb2F0IGRlcHRoU009dkRlcHRoTWV0cmljU007CiNpZiBkZWZpbmVkKFNNX0RFUFRIQ0xBTVApICYmIFNNX0RFUFRIQ0xBTVA9PTEKI2lmIFNNX1VTRURJU1RBTkNFPT0xCmRlcHRoU009KGxlbmd0aCh2UG9zaXRpb25XU00tbGlnaHREYXRhU00pK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbHNlCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpkZXB0aFNNPSgtelNNK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbHNlCmRlcHRoU009KHpTTStkZXB0aFZhbHVlc1NNLngpL2RlcHRoVmFsdWVzU00ueStiaWFzQW5kU2NhbGVTTS54OwojZW5kaWYKI2VuZGlmCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpnbF9GcmFnRGVwdGg9Y2xhbXAoMS4wLWRlcHRoU00sMC4wLDEuMCk7CiNlbHNlCmdsX0ZyYWdEZXB0aD1jbGFtcChkZXB0aFNNLDAuMCwxLjApOyAKI2VuZGlmCiNlbGlmIFNNX1VTRURJU1RBTkNFPT0xCmRlcHRoU009KGxlbmd0aCh2UG9zaXRpb25XU00tbGlnaHREYXRhU00pK2RlcHRoVmFsdWVzU00ueCkvZGVwdGhWYWx1ZXNTTS55K2JpYXNBbmRTY2FsZVNNLng7CiNlbmRpZgojaWYgU01fRVNNPT0xCmRlcHRoU009Y2xhbXAoZXhwKC1taW4oODcuLGJpYXNBbmRTY2FsZVNNLnoqZGVwdGhTTSkpLDAuLDEuKTsKI2VuZGlmCiNpZiBTTV9GTE9BVD09MQpnbF9GcmFnQ29sb3I9dmVjNChkZXB0aFNNLDEuMCwxLjAsMS4wKTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPXBhY2soZGVwdGhTTSk7CiNlbmRpZgpyZXR1cm47YDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0lhXT1QYTtjb25zdCBEYT0ic2hhZG93TWFwUGl4ZWxTaGFkZXIiLEZhPWAjaW5jbHVkZTxzaGFkb3dNYXBGcmFnbWVudEV4dHJhRGVjbGFyYXRpb24+CiNpZmRlZiBBTFBIQVRFWFRVUkUKdmFyeWluZyB2ZWMyIHZVVjsKdW5pZm9ybSBzYW1wbGVyMkQgZGlmZnVzZVNhbXBsZXI7CiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KI2lmZGVmIEFMUEhBVEVYVFVSRQpmbG9hdCBhbHBoYUZyb21BbHBoYVRleHR1cmU9dGV4dHVyZTJEKGRpZmZ1c2VTYW1wbGVyLHZVVikuYTsKI2lmZGVmIEFMUEhBVEVTVFZBTFVFCmlmIChhbHBoYUZyb21BbHBoYVRleHR1cmU8QUxQSEFURVNUVkFMVUUpCmRpc2NhcmQ7CiNlbmRpZgojZW5kaWYKI2lmIFNNX1NPRlRUUkFOU1BBUkVOVFNIQURPVz09MQojaWZkZWYgQUxQSEFURVhUVVJFCmlmICgoYmF5ZXJEaXRoZXI4KGZsb29yKG1vZChnbF9GcmFnQ29vcmQueHksOC4wKSkpKS82NC4wPj1zb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSphbHBoYUZyb21BbHBoYVRleHR1cmUpIGRpc2NhcmQ7CiNlbHNlCmlmICgoYmF5ZXJEaXRoZXI4KGZsb29yKG1vZChnbF9GcmFnQ29vcmQueHksOC4wKSkpKS82NC4wPj1zb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSkgZGlzY2FyZDsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxzaGFkb3dNYXBGcmFnbWVudD4KfWA7TC5TaGFkZXJzU3RvcmVbRGFdPUZhO2NvbnN0IHdhPSJib25lc0RlY2xhcmF0aW9uIixPYT1gI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjAKYXR0cmlidXRlIHZlYzQgbWF0cmljZXNJbmRpY2VzOwphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc1dlaWdodHM7CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz40CmF0dHJpYnV0ZSB2ZWM0IG1hdHJpY2VzSW5kaWNlc0V4dHJhOwphdHRyaWJ1dGUgdmVjNCBtYXRyaWNlc1dlaWdodHNFeHRyYTsKI2VuZGlmCiNpZm5kZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCiNpZmRlZiBCT05FVEVYVFVSRQp1bmlmb3JtIHNhbXBsZXIyRCBib25lU2FtcGxlcjsKdW5pZm9ybSBmbG9hdCBib25lVGV4dHVyZVdpZHRoOwojZWxzZQp1bmlmb3JtIG1hdDQgbUJvbmVzW0JvbmVzUGVyTWVzaF07CiNpZmRlZiBCT05FU19WRUxPQ0lUWV9FTkFCTEVECnVuaWZvcm0gbWF0NCBtUHJldmlvdXNCb25lc1tCb25lc1Blck1lc2hdOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBCT05FVEVYVFVSRQojZGVmaW5lIGlubGluZQptYXQ0IHJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihzYW1wbGVyMkQgc21wLGZsb2F0IGluZGV4KQp7CmZsb2F0IG9mZnNldD1pbmRleCAqNC4wOwpmbG9hdCBkeD0xLjAvYm9uZVRleHR1cmVXaWR0aDsKdmVjNCBtMD10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCswLjUpLDAuKSk7CnZlYzQgbTE9dGV4dHVyZTJEKHNtcCx2ZWMyKGR4KihvZmZzZXQrMS41KSwwLikpOwp2ZWM0IG0yPXRleHR1cmUyRChzbXAsdmVjMihkeCoob2Zmc2V0KzIuNSksMC4pKTsKdmVjNCBtMz10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCszLjUpLDAuKSk7CnJldHVybiBtYXQ0KG0wLG0xLG0yLG0zKTsKfQojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbd2FdPU9hO2NvbnN0IExhPSJiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uIixOYT1gI2lmZGVmIEJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRQp1bmlmb3JtIGZsb2F0IGJha2VkVmVydGV4QW5pbWF0aW9uVGltZTsKdW5pZm9ybSB2ZWMyIGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZVNpemVJbnZlcnRlZDsKdW5pZm9ybSB2ZWM0IGJha2VkVmVydGV4QW5pbWF0aW9uU2V0dGluZ3M7CnVuaWZvcm0gc2FtcGxlcjJEIGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZTsKI2lmZGVmIElOU1RBTkNFUwphdHRyaWJ1dGUgdmVjNCBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzSW5zdGFuY2VkOwojZW5kaWYKI2RlZmluZSBpbmxpbmUKbWF0NCByZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoc2FtcGxlcjJEIHNtcCxmbG9hdCBpbmRleCxmbG9hdCBmcmFtZSkKewpmbG9hdCBvZmZzZXQ9aW5kZXgqNC4wOwpmbG9hdCBmcmFtZVVWPShmcmFtZSswLjUpKmJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZVNpemVJbnZlcnRlZC55OwpmbG9hdCBkeD1iYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmVTaXplSW52ZXJ0ZWQueDsKdmVjNCBtMD10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCswLjUpLGZyYW1lVVYpKTsKdmVjNCBtMT10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCsxLjUpLGZyYW1lVVYpKTsKdmVjNCBtMj10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCsyLjUpLGZyYW1lVVYpKTsKdmVjNCBtMz10ZXh0dXJlMkQoc21wLHZlYzIoZHgqKG9mZnNldCszLjUpLGZyYW1lVVYpKTsKcmV0dXJuIG1hdDQobTAsbTEsbTIsbTMpOwp9CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbTGFdPU5hO2NvbnN0IEJhPSJtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbiIsVWE9YCNpZmRlZiBNT1JQSFRBUkdFVFMKdW5pZm9ybSBmbG9hdCBtb3JwaFRhcmdldEluZmx1ZW5jZXNbTlVNX01PUlBIX0lORkxVRU5DRVJTXTsKI2lmZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFIApwcmVjaXNpb24gbWVkaXVtcCBzYW1wbGVyMkRBcnJheTsgCnVuaWZvcm0gZmxvYXQgbW9ycGhUYXJnZXRUZXh0dXJlSW5kaWNlc1tOVU1fTU9SUEhfSU5GTFVFTkNFUlNdOwp1bmlmb3JtIHZlYzMgbW9ycGhUYXJnZXRUZXh0dXJlSW5mbzsKdW5pZm9ybSBzYW1wbGVyMkRBcnJheSBtb3JwaFRhcmdldHM7CnZlYzMgcmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcihpbnQgdGFyZ2V0SW5kZXgsZmxvYXQgdmVydGV4SW5kZXgpCnsgCmZsb2F0IHk9Zmxvb3IodmVydGV4SW5kZXgvbW9ycGhUYXJnZXRUZXh0dXJlSW5mby55KTsKZmxvYXQgeD12ZXJ0ZXhJbmRleC15Km1vcnBoVGFyZ2V0VGV4dHVyZUluZm8ueTsKdmVjMyB0ZXh0dXJlVVY9dmVjMygoeCswLjUpL21vcnBoVGFyZ2V0VGV4dHVyZUluZm8ueSwoeSswLjUpL21vcnBoVGFyZ2V0VGV4dHVyZUluZm8ueixtb3JwaFRhcmdldFRleHR1cmVJbmRpY2VzW3RhcmdldEluZGV4XSk7CnJldHVybiB0ZXh0dXJlKG1vcnBoVGFyZ2V0cyx0ZXh0dXJlVVYpLnh5ejsKfQojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtCYV09VWE7Y29uc3Qga2E9Im1vcnBoVGFyZ2V0c1ZlcnRleERlY2xhcmF0aW9uIixWYT1gI2lmZGVmIE1PUlBIVEFSR0VUUwojaWZuZGVmIE1PUlBIVEFSR0VUU19URVhUVVJFCmF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9ue1h9OwojaWZkZWYgTU9SUEhUQVJHRVRTX05PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWx7WH07CiNlbmRpZgojaWZkZWYgTU9SUEhUQVJHRVRTX1RBTkdFTlQKYXR0cmlidXRlIHZlYzMgdGFuZ2VudHtYfTsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVVYKYXR0cmlidXRlIHZlYzIgdXZfe1h9OwojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVba2FdPVZhO2NvbnN0IFdhPSJoZWxwZXJGdW5jdGlvbnMiLHphPWBjb25zdCBmbG9hdCBQST0zLjE0MTU5MjY1MzU4OTc5MzIzODQ2MjY0MzM4MzI3OTU7CmNvbnN0IGZsb2F0IEhBTEZfTUlOPTUuOTYwNDY0NDhlLTA4OyAKY29uc3QgZmxvYXQgTGluZWFyRW5jb2RlUG93ZXJBcHByb3g9Mi4yOwpjb25zdCBmbG9hdCBHYW1tYUVuY29kZVBvd2VyQXBwcm94PTEuMC9MaW5lYXJFbmNvZGVQb3dlckFwcHJveDsKY29uc3QgdmVjMyBMdW1pbmFuY2VFbmNvZGVBcHByb3g9dmVjMygwLjIxMjYsMC43MTUyLDAuMDcyMik7CmNvbnN0IGZsb2F0IEVwc2lsb249MC4wMDAwMDAxOwojZGVmaW5lIHNhdHVyYXRlKHgpIGNsYW1wKHgsMC4wLDEuMCkKI2RlZmluZSBhYnNFcHMoeCkgYWJzKHgpK0Vwc2lsb24KI2RlZmluZSBtYXhFcHMoeCkgbWF4KHgsRXBzaWxvbikKI2RlZmluZSBzYXR1cmF0ZUVwcyh4KSBjbGFtcCh4LEVwc2lsb24sMS4wKQptYXQzIHRyYW5zcG9zZU1hdDMobWF0MyBpbk1hdHJpeCkgewp2ZWMzIGkwPWluTWF0cml4WzBdOwp2ZWMzIGkxPWluTWF0cml4WzFdOwp2ZWMzIGkyPWluTWF0cml4WzJdOwptYXQzIG91dE1hdHJpeD1tYXQzKAp2ZWMzKGkwLngsaTEueCxpMi54KSwKdmVjMyhpMC55LGkxLnksaTIueSksCnZlYzMoaTAueixpMS56LGkyLnopCik7CnJldHVybiBvdXRNYXRyaXg7Cn0KbWF0MyBpbnZlcnNlTWF0MyhtYXQzIGluTWF0cml4KSB7CmZsb2F0IGEwMD1pbk1hdHJpeFswXVswXSxhMDE9aW5NYXRyaXhbMF1bMV0sYTAyPWluTWF0cml4WzBdWzJdOwpmbG9hdCBhMTA9aW5NYXRyaXhbMV1bMF0sYTExPWluTWF0cml4WzFdWzFdLGExMj1pbk1hdHJpeFsxXVsyXTsKZmxvYXQgYTIwPWluTWF0cml4WzJdWzBdLGEyMT1pbk1hdHJpeFsyXVsxXSxhMjI9aW5NYXRyaXhbMl1bMl07CmZsb2F0IGIwMT1hMjIqYTExLWExMiphMjE7CmZsb2F0IGIxMT0tYTIyKmExMCthMTIqYTIwOwpmbG9hdCBiMjE9YTIxKmExMC1hMTEqYTIwOwpmbG9hdCBkZXQ9YTAwKmIwMSthMDEqYjExK2EwMipiMjE7CnJldHVybiBtYXQzKGIwMSwoLWEyMiphMDErYTAyKmEyMSksKGExMiphMDEtYTAyKmExMSksCmIxMSwoYTIyKmEwMC1hMDIqYTIwKSwoLWExMiphMDArYTAyKmExMCksCmIyMSwoLWEyMSphMDArYTAxKmEyMCksKGExMSphMDAtYTAxKmExMCkpL2RldDsKfQojaWYgVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlMKdmVjMyB0b0xpbmVhclNwYWNlRXhhY3QodmVjMyBjb2xvcikKewp2ZWMzIG5lYXJaZXJvU2VjdGlvbj0wLjA3NzM5OTM4MDgqY29sb3I7CnZlYzMgcmVtYWluaW5nU2VjdGlvbj1wb3coMC45NDc4NjcyOTkqKGNvbG9yK3ZlYzMoMC4wNTUpKSx2ZWMzKDIuNCkpOwojaWYgZGVmaW5lZChXRUJHTDIpIHx8IGRlZmluZWQoV0VCR1BVKSB8fCBkZWZpbmVkKE5BVElWRSkKcmV0dXJuIG1peChyZW1haW5pbmdTZWN0aW9uLG5lYXJaZXJvU2VjdGlvbixsZXNzVGhhbkVxdWFsKGNvbG9yLHZlYzMoMC4wNDA0NSkpKTsKI2Vsc2UKcmV0dXJuCnZlYzMoCmNvbG9yLnI8PTAuMDQwNDUgPyBuZWFyWmVyb1NlY3Rpb24uciA6IHJlbWFpbmluZ1NlY3Rpb24uciwKY29sb3IuZzw9MC4wNDA0NSA/IG5lYXJaZXJvU2VjdGlvbi5nIDogcmVtYWluaW5nU2VjdGlvbi5nLApjb2xvci5iPD0wLjA0MDQ1ID8gbmVhclplcm9TZWN0aW9uLmIgOiByZW1haW5pbmdTZWN0aW9uLmIpOwojZW5kaWYKfQp2ZWMzIHRvR2FtbWFTcGFjZUV4YWN0KHZlYzMgY29sb3IpCnsKdmVjMyBuZWFyWmVyb1NlY3Rpb249MTIuOTIqY29sb3I7CnZlYzMgcmVtYWluaW5nU2VjdGlvbj0xLjA1NSpwb3coY29sb3IsdmVjMygwLjQxNjY2KSktdmVjMygwLjA1NSk7CiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpIHx8IGRlZmluZWQoTkFUSVZFKQpyZXR1cm4gbWl4KHJlbWFpbmluZ1NlY3Rpb24sbmVhclplcm9TZWN0aW9uLGxlc3NUaGFuRXF1YWwoY29sb3IsdmVjMygwLjAwMzEzMDgpKSk7CiNlbHNlCnJldHVybgp2ZWMzKApjb2xvci5yPD0wLjAwMzEzMDggPyBuZWFyWmVyb1NlY3Rpb24uciA6IHJlbWFpbmluZ1NlY3Rpb24uciwKY29sb3IuZzw9MC4wMDMxMzA4ID8gbmVhclplcm9TZWN0aW9uLmcgOiByZW1haW5pbmdTZWN0aW9uLmcsCmNvbG9yLmI8PTAuMDAzMTMwOCA/IG5lYXJaZXJvU2VjdGlvbi5iIDogcmVtYWluaW5nU2VjdGlvbi5iKTsKI2VuZGlmCn0KI2VuZGlmCmZsb2F0IHRvTGluZWFyU3BhY2UoZmxvYXQgY29sb3IpCnsKI2lmIFVTRV9FWEFDVF9TUkdCX0NPTlZFUlNJT05TCmZsb2F0IG5lYXJaZXJvU2VjdGlvbj0wLjA3NzM5OTM4MDgqY29sb3I7CmZsb2F0IHJlbWFpbmluZ1NlY3Rpb249cG93KDAuOTQ3ODY3Mjk5Kihjb2xvciswLjA1NSksMi40KTsKcmV0dXJuIGNvbG9yPD0wLjA0MDQ1ID8gbmVhclplcm9TZWN0aW9uIDogcmVtYWluaW5nU2VjdGlvbjsKI2Vsc2UKcmV0dXJuIHBvdyhjb2xvcixMaW5lYXJFbmNvZGVQb3dlckFwcHJveCk7CiNlbmRpZgp9CnZlYzMgdG9MaW5lYXJTcGFjZSh2ZWMzIGNvbG9yKQp7CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwpyZXR1cm4gdG9MaW5lYXJTcGFjZUV4YWN0KGNvbG9yKTsKI2Vsc2UKcmV0dXJuIHBvdyhjb2xvcix2ZWMzKExpbmVhckVuY29kZVBvd2VyQXBwcm94KSk7CiNlbmRpZgp9CnZlYzQgdG9MaW5lYXJTcGFjZSh2ZWM0IGNvbG9yKQp7CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwpyZXR1cm4gdmVjNCh0b0xpbmVhclNwYWNlRXhhY3QoY29sb3IucmdiKSxjb2xvci5hKTsKI2Vsc2UKcmV0dXJuIHZlYzQocG93KGNvbG9yLnJnYix2ZWMzKExpbmVhckVuY29kZVBvd2VyQXBwcm94KSksY29sb3IuYSk7CiNlbmRpZgp9CmZsb2F0IHRvR2FtbWFTcGFjZShmbG9hdCBjb2xvcikKewojaWYgVVNFX0VYQUNUX1NSR0JfQ09OVkVSU0lPTlMKZmxvYXQgbmVhclplcm9TZWN0aW9uPTEyLjkyKmNvbG9yOwpmbG9hdCByZW1haW5pbmdTZWN0aW9uPTEuMDU1KnBvdyhjb2xvciwwLjQxNjY2KS0wLjA1NTsKcmV0dXJuIGNvbG9yPD0wLjAwMzEzMDggPyBuZWFyWmVyb1NlY3Rpb24gOiByZW1haW5pbmdTZWN0aW9uOwojZWxzZQpyZXR1cm4gcG93KGNvbG9yLEdhbW1hRW5jb2RlUG93ZXJBcHByb3gpOwojZW5kaWYKfQp2ZWMzIHRvR2FtbWFTcGFjZSh2ZWMzIGNvbG9yKQp7CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwpyZXR1cm4gdG9HYW1tYVNwYWNlRXhhY3QoY29sb3IpOwojZWxzZQpyZXR1cm4gcG93KGNvbG9yLHZlYzMoR2FtbWFFbmNvZGVQb3dlckFwcHJveCkpOwojZW5kaWYKfQp2ZWM0IHRvR2FtbWFTcGFjZSh2ZWM0IGNvbG9yKQp7CiNpZiBVU0VfRVhBQ1RfU1JHQl9DT05WRVJTSU9OUwpyZXR1cm4gdmVjNCh0b0dhbW1hU3BhY2VFeGFjdChjb2xvci5yZ2IpLGNvbG9yLmEpOwojZWxzZQpyZXR1cm4gdmVjNChwb3coY29sb3IucmdiLHZlYzMoR2FtbWFFbmNvZGVQb3dlckFwcHJveCkpLGNvbG9yLmEpOwojZW5kaWYKfQpmbG9hdCBzcXVhcmUoZmxvYXQgdmFsdWUpCnsKcmV0dXJuIHZhbHVlKnZhbHVlOwp9CnZlYzMgc3F1YXJlKHZlYzMgdmFsdWUpCnsKcmV0dXJuIHZhbHVlKnZhbHVlOwp9CmZsb2F0IHBvdzUoZmxvYXQgdmFsdWUpIHsKZmxvYXQgc3E9dmFsdWUqdmFsdWU7CnJldHVybiBzcSpzcSp2YWx1ZTsKfQpmbG9hdCBnZXRMdW1pbmFuY2UodmVjMyBjb2xvcikKewpyZXR1cm4gY2xhbXAoZG90KGNvbG9yLEx1bWluYW5jZUVuY29kZUFwcHJveCksMC4sMS4pOwp9CmZsb2F0IGdldFJhbmQodmVjMiBzZWVkKSB7CnJldHVybiBmcmFjdChzaW4oZG90KHNlZWQueHkgLHZlYzIoMTIuOTg5OCw3OC4yMzMpKSkqNDM3NTguNTQ1Myk7Cn0KZmxvYXQgZGl0aGVyKHZlYzIgc2VlZCxmbG9hdCB2YXJpYW5jZUFtb3VudCkgewpmbG9hdCByYW5kPWdldFJhbmQoc2VlZCk7CmZsb2F0IG5vcm1WYXJpYW5jZT12YXJpYW5jZUFtb3VudC8yNTUuMDsKZmxvYXQgZGl0aGVyPW1peCgtbm9ybVZhcmlhbmNlLG5vcm1WYXJpYW5jZSxyYW5kKTsKcmV0dXJuIGRpdGhlcjsKfQpjb25zdCBmbG9hdCByZ2JkTWF4UmFuZ2U9MjU1LjA7CnZlYzQgdG9SR0JEKHZlYzMgY29sb3IpIHsKZmxvYXQgbWF4UkdCPW1heEVwcyhtYXgoY29sb3IucixtYXgoY29sb3IuZyxjb2xvci5iKSkpOwpmbG9hdCBEID1tYXgocmdiZE1heFJhbmdlL21heFJHQiwxLik7CkQgPWNsYW1wKGZsb29yKEQpLzI1NS4wLDAuLDEuKTsKdmVjMyByZ2I9Y29sb3IucmdiKkQ7CnJnYj10b0dhbW1hU3BhY2UocmdiKTsKcmV0dXJuIHZlYzQoY2xhbXAocmdiLDAuLDEuKSxEKTsgCn0KdmVjMyBmcm9tUkdCRCh2ZWM0IHJnYmQpIHsKcmdiZC5yZ2I9dG9MaW5lYXJTcGFjZShyZ2JkLnJnYik7CnJldHVybiByZ2JkLnJnYi9yZ2JkLmE7Cn0KdmVjMyBwYXJhbGxheENvcnJlY3ROb3JtYWwoIHZlYzMgdmVydGV4UG9zLHZlYzMgb3JpZ1ZlYyx2ZWMzIGN1YmVTaXplLHZlYzMgY3ViZVBvcyApIHsKdmVjMyBpbnZPcmlnVmVjPXZlYzMoMS4wLDEuMCwxLjApL29yaWdWZWM7CnZlYzMgaGFsZlNpemU9Y3ViZVNpemUqMC41Owp2ZWMzIGludGVyc2VjQXRNYXhQbGFuZT0oY3ViZVBvcytoYWxmU2l6ZS12ZXJ0ZXhQb3MpKmludk9yaWdWZWM7CnZlYzMgaW50ZXJzZWNBdE1pblBsYW5lPShjdWJlUG9zLWhhbGZTaXplLXZlcnRleFBvcykqaW52T3JpZ1ZlYzsKdmVjMyBsYXJnZXN0SW50ZXJzZWM9bWF4KGludGVyc2VjQXRNYXhQbGFuZSxpbnRlcnNlY0F0TWluUGxhbmUpOwpmbG9hdCBkaXN0YW5jZT1taW4obWluKGxhcmdlc3RJbnRlcnNlYy54LGxhcmdlc3RJbnRlcnNlYy55KSxsYXJnZXN0SW50ZXJzZWMueik7CnZlYzMgaW50ZXJzZWN0UG9zaXRpb25XUz12ZXJ0ZXhQb3Mrb3JpZ1ZlYypkaXN0YW5jZTsKcmV0dXJuIGludGVyc2VjdFBvc2l0aW9uV1MtY3ViZVBvczsKfQpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbV2FdPXphO2NvbnN0IEdhPSJzY2VuZVZlcnRleERlY2xhcmF0aW9uIixYYT1gdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uOwojaWZkZWYgTVVMVElWSUVXCnVuaWZvcm0gbWF0NCB2aWV3UHJvamVjdGlvblI7CiNlbmRpZgp1bmlmb3JtIG1hdDQgdmlldzsKdW5pZm9ybSBtYXQ0IHByb2plY3Rpb247CnVuaWZvcm0gdmVjNCB2RXllUG9zaXRpb247CmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtHYV09WGE7Y29uc3QgSGE9Im1lc2hWZXJ0ZXhEZWNsYXJhdGlvbiIsS2E9YHVuaWZvcm0gbWF0NCB3b3JsZDsKdW5pZm9ybSBmbG9hdCB2aXNpYmlsaXR5OwpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSGFdPUthO2NvbnN0IFlhPSJzaGFkb3dNYXBWZXJ0ZXhEZWNsYXJhdGlvbiIsWmE9YCNpbmNsdWRlPHNjZW5lVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPG1lc2hWZXJ0ZXhEZWNsYXJhdGlvbj4KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1lhXT1aYTtjb25zdCBxYT0ic2NlbmVVYm9EZWNsYXJhdGlvbiIsamE9YGxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwp1bmlmb3JtIFNjZW5lIHsKbWF0NCB2aWV3UHJvamVjdGlvbjsKI2lmZGVmIE1VTFRJVklFVwptYXQ0IHZpZXdQcm9qZWN0aW9uUjsKI2VuZGlmIAptYXQ0IHZpZXc7Cm1hdDQgcHJvamVjdGlvbjsKdmVjNCB2RXllUG9zaXRpb247Cn07CmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtxYV09amE7Y29uc3QgJGE9Im1lc2hVYm9EZWNsYXJhdGlvbiIsUWE9YCNpZmRlZiBXRUJHTDIKdW5pZm9ybSBtYXQ0IHdvcmxkOwp1bmlmb3JtIGZsb2F0IHZpc2liaWxpdHk7CiNlbHNlCmxheW91dChzdGQxNDAsY29sdW1uX21ham9yKSB1bmlmb3JtOwp1bmlmb3JtIE1lc2gKewptYXQ0IHdvcmxkOwpmbG9hdCB2aXNpYmlsaXR5Owp9OwojZW5kaWYKI2RlZmluZSBXT1JMRF9VQk8KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlWyRhXT1RYTtjb25zdCBKYT0ic2hhZG93TWFwVWJvRGVjbGFyYXRpb24iLGVvPWBsYXlvdXQoc3RkMTQwLGNvbHVtbl9tYWpvcikgdW5pZm9ybTsKI2luY2x1ZGU8c2NlbmVVYm9EZWNsYXJhdGlvbj4KI2luY2x1ZGU8bWVzaFVib0RlY2xhcmF0aW9uPgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSmFdPWVvO2NvbnN0IHRvPSJzaGFkb3dNYXBWZXJ0ZXhFeHRyYURlY2xhcmF0aW9uIixpbz1gI2lmIFNNX05PUk1BTEJJQVM9PTEKdW5pZm9ybSB2ZWMzIGxpZ2h0RGF0YVNNOwojZW5kaWYKdW5pZm9ybSB2ZWMzIGJpYXNBbmRTY2FsZVNNOwp1bmlmb3JtIHZlYzIgZGVwdGhWYWx1ZXNTTTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWNTTTsKI2lmIFNNX1VTRURJU1RBTkNFPT0xCnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XU007CiNlbmRpZgojaWYgZGVmaW5lZChTTV9ERVBUSENMQU1QKSAmJiBTTV9ERVBUSENMQU1QPT0xCnZhcnlpbmcgZmxvYXQgelNNOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3RvXT1pbztjb25zdCBzbz0iY2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24iLHJvPWAjaWZkZWYgQ0xJUFBMQU5FCnVuaWZvcm0gdmVjNCB2Q2xpcFBsYW5lOwp2YXJ5aW5nIGZsb2F0IGZDbGlwRGlzdGFuY2U7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMgp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTI7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTI7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FMwp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTM7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTM7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNAp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTQ7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTQ7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNQp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTU7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTU7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNgp1bmlmb3JtIHZlYzQgdkNsaXBQbGFuZTY7CnZhcnlpbmcgZmxvYXQgZkNsaXBEaXN0YW5jZTY7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbc29dPXJvO2NvbnN0IG5vPSJtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWwiLGFvPWAjaWZkZWYgTU9SUEhUQVJHRVRTCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEVYVFVSRQpmbG9hdCB2ZXJ0ZXhJRDsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbm9dPWFvO2NvbnN0IG9vPSJtb3JwaFRhcmdldHNWZXJ0ZXgiLGhvPWAjaWZkZWYgTU9SUEhUQVJHRVRTCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEVYVFVSRSAKdmVydGV4SUQ9ZmxvYXQoZ2xfVmVydGV4SUQpKm1vcnBoVGFyZ2V0VGV4dHVyZUluZm8ueDsKcG9zaXRpb25VcGRhdGVkKz0ocmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcih7WH0sdmVydGV4SUQpLXBvc2l0aW9uKSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKdmVydGV4SUQrPTEuMDsKI2lmZGVmIE1PUlBIVEFSR0VUU19OT1JNQUwKbm9ybWFsVXBkYXRlZCs9KHJlYWRWZWN0b3IzRnJvbVJhd1NhbXBsZXIoe1h9LHZlcnRleElEKSAtbm9ybWFsKSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKdmVydGV4SUQrPTEuMDsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVVYKdXZVcGRhdGVkKz0ocmVhZFZlY3RvcjNGcm9tUmF3U2FtcGxlcih7WH0sdmVydGV4SUQpLnh5LXV2KSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKdmVydGV4SUQrPTEuMDsKI2VuZGlmCiNpZmRlZiBNT1JQSFRBUkdFVFNfVEFOR0VOVAp0YW5nZW50VXBkYXRlZC54eXorPShyZWFkVmVjdG9yM0Zyb21SYXdTYW1wbGVyKHtYfSx2ZXJ0ZXhJRCkgLXRhbmdlbnQueHl6KSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKI2VuZGlmCiNlbHNlCnBvc2l0aW9uVXBkYXRlZCs9KHBvc2l0aW9ue1h9LXBvc2l0aW9uKSptb3JwaFRhcmdldEluZmx1ZW5jZXNbe1h9XTsKI2lmZGVmIE1PUlBIVEFSR0VUU19OT1JNQUwKbm9ybWFsVXBkYXRlZCs9KG5vcm1hbHtYfS1ub3JtYWwpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19UQU5HRU5UCnRhbmdlbnRVcGRhdGVkLnh5eis9KHRhbmdlbnR7WH0tdGFuZ2VudC54eXopKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2lmZGVmIE1PUlBIVEFSR0VUU19VVgp1dlVwZGF0ZWQrPSh1dl97WH0tdXYpKm1vcnBoVGFyZ2V0SW5mbHVlbmNlc1t7WH1dOwojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbb29dPWhvO2NvbnN0IGxvPSJpbnN0YW5jZXNWZXJ0ZXgiLGNvPWAjaWZkZWYgSU5TVEFOQ0VTCm1hdDQgZmluYWxXb3JsZD1tYXQ0KHdvcmxkMCx3b3JsZDEsd29ybGQyLHdvcmxkMyk7CiNpZiBkZWZpbmVkKFBSRVBBU1NfVkVMT0NJVFkpIHx8IGRlZmluZWQoVkVMT0NJVFkpCm1hdDQgZmluYWxQcmV2aW91c1dvcmxkPW1hdDQocHJldmlvdXNXb3JsZDAscHJldmlvdXNXb3JsZDEscHJldmlvdXNXb3JsZDIscHJldmlvdXNXb3JsZDMpOwojZW5kaWYKI2lmZGVmIFRISU5fSU5TVEFOQ0VTCmZpbmFsV29ybGQ9d29ybGQqZmluYWxXb3JsZDsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKZmluYWxQcmV2aW91c1dvcmxkPXByZXZpb3VzV29ybGQqZmluYWxQcmV2aW91c1dvcmxkOwojZW5kaWYKI2VuZGlmCiNlbHNlCm1hdDQgZmluYWxXb3JsZD13b3JsZDsKI2lmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgfHwgZGVmaW5lZChWRUxPQ0lUWSkKbWF0NCBmaW5hbFByZXZpb3VzV29ybGQ9cHJldmlvdXNXb3JsZDsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbG9dPWNvO2NvbnN0IHVvPSJib25lc1ZlcnRleCIsZm89YCNpZm5kZWYgQkFLRURfVkVSVEVYX0FOSU1BVElPTl9URVhUVVJFCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4wCm1hdDQgaW5mbHVlbmNlOwojaWZkZWYgQk9ORVRFWFRVUkUKaW5mbHVlbmNlPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNbMF0pKm1hdHJpY2VzV2VpZ2h0c1swXTsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjEKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzWzFdKSptYXRyaWNlc1dlaWdodHNbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MgppbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlcihib25lU2FtcGxlcixtYXRyaWNlc0luZGljZXNbMl0pKm1hdHJpY2VzV2VpZ2h0c1syXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4zCmluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyKGJvbmVTYW1wbGVyLG1hdHJpY2VzSW5kaWNlc1szXSkqbWF0cmljZXNXZWlnaHRzWzNdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbMF0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjUKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbMV0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjYKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbMl0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjcKaW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXIoYm9uZVNhbXBsZXIsbWF0cmljZXNJbmRpY2VzRXh0cmFbM10pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKI2Vsc2UKaW5mbHVlbmNlPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzBdKV0qbWF0cmljZXNXZWlnaHRzWzBdOwojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+MQppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzFdKV0qbWF0cmljZXNXZWlnaHRzWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjIKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc1syXSldKm1hdHJpY2VzV2VpZ2h0c1syXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4zCmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNbM10pXSptYXRyaWNlc1dlaWdodHNbM107CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NAppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMF0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVswXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz41CmluZmx1ZW5jZSs9bUJvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVsxXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjYKaW5mbHVlbmNlKz1tQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzJdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NwppbmZsdWVuY2UrPW1Cb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbM10pXSptYXRyaWNlc1dlaWdodHNFeHRyYVszXTsKI2VuZGlmCiNlbmRpZgpmaW5hbFdvcmxkPWZpbmFsV29ybGQqaW5mbHVlbmNlOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt1b109Zm87Y29uc3QgX289ImJha2VkVmVydGV4QW5pbWF0aW9uIixnbz1gI2lmZGVmIEJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRQp7CiNpZmRlZiBJTlNUQU5DRVMKI2RlZmluZSBCVkFTTkFNRSBiYWtlZFZlcnRleEFuaW1hdGlvblNldHRpbmdzSW5zdGFuY2VkCiNlbHNlCiNkZWZpbmUgQlZBU05BTUUgYmFrZWRWZXJ0ZXhBbmltYXRpb25TZXR0aW5ncwojZW5kaWYKZmxvYXQgVkFUU3RhcnRGcmFtZT1CVkFTTkFNRS54OwpmbG9hdCBWQVRFbmRGcmFtZT1CVkFTTkFNRS55OwpmbG9hdCBWQVRPZmZzZXRGcmFtZT1CVkFTTkFNRS56OwpmbG9hdCBWQVRTcGVlZD1CVkFTTkFNRS53OwpmbG9hdCB0b3RhbEZyYW1lcz1WQVRFbmRGcmFtZS1WQVRTdGFydEZyYW1lKzEuMDsKZmxvYXQgdGltZT1iYWtlZFZlcnRleEFuaW1hdGlvblRpbWUqVkFUU3BlZWQvdG90YWxGcmFtZXM7CmZsb2F0IGZyYW1lQ29ycmVjdGlvbj10aW1lPDEuMCA/IDAuMCA6IDEuMDsKZmxvYXQgbnVtT2ZGcmFtZXM9dG90YWxGcmFtZXMtZnJhbWVDb3JyZWN0aW9uOwpmbG9hdCBWQVRGcmFtZU51bT1mcmFjdCh0aW1lKSpudW1PZkZyYW1lczsKVkFURnJhbWVOdW09bW9kKFZBVEZyYW1lTnVtK1ZBVE9mZnNldEZyYW1lLG51bU9mRnJhbWVzKTsKVkFURnJhbWVOdW09Zmxvb3IoVkFURnJhbWVOdW0pOwpWQVRGcmFtZU51bSs9VkFUU3RhcnRGcmFtZStmcmFtZUNvcnJlY3Rpb247Cm1hdDQgVkFUSW5mbHVlbmNlOwpWQVRJbmZsdWVuY2U9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNbMF0sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c1swXTsKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjEKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc1sxXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzWzFdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjIKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc1syXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjMKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc1szXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzWzNdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzBdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNFeHRyYVswXTsKI2VuZGlmCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz41ClZBVEluZmx1ZW5jZSs9cmVhZE1hdHJpeEZyb21SYXdTYW1wbGVyVkFUKGJha2VkVmVydGV4QW5pbWF0aW9uVGV4dHVyZSxtYXRyaWNlc0luZGljZXNFeHRyYVsxXSxWQVRGcmFtZU51bSkqbWF0cmljZXNXZWlnaHRzRXh0cmFbMV07CiNlbmRpZgojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NgpWQVRJbmZsdWVuY2UrPXJlYWRNYXRyaXhGcm9tUmF3U2FtcGxlclZBVChiYWtlZFZlcnRleEFuaW1hdGlvblRleHR1cmUsbWF0cmljZXNJbmRpY2VzRXh0cmFbMl0sVkFURnJhbWVOdW0pKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzJdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjcKVkFUSW5mbHVlbmNlKz1yZWFkTWF0cml4RnJvbVJhd1NhbXBsZXJWQVQoYmFrZWRWZXJ0ZXhBbmltYXRpb25UZXh0dXJlLG1hdHJpY2VzSW5kaWNlc0V4dHJhWzNdLFZBVEZyYW1lTnVtKSptYXRyaWNlc1dlaWdodHNFeHRyYVszXTsKI2VuZGlmCmZpbmFsV29ybGQ9ZmluYWxXb3JsZCpWQVRJbmZsdWVuY2U7Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtfb109Z287Y29uc3QgcG89InNoYWRvd01hcFZlcnRleE5vcm1hbEJpYXMiLG1vPWAjaWYgU01fTk9STUFMQklBUz09MQojaWYgU01fRElSRUNUSU9OSU5MSUdIVERBVEE9PTEKdmVjMyB3b3JsZExpZ2h0RGlyU009bm9ybWFsaXplKC1saWdodERhdGFTTS54eXopOwojZWxzZQp2ZWMzIGRpcmVjdGlvblRvTGlnaHRTTT1saWdodERhdGFTTS54eXotd29ybGRQb3MueHl6Owp2ZWMzIHdvcmxkTGlnaHREaXJTTT1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodFNNKTsKI2VuZGlmCmZsb2F0IG5kbFNNPWRvdCh2Tm9ybWFsVyx3b3JsZExpZ2h0RGlyU00pOwpmbG9hdCBzaW5OTFNNPXNxcnQoMS4wLW5kbFNNKm5kbFNNKTsKZmxvYXQgbm9ybWFsQmlhc1NNPWJpYXNBbmRTY2FsZVNNLnkqc2luTkxTTTsKd29ybGRQb3MueHl6LT12Tm9ybWFsVypub3JtYWxCaWFzU007CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbcG9dPW1vO2NvbnN0IHZvPSJzaGFkb3dNYXBWZXJ0ZXhNZXRyaWMiLEVvPWAjaWYgU01fVVNFRElTVEFOQ0U9PTEKdlBvc2l0aW9uV1NNPXdvcmxkUG9zLnh5ejsKI2VuZGlmCiNpZiBTTV9ERVBUSFRFWFRVUkU9PTEKI2lmZGVmIElTX05EQ19IQUxGX1pSQU5HRQojZGVmaW5lIEJJQVNGQUNUT1IgMC41CiNlbHNlCiNkZWZpbmUgQklBU0ZBQ1RPUiAxLjAKI2VuZGlmCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgpnbF9Qb3NpdGlvbi56LT1iaWFzQW5kU2NhbGVTTS54KmdsX1Bvc2l0aW9uLncqQklBU0ZBQ1RPUjsKI2Vsc2UKZ2xfUG9zaXRpb24ueis9Ymlhc0FuZFNjYWxlU00ueCpnbF9Qb3NpdGlvbi53KkJJQVNGQUNUT1I7CiNlbmRpZgojZW5kaWYKI2lmIGRlZmluZWQoU01fREVQVEhDTEFNUCkgJiYgU01fREVQVEhDTEFNUD09MQp6U009Z2xfUG9zaXRpb24uejsKZ2xfUG9zaXRpb24uej0wLjA7CiNlbGlmIFNNX1VTRURJU1RBTkNFPT0wCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWNTTT0oLWdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2Vsc2UKdkRlcHRoTWV0cmljU009KGdsX1Bvc2l0aW9uLnorZGVwdGhWYWx1ZXNTTS54KS9kZXB0aFZhbHVlc1NNLnkrYmlhc0FuZFNjYWxlU00ueDsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdm9dPUVvO2NvbnN0IFRvPSJjbGlwUGxhbmVWZXJ0ZXgiLGJvPWAjaWZkZWYgQ0xJUFBMQU5FCmZDbGlwRGlzdGFuY2U9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmUpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTIKZkNsaXBEaXN0YW5jZTI9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmUyKTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkUzCmZDbGlwRGlzdGFuY2UzPWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lMyk7CiNlbmRpZgojaWZkZWYgQ0xJUFBMQU5FNApmQ2xpcERpc3RhbmNlND1kb3Qod29ybGRQb3MsdkNsaXBQbGFuZTQpOwojZW5kaWYKI2lmZGVmIENMSVBQTEFORTUKZkNsaXBEaXN0YW5jZTU9ZG90KHdvcmxkUG9zLHZDbGlwUGxhbmU1KTsKI2VuZGlmCiNpZmRlZiBDTElQUExBTkU2CmZDbGlwRGlzdGFuY2U2PWRvdCh3b3JsZFBvcyx2Q2xpcFBsYW5lNik7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbVG9dPWJvO2NvbnN0IFNvPSJzaGFkb3dNYXBWZXJ0ZXhTaGFkZXIiLHhvPWBhdHRyaWJ1dGUgdmVjMyBwb3NpdGlvbjsKI2lmZGVmIE5PUk1BTAphdHRyaWJ1dGUgdmVjMyBub3JtYWw7CiNlbmRpZgojaW5jbHVkZTxib25lc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2lmZGVmIElOU1RBTkNFUwphdHRyaWJ1dGUgdmVjNCB3b3JsZDA7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMTsKYXR0cmlidXRlIHZlYzQgd29ybGQyOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDM7CiNlbmRpZgojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPF9fZGVjbF9fc2hhZG93TWFwVmVydGV4PgojaWZkZWYgQUxQSEFURVhUVVJFCnZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gbWF0NCBkaWZmdXNlTWF0cml4OwojaWZkZWYgVVYxCmF0dHJpYnV0ZSB2ZWMyIHV2OwojZW5kaWYKI2lmZGVmIFVWMgphdHRyaWJ1dGUgdmVjMiB1djI7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8c2hhZG93TWFwVmVydGV4RXh0cmFEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewp2ZWMzIHBvc2l0aW9uVXBkYXRlZD1wb3NpdGlvbjsKI2lmZGVmIFVWMQp2ZWMyIHV2VXBkYXRlZD11djsKI2VuZGlmCiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxVcGRhdGVkPW5vcm1hbDsKI2VuZGlmCiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbD4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHNdCiNpbmNsdWRlPGluc3RhbmNlc1ZlcnRleD4KI2luY2x1ZGU8Ym9uZXNWZXJ0ZXg+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uPgp2ZWM0IHdvcmxkUG9zPWZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2lmZGVmIE5PUk1BTAptYXQzIG5vcm1Xb3JsZFNNPW1hdDMoZmluYWxXb3JsZCk7CiNpZiBkZWZpbmVkKElOU1RBTkNFUykgJiYgZGVmaW5lZChUSElOX0lOU1RBTkNFUykKdmVjMyB2Tm9ybWFsVz1ub3JtYWxVcGRhdGVkL3ZlYzMoZG90KG5vcm1Xb3JsZFNNWzBdLG5vcm1Xb3JsZFNNWzBdKSxkb3Qobm9ybVdvcmxkU01bMV0sbm9ybVdvcmxkU01bMV0pLGRvdChub3JtV29ybGRTTVsyXSxub3JtV29ybGRTTVsyXSkpOwp2Tm9ybWFsVz1ub3JtYWxpemUobm9ybVdvcmxkU00qdk5vcm1hbFcpOwojZWxzZQojaWZkZWYgTk9OVU5JRk9STVNDQUxJTkcKbm9ybVdvcmxkU009dHJhbnNwb3NlTWF0MyhpbnZlcnNlTWF0Myhub3JtV29ybGRTTSkpOwojZW5kaWYKdmVjMyB2Tm9ybWFsVz1ub3JtYWxpemUobm9ybVdvcmxkU00qbm9ybWFsVXBkYXRlZCk7CiNlbmRpZgojZW5kaWYKI2luY2x1ZGU8c2hhZG93TWFwVmVydGV4Tm9ybWFsQmlhcz4KZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNpbmNsdWRlPHNoYWRvd01hcFZlcnRleE1ldHJpYz4KI2lmZGVmIEFMUEhBVEVYVFVSRQojaWZkZWYgVVYxCnZVVj12ZWMyKGRpZmZ1c2VNYXRyaXgqdmVjNCh1dlVwZGF0ZWQsMS4wLDAuMCkpOwojZW5kaWYKI2lmZGVmIFVWMgp2VVY9dmVjMihkaWZmdXNlTWF0cml4KnZlYzQodXYyLDEuMCwwLjApKTsKI2VuZGlmCiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXg+Cn1gO0wuU2hhZGVyc1N0b3JlW1NvXT14bztjb25zdCBNbz0iZGVwdGhCb3hCbHVyUGl4ZWxTaGFkZXIiLEFvPWB2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCB0ZXh0dXJlU2FtcGxlcjsKdW5pZm9ybSB2ZWMyIHNjcmVlblNpemU7CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0RFRklOSVRJT05TCnZvaWQgbWFpbih2b2lkKQp7CnZlYzQgY29sb3JEZXB0aD12ZWM0KDAuMCk7CmZvciAoaW50IHg9LU9GRlNFVDsgeDw9T0ZGU0VUOyB4KyspCmZvciAoaW50IHk9LU9GRlNFVDsgeTw9T0ZGU0VUOyB5KyspCmNvbG9yRGVwdGgrPXRleHR1cmUyRCh0ZXh0dXJlU2FtcGxlcix2VVYrdmVjMih4LHkpL3NjcmVlblNpemUpOwpnbF9GcmFnQ29sb3I9KGNvbG9yRGVwdGgvZmxvYXQoKE9GRlNFVCoyKzEpKihPRkZTRVQqMisxKSkpOwp9YDtMLlNoYWRlcnNTdG9yZVtNb109QW87Y29uc3QgUm89InNoYWRvd01hcEZyYWdtZW50U29mdFRyYW5zcGFyZW50U2hhZG93Iix5bz1gI2lmIFNNX1NPRlRUUkFOU1BBUkVOVFNIQURPVz09MQppZiAoKGJheWVyRGl0aGVyOChmbG9vcihtb2QoZ2xfRnJhZ0Nvb3JkLnh5LDguMCkpKSkvNjQuMD49c29mdFRyYW5zcGFyZW50U2hhZG93U00qYWxwaGEpIGRpc2NhcmQ7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbUm9dPXlvO2NsYXNzIEh7Z2V0IGJpYXMoKXtyZXR1cm4gdGhpcy5fYmlhc31zZXQgYmlhcyhlKXt0aGlzLl9iaWFzPWV9Z2V0IG5vcm1hbEJpYXMoKXtyZXR1cm4gdGhpcy5fbm9ybWFsQmlhc31zZXQgbm9ybWFsQmlhcyhlKXt0aGlzLl9ub3JtYWxCaWFzPWV9Z2V0IGJsdXJCb3hPZmZzZXQoKXtyZXR1cm4gdGhpcy5fYmx1ckJveE9mZnNldH1zZXQgYmx1ckJveE9mZnNldChlKXt0aGlzLl9ibHVyQm94T2Zmc2V0IT09ZSYmKHRoaXMuX2JsdXJCb3hPZmZzZXQ9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSl9Z2V0IGJsdXJTY2FsZSgpe3JldHVybiB0aGlzLl9ibHVyU2NhbGV9c2V0IGJsdXJTY2FsZShlKXt0aGlzLl9ibHVyU2NhbGUhPT1lJiYodGhpcy5fYmx1clNjYWxlPWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCkpfWdldCBibHVyS2VybmVsKCl7cmV0dXJuIHRoaXMuX2JsdXJLZXJuZWx9c2V0IGJsdXJLZXJuZWwoZSl7dGhpcy5fYmx1cktlcm5lbCE9PWUmJih0aGlzLl9ibHVyS2VybmVsPWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCkpfWdldCB1c2VLZXJuZWxCbHVyKCl7cmV0dXJuIHRoaXMuX3VzZUtlcm5lbEJsdXJ9c2V0IHVzZUtlcm5lbEJsdXIoZSl7dGhpcy5fdXNlS2VybmVsQmx1ciE9PWUmJih0aGlzLl91c2VLZXJuZWxCbHVyPWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCkpfWdldCBkZXB0aFNjYWxlKCl7cmV0dXJuIHRoaXMuX2RlcHRoU2NhbGUhPT12b2lkIDA/dGhpcy5fZGVwdGhTY2FsZTp0aGlzLl9saWdodC5nZXREZXB0aFNjYWxlKCl9c2V0IGRlcHRoU2NhbGUoZSl7dGhpcy5fZGVwdGhTY2FsZT1lfV92YWxpZGF0ZUZpbHRlcihlKXtyZXR1cm4gZX1nZXQgZmlsdGVyKCl7cmV0dXJuIHRoaXMuX2ZpbHRlcn1zZXQgZmlsdGVyKGUpe2lmKGU9dGhpcy5fdmFsaWRhdGVGaWx0ZXIoZSksdGhpcy5fbGlnaHQubmVlZEN1YmUoKSl7aWYoZT09PUguRklMVEVSX0JMVVJFWFBPTkVOVElBTFNIQURPV01BUCl7dGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDtyZXR1cm59ZWxzZSBpZihlPT09SC5GSUxURVJfQkxVUkNMT1NFRVhQT05FTlRJQUxTSEFET1dNQVApe3RoaXMudXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDtyZXR1cm59ZWxzZSBpZihlPT09SC5GSUxURVJfUENGfHxlPT09SC5GSUxURVJfUENTUyl7dGhpcy51c2VQb2lzc29uU2FtcGxpbmc9ITA7cmV0dXJufX1pZigoZT09PUguRklMVEVSX1BDRnx8ZT09PUguRklMVEVSX1BDU1MpJiYhdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuX2ZlYXR1cmVzLnN1cHBvcnRTaGFkb3dTYW1wbGVycyl7dGhpcy51c2VQb2lzc29uU2FtcGxpbmc9ITA7cmV0dXJufXRoaXMuX2ZpbHRlciE9PWUmJih0aGlzLl9maWx0ZXI9ZSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKSx0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCkpfWdldCB1c2VQb2lzc29uU2FtcGxpbmcoKXtyZXR1cm4gdGhpcy5maWx0ZXI9PT1ILkZJTFRFUl9QT0lTU09OU0FNUExJTkd9c2V0IHVzZVBvaXNzb25TYW1wbGluZyhlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEguRklMVEVSX1BPSVNTT05TQU1QTElORyk7IWUmJnRoaXMuZmlsdGVyIT09SC5GSUxURVJfUE9JU1NPTlNBTVBMSU5HfHwodGhpcy5maWx0ZXI9ZT90OkguRklMVEVSX05PTkUpfWdldCB1c2VFeHBvbmVudGlhbFNoYWRvd01hcCgpe3JldHVybiB0aGlzLmZpbHRlcj09PUguRklMVEVSX0VYUE9ORU5USUFMU0hBRE9XTUFQfXNldCB1c2VFeHBvbmVudGlhbFNoYWRvd01hcChlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEguRklMVEVSX0VYUE9ORU5USUFMU0hBRE9XTUFQKTshZSYmdGhpcy5maWx0ZXIhPT1ILkZJTFRFUl9FWFBPTkVOVElBTFNIQURPV01BUHx8KHRoaXMuZmlsdGVyPWU/dDpILkZJTFRFUl9OT05FKX1nZXQgdXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwKCl7cmV0dXJuIHRoaXMuZmlsdGVyPT09SC5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQfXNldCB1c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAoZSl7Y29uc3QgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihILkZJTFRFUl9CTFVSRVhQT05FTlRJQUxTSEFET1dNQVApOyFlJiZ0aGlzLmZpbHRlciE9PUguRklMVEVSX0JMVVJFWFBPTkVOVElBTFNIQURPV01BUHx8KHRoaXMuZmlsdGVyPWU/dDpILkZJTFRFUl9OT05FKX1nZXQgdXNlQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcCgpe3JldHVybiB0aGlzLmZpbHRlcj09PUguRklMVEVSX0NMT1NFRVhQT05FTlRJQUxTSEFET1dNQVB9c2V0IHVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXAoZSl7Y29uc3QgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihILkZJTFRFUl9DTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQKTshZSYmdGhpcy5maWx0ZXIhPT1ILkZJTFRFUl9DTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQfHwodGhpcy5maWx0ZXI9ZT90OkguRklMVEVSX05PTkUpfWdldCB1c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcCgpe3JldHVybiB0aGlzLmZpbHRlcj09PUguRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQfXNldCB1c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcChlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEguRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQKTshZSYmdGhpcy5maWx0ZXIhPT1ILkZJTFRFUl9CTFVSQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUHx8KHRoaXMuZmlsdGVyPWU/dDpILkZJTFRFUl9OT05FKX1nZXQgdXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZygpe3JldHVybiB0aGlzLmZpbHRlcj09PUguRklMVEVSX1BDRn1zZXQgdXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZyhlKXtjb25zdCB0PXRoaXMuX3ZhbGlkYXRlRmlsdGVyKEguRklMVEVSX1BDRik7IWUmJnRoaXMuZmlsdGVyIT09SC5GSUxURVJfUENGfHwodGhpcy5maWx0ZXI9ZT90OkguRklMVEVSX05PTkUpfWdldCBmaWx0ZXJpbmdRdWFsaXR5KCl7cmV0dXJuIHRoaXMuX2ZpbHRlcmluZ1F1YWxpdHl9c2V0IGZpbHRlcmluZ1F1YWxpdHkoZSl7dGhpcy5fZmlsdGVyaW5nUXVhbGl0eSE9PWUmJih0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PWUsdGhpcy5fZGlzcG9zZUJsdXJQb3N0UHJvY2Vzc2VzKCksdGhpcy5fYXBwbHlGaWx0ZXJWYWx1ZXMoKSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpKX1nZXQgdXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdygpe3JldHVybiB0aGlzLmZpbHRlcj09PUguRklMVEVSX1BDU1N9c2V0IHVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3coZSl7Y29uc3QgdD10aGlzLl92YWxpZGF0ZUZpbHRlcihILkZJTFRFUl9QQ1NTKTshZSYmdGhpcy5maWx0ZXIhPT1ILkZJTFRFUl9QQ1NTfHwodGhpcy5maWx0ZXI9ZT90OkguRklMVEVSX05PTkUpfWdldCBjb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbygpe3JldHVybiB0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpb31zZXQgY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8oZSl7dGhpcy5fY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW89ZX1nZXQgZGFya25lc3MoKXtyZXR1cm4gdGhpcy5fZGFya25lc3N9c2V0IGRhcmtuZXNzKGUpe3RoaXMuc2V0RGFya25lc3MoZSl9Z2V0RGFya25lc3MoKXtyZXR1cm4gdGhpcy5fZGFya25lc3N9c2V0RGFya25lc3MoZSl7cmV0dXJuIGU+PTE/dGhpcy5fZGFya25lc3M9MTplPD0wP3RoaXMuX2RhcmtuZXNzPTA6dGhpcy5fZGFya25lc3M9ZSx0aGlzfWdldCB0cmFuc3BhcmVuY3lTaGFkb3coKXtyZXR1cm4gdGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93fXNldCB0cmFuc3BhcmVuY3lTaGFkb3coZSl7dGhpcy5zZXRUcmFuc3BhcmVuY3lTaGFkb3coZSl9c2V0VHJhbnNwYXJlbmN5U2hhZG93KGUpe3JldHVybiB0aGlzLl90cmFuc3BhcmVuY3lTaGFkb3c9ZSx0aGlzfWdldFNoYWRvd01hcCgpe3JldHVybiB0aGlzLl9zaGFkb3dNYXB9Z2V0U2hhZG93TWFwRm9yUmVuZGVyaW5nKCl7cmV0dXJuIHRoaXMuX3NoYWRvd01hcDI/dGhpcy5fc2hhZG93TWFwMjp0aGlzLl9zaGFkb3dNYXB9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIEguQ0xBU1NOQU1FfWFkZFNoYWRvd0Nhc3RlcihlLHQ9ITApe2lmKCF0aGlzLl9zaGFkb3dNYXApcmV0dXJuIHRoaXM7aWYodGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3R8fCh0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdD1bXSksdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QuaW5kZXhPZihlKT09PS0xJiZ0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5wdXNoKGUpLHQpZm9yKGNvbnN0IGkgb2YgZS5nZXRDaGlsZE1lc2hlcygpKXRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LmluZGV4T2YoaSk9PT0tMSYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QucHVzaChpKTtyZXR1cm4gdGhpc31yZW1vdmVTaGFkb3dDYXN0ZXIoZSx0PSEwKXtpZighdGhpcy5fc2hhZG93TWFwfHwhdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3QpcmV0dXJuIHRoaXM7Y29uc3QgaT10aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdC5pbmRleE9mKGUpO2lmKGkhPT0tMSYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Quc3BsaWNlKGksMSksdClmb3IoY29uc3QgcyBvZiBlLmdldENoaWxkcmVuKCkpdGhpcy5yZW1vdmVTaGFkb3dDYXN0ZXIocyk7cmV0dXJuIHRoaXN9Z2V0TGlnaHQoKXtyZXR1cm4gdGhpcy5fbGlnaHR9X2dldENhbWVyYSgpe3ZhciBlO3JldHVybihlPXRoaXMuX2NhbWVyYSkhPT1udWxsJiZlIT09dm9pZCAwP2U6dGhpcy5fc2NlbmUuYWN0aXZlQ2FtZXJhfWdldCBtYXBTaXplKCl7cmV0dXJuIHRoaXMuX21hcFNpemV9c2V0IG1hcFNpemUoZSl7dGhpcy5fbWFwU2l6ZT1lLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCksdGhpcy5yZWNyZWF0ZVNoYWRvd01hcCgpfWNvbnN0cnVjdG9yKGUsdCxpLHMpe3RoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlclNoYWRvd01hcFJlbmRlck9ic2VydmFibGU9bmV3IHcsdGhpcy5vbkJlZm9yZVNoYWRvd01hcFJlbmRlck1lc2hPYnNlcnZhYmxlPW5ldyB3LHRoaXMub25BZnRlclNoYWRvd01hcFJlbmRlck1lc2hPYnNlcnZhYmxlPW5ldyB3LHRoaXMuX2JpYXM9NWUtNSx0aGlzLl9ub3JtYWxCaWFzPTAsdGhpcy5fYmx1ckJveE9mZnNldD0xLHRoaXMuX2JsdXJTY2FsZT0yLHRoaXMuX2JsdXJLZXJuZWw9MSx0aGlzLl91c2VLZXJuZWxCbHVyPSExLHRoaXMuX2ZpbHRlcj1ILkZJTFRFUl9OT05FLHRoaXMuX2ZpbHRlcmluZ1F1YWxpdHk9SC5RVUFMSVRZX0hJR0gsdGhpcy5fY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW89LjEsdGhpcy5fZGFya25lc3M9MCx0aGlzLl90cmFuc3BhcmVuY3lTaGFkb3c9ITEsdGhpcy5lbmFibGVTb2Z0VHJhbnNwYXJlbnRTaGFkb3c9ITEsdGhpcy51c2VPcGFjaXR5VGV4dHVyZUZvclRyYW5zcGFyZW50U2hhZG93PSExLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmPTAsdGhpcy5mb3JjZUJhY2tGYWNlc09ubHk9ITEsdGhpcy5fbGlnaHREaXJlY3Rpb249cC5aZXJvKCksdGhpcy5fdmlld01hdHJpeD1NLlplcm8oKSx0aGlzLl9wcm9qZWN0aW9uTWF0cml4PU0uWmVybygpLHRoaXMuX3RyYW5zZm9ybU1hdHJpeD1NLlplcm8oKSx0aGlzLl9jYWNoZWRQb3NpdGlvbj1uZXcgcChOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSksdGhpcy5fY2FjaGVkRGlyZWN0aW9uPW5ldyBwKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jdXJyZW50RmFjZUluZGV4PTAsdGhpcy5fY3VycmVudEZhY2VJbmRleENhY2hlPTAsdGhpcy5fZGVmYXVsdFRleHR1cmVNYXRyaXg9TS5JZGVudGl0eSgpLHRoaXMuX21hcFNpemU9ZSx0aGlzLl9saWdodD10LHRoaXMuX3NjZW5lPXQuZ2V0U2NlbmUoKSx0aGlzLl9jYW1lcmE9cz8/bnVsbDtsZXQgcj10Ll9zaGFkb3dHZW5lcmF0b3JzO3J8fChyPXQuX3NoYWRvd0dlbmVyYXRvcnM9bmV3IE1hcCksci5zZXQodGhpcy5fY2FtZXJhLHRoaXMpLHRoaXMuaWQ9dC5pZCx0aGlzLl91c2VVQk89dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkuc3VwcG9ydHNVbmlmb3JtQnVmZmVycyx0aGlzLl91c2VVQk8mJih0aGlzLl9zY2VuZVVCT3M9W10sdGhpcy5fc2NlbmVVQk9zLnB1c2godGhpcy5fc2NlbmUuY3JlYXRlU2NlbmVVbmlmb3JtQnVmZmVyKGBTY2VuZSBmb3IgU2hhZG93IEdlbmVyYXRvciAobGlnaHQgIiR7dGhpcy5fbGlnaHQubmFtZX0iKWApKSksSC5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbih0aGlzLl9zY2VuZSk7Y29uc3Qgbj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5nZXRDYXBzKCk7aT9uLnRleHR1cmVGbG9hdFJlbmRlciYmbi50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9MTpuLnRleHR1cmVIYWxmRmxvYXRSZW5kZXImJm4udGV4dHVyZUhhbGZGbG9hdExpbmVhckZpbHRlcmluZz90aGlzLl90ZXh0dXJlVHlwZT0yOnRoaXMuX3RleHR1cmVUeXBlPTA6bi50ZXh0dXJlSGFsZkZsb2F0UmVuZGVyJiZuLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9MjpuLnRleHR1cmVGbG9hdFJlbmRlciYmbi50ZXh0dXJlRmxvYXRMaW5lYXJGaWx0ZXJpbmc/dGhpcy5fdGV4dHVyZVR5cGU9MTp0aGlzLl90ZXh0dXJlVHlwZT0wLHRoaXMuX2luaXRpYWxpemVHZW5lcmF0b3IoKSx0aGlzLl9hcHBseUZpbHRlclZhbHVlcygpfV9pbml0aWFsaXplR2VuZXJhdG9yKCl7dGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSx0aGlzLl9pbml0aWFsaXplU2hhZG93TWFwKCl9X2NyZWF0ZVRhcmdldFJlbmRlclRleHR1cmUoKXtjb25zdCBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpO2UuX2ZlYXR1cmVzLnN1cHBvcnREZXB0aFN0ZW5jaWxUZXh0dXJlPyh0aGlzLl9zaGFkb3dNYXA9bmV3IGd0KHRoaXMuX2xpZ2h0Lm5hbWUrIl9zaGFkb3dNYXAiLHRoaXMuX21hcFNpemUsdGhpcy5fc2NlbmUsITEsITAsdGhpcy5fdGV4dHVyZVR5cGUsdGhpcy5fbGlnaHQubmVlZEN1YmUoKSx2b2lkIDAsITEsITEpLHRoaXMuX3NoYWRvd01hcC5jcmVhdGVEZXB0aFN0ZW5jaWxUZXh0dXJlKGUudXNlUmV2ZXJzZURlcHRoQnVmZmVyPzUxNjo1MTMsITApKTp0aGlzLl9zaGFkb3dNYXA9bmV3IGd0KHRoaXMuX2xpZ2h0Lm5hbWUrIl9zaGFkb3dNYXAiLHRoaXMuX21hcFNpemUsdGhpcy5fc2NlbmUsITEsITAsdGhpcy5fdGV4dHVyZVR5cGUsdGhpcy5fbGlnaHQubmVlZEN1YmUoKSl9X2luaXRpYWxpemVTaGFkb3dNYXAoKXtpZih0aGlzLl9jcmVhdGVUYXJnZXRSZW5kZXJUZXh0dXJlKCksdGhpcy5fc2hhZG93TWFwPT09bnVsbClyZXR1cm47dGhpcy5fc2hhZG93TWFwLndyYXBVPU4uQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwLndyYXBWPU4uQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwLmFuaXNvdHJvcGljRmlsdGVyaW5nTGV2ZWw9MSx0aGlzLl9zaGFkb3dNYXAudXBkYXRlU2FtcGxpbmdNb2RlKE4uQklMSU5FQVJfU0FNUExJTkdNT0RFKSx0aGlzLl9zaGFkb3dNYXAucmVuZGVyUGFydGljbGVzPSExLHRoaXMuX3NoYWRvd01hcC5pZ25vcmVDYW1lcmFWaWV3cG9ydD0hMCx0aGlzLl9zdG9yZWRVbmlxdWVJZCYmKHRoaXMuX3NoYWRvd01hcC51bmlxdWVJZD10aGlzLl9zdG9yZWRVbmlxdWVJZCksdGhpcy5fc2hhZG93TWFwLmN1c3RvbVJlbmRlckZ1bmN0aW9uPXRoaXMuX3JlbmRlckZvclNoYWRvd01hcC5iaW5kKHRoaXMpLHRoaXMuX3NoYWRvd01hcC5jdXN0b21Jc1JlYWR5RnVuY3Rpb249KCk9PiEwO2NvbnN0IGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlQmluZE9ic2VydmFibGUuYWRkKCgpPT57dmFyIHM7dGhpcy5fY3VycmVudFNjZW5lVUJPPXRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLChzPWUuX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fHM9PT12b2lkIDB8fHMuY2FsbChlLGBzaGFkb3cgbWFwIGdlbmVyYXRpb24gZm9yIHBhc3MgaWQgJHtlLmN1cnJlbnRSZW5kZXJQYXNzSWR9YCwxKX0pLHRoaXMuX3NoYWRvd01hcC5vbkJlZm9yZVJlbmRlck9ic2VydmFibGUuYWRkKHM9Pnt0aGlzLl9zY2VuZVVCT3MmJnRoaXMuX3NjZW5lLnNldFNjZW5lVW5pZm9ybUJ1ZmZlcih0aGlzLl9zY2VuZVVCT3NbMF0pLHRoaXMuX2N1cnJlbnRGYWNlSW5kZXg9cyx0aGlzLl9maWx0ZXI9PT1ILkZJTFRFUl9QQ0YmJmUuc2V0Q29sb3JXcml0ZSghMSksdGhpcy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLl9zY2VuZS5zZXRUcmFuc2Zvcm1NYXRyaXgodGhpcy5fdmlld01hdHJpeCx0aGlzLl9wcm9qZWN0aW9uTWF0cml4KSx0aGlzLl91c2VVQk8mJih0aGlzLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKS51bmJpbmRFZmZlY3QoKSx0aGlzLl9zY2VuZS5maW5hbGl6ZVNjZW5lVWJvKCkpfSksdGhpcy5fc2hhZG93TWFwLm9uQWZ0ZXJVbmJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciBzLHI7aWYodGhpcy5fc2NlbmVVQk9zJiZ0aGlzLl9zY2VuZS5zZXRTY2VuZVVuaWZvcm1CdWZmZXIodGhpcy5fY3VycmVudFNjZW5lVUJPKSx0aGlzLl9zY2VuZS51cGRhdGVUcmFuc2Zvcm1NYXRyaXgoKSx0aGlzLl9maWx0ZXI9PT1ILkZJTFRFUl9QQ0YmJmUuc2V0Q29sb3JXcml0ZSghMCksIXRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwJiYhdGhpcy51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcCl7KHM9ZS5fZGVidWdQb3BHcm91cCk9PT1udWxsfHxzPT09dm9pZCAwfHxzLmNhbGwoZSwxKTtyZXR1cm59Y29uc3Qgbj10aGlzLmdldFNoYWRvd01hcEZvclJlbmRlcmluZygpO24mJih0aGlzLl9zY2VuZS5wb3N0UHJvY2Vzc01hbmFnZXIuZGlyZWN0UmVuZGVyKHRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzLG4ucmVuZGVyVGFyZ2V0LCEwKSxlLnVuQmluZEZyYW1lYnVmZmVyKG4ucmVuZGVyVGFyZ2V0LCEwKSwocj1lLl9kZWJ1Z1BvcEdyb3VwKT09PW51bGx8fHI9PT12b2lkIDB8fHIuY2FsbChlLDEpKX0pO2NvbnN0IHQ9bmV3IE5lKDAsMCwwLDApLGk9bmV3IE5lKDEsMSwxLDEpO3RoaXMuX3NoYWRvd01hcC5vbkNsZWFyT2JzZXJ2YWJsZS5hZGQocz0+e3RoaXMuX2ZpbHRlcj09PUguRklMVEVSX1BDRj9zLmNsZWFyKGksITEsITAsITEpOnRoaXMudXNlRXhwb25lbnRpYWxTaGFkb3dNYXB8fHRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwP3MuY2xlYXIodCwhMCwhMCwhMSk6cy5jbGVhcihpLCEwLCEwLCExKX0pLHRoaXMuX3NoYWRvd01hcC5vblJlc2l6ZU9ic2VydmFibGUuYWRkKHM9Pnt0aGlzLl9zdG9yZWRVbmlxdWVJZD10aGlzLl9zaGFkb3dNYXAudW5pcXVlSWQsdGhpcy5fbWFwU2l6ZT1zLmdldFJlbmRlclNpemUoKSx0aGlzLl9saWdodC5fbWFya01lc2hlc0FzTGlnaHREaXJ0eSgpLHRoaXMucmVjcmVhdGVTaGFkb3dNYXAoKX0pO2ZvcihsZXQgcz1XZS5NSU5fUkVOREVSSU5HR1JPVVBTO3M8V2UuTUFYX1JFTkRFUklOR0dST1VQUztzKyspdGhpcy5fc2hhZG93TWFwLnNldFJlbmRlcmluZ0F1dG9DbGVhckRlcHRoU3RlbmNpbChzLCExKX1faW5pdGlhbGl6ZUJsdXJSVFRBbmRQb3N0UHJvY2Vzc2VzKCl7Y29uc3QgZT10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKSx0PXRoaXMuX21hcFNpemUvdGhpcy5ibHVyU2NhbGU7KCF0aGlzLnVzZUtlcm5lbEJsdXJ8fHRoaXMuYmx1clNjYWxlIT09MSkmJih0aGlzLl9zaGFkb3dNYXAyPW5ldyBndCh0aGlzLl9saWdodC5uYW1lKyJfc2hhZG93TWFwMiIsdCx0aGlzLl9zY2VuZSwhMSwhMCx0aGlzLl90ZXh0dXJlVHlwZSx2b2lkIDAsdm9pZCAwLCExKSx0aGlzLl9zaGFkb3dNYXAyLndyYXBVPU4uQ0xBTVBfQUREUkVTU01PREUsdGhpcy5fc2hhZG93TWFwMi53cmFwVj1OLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX3NoYWRvd01hcDIudXBkYXRlU2FtcGxpbmdNb2RlKE4uQklMSU5FQVJfU0FNUExJTkdNT0RFKSksdGhpcy51c2VLZXJuZWxCbHVyPyh0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzPW5ldyBlaSh0aGlzLl9saWdodC5uYW1lKyJLZXJuZWxCbHVyWCIsbmV3IHZlKDEsMCksdGhpcy5ibHVyS2VybmVsLDEsbnVsbCxOLkJJTElORUFSX1NBTVBMSU5HTU9ERSxlLCExLHRoaXMuX3RleHR1cmVUeXBlKSx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLndpZHRoPXQsdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5oZWlnaHQ9dCx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzLmV4dGVybmFsVGV4dHVyZVNhbXBsZXJCaW5kaW5nPSEwLHRoaXMuX2tlcm5lbEJsdXJYUG9zdHByb2Nlc3Mub25BcHBseU9ic2VydmFibGUuYWRkKGk9PntpLnNldFRleHR1cmUoInRleHR1cmVTYW1wbGVyIix0aGlzLl9zaGFkb3dNYXApfSksdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcz1uZXcgZWkodGhpcy5fbGlnaHQubmFtZSsiS2VybmVsQmx1clkiLG5ldyB2ZSgwLDEpLHRoaXMuYmx1cktlcm5lbCwxLG51bGwsTi5CSUxJTkVBUl9TQU1QTElOR01PREUsZSwhMSx0aGlzLl90ZXh0dXJlVHlwZSksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fdGV4dHVyZVR5cGU9PT0wJiYodGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5wYWNrZWRGbG9hdD0hMCx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLnBhY2tlZEZsb2F0PSEwKSx0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcz1bdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcyx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzXSk6KHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcz1uZXcgeGUodGhpcy5fbGlnaHQubmFtZSsiRGVwdGhCb3hCbHVyIiwiZGVwdGhCb3hCbHVyIixbInNjcmVlblNpemUiLCJib3hPZmZzZXQiXSxbXSwxLG51bGwsTi5CSUxJTkVBUl9TQU1QTElOR01PREUsZSwhMSwiI2RlZmluZSBPRkZTRVQgIit0aGlzLl9ibHVyQm94T2Zmc2V0LHRoaXMuX3RleHR1cmVUeXBlKSx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MuZXh0ZXJuYWxUZXh0dXJlU2FtcGxlckJpbmRpbmc9ITAsdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLm9uQXBwbHlPYnNlcnZhYmxlLmFkZChpPT57aS5zZXRGbG9hdDIoInNjcmVlblNpemUiLHQsdCksaS5zZXRUZXh0dXJlKCJ0ZXh0dXJlU2FtcGxlciIsdGhpcy5fc2hhZG93TWFwKX0pLHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcy5hdXRvQ2xlYXI9ITEsdGhpcy5fYmx1clBvc3RQcm9jZXNzZXM9W3RoaXMuX2JveEJsdXJQb3N0cHJvY2Vzc10pfV9yZW5kZXJGb3JTaGFkb3dNYXAoZSx0LGkscyl7bGV0IHI7aWYocy5sZW5ndGgpZm9yKHI9MDtyPHMubGVuZ3RoO3IrKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKHMuZGF0YVtyXSk7Zm9yKHI9MDtyPGUubGVuZ3RoO3IrKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKGUuZGF0YVtyXSk7Zm9yKHI9MDtyPHQubGVuZ3RoO3IrKyl0aGlzLl9yZW5kZXJTdWJNZXNoRm9yU2hhZG93TWFwKHQuZGF0YVtyXSk7aWYodGhpcy5fdHJhbnNwYXJlbmN5U2hhZG93KWZvcihyPTA7cjxpLmxlbmd0aDtyKyspdGhpcy5fcmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChpLmRhdGFbcl0sITApO2Vsc2UgZm9yKHI9MDtyPGkubGVuZ3RoO3IrKylpLmRhdGFbcl0uZ2V0RWZmZWN0aXZlTWVzaCgpLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMX1fYmluZEN1c3RvbUVmZmVjdEZvclJlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoZSx0LGkpe3Quc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsdGhpcy5nZXRUcmFuc2Zvcm1NYXRyaXgoKSl9X3JlbmRlclN1Yk1lc2hGb3JTaGFkb3dNYXAoZSx0PSExKXt2YXIgaSxzO2NvbnN0IHI9ZS5nZXRSZW5kZXJpbmdNZXNoKCksbj1lLmdldEVmZmVjdGl2ZU1lc2goKSxhPXRoaXMuX3NjZW5lLG89YS5nZXRFbmdpbmUoKSxoPWUuZ2V0TWF0ZXJpYWwoKTtpZihuLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMSwhaHx8ZS52ZXJ0aWNlc0NvdW50PT09MHx8ZS5fcmVuZGVySWQ9PT1hLmdldFJlbmRlcklkKCkpcmV0dXJuO2NvbnN0IGw9bi5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPDA7bGV0IHU9KGk9ci5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uKSE9PW51bGwmJmkhPT12b2lkIDA/aTpoLnNpZGVPcmllbnRhdGlvbjtsJiYodT11PT09MD8xOjApO2NvbnN0IGQ9dT09PTA7by5zZXRTdGF0ZShoLmJhY2tGYWNlQ3VsbGluZyx2b2lkIDAsdm9pZCAwLGQsaC5jdWxsQmFja0ZhY2VzKTtjb25zdCBfPXIuX2dldEluc3RhbmNlc1JlbmRlckxpc3QoZS5faWQsISFlLmdldFJlcGxhY2VtZW50TWVzaCgpKTtpZihfLm11c3RSZXR1cm4pcmV0dXJuO2NvbnN0IGY9by5nZXRDYXBzKCkuaW5zdGFuY2VkQXJyYXlzJiYoXy52aXNpYmxlSW5zdGFuY2VzW2UuX2lkXSE9PW51bGwmJl8udmlzaWJsZUluc3RhbmNlc1tlLl9pZF0hPT12b2lkIDB8fHIuaGFzVGhpbkluc3RhbmNlcyk7aWYoISh0aGlzLmN1c3RvbUFsbG93UmVuZGVyaW5nJiYhdGhpcy5jdXN0b21BbGxvd1JlbmRlcmluZyhlKSkpaWYodGhpcy5pc1JlYWR5KGUsZix0KSl7ZS5fcmVuZGVySWQ9YS5nZXRSZW5kZXJJZCgpO2NvbnN0IG09aC5zaGFkb3dEZXB0aFdyYXBwZXIsdj0ocz1tPT1udWxsP3ZvaWQgMDptLmdldEVmZmVjdChlLHRoaXMsby5jdXJyZW50UmVuZGVyUGFzc0lkKSkhPT1udWxsJiZzIT09dm9pZCAwP3M6ZS5fZ2V0RHJhd1dyYXBwZXIoKSxFPXZpLkdldEVmZmVjdCh2KTtvLmVuYWJsZUVmZmVjdCh2KSxmfHxyLl9iaW5kKGUsRSxoLmZpbGxNb2RlKSx0aGlzLmdldFRyYW5zZm9ybU1hdHJpeCgpLEUuc2V0RmxvYXQzKCJiaWFzQW5kU2NhbGVTTSIsdGhpcy5iaWFzLHRoaXMubm9ybWFsQmlhcyx0aGlzLmRlcHRoU2NhbGUpLHRoaXMuZ2V0TGlnaHQoKS5nZXRUeXBlSUQoKT09PW9lLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ/RS5zZXRWZWN0b3IzKCJsaWdodERhdGFTTSIsdGhpcy5fY2FjaGVkRGlyZWN0aW9uKTpFLnNldFZlY3RvcjMoImxpZ2h0RGF0YVNNIix0aGlzLl9jYWNoZWRQb3NpdGlvbik7Y29uc3QgUz10aGlzLl9nZXRDYW1lcmEoKTtpZihTJiZFLnNldEZsb2F0MigiZGVwdGhWYWx1ZXNTTSIsdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihTKSx0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKFMpK3RoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1heFooUykpLHQmJnRoaXMuZW5hYmxlU29mdFRyYW5zcGFyZW50U2hhZG93JiZFLnNldEZsb2F0KCJzb2Z0VHJhbnNwYXJlbnRTaGFkb3dTTSIsbi52aXNpYmlsaXR5KmguYWxwaGEpLG0pZS5fc2V0TWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUodiksbS5zdGFuZGFsb25lP20uYmFzZU1hdGVyaWFsLmJpbmRGb3JTdWJNZXNoKG4uZ2V0V29ybGRNYXRyaXgoKSxyLGUpOmguYmluZEZvclN1Yk1lc2gobi5nZXRXb3JsZE1hdHJpeCgpLHIsZSksZS5fc2V0TWFpbkRyYXdXcmFwcGVyT3ZlcnJpZGUobnVsbCk7ZWxzZXtpZih0aGlzLl9vcGFjaXR5VGV4dHVyZSYmKEUuc2V0VGV4dHVyZSgiZGlmZnVzZVNhbXBsZXIiLHRoaXMuX29wYWNpdHlUZXh0dXJlKSxFLnNldE1hdHJpeCgiZGlmZnVzZU1hdHJpeCIsdGhpcy5fb3BhY2l0eVRleHR1cmUuZ2V0VGV4dHVyZU1hdHJpeCgpfHx0aGlzLl9kZWZhdWx0VGV4dHVyZU1hdHJpeCkpLHIudXNlQm9uZXMmJnIuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZyLnNrZWxldG9uKXtjb25zdCBBPXIuc2tlbGV0b247aWYoQS5pc1VzaW5nVGV4dHVyZUZvck1hdHJpY2VzKXtjb25zdCBDPUEuZ2V0VHJhbnNmb3JtTWF0cml4VGV4dHVyZShyKTtpZighQylyZXR1cm47RS5zZXRUZXh0dXJlKCJib25lU2FtcGxlciIsQyksRS5zZXRGbG9hdCgiYm9uZVRleHR1cmVXaWR0aCIsNCooQS5ib25lcy5sZW5ndGgrMSkpfWVsc2UgRS5zZXRNYXRyaWNlcygibUJvbmVzIixBLmdldFRyYW5zZm9ybU1hdHJpY2VzKHIpKX1zZS5CaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzKHIsRSksci5tb3JwaFRhcmdldE1hbmFnZXImJnIubW9ycGhUYXJnZXRNYW5hZ2VyLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmci5tb3JwaFRhcmdldE1hbmFnZXIuX2JpbmQoRSksaHMoRSxoLGEpfSF0aGlzLl91c2VVQk8mJiFtJiZ0aGlzLl9iaW5kQ3VzdG9tRWZmZWN0Rm9yUmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChlLEUsbiksc2UuQmluZFNjZW5lVW5pZm9ybUJ1ZmZlcihFLHRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpKSx0aGlzLl9zY2VuZS5nZXRTY2VuZVVuaWZvcm1CdWZmZXIoKS5iaW5kVW5pZm9ybUJ1ZmZlcigpO2NvbnN0IFI9bi5nZXRXb3JsZE1hdHJpeCgpO2YmJihuLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KEUsIk1lc2giKSxuLnRyYW5zZmVyVG9FZmZlY3QoUikpLHRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5JiZvLnNldFN0YXRlKCEwLDAsITEsITAsaC5jdWxsQmFja0ZhY2VzKSx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKHIpLHRoaXMub25CZWZvcmVTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhFKSxyLl9wcm9jZXNzUmVuZGVyaW5nKG4sZSxFLGguZmlsbE1vZGUsXyxmLChBLEMpPT57biE9PXImJiFBPyhyLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KEUsIk1lc2giKSxyLnRyYW5zZmVyVG9FZmZlY3QoQykpOihuLmdldE1lc2hVbmlmb3JtQnVmZmVyKCkuYmluZFRvRWZmZWN0KEUsIk1lc2giKSxuLnRyYW5zZmVyVG9FZmZlY3QoQT9DOlIpKX0pLHRoaXMuZm9yY2VCYWNrRmFjZXNPbmx5JiZvLnNldFN0YXRlKCEwLDAsITEsITEsaC5jdWxsQmFja0ZhY2VzKSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhFKSx0aGlzLm9uQWZ0ZXJTaGFkb3dNYXBSZW5kZXJNZXNoT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocil9ZWxzZSB0aGlzLl9zaGFkb3dNYXAmJnRoaXMuX3NoYWRvd01hcC5yZXNldFJlZnJlc2hDb3VudGVyKCl9X2FwcGx5RmlsdGVyVmFsdWVzKCl7dGhpcy5fc2hhZG93TWFwJiYodGhpcy5maWx0ZXI9PT1ILkZJTFRFUl9OT05FfHx0aGlzLmZpbHRlcj09PUguRklMVEVSX1BDU1M/dGhpcy5fc2hhZG93TWFwLnVwZGF0ZVNhbXBsaW5nTW9kZShOLk5FQVJFU1RfU0FNUExJTkdNT0RFKTp0aGlzLl9zaGFkb3dNYXAudXBkYXRlU2FtcGxpbmdNb2RlKE4uQklMSU5FQVJfU0FNUExJTkdNT0RFKSl9Zm9yY2VDb21waWxhdGlvbihlLHQpe2NvbnN0IGk9e3VzZUluc3RhbmNlczohMSwuLi50fSxzPXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYoIXMpe2UmJmUodGhpcyk7cmV0dXJufWNvbnN0IHI9cy5yZW5kZXJMaXN0O2lmKCFyKXtlJiZlKHRoaXMpO3JldHVybn1jb25zdCBuPW5ldyBBcnJheTtmb3IoY29uc3QgaCBvZiByKW4ucHVzaCguLi5oLnN1Yk1lc2hlcyk7aWYobi5sZW5ndGg9PT0wKXtlJiZlKHRoaXMpO3JldHVybn1sZXQgYT0wO2NvbnN0IG89KCk9Pnt2YXIgaCxsO2lmKCEoIXRoaXMuX3NjZW5lfHwhdGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkpKXtmb3IoO3RoaXMuaXNSZWFkeShuW2FdLGkudXNlSW5zdGFuY2VzLChsPShoPW5bYV0uZ2V0TWF0ZXJpYWwoKSk9PT1udWxsfHxoPT09dm9pZCAwP3ZvaWQgMDpoLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaChuW2FdLmdldE1lc2goKSkpIT09bnVsbCYmbCE9PXZvaWQgMD9sOiExKTspaWYoYSsrLGE+PW4ubGVuZ3RoKXtlJiZlKHRoaXMpO3JldHVybn1zZXRUaW1lb3V0KG8sMTYpfX07bygpfWZvcmNlQ29tcGlsYXRpb25Bc3luYyhlKXtyZXR1cm4gbmV3IFByb21pc2UodD0+e3RoaXMuZm9yY2VDb21waWxhdGlvbigoKT0+e3QoKX0sZSl9KX1faXNSZWFkeUN1c3RvbURlZmluZXMoZSx0LGkpe31fcHJlcGFyZVNoYWRvd0RlZmluZXMoZSx0LGkscyl7aS5wdXNoKCIjZGVmaW5lIFNNX0xJR0hUVFlQRV8iK3RoaXMuX2xpZ2h0LmdldENsYXNzTmFtZSgpLnRvVXBwZXJDYXNlKCkpLGkucHVzaCgiI2RlZmluZSBTTV9GTE9BVCAiKyh0aGlzLl90ZXh0dXJlVHlwZSE9PTA/IjEiOiIwIikpLGkucHVzaCgiI2RlZmluZSBTTV9FU00gIisodGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/IjEiOiIwIikpLGkucHVzaCgiI2RlZmluZSBTTV9ERVBUSFRFWFRVUkUgIisodGhpcy51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nfHx0aGlzLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c/IjEiOiIwIikpO2NvbnN0IHI9ZS5nZXRNZXNoKCk7cmV0dXJuIGkucHVzaCgiI2RlZmluZSBTTV9OT1JNQUxCSUFTICIrKHRoaXMubm9ybWFsQmlhcyYmci5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKT8iMSI6IjAiKSksaS5wdXNoKCIjZGVmaW5lIFNNX0RJUkVDVElPTklOTElHSFREQVRBICIrKHRoaXMuZ2V0TGlnaHQoKS5nZXRUeXBlSUQoKT09PW9lLkxJR0hUVFlQRUlEX0RJUkVDVElPTkFMTElHSFQ/IjEiOiIwIikpLGkucHVzaCgiI2RlZmluZSBTTV9VU0VESVNUQU5DRSAiKyh0aGlzLl9saWdodC5uZWVkQ3ViZSgpPyIxIjoiMCIpKSxpLnB1c2goIiNkZWZpbmUgU01fU09GVFRSQU5TUEFSRU5UU0hBRE9XICIrKHRoaXMuZW5hYmxlU29mdFRyYW5zcGFyZW50U2hhZG93JiZzPyIxIjoiMCIpKSx0aGlzLl9pc1JlYWR5Q3VzdG9tRGVmaW5lcyhpLGUsdCksaX1pc1JlYWR5KGUsdCxpKXt2YXIgcztjb25zdCByPWUuZ2V0TWF0ZXJpYWwoKSxuPXI9PW51bGw/dm9pZCAwOnIuc2hhZG93RGVwdGhXcmFwcGVyO2lmKHRoaXMuX29wYWNpdHlUZXh0dXJlPW51bGwsIXIpcmV0dXJuITE7Y29uc3QgYT1bXTtpZih0aGlzLl9wcmVwYXJlU2hhZG93RGVmaW5lcyhlLHQsYSxpKSxuKXtpZighbi5pc1JlYWR5Rm9yU3ViTWVzaChlLGEsdGhpcyx0LHRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLmN1cnJlbnRSZW5kZXJQYXNzSWQpKXJldHVybiExfWVsc2V7Y29uc3Qgbz1lLl9nZXREcmF3V3JhcHBlcih2b2lkIDAsITApO2xldCBoPW8uZWZmZWN0LGw9by5kZWZpbmVzO2NvbnN0IHU9W2cuUG9zaXRpb25LaW5kXSxkPWUuZ2V0TWVzaCgpO3RoaXMubm9ybWFsQmlhcyYmZC5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5Ob3JtYWxLaW5kKSYmKHUucHVzaChnLk5vcm1hbEtpbmQpLGEucHVzaCgiI2RlZmluZSBOT1JNQUwiKSxkLm5vblVuaWZvcm1TY2FsaW5nJiZhLnB1c2goIiNkZWZpbmUgTk9OVU5JRk9STVNDQUxJTkciKSk7Y29uc3QgXz1yLm5lZWRBbHBoYVRlc3RpbmcoKTtpZigoX3x8ci5uZWVkQWxwaGFCbGVuZGluZygpKSYmKHRoaXMudXNlT3BhY2l0eVRleHR1cmVGb3JUcmFuc3BhcmVudFNoYWRvdz90aGlzLl9vcGFjaXR5VGV4dHVyZT1yLm9wYWNpdHlUZXh0dXJlOnRoaXMuX29wYWNpdHlUZXh0dXJlPXIuZ2V0QWxwaGFUZXN0VGV4dHVyZSgpLHRoaXMuX29wYWNpdHlUZXh0dXJlKSl7aWYoIXRoaXMuX29wYWNpdHlUZXh0dXJlLmlzUmVhZHkoKSlyZXR1cm4hMTtjb25zdCBTPShzPXIuYWxwaGFDdXRPZmYpIT09bnVsbCYmcyE9PXZvaWQgMD9zOkguREVGQVVMVF9BTFBIQV9DVVRPRkY7YS5wdXNoKCIjZGVmaW5lIEFMUEhBVEVYVFVSRSIpLF8mJmEucHVzaChgI2RlZmluZSBBTFBIQVRFU1RWQUxVRSAke1N9JHtTJTE9PT0wPyIuIjoiIn1gKSxkLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWS2luZCkmJih1LnB1c2goZy5VVktpbmQpLGEucHVzaCgiI2RlZmluZSBVVjEiKSksZC5pc1ZlcnRpY2VzRGF0YVByZXNlbnQoZy5VVjJLaW5kKSYmdGhpcy5fb3BhY2l0eVRleHR1cmUuY29vcmRpbmF0ZXNJbmRleD09PTEmJih1LnB1c2goZy5VVjJLaW5kKSxhLnB1c2goIiNkZWZpbmUgVVYyIikpfWNvbnN0IGY9bmV3IFlzO2lmKGQudXNlQm9uZXMmJmQuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZkLnNrZWxldG9uKXt1LnB1c2goZy5NYXRyaWNlc0luZGljZXNLaW5kKSx1LnB1c2goZy5NYXRyaWNlc1dlaWdodHNLaW5kKSxkLm51bUJvbmVJbmZsdWVuY2Vycz40JiYodS5wdXNoKGcuTWF0cmljZXNJbmRpY2VzRXh0cmFLaW5kKSx1LnB1c2goZy5NYXRyaWNlc1dlaWdodHNFeHRyYUtpbmQpKTtjb25zdCBTPWQuc2tlbGV0b247YS5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTICIrZC5udW1Cb25lSW5mbHVlbmNlcnMpLGQubnVtQm9uZUluZmx1ZW5jZXJzPjAmJmYuYWRkQ1BVU2tpbm5pbmdGYWxsYmFjaygwLGQpLFMuaXNVc2luZ1RleHR1cmVGb3JNYXRyaWNlcz9hLnB1c2goIiNkZWZpbmUgQk9ORVRFWFRVUkUiKTphLnB1c2goIiNkZWZpbmUgQm9uZXNQZXJNZXNoICIrKFMuYm9uZXMubGVuZ3RoKzEpKX1lbHNlIGEucHVzaCgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAwIik7Y29uc3QgbT1kLm1vcnBoVGFyZ2V0TWFuYWdlcjtsZXQgdj0wO2lmKG0mJm0ubnVtSW5mbHVlbmNlcnM+MCYmKGEucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFMiKSx2PW0ubnVtSW5mbHVlbmNlcnMsYS5wdXNoKCIjZGVmaW5lIE5VTV9NT1JQSF9JTkZMVUVOQ0VSUyAiK3YpLG0uaXNVc2luZ1RleHR1cmVGb3JUYXJnZXRzJiZhLnB1c2goIiNkZWZpbmUgTU9SUEhUQVJHRVRTX1RFWFRVUkUiKSxzZS5QcmVwYXJlQXR0cmlidXRlc0Zvck1vcnBoVGFyZ2V0c0luZmx1ZW5jZXJzKHUsZCx2KSksd3Iocix0aGlzLl9zY2VuZSxhKSx0JiYoYS5wdXNoKCIjZGVmaW5lIElOU1RBTkNFUyIpLHNlLlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKHUpLGUuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMmJmEucHVzaCgiI2RlZmluZSBUSElOX0lOU1RBTkNFUyIpKSx0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMmJnRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5kZWZpbmVzKWZvcihjb25zdCBTIG9mIHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5kZWZpbmVzKWEuaW5kZXhPZihTKT09PS0xJiZhLnB1c2goUyk7Y29uc3QgRT1hLmpvaW4oYApgKTtpZihsIT09RSl7bD1FO2xldCBTPSJzaGFkb3dNYXAiO2NvbnN0IFI9WyJ3b3JsZCIsIm1Cb25lcyIsInZpZXdQcm9qZWN0aW9uIiwiZGlmZnVzZU1hdHJpeCIsImxpZ2h0RGF0YVNNIiwiZGVwdGhWYWx1ZXNTTSIsImJpYXNBbmRTY2FsZVNNIiwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiwiYm9uZVRleHR1cmVXaWR0aCIsInNvZnRUcmFuc3BhcmVudFNoYWRvd1NNIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiXSxBPVsiZGlmZnVzZVNhbXBsZXIiLCJib25lU2FtcGxlciIsIm1vcnBoVGFyZ2V0cyJdLEM9WyJTY2VuZSIsIk1lc2giXTtpZihvcyhSKSx0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMpe2lmKFM9dGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnNoYWRlck5hbWUsdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLmF0dHJpYnV0ZXMpZm9yKGNvbnN0IHggb2YgdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLmF0dHJpYnV0ZXMpdS5pbmRleE9mKHgpPT09LTEmJnUucHVzaCh4KTtpZih0aGlzLmN1c3RvbVNoYWRlck9wdGlvbnMudW5pZm9ybXMpZm9yKGNvbnN0IHggb2YgdGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnVuaWZvcm1zKVIuaW5kZXhPZih4KT09PS0xJiZSLnB1c2goeCk7aWYodGhpcy5jdXN0b21TaGFkZXJPcHRpb25zLnNhbXBsZXJzKWZvcihjb25zdCB4IG9mIHRoaXMuY3VzdG9tU2hhZGVyT3B0aW9ucy5zYW1wbGVycylBLmluZGV4T2YoeCk9PT0tMSYmQS5wdXNoKHgpfWNvbnN0IGI9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7aD1iLmNyZWF0ZUVmZmVjdChTLHthdHRyaWJ1dGVzOnUsdW5pZm9ybXNOYW1lczpSLHVuaWZvcm1CdWZmZXJzTmFtZXM6QyxzYW1wbGVyczpBLGRlZmluZXM6RSxmYWxsYmFja3M6ZixvbkNvbXBpbGVkOm51bGwsb25FcnJvcjpudWxsLGluZGV4UGFyYW1ldGVyczp7bWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzOnZ9fSxiKSxvLnNldEVmZmVjdChoLGwpfWlmKCFoLmlzUmVhZHkoKSlyZXR1cm4hMX1yZXR1cm4odGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXB8fHRoaXMudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXApJiYoIXRoaXMuX2JsdXJQb3N0UHJvY2Vzc2VzfHwhdGhpcy5fYmx1clBvc3RQcm9jZXNzZXMubGVuZ3RoKSYmdGhpcy5faW5pdGlhbGl6ZUJsdXJSVFRBbmRQb3N0UHJvY2Vzc2VzKCksISh0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzJiYhdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5pc1JlYWR5KCl8fHRoaXMuX2tlcm5lbEJsdXJZUG9zdHByb2Nlc3MmJiF0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzLmlzUmVhZHkoKXx8dGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzJiYhdGhpcy5fYm94Qmx1clBvc3Rwcm9jZXNzLmlzUmVhZHkoKSl9cHJlcGFyZURlZmluZXMoZSx0KXtjb25zdCBpPXRoaXMuX3NjZW5lLHM9dGhpcy5fbGlnaHQ7IWkuc2hhZG93c0VuYWJsZWR8fCFzLnNoYWRvd0VuYWJsZWR8fChlWyJTSEFET1ciK3RdPSEwLHRoaXMudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdz8oZVsiU0hBRE9XUENTUyIrdF09ITAsdGhpcy5fZmlsdGVyaW5nUXVhbGl0eT09PUguUVVBTElUWV9MT1c/ZVsiU0hBRE9XTE9XUVVBTElUWSIrdF09ITA6dGhpcy5fZmlsdGVyaW5nUXVhbGl0eT09PUguUVVBTElUWV9NRURJVU0mJihlWyJTSEFET1dNRURJVU1RVUFMSVRZIit0XT0hMCkpOnRoaXMudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz8oZVsiU0hBRE9XUENGIit0XT0hMCx0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09SC5RVUFMSVRZX0xPVz9lWyJTSEFET1dMT1dRVUFMSVRZIit0XT0hMDp0aGlzLl9maWx0ZXJpbmdRdWFsaXR5PT09SC5RVUFMSVRZX01FRElVTSYmKGVbIlNIQURPV01FRElVTVFVQUxJVFkiK3RdPSEwKSk6dGhpcy51c2VQb2lzc29uU2FtcGxpbmc/ZVsiU0hBRE9XUE9JU1NPTiIrdF09ITA6dGhpcy51c2VFeHBvbmVudGlhbFNoYWRvd01hcHx8dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA/ZVsiU0hBRE9XRVNNIit0XT0hMDoodGhpcy51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwfHx0aGlzLnVzZUJsdXJDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwKSYmKGVbIlNIQURPV0NMT1NFRVNNIit0XT0hMCkscy5uZWVkQ3ViZSgpJiYoZVsiU0hBRE9XQ1VCRSIrdF09ITApKX1iaW5kU2hhZG93TGlnaHQoZSx0KXtjb25zdCBpPXRoaXMuX2xpZ2h0O2lmKCF0aGlzLl9zY2VuZS5zaGFkb3dzRW5hYmxlZHx8IWkuc2hhZG93RW5hYmxlZClyZXR1cm47Y29uc3Qgcj10aGlzLl9nZXRDYW1lcmEoKTtpZighcilyZXR1cm47Y29uc3Qgbj10aGlzLmdldFNoYWRvd01hcCgpO24mJihpLm5lZWRDdWJlKCl8fHQuc2V0TWF0cml4KCJsaWdodE1hdHJpeCIrZSx0aGlzLmdldFRyYW5zZm9ybU1hdHJpeCgpKSx0aGlzLl9maWx0ZXI9PT1ILkZJTFRFUl9QQ0Y/KHQuc2V0RGVwdGhTdGVuY2lsVGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSx0aGlzLmdldFNoYWRvd01hcEZvclJlbmRlcmluZygpKSxpLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgic2hhZG93c0luZm8iLHRoaXMuZ2V0RGFya25lc3MoKSxuLmdldFNpemUoKS53aWR0aCwxL24uZ2V0U2l6ZSgpLndpZHRoLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpKTp0aGlzLl9maWx0ZXI9PT1ILkZJTFRFUl9QQ1NTPyh0LnNldERlcHRoU3RlbmNpbFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksdC5zZXRUZXh0dXJlKCJkZXB0aFNhbXBsZXIiK2UsdGhpcy5nZXRTaGFkb3dNYXBGb3JSZW5kZXJpbmcoKSksaS5fdW5pZm9ybUJ1ZmZlci51cGRhdGVGbG9hdDQoInNoYWRvd3NJbmZvIix0aGlzLmdldERhcmtuZXNzKCksMS9uLmdldFNpemUoKS53aWR0aCx0aGlzLl9jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbypuLmdldFNpemUoKS53aWR0aCx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlKSk6KHQuc2V0VGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSx0aGlzLmdldFNoYWRvd01hcEZvclJlbmRlcmluZygpKSxpLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgic2hhZG93c0luZm8iLHRoaXMuZ2V0RGFya25lc3MoKSx0aGlzLmJsdXJTY2FsZS9uLmdldFNpemUoKS53aWR0aCx0aGlzLmRlcHRoU2NhbGUsdGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsZSkpLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQyKCJkZXB0aFZhbHVlcyIsdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihyKSx0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNaW5aKHIpK3RoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1heFoociksZSkpfWdldFRyYW5zZm9ybU1hdHJpeCgpe2NvbnN0IGU9dGhpcy5fc2NlbmU7aWYodGhpcy5fY3VycmVudFJlbmRlcklkPT09ZS5nZXRSZW5kZXJJZCgpJiZ0aGlzLl9jdXJyZW50RmFjZUluZGV4Q2FjaGU9PT10aGlzLl9jdXJyZW50RmFjZUluZGV4KXJldHVybiB0aGlzLl90cmFuc2Zvcm1NYXRyaXg7dGhpcy5fY3VycmVudFJlbmRlcklkPWUuZ2V0UmVuZGVySWQoKSx0aGlzLl9jdXJyZW50RmFjZUluZGV4Q2FjaGU9dGhpcy5fY3VycmVudEZhY2VJbmRleDtsZXQgdD10aGlzLl9saWdodC5wb3NpdGlvbjtpZih0aGlzLl9saWdodC5jb21wdXRlVHJhbnNmb3JtZWRJbmZvcm1hdGlvbigpJiYodD10aGlzLl9saWdodC50cmFuc2Zvcm1lZFBvc2l0aW9uKSxwLk5vcm1hbGl6ZVRvUmVmKHRoaXMuX2xpZ2h0LmdldFNoYWRvd0RpcmVjdGlvbih0aGlzLl9jdXJyZW50RmFjZUluZGV4KSx0aGlzLl9saWdodERpcmVjdGlvbiksTWF0aC5hYnMocC5Eb3QodGhpcy5fbGlnaHREaXJlY3Rpb24scC5VcCgpKSk9PT0xJiYodGhpcy5fbGlnaHREaXJlY3Rpb24uej0xZS0xMyksdGhpcy5fbGlnaHQubmVlZFByb2plY3Rpb25NYXRyaXhDb21wdXRlKCl8fCF0aGlzLl9jYWNoZWRQb3NpdGlvbnx8IXRoaXMuX2NhY2hlZERpcmVjdGlvbnx8IXQuZXF1YWxzKHRoaXMuX2NhY2hlZFBvc2l0aW9uKXx8IXRoaXMuX2xpZ2h0RGlyZWN0aW9uLmVxdWFscyh0aGlzLl9jYWNoZWREaXJlY3Rpb24pKXt0aGlzLl9jYWNoZWRQb3NpdGlvbi5jb3B5RnJvbSh0KSx0aGlzLl9jYWNoZWREaXJlY3Rpb24uY29weUZyb20odGhpcy5fbGlnaHREaXJlY3Rpb24pLE0uTG9va0F0TEhUb1JlZih0LHQuYWRkKHRoaXMuX2xpZ2h0RGlyZWN0aW9uKSxwLlVwKCksdGhpcy5fdmlld01hdHJpeCk7Y29uc3QgaT10aGlzLmdldFNoYWRvd01hcCgpO2lmKGkpe2NvbnN0IHM9aS5yZW5kZXJMaXN0O3MmJnRoaXMuX2xpZ2h0LnNldFNoYWRvd1Byb2plY3Rpb25NYXRyaXgodGhpcy5fcHJvamVjdGlvbk1hdHJpeCx0aGlzLl92aWV3TWF0cml4LHMpfXRoaXMuX3ZpZXdNYXRyaXgubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cml4LHRoaXMuX3RyYW5zZm9ybU1hdHJpeCl9cmV0dXJuIHRoaXMuX3RyYW5zZm9ybU1hdHJpeH1yZWNyZWF0ZVNoYWRvd01hcCgpe2NvbnN0IGU9dGhpcy5fc2hhZG93TWFwO2lmKCFlKXJldHVybjtjb25zdCB0PWUucmVuZGVyTGlzdDtpZih0aGlzLl9kaXNwb3NlUlRUYW5kUG9zdFByb2Nlc3NlcygpLHRoaXMuX2luaXRpYWxpemVHZW5lcmF0b3IoKSx0aGlzLmZpbHRlcj10aGlzLl9maWx0ZXIsdGhpcy5fYXBwbHlGaWx0ZXJWYWx1ZXMoKSx0KXt0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdHx8KHRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0PVtdKTtmb3IoY29uc3QgaSBvZiB0KXRoaXMuX3NoYWRvd01hcC5yZW5kZXJMaXN0LnB1c2goaSl9ZWxzZSB0aGlzLl9zaGFkb3dNYXAucmVuZGVyTGlzdD1udWxsfV9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKXt0aGlzLl9zaGFkb3dNYXAyJiYodGhpcy5fc2hhZG93TWFwMi5kaXNwb3NlKCksdGhpcy5fc2hhZG93TWFwMj1udWxsKSx0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MmJih0aGlzLl9ib3hCbHVyUG9zdHByb2Nlc3MuZGlzcG9zZSgpLHRoaXMuX2JveEJsdXJQb3N0cHJvY2Vzcz1udWxsKSx0aGlzLl9rZXJuZWxCbHVyWFBvc3Rwcm9jZXNzJiYodGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcy5kaXNwb3NlKCksdGhpcy5fa2VybmVsQmx1clhQb3N0cHJvY2Vzcz1udWxsKSx0aGlzLl9rZXJuZWxCbHVyWVBvc3Rwcm9jZXNzJiYodGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcy5kaXNwb3NlKCksdGhpcy5fa2VybmVsQmx1cllQb3N0cHJvY2Vzcz1udWxsKSx0aGlzLl9ibHVyUG9zdFByb2Nlc3Nlcz1bXX1fZGlzcG9zZVJUVGFuZFBvc3RQcm9jZXNzZXMoKXt0aGlzLl9zaGFkb3dNYXAmJih0aGlzLl9zaGFkb3dNYXAuZGlzcG9zZSgpLHRoaXMuX3NoYWRvd01hcD1udWxsKSx0aGlzLl9kaXNwb3NlQmx1clBvc3RQcm9jZXNzZXMoKX1fZGlzcG9zZVNjZW5lVUJPcygpe2lmKHRoaXMuX3NjZW5lVUJPcyl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fc2NlbmVVQk9zKWUuZGlzcG9zZSgpO3RoaXMuX3NjZW5lVUJPcz1bXX19ZGlzcG9zZSgpe2lmKHRoaXMuX2Rpc3Bvc2VSVFRhbmRQb3N0UHJvY2Vzc2VzKCksdGhpcy5fZGlzcG9zZVNjZW5lVUJPcygpLHRoaXMuX2xpZ2h0KXtpZih0aGlzLl9saWdodC5fc2hhZG93R2VuZXJhdG9ycyl7Y29uc3QgZT10aGlzLl9saWdodC5fc2hhZG93R2VuZXJhdG9ycy5lbnRyaWVzKCk7Zm9yKGxldCB0PWUubmV4dCgpO3QuZG9uZSE9PSEwO3Q9ZS5uZXh0KCkpe2NvbnN0W2ksc109dC52YWx1ZTtzPT09dGhpcyYmdGhpcy5fbGlnaHQuX3NoYWRvd0dlbmVyYXRvcnMuZGVsZXRlKGkpfXRoaXMuX2xpZ2h0Ll9zaGFkb3dHZW5lcmF0b3JzLnNpemU9PT0wJiYodGhpcy5fbGlnaHQuX3NoYWRvd0dlbmVyYXRvcnM9bnVsbCl9dGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKX10aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyTWVzaE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLm9uQmVmb3JlU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpLHRoaXMub25BZnRlclNoYWRvd01hcFJlbmRlck1lc2hPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5vbkFmdGVyU2hhZG93TWFwUmVuZGVyT2JzZXJ2YWJsZS5jbGVhcigpfXNlcmlhbGl6ZSgpe3ZhciBlO2NvbnN0IHQ9e30saT10aGlzLmdldFNoYWRvd01hcCgpO2lmKCFpKXJldHVybiB0O2lmKHQuY2xhc3NOYW1lPXRoaXMuZ2V0Q2xhc3NOYW1lKCksdC5saWdodElkPXRoaXMuX2xpZ2h0LmlkLHQuY2FtZXJhSWQ9KGU9dGhpcy5fY2FtZXJhKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuaWQsdC5pZD10aGlzLmlkLHQubWFwU2l6ZT1pLmdldFJlbmRlclNpemUoKSx0LmZvcmNlQmFja0ZhY2VzT25seT10aGlzLmZvcmNlQmFja0ZhY2VzT25seSx0LmRhcmtuZXNzPXRoaXMuZ2V0RGFya25lc3MoKSx0LnRyYW5zcGFyZW5jeVNoYWRvdz10aGlzLl90cmFuc3BhcmVuY3lTaGFkb3csdC5mcnVzdHVtRWRnZUZhbGxvZmY9dGhpcy5mcnVzdHVtRWRnZUZhbGxvZmYsdC5iaWFzPXRoaXMuYmlhcyx0Lm5vcm1hbEJpYXM9dGhpcy5ub3JtYWxCaWFzLHQudXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz10aGlzLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmcsdC51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93PXRoaXMudXNlQ29udGFjdEhhcmRlbmluZ1NoYWRvdyx0LmNvbnRhY3RIYXJkZW5pbmdMaWdodFNpemVVVlJhdGlvPXRoaXMuY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8sdC5maWx0ZXJpbmdRdWFsaXR5PXRoaXMuZmlsdGVyaW5nUXVhbGl0eSx0LnVzZUV4cG9uZW50aWFsU2hhZG93TWFwPXRoaXMudXNlRXhwb25lbnRpYWxTaGFkb3dNYXAsdC51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXA9dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAsdC51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPXRoaXMudXNlQmx1ckV4cG9uZW50aWFsU2hhZG93TWFwLHQudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA9dGhpcy51c2VCbHVyRXhwb25lbnRpYWxTaGFkb3dNYXAsdC51c2VQb2lzc29uU2FtcGxpbmc9dGhpcy51c2VQb2lzc29uU2FtcGxpbmcsdC5kZXB0aFNjYWxlPXRoaXMuZGVwdGhTY2FsZSx0LmJsdXJCb3hPZmZzZXQ9dGhpcy5ibHVyQm94T2Zmc2V0LHQuYmx1cktlcm5lbD10aGlzLmJsdXJLZXJuZWwsdC5ibHVyU2NhbGU9dGhpcy5ibHVyU2NhbGUsdC51c2VLZXJuZWxCbHVyPXRoaXMudXNlS2VybmVsQmx1cix0LnJlbmRlckxpc3Q9W10saS5yZW5kZXJMaXN0KWZvcihsZXQgcz0wO3M8aS5yZW5kZXJMaXN0Lmxlbmd0aDtzKyspe2NvbnN0IHI9aS5yZW5kZXJMaXN0W3NdO3QucmVuZGVyTGlzdC5wdXNoKHIuaWQpfXJldHVybiB0fXN0YXRpYyBQYXJzZShlLHQsaSl7Y29uc3Qgcz10LmdldExpZ2h0QnlJZChlLmxpZ2h0SWQpLHI9ZS5jYW1lcmFJZCE9PXZvaWQgMD90LmdldENhbWVyYUJ5SWQoZS5jYW1lcmFJZCk6bnVsbCxuPWk/aShlLm1hcFNpemUscyxyKTpuZXcgSChlLm1hcFNpemUscyx2b2lkIDAsciksYT1uLmdldFNoYWRvd01hcCgpO2ZvcihsZXQgbz0wO288ZS5yZW5kZXJMaXN0Lmxlbmd0aDtvKyspdC5nZXRNZXNoZXNCeUlkKGUucmVuZGVyTGlzdFtvXSkuZm9yRWFjaChmdW5jdGlvbihsKXthJiYoYS5yZW5kZXJMaXN0fHwoYS5yZW5kZXJMaXN0PVtdKSxhLnJlbmRlckxpc3QucHVzaChsKSl9KTtyZXR1cm4gZS5pZCE9PXZvaWQgMCYmKG4uaWQ9ZS5pZCksbi5mb3JjZUJhY2tGYWNlc09ubHk9ISFlLmZvcmNlQmFja0ZhY2VzT25seSxlLmRhcmtuZXNzIT09dm9pZCAwJiZuLnNldERhcmtuZXNzKGUuZGFya25lc3MpLGUudHJhbnNwYXJlbmN5U2hhZG93JiZuLnNldFRyYW5zcGFyZW5jeVNoYWRvdyghMCksZS5mcnVzdHVtRWRnZUZhbGxvZmYhPT12b2lkIDAmJihuLmZydXN0dW1FZGdlRmFsbG9mZj1lLmZydXN0dW1FZGdlRmFsbG9mZiksZS5iaWFzIT09dm9pZCAwJiYobi5iaWFzPWUuYmlhcyksZS5ub3JtYWxCaWFzIT09dm9pZCAwJiYobi5ub3JtYWxCaWFzPWUubm9ybWFsQmlhcyksZS51c2VQZXJjZW50YWdlQ2xvc2VyRmlsdGVyaW5nP24udXNlUGVyY2VudGFnZUNsb3NlckZpbHRlcmluZz0hMDplLnVzZUNvbnRhY3RIYXJkZW5pbmdTaGFkb3c/bi51c2VDb250YWN0SGFyZGVuaW5nU2hhZG93PSEwOmUudXNlUG9pc3NvblNhbXBsaW5nP24udXNlUG9pc3NvblNhbXBsaW5nPSEwOmUudXNlRXhwb25lbnRpYWxTaGFkb3dNYXA/bi51c2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD9uLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZUNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA/bi51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwOmUudXNlQmx1ckNsb3NlRXhwb25lbnRpYWxTaGFkb3dNYXA/bi51c2VCbHVyQ2xvc2VFeHBvbmVudGlhbFNoYWRvd01hcD0hMDplLnVzZVZhcmlhbmNlU2hhZG93TWFwP24udXNlRXhwb25lbnRpYWxTaGFkb3dNYXA9ITA6ZS51c2VCbHVyVmFyaWFuY2VTaGFkb3dNYXAmJihuLnVzZUJsdXJFeHBvbmVudGlhbFNoYWRvd01hcD0hMCksZS5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyE9PXZvaWQgMCYmKG4uY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW89ZS5jb250YWN0SGFyZGVuaW5nTGlnaHRTaXplVVZSYXRpbyksZS5maWx0ZXJpbmdRdWFsaXR5IT09dm9pZCAwJiYobi5maWx0ZXJpbmdRdWFsaXR5PWUuZmlsdGVyaW5nUXVhbGl0eSksZS5kZXB0aFNjYWxlJiYobi5kZXB0aFNjYWxlPWUuZGVwdGhTY2FsZSksZS5ibHVyU2NhbGUmJihuLmJsdXJTY2FsZT1lLmJsdXJTY2FsZSksZS5ibHVyQm94T2Zmc2V0JiYobi5ibHVyQm94T2Zmc2V0PWUuYmx1ckJveE9mZnNldCksZS51c2VLZXJuZWxCbHVyJiYobi51c2VLZXJuZWxCbHVyPWUudXNlS2VybmVsQmx1ciksZS5ibHVyS2VybmVsJiYobi5ibHVyS2VybmVsPWUuYmx1cktlcm5lbCksbn19SC5DTEFTU05BTUU9IlNoYWRvd0dlbmVyYXRvciIsSC5GSUxURVJfTk9ORT0wLEguRklMVEVSX0VYUE9ORU5USUFMU0hBRE9XTUFQPTEsSC5GSUxURVJfUE9JU1NPTlNBTVBMSU5HPTIsSC5GSUxURVJfQkxVUkVYUE9ORU5USUFMU0hBRE9XTUFQPTMsSC5GSUxURVJfQ0xPU0VFWFBPTkVOVElBTFNIQURPV01BUD00LEguRklMVEVSX0JMVVJDTE9TRUVYUE9ORU5USUFMU0hBRE9XTUFQPTUsSC5GSUxURVJfUENGPTYsSC5GSUxURVJfUENTUz03LEguUVVBTElUWV9ISUdIPTAsSC5RVUFMSVRZX01FRElVTT0xLEguUVVBTElUWV9MT1c9MixILkRFRkFVTFRfQUxQSEFfQ1VUT0ZGPS41LEguX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb249Yz0+e3Rocm93IFEoIlNoYWRvd0dlbmVyYXRvclNjZW5lQ29tcG9uZW50Iil9O2NvbnN0IENvPSJkZXB0aFBpeGVsU2hhZGVyIixJbz1gI2lmZGVmIEFMUEhBVEVTVAp2YXJ5aW5nIHZlYzIgdlVWOwp1bmlmb3JtIHNhbXBsZXIyRCBkaWZmdXNlU2FtcGxlcjsKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50RGVjbGFyYXRpb24+CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljOwojaWZkZWYgUEFDS0VECiNpbmNsdWRlPHBhY2tpbmdGdW5jdGlvbnM+CiNlbmRpZgojaWZkZWYgU1RPUkVfQ0FNRVJBU1BBQ0VfWgp2YXJ5aW5nIHZlYzQgdlZpZXdQb3M7CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkKewojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KI2lmZGVmIEFMUEhBVEVTVAppZiAodGV4dHVyZTJEKGRpZmZ1c2VTYW1wbGVyLHZVVikuYTwwLjQpCmRpc2NhcmQ7CiNlbmRpZgojaWZkZWYgU1RPUkVfQ0FNRVJBU1BBQ0VfWgojaWZkZWYgUEFDS0VECmdsX0ZyYWdDb2xvcj1wYWNrKHZWaWV3UG9zLnopOwojZWxzZQpnbF9GcmFnQ29sb3I9dmVjNCh2Vmlld1Bvcy56LDAuMCwwLjAsMS4wKTsKI2VuZGlmCiNlbHNlCiNpZmRlZiBOT05MSU5FQVJERVBUSAojaWZkZWYgUEFDS0VECmdsX0ZyYWdDb2xvcj1wYWNrKGdsX0ZyYWdDb29yZC56KTsKI2Vsc2UKZ2xfRnJhZ0NvbG9yPXZlYzQoZ2xfRnJhZ0Nvb3JkLnosMC4wLDAuMCwwLjApOwojZW5kaWYKI2Vsc2UKI2lmZGVmIFBBQ0tFRApnbF9GcmFnQ29sb3I9cGFjayh2RGVwdGhNZXRyaWMpOwojZWxzZQpnbF9GcmFnQ29sb3I9dmVjNCh2RGVwdGhNZXRyaWMsMC4wLDAuMCwxLjApOwojZW5kaWYKI2VuZGlmCiNlbmRpZgp9YDtMLlNoYWRlcnNTdG9yZVtDb109SW87Y29uc3QgUG89Imluc3RhbmNlc0RlY2xhcmF0aW9uIixEbz1gI2lmZGVmIElOU1RBTkNFUwphdHRyaWJ1dGUgdmVjNCB3b3JsZDA7CmF0dHJpYnV0ZSB2ZWM0IHdvcmxkMTsKYXR0cmlidXRlIHZlYzQgd29ybGQyOwphdHRyaWJ1dGUgdmVjNCB3b3JsZDM7CiNpZmRlZiBJTlNUQU5DRVNDT0xPUgphdHRyaWJ1dGUgdmVjNCBpbnN0YW5jZUNvbG9yOwojZW5kaWYKI2lmIGRlZmluZWQoVEhJTl9JTlNUQU5DRVMpICYmICFkZWZpbmVkKFdPUkxEX1VCTykKdW5pZm9ybSBtYXQ0IHdvcmxkOwojZW5kaWYKI2lmIGRlZmluZWQoVkVMT0NJVFkpIHx8IGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkKYXR0cmlidXRlIHZlYzQgcHJldmlvdXNXb3JsZDA7CmF0dHJpYnV0ZSB2ZWM0IHByZXZpb3VzV29ybGQxOwphdHRyaWJ1dGUgdmVjNCBwcmV2aW91c1dvcmxkMjsKYXR0cmlidXRlIHZlYzQgcHJldmlvdXNXb3JsZDM7CiNpZmRlZiBUSElOX0lOU1RBTkNFUwp1bmlmb3JtIG1hdDQgcHJldmlvdXNXb3JsZDsKI2VuZGlmCiNlbmRpZgojZWxzZQojaWYgIWRlZmluZWQoV09STERfVUJPKQp1bmlmb3JtIG1hdDQgd29ybGQ7CiNlbmRpZgojaWYgZGVmaW5lZChWRUxPQ0lUWSkgfHwgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKQp1bmlmb3JtIG1hdDQgcHJldmlvdXNXb3JsZDsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbUG9dPURvO2NvbnN0IEZvPSJkZXB0aFZlcnRleFNoYWRlciIsd289YGF0dHJpYnV0ZSB2ZWMzIHBvc2l0aW9uOwojaW5jbHVkZTxib25lc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbkRlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWxEZWNsYXJhdGlvbj4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4RGVjbGFyYXRpb24+WzAuLm1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0c10KI2luY2x1ZGU8Y2xpcFBsYW5lVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPGluc3RhbmNlc0RlY2xhcmF0aW9uPgp1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlczsKI2lmIGRlZmluZWQoQUxQSEFURVNUKSB8fCBkZWZpbmVkKE5FRURfVVYpCnZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gbWF0NCBkaWZmdXNlTWF0cml4OwojaWZkZWYgVVYxCmF0dHJpYnV0ZSB2ZWMyIHV2OwojZW5kaWYKI2lmZGVmIFVWMgphdHRyaWJ1dGUgdmVjMiB1djI7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNUT1JFX0NBTUVSQVNQQUNFX1oKdW5pZm9ybSBtYXQ0IHZpZXc7CnZhcnlpbmcgdmVjNCB2Vmlld1BvczsKI2VuZGlmCnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmljOwojZGVmaW5lIENVU1RPTV9WRVJURVhfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpCnsKdmVjMyBwb3NpdGlvblVwZGF0ZWQ9cG9zaXRpb247CiNpZmRlZiBVVjEKdmVjMiB1dlVwZGF0ZWQ9dXY7CiNlbmRpZgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhHbG9iYWw+CiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaW5jbHVkZTxpbnN0YW5jZXNWZXJ0ZXg+CiNpbmNsdWRlPGJvbmVzVmVydGV4PgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbj4KdmVjNCB3b3JsZFBvcz1maW5hbFdvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleD4KZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNpZmRlZiBTVE9SRV9DQU1FUkFTUEFDRV9aCnZWaWV3UG9zPXZpZXcqd29ybGRQb3M7CiNlbHNlCiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWM9KCgtZ2xfUG9zaXRpb24ueitkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSkpOwojZWxzZQp2RGVwdGhNZXRyaWM9KChnbF9Qb3NpdGlvbi56K2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KSk7CiNlbmRpZgojZW5kaWYKI2lmIGRlZmluZWQoQUxQSEFURVNUKSB8fCBkZWZpbmVkKEJBU0lDX1JFTkRFUikKI2lmZGVmIFVWMQp2VVY9dmVjMihkaWZmdXNlTWF0cml4KnZlYzQodXZVcGRhdGVkLDEuMCwwLjApKTsKI2VuZGlmCiNpZmRlZiBVVjIKdlVWPXZlYzIoZGlmZnVzZU1hdHJpeCp2ZWM0KHV2MiwxLjAsMC4wKSk7CiNlbmRpZgojZW5kaWYKfQpgO0wuU2hhZGVyc1N0b3JlW0ZvXT13bztjbGFzcyBjc3tzZXRNYXRlcmlhbEZvclJlbmRlcmluZyhlLHQpe3RoaXMuX2RlcHRoTWFwLnNldE1hdGVyaWFsRm9yUmVuZGVyaW5nKGUsdCl9Y29uc3RydWN0b3IoZSx0PTEsaT1udWxsLHM9ITEscj1OLlRSSUxJTkVBUl9TQU1QTElOR01PREUsbj0hMSxhKXt0aGlzLmVuYWJsZWQ9ITAsdGhpcy5mb3JjZURlcHRoV3JpdGVUcmFuc3BhcmVudE1lc2hlcz0hMSx0aGlzLnVzZU9ubHlJbkFjdGl2ZUNhbWVyYT0hMSx0aGlzLnJldmVyc2VDdWxsaW5nPSExLHRoaXMuX3NjZW5lPWUsdGhpcy5fc3RvcmVOb25MaW5lYXJEZXB0aD1zLHRoaXMuX3N0b3JlQ2FtZXJhU3BhY2VaPW4sdGhpcy5pc1BhY2tlZD10PT09MCx0aGlzLmlzUGFja2VkP3RoaXMuY2xlYXJDb2xvcj1uZXcgTmUoMSwxLDEsMSk6dGhpcy5jbGVhckNvbG9yPW5ldyBOZShuPzFlODoxLDAsMCwxKSxjcy5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbih0aGlzLl9zY2VuZSk7Y29uc3Qgbz1lLmdldEVuZ2luZSgpO3RoaXMuX2NhbWVyYT1pLHIhPT1OLk5FQVJFU1RfU0FNUExJTkdNT0RFJiYodD09PTEmJiFvLl9jYXBzLnRleHR1cmVGbG9hdExpbmVhckZpbHRlcmluZyYmKHI9Ti5ORUFSRVNUX1NBTVBMSU5HTU9ERSksdD09PTImJiFvLl9jYXBzLnRleHR1cmVIYWxmRmxvYXRMaW5lYXJGaWx0ZXJpbmcmJihyPU4uTkVBUkVTVF9TQU1QTElOR01PREUpKTtjb25zdCBoPXRoaXMuaXNQYWNrZWR8fCFvLl9mZWF0dXJlcy5zdXBwb3J0RXh0ZW5kZWRUZXh0dXJlRm9ybWF0cz81OjY7dGhpcy5fZGVwdGhNYXA9bmV3IGd0KGE/PyJEZXB0aFJlbmRlcmVyIix7d2lkdGg6by5nZXRSZW5kZXJXaWR0aCgpLGhlaWdodDpvLmdldFJlbmRlckhlaWdodCgpfSx0aGlzLl9zY2VuZSwhMSwhMCx0LCExLHIsdm9pZCAwLHZvaWQgMCx2b2lkIDAsaCksdGhpcy5fZGVwdGhNYXAud3JhcFU9Ti5DTEFNUF9BRERSRVNTTU9ERSx0aGlzLl9kZXB0aE1hcC53cmFwVj1OLkNMQU1QX0FERFJFU1NNT0RFLHRoaXMuX2RlcHRoTWFwLnJlZnJlc2hSYXRlPTEsdGhpcy5fZGVwdGhNYXAucmVuZGVyUGFydGljbGVzPSExLHRoaXMuX2RlcHRoTWFwLnJlbmRlckxpc3Q9bnVsbCx0aGlzLl9kZXB0aE1hcC5hY3RpdmVDYW1lcmE9dGhpcy5fY2FtZXJhLHRoaXMuX2RlcHRoTWFwLmlnbm9yZUNhbWVyYVZpZXdwb3J0PSEwLHRoaXMuX2RlcHRoTWFwLnVzZUNhbWVyYVBvc3RQcm9jZXNzZXM9ITEsdGhpcy5fZGVwdGhNYXAub25DbGVhck9ic2VydmFibGUuYWRkKHU9Pnt1LmNsZWFyKHRoaXMuY2xlYXJDb2xvciwhMCwhMCwhMCl9KSx0aGlzLl9kZXB0aE1hcC5vbkJlZm9yZUJpbmRPYnNlcnZhYmxlLmFkZCgoKT0+e3ZhciB1Oyh1PW8uX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fHU9PT12b2lkIDB8fHUuY2FsbChvLCJkZXB0aCByZW5kZXJlciIsMSl9KSx0aGlzLl9kZXB0aE1hcC5vbkFmdGVyVW5iaW5kT2JzZXJ2YWJsZS5hZGQoKCk9Pnt2YXIgdTsodT1vLl9kZWJ1Z1BvcEdyb3VwKT09PW51bGx8fHU9PT12b2lkIDB8fHUuY2FsbChvLDEpfSksdGhpcy5fZGVwdGhNYXAuY3VzdG9tSXNSZWFkeUZ1bmN0aW9uPSh1LGQsXyk9PntpZigoX3x8ZD09PTApJiZ1LnN1Yk1lc2hlcylmb3IobGV0IGY9MDtmPHUuc3ViTWVzaGVzLmxlbmd0aDsrK2Ype2NvbnN0IG09dS5zdWJNZXNoZXNbZl0sdj1tLmdldFJlbmRlcmluZ01lc2goKSxFPXYuX2dldEluc3RhbmNlc1JlbmRlckxpc3QobS5faWQsISFtLmdldFJlcGxhY2VtZW50TWVzaCgpKSxTPW8uZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmKEUudmlzaWJsZUluc3RhbmNlc1ttLl9pZF0hPT1udWxsJiZFLnZpc2libGVJbnN0YW5jZXNbbS5faWRdIT09dm9pZCAwfHx2Lmhhc1RoaW5JbnN0YW5jZXMpO2lmKCF0aGlzLmlzUmVhZHkobSxTKSlyZXR1cm4hMX1yZXR1cm4hMH07Y29uc3QgbD11PT57dmFyIGQsXztjb25zdCBmPXUuZ2V0UmVuZGVyaW5nTWVzaCgpLG09dS5nZXRFZmZlY3RpdmVNZXNoKCksdj10aGlzLl9zY2VuZSxFPXYuZ2V0RW5naW5lKCksUz11LmdldE1hdGVyaWFsKCk7aWYobS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5faXNBY3RpdmVJbnRlcm1lZGlhdGU9ITEsIVN8fG0uaW5maW5pdGVEaXN0YW5jZXx8Uy5kaXNhYmxlRGVwdGhXcml0ZXx8dS52ZXJ0aWNlc0NvdW50PT09MHx8dS5fcmVuZGVySWQ9PT12LmdldFJlbmRlcklkKCkpcmV0dXJuO2NvbnN0IFI9bS5fZ2V0V29ybGRNYXRyaXhEZXRlcm1pbmFudCgpPDA7bGV0IEE9KGQ9Zi5vdmVycmlkZU1hdGVyaWFsU2lkZU9yaWVudGF0aW9uKSE9PW51bGwmJmQhPT12b2lkIDA/ZDpTLnNpZGVPcmllbnRhdGlvbjtSJiYoQT1BPT09MD8xOjApO2NvbnN0IEM9QT09PTA7RS5zZXRTdGF0ZShTLmJhY2tGYWNlQ3VsbGluZywwLCExLEMsdGhpcy5yZXZlcnNlQ3VsbGluZz8hUy5jdWxsQmFja0ZhY2VzOlMuY3VsbEJhY2tGYWNlcyk7Y29uc3QgYj1mLl9nZXRJbnN0YW5jZXNSZW5kZXJMaXN0KHUuX2lkLCEhdS5nZXRSZXBsYWNlbWVudE1lc2goKSk7aWYoYi5tdXN0UmV0dXJuKXJldHVybjtjb25zdCB4PUUuZ2V0Q2FwcygpLmluc3RhbmNlZEFycmF5cyYmKGIudmlzaWJsZUluc3RhbmNlc1t1Ll9pZF0hPT1udWxsJiZiLnZpc2libGVJbnN0YW5jZXNbdS5faWRdIT09dm9pZCAwfHxmLmhhc1RoaW5JbnN0YW5jZXMpLEk9dGhpcy5fY2FtZXJhfHx2LmFjdGl2ZUNhbWVyYTtpZih0aGlzLmlzUmVhZHkodSx4KSYmSSl7dS5fcmVuZGVySWQ9di5nZXRSZW5kZXJJZCgpO2NvbnN0IFU9KF89bS5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fbWF0ZXJpYWxGb3JSZW5kZXJQYXNzKT09PW51bGx8fF89PT12b2lkIDA/dm9pZCAwOl9bRS5jdXJyZW50UmVuZGVyUGFzc0lkXTtsZXQgaz11Ll9nZXREcmF3V3JhcHBlcigpOyFrJiZVJiYoaz1VLl9nZXREcmF3V3JhcHBlcigpKTtjb25zdCBtZT1JLm1vZGU9PT0kLk9SVEhPR1JBUEhJQ19DQU1FUkE7aWYoIWspcmV0dXJuO2NvbnN0IHE9ay5lZmZlY3Q7RS5lbmFibGVFZmZlY3QoaykseHx8Zi5fYmluZCh1LHEsUy5maWxsTW9kZSksVT9VLmJpbmRGb3JTdWJNZXNoKG0uZ2V0V29ybGRNYXRyaXgoKSxtLHUpOihxLnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLHYuZ2V0VHJhbnNmb3JtTWF0cml4KCkpLHEuc2V0TWF0cml4KCJ3b3JsZCIsbS5nZXRXb3JsZE1hdHJpeCgpKSx0aGlzLl9zdG9yZUNhbWVyYVNwYWNlWiYmcS5zZXRNYXRyaXgoInZpZXciLHYuZ2V0Vmlld01hdHJpeCgpKSk7bGV0IHVlLGllO2lmKG1lPyh1ZT0hRS51c2VSZXZlcnNlRGVwdGhCdWZmZXImJkUuaXNORENIYWxmWlJhbmdlPzA6MSxpZT1FLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmRS5pc05EQ0hhbGZaUmFuZ2U/MDoxKToodWU9RS51c2VSZXZlcnNlRGVwdGhCdWZmZXImJkUuaXNORENIYWxmWlJhbmdlP0kubWluWjpFLmlzTkRDSGFsZlpSYW5nZT8wOkkubWluWixpZT1FLnVzZVJldmVyc2VEZXB0aEJ1ZmZlciYmRS5pc05EQ0hhbGZaUmFuZ2U/MDpJLm1heFopLHEuc2V0RmxvYXQyKCJkZXB0aFZhbHVlcyIsdWUsdWUraWUpLCFVKXtpZihTLm5lZWRBbHBoYVRlc3RpbmcoKSl7Y29uc3QgYmU9Uy5nZXRBbHBoYVRlc3RUZXh0dXJlKCk7YmUmJihxLnNldFRleHR1cmUoImRpZmZ1c2VTYW1wbGVyIixiZSkscS5zZXRNYXRyaXgoImRpZmZ1c2VNYXRyaXgiLGJlLmdldFRleHR1cmVNYXRyaXgoKSkpfWlmKGYudXNlQm9uZXMmJmYuY29tcHV0ZUJvbmVzVXNpbmdTaGFkZXJzJiZmLnNrZWxldG9uKXtjb25zdCBiZT1mLnNrZWxldG9uO2lmKGJlLmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXMpe2NvbnN0IE1lPWJlLmdldFRyYW5zZm9ybU1hdHJpeFRleHR1cmUoZik7aWYoIU1lKXJldHVybjtxLnNldFRleHR1cmUoImJvbmVTYW1wbGVyIixNZSkscS5zZXRGbG9hdCgiYm9uZVRleHR1cmVXaWR0aCIsNCooYmUuYm9uZXMubGVuZ3RoKzEpKX1lbHNlIHEuc2V0TWF0cmljZXMoIm1Cb25lcyIsYmUuZ2V0VHJhbnNmb3JtTWF0cmljZXMoZikpfWhzKHEsUyx2KSxzZS5CaW5kTW9ycGhUYXJnZXRQYXJhbWV0ZXJzKGYscSksZi5tb3JwaFRhcmdldE1hbmFnZXImJmYubW9ycGhUYXJnZXRNYW5hZ2VyLmlzVXNpbmdUZXh0dXJlRm9yVGFyZ2V0cyYmZi5tb3JwaFRhcmdldE1hbmFnZXIuX2JpbmQocSl9Zi5fcHJvY2Vzc1JlbmRlcmluZyhtLHUscSxTLmZpbGxNb2RlLGIseCwoYmUsTWUpPT5xLnNldE1hdHJpeCgid29ybGQiLE1lKSl9fTt0aGlzLl9kZXB0aE1hcC5jdXN0b21SZW5kZXJGdW5jdGlvbj0odSxkLF8sZik9PntsZXQgbTtpZihmLmxlbmd0aClmb3IobT0wO208Zi5sZW5ndGg7bSsrKWwoZi5kYXRhW21dKTtmb3IobT0wO208dS5sZW5ndGg7bSsrKWwodS5kYXRhW21dKTtmb3IobT0wO208ZC5sZW5ndGg7bSsrKWwoZC5kYXRhW21dKTtpZih0aGlzLmZvcmNlRGVwdGhXcml0ZVRyYW5zcGFyZW50TWVzaGVzKWZvcihtPTA7bTxfLmxlbmd0aDttKyspbChfLmRhdGFbbV0pO2Vsc2UgZm9yKG09MDttPF8ubGVuZ3RoO20rKylfLmRhdGFbbV0uZ2V0RWZmZWN0aXZlTWVzaCgpLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZT0hMX19aXNSZWFkeShlLHQpe3ZhciBpO2NvbnN0IHM9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkscj1lLmdldE1lc2goKSxuPXIuZ2V0U2NlbmUoKSxhPShpPXIuX2ludGVybmFsQWJzdHJhY3RNZXNoRGF0YUluZm8uX21hdGVyaWFsRm9yUmVuZGVyUGFzcyk9PT1udWxsfHxpPT09dm9pZCAwP3ZvaWQgMDppW3MuY3VycmVudFJlbmRlclBhc3NJZF07aWYoYSlyZXR1cm4gYS5pc1JlYWR5Rm9yU3ViTWVzaChyLGUsdCk7Y29uc3Qgbz1lLmdldE1hdGVyaWFsKCk7aWYoIW98fG8uZGlzYWJsZURlcHRoV3JpdGUpcmV0dXJuITE7Y29uc3QgaD1bXSxsPVtnLlBvc2l0aW9uS2luZF07aWYobyYmby5uZWVkQWxwaGFUZXN0aW5nKCkmJm8uZ2V0QWxwaGFUZXN0VGV4dHVyZSgpJiYoaC5wdXNoKCIjZGVmaW5lIEFMUEhBVEVTVCIpLHIuaXNWZXJ0aWNlc0RhdGFQcmVzZW50KGcuVVZLaW5kKSYmKGwucHVzaChnLlVWS2luZCksaC5wdXNoKCIjZGVmaW5lIFVWMSIpKSxyLmlzVmVydGljZXNEYXRhUHJlc2VudChnLlVWMktpbmQpJiYobC5wdXNoKGcuVVYyS2luZCksaC5wdXNoKCIjZGVmaW5lIFVWMiIpKSksci51c2VCb25lcyYmci5jb21wdXRlQm9uZXNVc2luZ1NoYWRlcnMpe2wucHVzaChnLk1hdHJpY2VzSW5kaWNlc0tpbmQpLGwucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0tpbmQpLHIubnVtQm9uZUluZmx1ZW5jZXJzPjQmJihsLnB1c2goZy5NYXRyaWNlc0luZGljZXNFeHRyYUtpbmQpLGwucHVzaChnLk1hdHJpY2VzV2VpZ2h0c0V4dHJhS2luZCkpLGgucHVzaCgiI2RlZmluZSBOVU1fQk9ORV9JTkZMVUVOQ0VSUyAiK3IubnVtQm9uZUluZmx1ZW5jZXJzKSxoLnB1c2goIiNkZWZpbmUgQm9uZXNQZXJNZXNoICIrKHIuc2tlbGV0b24/ci5za2VsZXRvbi5ib25lcy5sZW5ndGgrMTowKSk7Y29uc3Qgdj1lLmdldFJlbmRlcmluZ01lc2goKS5za2VsZXRvbjt2IT1udWxsJiZ2LmlzVXNpbmdUZXh0dXJlRm9yTWF0cmljZXMmJmgucHVzaCgiI2RlZmluZSBCT05FVEVYVFVSRSIpfWVsc2UgaC5wdXNoKCIjZGVmaW5lIE5VTV9CT05FX0lORkxVRU5DRVJTIDAiKTtjb25zdCB1PXIubW9ycGhUYXJnZXRNYW5hZ2VyO2xldCBkPTA7dSYmdS5udW1JbmZsdWVuY2Vycz4wJiYoZD11Lm51bUluZmx1ZW5jZXJzLGgucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFMiKSxoLnB1c2goIiNkZWZpbmUgTlVNX01PUlBIX0lORkxVRU5DRVJTICIrZCksdS5pc1VzaW5nVGV4dHVyZUZvclRhcmdldHMmJmgucHVzaCgiI2RlZmluZSBNT1JQSFRBUkdFVFNfVEVYVFVSRSIpLHNlLlByZXBhcmVBdHRyaWJ1dGVzRm9yTW9ycGhUYXJnZXRzSW5mbHVlbmNlcnMobCxyLGQpKSx0JiYoaC5wdXNoKCIjZGVmaW5lIElOU1RBTkNFUyIpLHNlLlB1c2hBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKGwpLGUuZ2V0UmVuZGVyaW5nTWVzaCgpLmhhc1RoaW5JbnN0YW5jZXMmJmgucHVzaCgiI2RlZmluZSBUSElOX0lOU1RBTkNFUyIpKSx0aGlzLl9zdG9yZU5vbkxpbmVhckRlcHRoJiZoLnB1c2goIiNkZWZpbmUgTk9OTElORUFSREVQVEgiKSx0aGlzLl9zdG9yZUNhbWVyYVNwYWNlWiYmaC5wdXNoKCIjZGVmaW5lIFNUT1JFX0NBTUVSQVNQQUNFX1oiKSx0aGlzLmlzUGFja2VkJiZoLnB1c2goIiNkZWZpbmUgUEFDS0VEIiksd3IobyxuLGgpO2NvbnN0IF89ZS5fZ2V0RHJhd1dyYXBwZXIodm9pZCAwLCEwKSxmPV8uZGVmaW5lcyxtPWguam9pbihgCmApO2lmKGYhPT1tKXtjb25zdCB2PVsid29ybGQiLCJtQm9uZXMiLCJib25lVGV4dHVyZVdpZHRoIiwidmlld1Byb2plY3Rpb24iLCJ2aWV3IiwiZGlmZnVzZU1hdHJpeCIsImRlcHRoVmFsdWVzIiwibW9ycGhUYXJnZXRJbmZsdWVuY2VzIiwibW9ycGhUYXJnZXRUZXh0dXJlSW5mbyIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZGljZXMiXTtvcyh2KSxfLnNldEVmZmVjdChzLmNyZWF0ZUVmZmVjdCgiZGVwdGgiLGwsdixbImRpZmZ1c2VTYW1wbGVyIiwibW9ycGhUYXJnZXRzIiwiYm9uZVNhbXBsZXIiXSxtLHZvaWQgMCx2b2lkIDAsdm9pZCAwLHttYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHM6ZH0pLG0pfXJldHVybiBfLmVmZmVjdC5pc1JlYWR5KCl9Z2V0RGVwdGhNYXAoKXtyZXR1cm4gdGhpcy5fZGVwdGhNYXB9ZGlzcG9zZSgpe2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgaW4gdGhpcy5fc2NlbmUuX2RlcHRoUmVuZGVyZXIpdGhpcy5fc2NlbmUuX2RlcHRoUmVuZGVyZXJbdF09PT10aGlzJiZlLnB1c2godCk7aWYoZS5sZW5ndGg+MCl7dGhpcy5fZGVwdGhNYXAuZGlzcG9zZSgpO2Zvcihjb25zdCB0IG9mIGUpZGVsZXRlIHRoaXMuX3NjZW5lLl9kZXB0aFJlbmRlcmVyW3RdfX19Y3MuX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb249Yz0+e3Rocm93IFEoIkRlcHRoUmVuZGVyZXJTY2VuZUNvbXBvbmVudCIpfTtjb25zdCBPbz0ibWlubWF4UmVkdXhQaXhlbFNoYWRlciIsTG89YHZhcnlpbmcgdmVjMiB2VVY7CnVuaWZvcm0gc2FtcGxlcjJEIHRleHR1cmVTYW1wbGVyOwojaWYgZGVmaW5lZChJTklUSUFMKQp1bmlmb3JtIHNhbXBsZXIyRCBzb3VyY2VUZXh0dXJlOwp1bmlmb3JtIHZlYzIgdGV4U2l6ZTsKdm9pZCBtYWluKHZvaWQpCnsKaXZlYzIgY29vcmQ9aXZlYzIodlVWKih0ZXhTaXplLTEuMCkpOwpmbG9hdCBmMT10ZXhlbEZldGNoKHNvdXJjZVRleHR1cmUsY29vcmQsMCkucjsKZmxvYXQgZjI9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkK2l2ZWMyKDEsMCksMCkucjsKZmxvYXQgZjM9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkK2l2ZWMyKDEsMSksMCkucjsKZmxvYXQgZjQ9dGV4ZWxGZXRjaChzb3VyY2VUZXh0dXJlLGNvb3JkK2l2ZWMyKDAsMSksMCkucjsKZmxvYXQgbWluej1taW4obWluKG1pbihmMSxmMiksZjMpLGY0KTsKI2lmZGVmIERFUFRIX1JFRFVYCmZsb2F0IG1heHo9bWF4KG1heChtYXgoc2lnbigxLjAtZjEpKmYxLHNpZ24oMS4wLWYyKSpmMiksc2lnbigxLjAtZjMpKmYzKSxzaWduKDEuMC1mNCkqZjQpOwojZWxzZQpmbG9hdCBtYXh6PW1heChtYXgobWF4KGYxLGYyKSxmMyksZjQpOwojZW5kaWYKZ2xGcmFnQ29sb3I9dmVjNChtaW56LG1heHosMC4sMC4pOwp9CiNlbGlmIGRlZmluZWQoTUFJTikKdW5pZm9ybSB2ZWMyIHRleFNpemU7CnZvaWQgbWFpbih2b2lkKQp7Cml2ZWMyIGNvb3JkPWl2ZWMyKHZVVioodGV4U2l6ZS0xLjApKTsKdmVjMiBmMT10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkLDApLnJnOwp2ZWMyIGYyPXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsY29vcmQraXZlYzIoMSwwKSwwKS5yZzsKdmVjMiBmMz10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkK2l2ZWMyKDEsMSksMCkucmc7CnZlYzIgZjQ9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlcixjb29yZCtpdmVjMigwLDEpLDApLnJnOwpmbG9hdCBtaW56PW1pbihtaW4obWluKGYxLngsZjIueCksZjMueCksZjQueCk7CmZsb2F0IG1heHo9bWF4KG1heChtYXgoZjEueSxmMi55KSxmMy55KSxmNC55KTsKZ2xGcmFnQ29sb3I9dmVjNChtaW56LG1heHosMC4sMC4pOwp9CiNlbGlmIGRlZmluZWQoT05FQkVGT1JFTEFTVCkKdW5pZm9ybSBpdmVjMiB0ZXhTaXplOwp2b2lkIG1haW4odm9pZCkKewppdmVjMiBjb29yZD1pdmVjMih2VVYqdmVjMih0ZXhTaXplLTEpKTsKdmVjMiBmMT10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLGNvb3JkICUgdGV4U2l6ZSwwKS5yZzsKdmVjMiBmMj10ZXhlbEZldGNoKHRleHR1cmVTYW1wbGVyLChjb29yZCtpdmVjMigxLDApKSAlIHRleFNpemUsMCkucmc7CnZlYzIgZjM9dGV4ZWxGZXRjaCh0ZXh0dXJlU2FtcGxlciwoY29vcmQraXZlYzIoMSwxKSkgJSB0ZXhTaXplLDApLnJnOwp2ZWMyIGY0PXRleGVsRmV0Y2godGV4dHVyZVNhbXBsZXIsKGNvb3JkK2l2ZWMyKDAsMSkpICUgdGV4U2l6ZSwwKS5yZzsKZmxvYXQgbWluej1taW4oZjEueCxmMi54KTsKZmxvYXQgbWF4ej1tYXgoZjEueSxmMi55KTsKZ2xGcmFnQ29sb3I9dmVjNChtaW56LG1heHosMC4sMC4pOwp9CiNlbGlmIGRlZmluZWQoTEFTVCkKdm9pZCBtYWluKHZvaWQpCnsKZ2xGcmFnQ29sb3I9dmVjNCgwLik7CmlmICh0cnVlKSB7IApkaXNjYXJkOwp9Cn0KI2VuZGlmCmA7TC5TaGFkZXJzU3RvcmVbT29dPUxvO2NsYXNzIE5ve2NvbnN0cnVjdG9yKGUpe3RoaXMub25BZnRlclJlZHVjdGlvblBlcmZvcm1lZD1uZXcgdyx0aGlzLl9mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD0hMCx0aGlzLl9hY3RpdmF0ZWQ9ITEsdGhpcy5fY2FtZXJhPWUsdGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyPW5ldyBpcyhlLmdldFNjZW5lKCkpLHRoaXMuX29uQ29udGV4dFJlc3RvcmVkT2JzZXJ2ZXI9ZS5nZXRFbmdpbmUoKS5vbkNvbnRleHRSZXN0b3JlZE9ic2VydmFibGUuYWRkKCgpPT57dGhpcy5fcG9zdFByb2Nlc3NNYW5hZ2VyLl9yZWJ1aWxkKCl9KX1nZXQgc291cmNlVGV4dHVyZSgpe3JldHVybiB0aGlzLl9zb3VyY2VUZXh0dXJlfXNldFNvdXJjZVRleHR1cmUoZSx0LGk9MixzPSEwKXtpZihlPT09dGhpcy5fc291cmNlVGV4dHVyZSlyZXR1cm47dGhpcy5kaXNwb3NlKCExKSx0aGlzLl9zb3VyY2VUZXh0dXJlPWUsdGhpcy5fcmVkdWN0aW9uU3RlcHM9W10sdGhpcy5fZm9yY2VGdWxsc2NyZWVuVmlld3BvcnQ9cztjb25zdCByPXRoaXMuX2NhbWVyYS5nZXRTY2VuZSgpLG49bmV3IHhlKCJJbml0aWFsIHJlZHVjdGlvbiBwaGFzZSIsIm1pbm1heFJlZHV4IixbInRleFNpemUiXSxbInNvdXJjZVRleHR1cmUiXSwxLG51bGwsMSxyLmdldEVuZ2luZSgpLCExLCIjZGVmaW5lIElOSVRJQUwiKyh0P2AKI2RlZmluZSBERVBUSF9SRURVWGA6IiIpLGksdm9pZCAwLHZvaWQgMCx2b2lkIDAsNyk7bi5hdXRvQ2xlYXI9ITEsbi5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD1zO2xldCBhPXRoaXMuX3NvdXJjZVRleHR1cmUuZ2V0UmVuZGVyV2lkdGgoKSxvPXRoaXMuX3NvdXJjZVRleHR1cmUuZ2V0UmVuZGVySGVpZ2h0KCk7bi5vbkFwcGx5PSgobCx1KT0+ZD0+e2Quc2V0VGV4dHVyZSgic291cmNlVGV4dHVyZSIsdGhpcy5fc291cmNlVGV4dHVyZSksZC5zZXRGbG9hdDIoInRleFNpemUiLGwsdSl9KShhLG8pLHRoaXMuX3JlZHVjdGlvblN0ZXBzLnB1c2gobik7bGV0IGg9MTtmb3IoO2E+MXx8bz4xOyl7YT1NYXRoLm1heChNYXRoLnJvdW5kKGEvMiksMSksbz1NYXRoLm1heChNYXRoLnJvdW5kKG8vMiksMSk7Y29uc3QgbD1uZXcgeGUoIlJlZHVjdGlvbiBwaGFzZSAiK2gsIm1pbm1heFJlZHV4IixbInRleFNpemUiXSxudWxsLHt3aWR0aDphLGhlaWdodDpvfSxudWxsLDEsci5nZXRFbmdpbmUoKSwhMSwiI2RlZmluZSAiKyhhPT0xJiZvPT0xPyJMQVNUIjphPT0xfHxvPT0xPyJPTkVCRUZPUkVMQVNUIjoiTUFJTiIpLGksdm9pZCAwLHZvaWQgMCx2b2lkIDAsNyk7aWYobC5hdXRvQ2xlYXI9ITEsbC5mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydD1zLGwub25BcHBseT0oKHUsZCk9Pl89Pnt1PT0xfHxkPT0xP18uc2V0SW50MigidGV4U2l6ZSIsdSxkKTpfLnNldEZsb2F0MigidGV4U2l6ZSIsdSxkKX0pKGEsbyksdGhpcy5fcmVkdWN0aW9uU3RlcHMucHVzaChsKSxoKyssYT09MSYmbz09MSl7Y29uc3QgdT0oZCxfLGYpPT57Y29uc3QgbT1uZXcgRmxvYXQzMkFycmF5KDQqZCpfKSx2PXttaW46MCxtYXg6MH07cmV0dXJuKCk9PntyLmdldEVuZ2luZSgpLl9yZWFkVGV4dHVyZVBpeGVscyhmLmlucHV0VGV4dHVyZS50ZXh0dXJlLGQsXywtMSwwLG0sITEpLHYubWluPW1bMF0sdi5tYXg9bVsxXSx0aGlzLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQubm90aWZ5T2JzZXJ2ZXJzKHYpfX07bC5vbkFmdGVyUmVuZGVyT2JzZXJ2YWJsZS5hZGQodShhLG8sbCkpfX19Z2V0IHJlZnJlc2hSYXRlKCl7cmV0dXJuIHRoaXMuX3NvdXJjZVRleHR1cmU/dGhpcy5fc291cmNlVGV4dHVyZS5yZWZyZXNoUmF0ZTotMX1zZXQgcmVmcmVzaFJhdGUoZSl7dGhpcy5fc291cmNlVGV4dHVyZSYmKHRoaXMuX3NvdXJjZVRleHR1cmUucmVmcmVzaFJhdGU9ZSl9Z2V0IGFjdGl2YXRlZCgpe3JldHVybiB0aGlzLl9hY3RpdmF0ZWR9YWN0aXZhdGUoKXt0aGlzLl9vbkFmdGVyVW5iaW5kT2JzZXJ2ZXJ8fCF0aGlzLl9zb3VyY2VUZXh0dXJlfHwodGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyPXRoaXMuX3NvdXJjZVRleHR1cmUub25BZnRlclVuYmluZE9ic2VydmFibGUuYWRkKCgpPT57dmFyIGUsdDtjb25zdCBpPXRoaXMuX2NhbWVyYS5nZXRTY2VuZSgpLmdldEVuZ2luZSgpOyhlPWkuX2RlYnVnUHVzaEdyb3VwKT09PW51bGx8fGU9PT12b2lkIDB8fGUuY2FsbChpLCJtaW4gbWF4IHJlZHVjdGlvbiIsMSksdGhpcy5fcmVkdWN0aW9uU3RlcHNbMF0uYWN0aXZhdGUodGhpcy5fY2FtZXJhKSx0aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXIuZGlyZWN0UmVuZGVyKHRoaXMuX3JlZHVjdGlvblN0ZXBzLHRoaXMuX3JlZHVjdGlvblN0ZXBzWzBdLmlucHV0VGV4dHVyZSx0aGlzLl9mb3JjZUZ1bGxzY3JlZW5WaWV3cG9ydCksaS51bkJpbmRGcmFtZWJ1ZmZlcih0aGlzLl9yZWR1Y3Rpb25TdGVwc1swXS5pbnB1dFRleHR1cmUsITEpLCh0PWkuX2RlYnVnUG9wR3JvdXApPT09bnVsbHx8dD09PXZvaWQgMHx8dC5jYWxsKGksMSl9KSx0aGlzLl9hY3RpdmF0ZWQ9ITApfWRlYWN0aXZhdGUoKXshdGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyfHwhdGhpcy5fc291cmNlVGV4dHVyZXx8KHRoaXMuX3NvdXJjZVRleHR1cmUub25BZnRlclVuYmluZE9ic2VydmFibGUucmVtb3ZlKHRoaXMuX29uQWZ0ZXJVbmJpbmRPYnNlcnZlciksdGhpcy5fb25BZnRlclVuYmluZE9ic2VydmVyPW51bGwsdGhpcy5fYWN0aXZhdGVkPSExKX1kaXNwb3NlKGU9ITApe2lmKGUmJih0aGlzLm9uQWZ0ZXJSZWR1Y3Rpb25QZXJmb3JtZWQuY2xlYXIoKSx0aGlzLl9vbkNvbnRleHRSZXN0b3JlZE9ic2VydmVyJiYodGhpcy5fY2FtZXJhLmdldEVuZ2luZSgpLm9uQ29udGV4dFJlc3RvcmVkT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlciksdGhpcy5fb25Db250ZXh0UmVzdG9yZWRPYnNlcnZlcj1udWxsKSksdGhpcy5kZWFjdGl2YXRlKCksdGhpcy5fcmVkdWN0aW9uU3RlcHMpe2ZvcihsZXQgdD0wO3Q8dGhpcy5fcmVkdWN0aW9uU3RlcHMubGVuZ3RoOysrdCl0aGlzLl9yZWR1Y3Rpb25TdGVwc1t0XS5kaXNwb3NlKCk7dGhpcy5fcmVkdWN0aW9uU3RlcHM9bnVsbH10aGlzLl9wb3N0UHJvY2Vzc01hbmFnZXImJmUmJnRoaXMuX3Bvc3RQcm9jZXNzTWFuYWdlci5kaXNwb3NlKCksdGhpcy5fc291cmNlVGV4dHVyZT1udWxsfX1jbGFzcyBCbyBleHRlbmRzIE5ve2dldCBkZXB0aFJlbmRlcmVyKCl7cmV0dXJuIHRoaXMuX2RlcHRoUmVuZGVyZXJ9Y29uc3RydWN0b3IoZSl7c3VwZXIoZSl9c2V0RGVwdGhSZW5kZXJlcihlPW51bGwsdD0yLGk9ITApe2NvbnN0IHM9dGhpcy5fY2FtZXJhLmdldFNjZW5lKCk7dGhpcy5fZGVwdGhSZW5kZXJlciYmKGRlbGV0ZSBzLl9kZXB0aFJlbmRlcmVyW3RoaXMuX2RlcHRoUmVuZGVyZXJJZF0sdGhpcy5fZGVwdGhSZW5kZXJlci5kaXNwb3NlKCksdGhpcy5fZGVwdGhSZW5kZXJlcj1udWxsKSxlPT09bnVsbCYmKHMuX2RlcHRoUmVuZGVyZXJ8fChzLl9kZXB0aFJlbmRlcmVyPXt9KSxlPXRoaXMuX2RlcHRoUmVuZGVyZXI9bmV3IGNzKHMsdCx0aGlzLl9jYW1lcmEsITEsMSksZS5lbmFibGVkPSExLHRoaXMuX2RlcHRoUmVuZGVyZXJJZD0ibWlubWF4Iit0aGlzLl9jYW1lcmEuaWQscy5fZGVwdGhSZW5kZXJlclt0aGlzLl9kZXB0aFJlbmRlcmVySWRdPWUpLHN1cGVyLnNldFNvdXJjZVRleHR1cmUoZS5nZXREZXB0aE1hcCgpLCEwLHQsaSl9c2V0U291cmNlVGV4dHVyZShlLHQsaT0yLHM9ITApe3N1cGVyLnNldFNvdXJjZVRleHR1cmUoZSx0LGkscyl9YWN0aXZhdGUoKXt0aGlzLl9kZXB0aFJlbmRlcmVyJiYodGhpcy5fZGVwdGhSZW5kZXJlci5lbmFibGVkPSEwKSxzdXBlci5hY3RpdmF0ZSgpfWRlYWN0aXZhdGUoKXtzdXBlci5kZWFjdGl2YXRlKCksdGhpcy5fZGVwdGhSZW5kZXJlciYmKHRoaXMuX2RlcHRoUmVuZGVyZXIuZW5hYmxlZD0hMSl9ZGlzcG9zZShlPSEwKXtpZihzdXBlci5kaXNwb3NlKGUpLHRoaXMuX2RlcHRoUmVuZGVyZXImJmUpe2NvbnN0IHQ9dGhpcy5fZGVwdGhSZW5kZXJlci5nZXREZXB0aE1hcCgpLmdldFNjZW5lKCk7dCYmZGVsZXRlIHQuX2RlcHRoUmVuZGVyZXJbdGhpcy5fZGVwdGhSZW5kZXJlcklkXSx0aGlzLl9kZXB0aFJlbmRlcmVyLmRpc3Bvc2UoKSx0aGlzLl9kZXB0aFJlbmRlcmVyPW51bGx9fX1jb25zdCBXcj1wLlVwKCksVW89cC5aZXJvKCksd2U9bmV3IHAseWk9bmV3IHAsdXM9bmV3IE07Y2xhc3Mga2UgZXh0ZW5kcyBIe192YWxpZGF0ZUZpbHRlcihlKXtyZXR1cm4gZT09PUguRklMVEVSX05PTkV8fGU9PT1ILkZJTFRFUl9QQ0Z8fGU9PT1ILkZJTFRFUl9QQ1NTP2U6KGNvbnNvbGUuZXJyb3IoJ1Vuc3VwcG9ydGVkIGZpbHRlciAiJytlKyciIScpLEguRklMVEVSX05PTkUpfWdldCBudW1DYXNjYWRlcygpe3JldHVybiB0aGlzLl9udW1DYXNjYWRlc31zZXQgbnVtQ2FzY2FkZXMoZSl7ZT1NYXRoLm1pbihNYXRoLm1heChlLGtlLk1JTl9DQVNDQURFU19DT1VOVCksa2UuTUFYX0NBU0NBREVTX0NPVU5UKSxlIT09dGhpcy5fbnVtQ2FzY2FkZXMmJih0aGlzLl9udW1DYXNjYWRlcz1lLHRoaXMucmVjcmVhdGVTaGFkb3dNYXAoKSx0aGlzLl9yZWNyZWF0ZVNjZW5lVUJPcygpKX1nZXQgZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvfXNldCBmcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKGUpe3RoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlJiZlJiYodGhpcy5fc2NlbmUub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLnJlbW92ZSh0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSksdGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGU9bnVsbCksIXRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlJiYhZSYmKHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPXRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQodGhpcy5fY29tcHV0ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8uYmluZCh0aGlzKSkpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89ZSxlJiZ0aGlzLl9jb21wdXRlU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbygpfV9jb21wdXRlU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbygpe2lmKHRoaXMuX3NjYmlNaW4uY29weUZyb21GbG9hdHMoTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFLE51bWJlci5NQVhfVkFMVUUpLHRoaXMuX3NjYmlNYXguY29weUZyb21GbG9hdHMoTnVtYmVyLk1JTl9WQUxVRSxOdW1iZXIuTUlOX1ZBTFVFLE51bWJlci5NSU5fVkFMVUUpLHRoaXMuX3NoYWRvd01hcCYmdGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Qpe2NvbnN0IGU9dGhpcy5fc2hhZG93TWFwLnJlbmRlckxpc3Q7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IHM9ZVtpXTtpZighcyljb250aW51ZTtjb25zdCByPXMuZ2V0Qm91bmRpbmdJbmZvKCksbj1yLmJvdW5kaW5nQm94O3RoaXMuX3NjYmlNaW4ubWluaW1pemVJblBsYWNlKG4ubWluaW11bVdvcmxkKSx0aGlzLl9zY2JpTWF4Lm1heGltaXplSW5QbGFjZShuLm1heGltdW1Xb3JsZCl9Y29uc3QgdD10aGlzLl9zY2VuZS5tZXNoZXM7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IHM9dFtpXTtpZighc3x8IXMuaXNWaXNpYmxlfHwhcy5pc0VuYWJsZWR8fCFzLnJlY2VpdmVTaGFkb3dzKWNvbnRpbnVlO2NvbnN0IHI9cy5nZXRCb3VuZGluZ0luZm8oKSxuPXIuYm91bmRpbmdCb3g7dGhpcy5fc2NiaU1pbi5taW5pbWl6ZUluUGxhY2Uobi5taW5pbXVtV29ybGQpLHRoaXMuX3NjYmlNYXgubWF4aW1pemVJblBsYWNlKG4ubWF4aW11bVdvcmxkKX19dGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mby5yZUNvbnN0cnVjdCh0aGlzLl9zY2JpTWluLHRoaXMuX3NjYmlNYXgpfWdldCBzaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKCl7cmV0dXJuIHRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm99c2V0IHNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8oZSl7dGhpcy5fc2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz1lfXNldE1pbk1heERpc3RhbmNlKGUsdCl7dGhpcy5fbWluRGlzdGFuY2U9PT1lJiZ0aGlzLl9tYXhEaXN0YW5jZT09PXR8fChlPnQmJihlPTAsdD0xKSxlPDAmJihlPTApLHQ+MSYmKHQ9MSksdGhpcy5fbWluRGlzdGFuY2U9ZSx0aGlzLl9tYXhEaXN0YW5jZT10LHRoaXMuX2JyZWFrc0FyZURpcnR5PSEwKX1nZXQgbWluRGlzdGFuY2UoKXtyZXR1cm4gdGhpcy5fbWluRGlzdGFuY2V9Z2V0IG1heERpc3RhbmNlKCl7cmV0dXJuIHRoaXMuX21heERpc3RhbmNlfWdldENsYXNzTmFtZSgpe3JldHVybiBrZS5DTEFTU05BTUV9Z2V0Q2FzY2FkZU1pbkV4dGVudHMoZSl7cmV0dXJuIGU+PTAmJmU8dGhpcy5fbnVtQ2FzY2FkZXM/dGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbZV06bnVsbH1nZXRDYXNjYWRlTWF4RXh0ZW50cyhlKXtyZXR1cm4gZT49MCYmZTx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tlXTpudWxsfWdldCBzaGFkb3dNYXhaKCl7cmV0dXJuIHRoaXMuX2dldENhbWVyYSgpP3RoaXMuX3NoYWRvd01heFo6MH1zZXQgc2hhZG93TWF4WihlKXtjb25zdCB0PXRoaXMuX2dldENhbWVyYSgpO2lmKCF0KXt0aGlzLl9zaGFkb3dNYXhaPWU7cmV0dXJufXRoaXMuX3NoYWRvd01heFo9PT1lfHxlPHQubWluWnx8ZT50Lm1heFp8fCh0aGlzLl9zaGFkb3dNYXhaPWUsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKSx0aGlzLl9icmVha3NBcmVEaXJ0eT0hMCl9Z2V0IGRlYnVnKCl7cmV0dXJuIHRoaXMuX2RlYnVnfXNldCBkZWJ1ZyhlKXt0aGlzLl9kZWJ1Zz1lLHRoaXMuX2xpZ2h0Ll9tYXJrTWVzaGVzQXNMaWdodERpcnR5KCl9Z2V0IGRlcHRoQ2xhbXAoKXtyZXR1cm4gdGhpcy5fZGVwdGhDbGFtcH1zZXQgZGVwdGhDbGFtcChlKXt0aGlzLl9kZXB0aENsYW1wPWV9Z2V0IGNhc2NhZGVCbGVuZFBlcmNlbnRhZ2UoKXtyZXR1cm4gdGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZX1zZXQgY2FzY2FkZUJsZW5kUGVyY2VudGFnZShlKXt0aGlzLl9jYXNjYWRlQmxlbmRQZXJjZW50YWdlPWUsdGhpcy5fbGlnaHQuX21hcmtNZXNoZXNBc0xpZ2h0RGlydHkoKX1nZXQgbGFtYmRhKCl7cmV0dXJuIHRoaXMuX2xhbWJkYX1zZXQgbGFtYmRhKGUpe2NvbnN0IHQ9TWF0aC5taW4oTWF0aC5tYXgoZSwwKSwxKTt0aGlzLl9sYW1iZGEhPXQmJih0aGlzLl9sYW1iZGE9dCx0aGlzLl9icmVha3NBcmVEaXJ0eT0hMCl9Z2V0Q2FzY2FkZVZpZXdNYXRyaXgoZSl7cmV0dXJuIGU+PTAmJmU8dGhpcy5fbnVtQ2FzY2FkZXM/dGhpcy5fdmlld01hdHJpY2VzW2VdOm51bGx9Z2V0Q2FzY2FkZVByb2plY3Rpb25NYXRyaXgoZSl7cmV0dXJuIGU+PTAmJmU8dGhpcy5fbnVtQ2FzY2FkZXM/dGhpcy5fcHJvamVjdGlvbk1hdHJpY2VzW2VdOm51bGx9Z2V0Q2FzY2FkZVRyYW5zZm9ybU1hdHJpeChlKXtyZXR1cm4gZT49MCYmZTx0aGlzLl9udW1DYXNjYWRlcz90aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tlXTpudWxsfXNldERlcHRoUmVuZGVyZXIoZSl7dGhpcy5fZGVwdGhSZW5kZXJlcj1lLHRoaXMuX2RlcHRoUmVkdWNlciYmdGhpcy5fZGVwdGhSZWR1Y2VyLnNldERlcHRoUmVuZGVyZXIodGhpcy5fZGVwdGhSZW5kZXJlcil9Z2V0IGF1dG9DYWxjRGVwdGhCb3VuZHMoKXtyZXR1cm4gdGhpcy5fYXV0b0NhbGNEZXB0aEJvdW5kc31zZXQgYXV0b0NhbGNEZXB0aEJvdW5kcyhlKXtjb25zdCB0PXRoaXMuX2dldENhbWVyYSgpO2lmKHQpe2lmKHRoaXMuX2F1dG9DYWxjRGVwdGhCb3VuZHM9ZSwhZSl7dGhpcy5fZGVwdGhSZWR1Y2VyJiZ0aGlzLl9kZXB0aFJlZHVjZXIuZGVhY3RpdmF0ZSgpLHRoaXMuc2V0TWluTWF4RGlzdGFuY2UoMCwxKTtyZXR1cm59dGhpcy5fZGVwdGhSZWR1Y2VyfHwodGhpcy5fZGVwdGhSZWR1Y2VyPW5ldyBCbyh0KSx0aGlzLl9kZXB0aFJlZHVjZXIub25BZnRlclJlZHVjdGlvblBlcmZvcm1lZC5hZGQoaT0+e2xldCBzPWkubWluLHI9aS5tYXg7cz49ciYmKHM9MCxyPTEpLChzIT10aGlzLl9taW5EaXN0YW5jZXx8ciE9dGhpcy5fbWF4RGlzdGFuY2UpJiZ0aGlzLnNldE1pbk1heERpc3RhbmNlKHMscil9KSx0aGlzLl9kZXB0aFJlZHVjZXIuc2V0RGVwdGhSZW5kZXJlcih0aGlzLl9kZXB0aFJlbmRlcmVyKSksdGhpcy5fZGVwdGhSZWR1Y2VyLmFjdGl2YXRlKCl9fWdldCBhdXRvQ2FsY0RlcHRoQm91bmRzUmVmcmVzaFJhdGUoKXt2YXIgZSx0LGk7cmV0dXJuKGk9KHQ9KGU9dGhpcy5fZGVwdGhSZWR1Y2VyKT09PW51bGx8fGU9PT12b2lkIDA/dm9pZCAwOmUuZGVwdGhSZW5kZXJlcik9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LmdldERlcHRoTWFwKCkucmVmcmVzaFJhdGUpIT09bnVsbCYmaSE9PXZvaWQgMD9pOi0xfXNldCBhdXRvQ2FsY0RlcHRoQm91bmRzUmVmcmVzaFJhdGUoZSl7dmFyIHQ7ISgodD10aGlzLl9kZXB0aFJlZHVjZXIpPT09bnVsbHx8dD09PXZvaWQgMCkmJnQuZGVwdGhSZW5kZXJlciYmKHRoaXMuX2RlcHRoUmVkdWNlci5kZXB0aFJlbmRlcmVyLmdldERlcHRoTWFwKCkucmVmcmVzaFJhdGU9ZSl9c3BsaXRGcnVzdHVtKCl7dGhpcy5fYnJlYWtzQXJlRGlydHk9ITB9X3NwbGl0RnJ1c3R1bSgpe2NvbnN0IGU9dGhpcy5fZ2V0Q2FtZXJhKCk7aWYoIWUpcmV0dXJuO2NvbnN0IHQ9ZS5taW5aLGk9ZS5tYXhaLHM9aS10LHI9dGhpcy5fbWluRGlzdGFuY2Usbj10aGlzLl9zaGFkb3dNYXhaPGkmJnRoaXMuX3NoYWRvd01heFo+PXQ/TWF0aC5taW4oKHRoaXMuX3NoYWRvd01heFotdCkvKGktdCksdGhpcy5fbWF4RGlzdGFuY2UpOnRoaXMuX21heERpc3RhbmNlLGE9dCtyKnMsbz10K24qcyxoPW8tYSxsPW8vYTtmb3IobGV0IHU9MDt1PHRoaXMuX2Nhc2NhZGVzLmxlbmd0aDsrK3Upe2NvbnN0IGQ9KHUrMSkvdGhpcy5fbnVtQ2FzY2FkZXMsXz1hKmwqKmQsZj1hK2gqZCxtPXRoaXMuX2xhbWJkYSooXy1mKStmO3RoaXMuX2Nhc2NhZGVzW3VdLnByZXZCcmVha0Rpc3RhbmNlPXU9PT0wP3I6dGhpcy5fY2FzY2FkZXNbdS0xXS5icmVha0Rpc3RhbmNlLHRoaXMuX2Nhc2NhZGVzW3VdLmJyZWFrRGlzdGFuY2U9KG0tdCkvcyx0aGlzLl92aWV3U3BhY2VGcnVzdHVtc1pbdV09bSx0aGlzLl9mcnVzdHVtTGVuZ3Roc1t1XT0odGhpcy5fY2FzY2FkZXNbdV0uYnJlYWtEaXN0YW5jZS10aGlzLl9jYXNjYWRlc1t1XS5wcmV2QnJlYWtEaXN0YW5jZSkqc310aGlzLl9icmVha3NBcmVEaXJ0eT0hMX1fY29tcHV0ZU1hdHJpY2VzKCl7Y29uc3QgZT10aGlzLl9zY2VuZTtpZighdGhpcy5fZ2V0Q2FtZXJhKCkpcmV0dXJuO3AuTm9ybWFsaXplVG9SZWYodGhpcy5fbGlnaHQuZ2V0U2hhZG93RGlyZWN0aW9uKDApLHRoaXMuX2xpZ2h0RGlyZWN0aW9uKSxNYXRoLmFicyhwLkRvdCh0aGlzLl9saWdodERpcmVjdGlvbixwLlVwKCkpKT09PTEmJih0aGlzLl9saWdodERpcmVjdGlvbi56PTFlLTEzKSx0aGlzLl9jYWNoZWREaXJlY3Rpb24uY29weUZyb20odGhpcy5fbGlnaHREaXJlY3Rpb24pO2NvbnN0IGk9ZS5nZXRFbmdpbmUoKS51c2VSZXZlcnNlRGVwdGhCdWZmZXI7Zm9yKGxldCBzPTA7czx0aGlzLl9udW1DYXNjYWRlczsrK3Mpe3RoaXMuX2NvbXB1dGVGcnVzdHVtSW5Xb3JsZFNwYWNlKHMpLHRoaXMuX2NvbXB1dGVDYXNjYWRlRnJ1c3R1bShzKSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tzXS5zdWJ0cmFjdFRvUmVmKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3NdLHdlKSx0aGlzLl9mcnVzdHVtQ2VudGVyW3NdLmFkZFRvUmVmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLnNjYWxlKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3NdLnopLHRoaXMuX3NoYWRvd0NhbWVyYVBvc1tzXSksTS5Mb29rQXRMSFRvUmVmKHRoaXMuX3NoYWRvd0NhbWVyYVBvc1tzXSx0aGlzLl9mcnVzdHVtQ2VudGVyW3NdLFdyLHRoaXMuX3ZpZXdNYXRyaWNlc1tzXSk7bGV0IHI9MCxuPXdlLno7Y29uc3QgYT10aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvO2EudXBkYXRlKHRoaXMuX3ZpZXdNYXRyaWNlc1tzXSksbj1NYXRoLm1pbihuLGEuYm91bmRpbmdCb3gubWF4aW11bVdvcmxkLnopLCF0aGlzLl9kZXB0aENsYW1wfHx0aGlzLmZpbHRlcj09PUguRklMVEVSX1BDU1M/cj1NYXRoLm1pbihyLGEuYm91bmRpbmdCb3gubWluaW11bVdvcmxkLnopOnI9TWF0aC5tYXgocixhLmJvdW5kaW5nQm94Lm1pbmltdW1Xb3JsZC56KSxNLk9ydGhvT2ZmQ2VudGVyTEhUb1JlZih0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tzXS54LHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3NdLngsdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbc10ueSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tzXS55LGk/bjpyLGk/cjpuLHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXSxlLmdldEVuZ2luZSgpLmlzTkRDSGFsZlpSYW5nZSksdGhpcy5fY2FzY2FkZU1pbkV4dGVudHNbc10uej1yLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3NdLno9bix0aGlzLl92aWV3TWF0cmljZXNbc10ubXVsdGlwbHlUb1JlZih0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbc10sdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbc10pLHAuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihVbyx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tzXSx3ZSksd2Uuc2NhbGVJblBsYWNlKHRoaXMuX21hcFNpemUvMikseWkuY29weUZyb21GbG9hdHMoTWF0aC5yb3VuZCh3ZS54KSxNYXRoLnJvdW5kKHdlLnkpLE1hdGgucm91bmQod2UueikpLHlpLnN1YnRyYWN0SW5QbGFjZSh3ZSkuc2NhbGVJblBsYWNlKDIvdGhpcy5fbWFwU2l6ZSksTS5UcmFuc2xhdGlvblRvUmVmKHlpLngseWkueSwwLHVzKSx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbc10ubXVsdGlwbHlUb1JlZih1cyx0aGlzLl9wcm9qZWN0aW9uTWF0cmljZXNbc10pLHRoaXMuX3ZpZXdNYXRyaWNlc1tzXS5tdWx0aXBseVRvUmVmKHRoaXMuX3Byb2plY3Rpb25NYXRyaWNlc1tzXSx0aGlzLl90cmFuc2Zvcm1NYXRyaWNlc1tzXSksdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNbc10uY29weVRvQXJyYXkodGhpcy5fdHJhbnNmb3JtTWF0cmljZXNBc0FycmF5LHMqMTYpfX1fY29tcHV0ZUZydXN0dW1JbldvcmxkU3BhY2UoZSl7Y29uc3QgdD10aGlzLl9nZXRDYW1lcmEoKTtpZighdClyZXR1cm47Y29uc3QgaT10aGlzLl9jYXNjYWRlc1tlXS5wcmV2QnJlYWtEaXN0YW5jZSxzPXRoaXMuX2Nhc2NhZGVzW2VdLmJyZWFrRGlzdGFuY2Uscj10aGlzLl9zY2VuZS5nZXRFbmdpbmUoKS5pc05EQ0hhbGZaUmFuZ2U7dC5nZXRWaWV3TWF0cml4KCk7Y29uc3Qgbj1NLkludmVydCh0LmdldFRyYW5zZm9ybWF0aW9uTWF0cml4KCkpLGE9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCkudXNlUmV2ZXJzZURlcHRoQnVmZmVyPzQ6MDtmb3IobGV0IG89MDtvPGtlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlLmxlbmd0aDsrK28pd2UuY29weUZyb20oa2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2VbKG8rYSkla2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoXSksciYmd2Uuej09PS0xJiYod2Uuej0wKSxwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYod2Usbix0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1bb10pO2ZvcihsZXQgbz0wO288a2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoLzI7KytvKXdlLmNvcHlGcm9tKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtvKzRdKS5zdWJ0cmFjdEluUGxhY2UodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW29dKSx5aS5jb3B5RnJvbSh3ZSkuc2NhbGVJblBsYWNlKGkpLHdlLnNjYWxlSW5QbGFjZShzKSx3ZS5hZGRJblBsYWNlKHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtvXSksdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW28rNF0uY29weUZyb20od2UpLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXVtvXS5hZGRJblBsYWNlKHlpKX1fY29tcHV0ZUNhc2NhZGVGcnVzdHVtKGUpe2lmKHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW2VdLmNvcHlGcm9tRmxvYXRzKE51bWJlci5NQVhfVkFMVUUsTnVtYmVyLk1BWF9WQUxVRSxOdW1iZXIuTUFYX1ZBTFVFKSx0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tlXS5jb3B5RnJvbUZsb2F0cyhOdW1iZXIuTUlOX1ZBTFVFLE51bWJlci5NSU5fVkFMVUUsTnVtYmVyLk1JTl9WQUxVRSksdGhpcy5fZnJ1c3R1bUNlbnRlcltlXS5jb3B5RnJvbUZsb2F0cygwLDAsMCksISF0aGlzLl9nZXRDYW1lcmEoKSl7Zm9yKGxldCBpPTA7aTx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV0ubGVuZ3RoOysraSl0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLmFkZEluUGxhY2UodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW2ldKTtpZih0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLnNjYWxlSW5QbGFjZSgxL3RoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVtlXS5sZW5ndGgpLHRoaXMuc3RhYmlsaXplQ2FzY2FkZXMpe2xldCBpPTA7Zm9yKGxldCBzPTA7czx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV0ubGVuZ3RoOysrcyl7Y29uc3Qgcj10aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV1bc10uc3VidHJhY3RUb1JlZih0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLHdlKS5sZW5ndGgoKTtpPU1hdGgubWF4KGkscil9aT1NYXRoLmNlaWwoaSoxNikvMTYsdGhpcy5fY2FzY2FkZU1heEV4dGVudHNbZV0uY29weUZyb21GbG9hdHMoaSxpLGkpLHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW2VdLmNvcHlGcm9tRmxvYXRzKC1pLC1pLC1pKX1lbHNle2NvbnN0IGk9dGhpcy5fZnJ1c3R1bUNlbnRlcltlXTt0aGlzLl9mcnVzdHVtQ2VudGVyW2VdLmFkZFRvUmVmKHRoaXMuX2xpZ2h0RGlyZWN0aW9uLHdlKSxNLkxvb2tBdExIVG9SZWYoaSx3ZSxXcix1cyk7Zm9yKGxldCBzPTA7czx0aGlzLl9mcnVzdHVtQ29ybmVyc1dvcmxkU3BhY2VbZV0ubGVuZ3RoOysrcylwLlRyYW5zZm9ybUNvb3JkaW5hdGVzVG9SZWYodGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW2VdW3NdLHVzLHdlKSx0aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tlXS5taW5pbWl6ZUluUGxhY2Uod2UpLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW2VdLm1heGltaXplSW5QbGFjZSh3ZSl9fX1fcmVjcmVhdGVTY2VuZVVCT3MoKXtpZih0aGlzLl9kaXNwb3NlU2NlbmVVQk9zKCksdGhpcy5fc2NlbmVVQk9zKWZvcihsZXQgZT0wO2U8dGhpcy5fbnVtQ2FzY2FkZXM7KytlKXRoaXMuX3NjZW5lVUJPcy5wdXNoKHRoaXMuX3NjZW5lLmNyZWF0ZVNjZW5lVW5pZm9ybUJ1ZmZlcihgU2NlbmUgZm9yIENTTSBTaGFkb3cgR2VuZXJhdG9yIChsaWdodCAiJHt0aGlzLl9saWdodC5uYW1lfSIgY2FzY2FkZSAjJHtlfSlgKSl9c3RhdGljIGdldCBJc1N1cHBvcnRlZCgpe2NvbnN0IGU9bGUuTGFzdENyZWF0ZWRFbmdpbmU7cmV0dXJuIGU/ZS5fZmVhdHVyZXMuc3VwcG9ydENTTTohMX1jb25zdHJ1Y3RvcihlLHQsaSxzKXtpZigha2UuSXNTdXBwb3J0ZWQpe08uRXJyb3IoIkNhc2NhZGVkU2hhZG93TWFwIGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgZW5naW5lLiIpO3JldHVybn1zdXBlcihlLHQsaSxzKSx0aGlzLnVzZVBlcmNlbnRhZ2VDbG9zZXJGaWx0ZXJpbmc9ITB9X2luaXRpYWxpemVHZW5lcmF0b3IoKXt2YXIgZSx0LGkscyxyLG4sYSxvLGgsbCx1LGQsXyxmLG0sdixFLFMsUixBO3RoaXMucGVudW1icmFEYXJrbmVzcz0oZT10aGlzLnBlbnVtYnJhRGFya25lc3MpIT09bnVsbCYmZSE9PXZvaWQgMD9lOjEsdGhpcy5fbnVtQ2FzY2FkZXM9KHQ9dGhpcy5fbnVtQ2FzY2FkZXMpIT09bnVsbCYmdCE9PXZvaWQgMD90OmtlLkRFRkFVTFRfQ0FTQ0FERVNfQ09VTlQsdGhpcy5zdGFiaWxpemVDYXNjYWRlcz0oaT10aGlzLnN0YWJpbGl6ZUNhc2NhZGVzKSE9PW51bGwmJmkhPT12b2lkIDA/aTohMSx0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZT0ocz10aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSkhPT1udWxsJiZzIT09dm9pZCAwP3M6bnVsbCx0aGlzLmZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm89KHI9dGhpcy5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvKSE9PW51bGwmJnIhPT12b2lkIDA/cjohMSx0aGlzLl9zY2JpTWluPShuPXRoaXMuX3NjYmlNaW4pIT09bnVsbCYmbiE9PXZvaWQgMD9uOm5ldyBwKDAsMCwwKSx0aGlzLl9zY2JpTWF4PShhPXRoaXMuX3NjYmlNYXgpIT09bnVsbCYmYSE9PXZvaWQgMD9hOm5ldyBwKDAsMCwwKSx0aGlzLl9zaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPShvPXRoaXMuX3NoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm8pIT09bnVsbCYmbyE9PXZvaWQgMD9vOm5ldyBmdChuZXcgcCgwLDAsMCksbmV3IHAoMCwwLDApKSx0aGlzLl9icmVha3NBcmVEaXJ0eT0oaD10aGlzLl9icmVha3NBcmVEaXJ0eSkhPT1udWxsJiZoIT09dm9pZCAwP2g6ITAsdGhpcy5fbWluRGlzdGFuY2U9KGw9dGhpcy5fbWluRGlzdGFuY2UpIT09bnVsbCYmbCE9PXZvaWQgMD9sOjAsdGhpcy5fbWF4RGlzdGFuY2U9KHU9dGhpcy5fbWF4RGlzdGFuY2UpIT09bnVsbCYmdSE9PXZvaWQgMD91OjEsdGhpcy5fY3VycmVudExheWVyPShkPXRoaXMuX2N1cnJlbnRMYXllcikhPT1udWxsJiZkIT09dm9pZCAwP2Q6MCx0aGlzLl9zaGFkb3dNYXhaPShtPShfPXRoaXMuX3NoYWRvd01heFopIT09bnVsbCYmXyE9PXZvaWQgMD9fOihmPXRoaXMuX2dldENhbWVyYSgpKT09PW51bGx8fGY9PT12b2lkIDA/dm9pZCAwOmYubWF4WikhPT1udWxsJiZtIT09dm9pZCAwP206MWU0LHRoaXMuX2RlYnVnPSh2PXRoaXMuX2RlYnVnKSE9PW51bGwmJnYhPT12b2lkIDA/djohMSx0aGlzLl9kZXB0aENsYW1wPShFPXRoaXMuX2RlcHRoQ2xhbXApIT09bnVsbCYmRSE9PXZvaWQgMD9FOiEwLHRoaXMuX2Nhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9KFM9dGhpcy5fY2FzY2FkZUJsZW5kUGVyY2VudGFnZSkhPT1udWxsJiZTIT09dm9pZCAwP1M6LjEsdGhpcy5fbGFtYmRhPShSPXRoaXMuX2xhbWJkYSkhPT1udWxsJiZSIT09dm9pZCAwP1I6LjUsdGhpcy5fYXV0b0NhbGNEZXB0aEJvdW5kcz0oQT10aGlzLl9hdXRvQ2FsY0RlcHRoQm91bmRzKSE9PW51bGwmJkEhPT12b2lkIDA/QTohMSx0aGlzLl9yZWNyZWF0ZVNjZW5lVUJPcygpLHN1cGVyLl9pbml0aWFsaXplR2VuZXJhdG9yKCl9X2NyZWF0ZVRhcmdldFJlbmRlclRleHR1cmUoKXtjb25zdCBlPXRoaXMuX3NjZW5lLmdldEVuZ2luZSgpLHQ9e3dpZHRoOnRoaXMuX21hcFNpemUsaGVpZ2h0OnRoaXMuX21hcFNpemUsbGF5ZXJzOnRoaXMubnVtQ2FzY2FkZXN9O3RoaXMuX3NoYWRvd01hcD1uZXcgZ3QodGhpcy5fbGlnaHQubmFtZSsiX0NTTVNoYWRvd01hcCIsdCx0aGlzLl9zY2VuZSwhMSwhMCx0aGlzLl90ZXh0dXJlVHlwZSwhMSx2b2lkIDAsITEsITEsdm9pZCAwKSx0aGlzLl9zaGFkb3dNYXAuY3JlYXRlRGVwdGhTdGVuY2lsVGV4dHVyZShlLnVzZVJldmVyc2VEZXB0aEJ1ZmZlcj81MTY6NTEzLCEwKX1faW5pdGlhbGl6ZVNoYWRvd01hcCgpe2lmKHN1cGVyLl9pbml0aWFsaXplU2hhZG93TWFwKCksdGhpcy5fc2hhZG93TWFwPT09bnVsbClyZXR1cm47dGhpcy5fdHJhbnNmb3JtTWF0cmljZXNBc0FycmF5PW5ldyBGbG9hdDMyQXJyYXkodGhpcy5fbnVtQ2FzY2FkZXMqMTYpLHRoaXMuX3ZpZXdTcGFjZUZydXN0dW1zWj1uZXcgQXJyYXkodGhpcy5fbnVtQ2FzY2FkZXMpLHRoaXMuX2ZydXN0dW1MZW5ndGhzPW5ldyBBcnJheSh0aGlzLl9udW1DYXNjYWRlcyksdGhpcy5fbGlnaHRTaXplVVZDb3JyZWN0aW9uPW5ldyBBcnJheSh0aGlzLl9udW1DYXNjYWRlcyoyKSx0aGlzLl9kZXB0aENvcnJlY3Rpb249bmV3IEFycmF5KHRoaXMuX251bUNhc2NhZGVzKSx0aGlzLl9jYXNjYWRlcz1bXSx0aGlzLl92aWV3TWF0cmljZXM9W10sdGhpcy5fcHJvamVjdGlvbk1hdHJpY2VzPVtdLHRoaXMuX3RyYW5zZm9ybU1hdHJpY2VzPVtdLHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzPVtdLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzPVtdLHRoaXMuX2ZydXN0dW1DZW50ZXI9W10sdGhpcy5fc2hhZG93Q2FtZXJhUG9zPVtdLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZT1bXTtmb3IobGV0IHQ9MDt0PHRoaXMuX251bUNhc2NhZGVzOysrdCl7dGhpcy5fY2FzY2FkZXNbdF09e3ByZXZCcmVha0Rpc3RhbmNlOjAsYnJlYWtEaXN0YW5jZTowfSx0aGlzLl92aWV3TWF0cmljZXNbdF09TS5aZXJvKCksdGhpcy5fcHJvamVjdGlvbk1hdHJpY2VzW3RdPU0uWmVybygpLHRoaXMuX3RyYW5zZm9ybU1hdHJpY2VzW3RdPU0uWmVybygpLHRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW3RdPW5ldyBwLHRoaXMuX2Nhc2NhZGVNYXhFeHRlbnRzW3RdPW5ldyBwLHRoaXMuX2ZydXN0dW1DZW50ZXJbdF09bmV3IHAsdGhpcy5fc2hhZG93Q2FtZXJhUG9zW3RdPW5ldyBwLHRoaXMuX2ZydXN0dW1Db3JuZXJzV29ybGRTcGFjZVt0XT1uZXcgQXJyYXkoa2UuX0ZydXN0dW1Db3JuZXJzTkRDU3BhY2UubGVuZ3RoKTtmb3IobGV0IGk9MDtpPGtlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlLmxlbmd0aDsrK2kpdGhpcy5fZnJ1c3R1bUNvcm5lcnNXb3JsZFNwYWNlW3RdW2ldPW5ldyBwfWNvbnN0IGU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCk7dGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlQmluZE9ic2VydmFibGUuY2xlYXIoKSx0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVSZW5kZXJPYnNlcnZhYmxlLmNsZWFyKCksdGhpcy5fc2hhZG93TWFwLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5hZGQodD0+e3RoaXMuX3NjZW5lVUJPcyYmdGhpcy5fc2NlbmUuc2V0U2NlbmVVbmlmb3JtQnVmZmVyKHRoaXMuX3NjZW5lVUJPc1t0XSksdGhpcy5fY3VycmVudExheWVyPXQsdGhpcy5fZmlsdGVyPT09SC5GSUxURVJfUENGJiZlLnNldENvbG9yV3JpdGUoITEpLHRoaXMuX3NjZW5lLnNldFRyYW5zZm9ybU1hdHJpeCh0aGlzLmdldENhc2NhZGVWaWV3TWF0cml4KHQpLHRoaXMuZ2V0Q2FzY2FkZVByb2plY3Rpb25NYXRyaXgodCkpLHRoaXMuX3VzZVVCTyYmKHRoaXMuX3NjZW5lLmdldFNjZW5lVW5pZm9ybUJ1ZmZlcigpLnVuYmluZEVmZmVjdCgpLHRoaXMuX3NjZW5lLmZpbmFsaXplU2NlbmVVYm8oKSl9KSx0aGlzLl9zaGFkb3dNYXAub25CZWZvcmVCaW5kT2JzZXJ2YWJsZS5hZGQoKCk9Pnt2YXIgdDt0aGlzLl9jdXJyZW50U2NlbmVVQk89dGhpcy5fc2NlbmUuZ2V0U2NlbmVVbmlmb3JtQnVmZmVyKCksKHQ9ZS5fZGVidWdQdXNoR3JvdXApPT09bnVsbHx8dD09PXZvaWQgMHx8dC5jYWxsKGUsYGNhc2NhZGVkIHNoYWRvdyBtYXAgZ2VuZXJhdGlvbiBmb3IgcGFzcyBpZCAke2UuY3VycmVudFJlbmRlclBhc3NJZH1gLDEpLHRoaXMuX2JyZWFrc0FyZURpcnR5JiZ0aGlzLl9zcGxpdEZydXN0dW0oKSx0aGlzLl9jb21wdXRlTWF0cmljZXMoKX0pLHRoaXMuX3NwbGl0RnJ1c3R1bSgpfV9iaW5kQ3VzdG9tRWZmZWN0Rm9yUmVuZGVyU3ViTWVzaEZvclNoYWRvd01hcChlLHQpe3Quc2V0TWF0cml4KCJ2aWV3UHJvamVjdGlvbiIsdGhpcy5nZXRDYXNjYWRlVHJhbnNmb3JtTWF0cml4KHRoaXMuX2N1cnJlbnRMYXllcikpfV9pc1JlYWR5Q3VzdG9tRGVmaW5lcyhlKXtlLnB1c2goIiNkZWZpbmUgU01fREVQVEhDTEFNUCAiKyh0aGlzLl9kZXB0aENsYW1wJiZ0aGlzLl9maWx0ZXIhPT1ILkZJTFRFUl9QQ1NTPyIxIjoiMCIpKX1wcmVwYXJlRGVmaW5lcyhlLHQpe3N1cGVyLnByZXBhcmVEZWZpbmVzKGUsdCk7Y29uc3QgaT10aGlzLl9zY2VuZSxzPXRoaXMuX2xpZ2h0O2lmKCFpLnNoYWRvd3NFbmFibGVkfHwhcy5zaGFkb3dFbmFibGVkKXJldHVybjtlWyJTSEFET1dDU00iK3RdPSEwLGVbIlNIQURPV0NTTURFQlVHIit0XT10aGlzLmRlYnVnLGVbIlNIQURPV0NTTU5VTV9DQVNDQURFUyIrdF09dGhpcy5udW1DYXNjYWRlcyxlWyJTSEFET1dDU01fUklHSFRIQU5ERUQiK3RdPWkudXNlUmlnaHRIYW5kZWRTeXN0ZW07Y29uc3Qgcj10aGlzLl9nZXRDYW1lcmEoKTtyJiZ0aGlzLl9zaGFkb3dNYXhaPHIubWF4WiYmKGVbIlNIQURPV0NTTVVTRVNIQURPV01BWFoiK3RdPSEwKSx0aGlzLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2U9PT0wJiYoZVsiU0hBRE9XQ1NNTk9CTEVORCIrdF09ITApfWJpbmRTaGFkb3dMaWdodChlLHQpe2NvbnN0IGk9dGhpcy5fbGlnaHQ7aWYoIXRoaXMuX3NjZW5lLnNoYWRvd3NFbmFibGVkfHwhaS5zaGFkb3dFbmFibGVkKXJldHVybjtjb25zdCByPXRoaXMuX2dldENhbWVyYSgpO2lmKCFyKXJldHVybjtjb25zdCBuPXRoaXMuZ2V0U2hhZG93TWFwKCk7aWYoIW4pcmV0dXJuO2NvbnN0IGE9bi5nZXRTaXplKCkud2lkdGg7aWYodC5zZXRNYXRyaWNlcygibGlnaHRNYXRyaXgiK2UsdGhpcy5fdHJhbnNmb3JtTWF0cmljZXNBc0FycmF5KSx0LnNldEFycmF5KCJ2aWV3RnJ1c3R1bVoiK2UsdGhpcy5fdmlld1NwYWNlRnJ1c3R1bXNaKSx0LnNldEZsb2F0KCJjYXNjYWRlQmxlbmRGYWN0b3IiK2UsdGhpcy5jYXNjYWRlQmxlbmRQZXJjZW50YWdlPT09MD8xZTQ6MS90aGlzLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2UpLHQuc2V0QXJyYXkoImZydXN0dW1MZW5ndGhzIitlLHRoaXMuX2ZydXN0dW1MZW5ndGhzKSx0aGlzLl9maWx0ZXI9PT1ILkZJTFRFUl9QQ0YpdC5zZXREZXB0aFN0ZW5jaWxUZXh0dXJlKCJzaGFkb3dTYW1wbGVyIitlLG4pLGkuX3VuaWZvcm1CdWZmZXIudXBkYXRlRmxvYXQ0KCJzaGFkb3dzSW5mbyIsdGhpcy5nZXREYXJrbmVzcygpLGEsMS9hLHRoaXMuZnJ1c3R1bUVkZ2VGYWxsb2ZmLGUpO2Vsc2UgaWYodGhpcy5fZmlsdGVyPT09SC5GSUxURVJfUENTUyl7Zm9yKGxldCBvPTA7bzx0aGlzLl9udW1DYXNjYWRlczsrK28pdGhpcy5fbGlnaHRTaXplVVZDb3JyZWN0aW9uW28qMiswXT1vPT09MD8xOih0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1swXS54LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzWzBdLngpLyh0aGlzLl9jYXNjYWRlTWF4RXh0ZW50c1tvXS54LXRoaXMuX2Nhc2NhZGVNaW5FeHRlbnRzW29dLngpLHRoaXMuX2xpZ2h0U2l6ZVVWQ29ycmVjdGlvbltvKjIrMV09bz09PTA/MToodGhpcy5fY2FzY2FkZU1heEV4dGVudHNbMF0ueS10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1swXS55KS8odGhpcy5fY2FzY2FkZU1heEV4dGVudHNbb10ueS10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tvXS55KSx0aGlzLl9kZXB0aENvcnJlY3Rpb25bb109bz09PTA/MToodGhpcy5fY2FzY2FkZU1heEV4dGVudHNbb10uei10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1tvXS56KS8odGhpcy5fY2FzY2FkZU1heEV4dGVudHNbMF0uei10aGlzLl9jYXNjYWRlTWluRXh0ZW50c1swXS56KTt0LnNldERlcHRoU3RlbmNpbFRleHR1cmUoInNoYWRvd1NhbXBsZXIiK2UsbiksdC5zZXRUZXh0dXJlKCJkZXB0aFNhbXBsZXIiK2UsbiksdC5zZXRBcnJheTIoImxpZ2h0U2l6ZVVWQ29ycmVjdGlvbiIrZSx0aGlzLl9saWdodFNpemVVVkNvcnJlY3Rpb24pLHQuc2V0QXJyYXkoImRlcHRoQ29ycmVjdGlvbiIrZSx0aGlzLl9kZXB0aENvcnJlY3Rpb24pLHQuc2V0RmxvYXQoInBlbnVtYnJhRGFya25lc3MiK2UsdGhpcy5wZW51bWJyYURhcmtuZXNzKSxpLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgic2hhZG93c0luZm8iLHRoaXMuZ2V0RGFya25lc3MoKSwxL2EsdGhpcy5fY29udGFjdEhhcmRlbmluZ0xpZ2h0U2l6ZVVWUmF0aW8qYSx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlKX1lbHNlIHQuc2V0VGV4dHVyZSgic2hhZG93U2FtcGxlciIrZSxuKSxpLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0NCgic2hhZG93c0luZm8iLHRoaXMuZ2V0RGFya25lc3MoKSxhLDEvYSx0aGlzLmZydXN0dW1FZGdlRmFsbG9mZixlKTtpLl91bmlmb3JtQnVmZmVyLnVwZGF0ZUZsb2F0MigiZGVwdGhWYWx1ZXMiLHRoaXMuZ2V0TGlnaHQoKS5nZXREZXB0aE1pbloociksdGhpcy5nZXRMaWdodCgpLmdldERlcHRoTWluWihyKSt0aGlzLmdldExpZ2h0KCkuZ2V0RGVwdGhNYXhaKHIpLGUpfWdldFRyYW5zZm9ybU1hdHJpeCgpe3JldHVybiB0aGlzLmdldENhc2NhZGVUcmFuc2Zvcm1NYXRyaXgoMCl9ZGlzcG9zZSgpe3N1cGVyLmRpc3Bvc2UoKSx0aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvT2JzZXJ2YWJsZSYmKHRoaXMuX3NjZW5lLm9uQmVmb3JlUmVuZGVyT2JzZXJ2YWJsZS5yZW1vdmUodGhpcy5fZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mb09ic2VydmFibGUpLHRoaXMuX2ZyZWV6ZVNoYWRvd0Nhc3RlcnNCb3VuZGluZ0luZm9PYnNlcnZhYmxlPW51bGwpLHRoaXMuX2RlcHRoUmVkdWNlciYmKHRoaXMuX2RlcHRoUmVkdWNlci5kaXNwb3NlKCksdGhpcy5fZGVwdGhSZWR1Y2VyPW51bGwpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9c3VwZXIuc2VyaWFsaXplKCksdD10aGlzLmdldFNoYWRvd01hcCgpO2lmKCF0KXJldHVybiBlO2lmKGUubnVtQ2FzY2FkZXM9dGhpcy5fbnVtQ2FzY2FkZXMsZS5kZWJ1Zz10aGlzLl9kZWJ1ZyxlLnN0YWJpbGl6ZUNhc2NhZGVzPXRoaXMuc3RhYmlsaXplQ2FzY2FkZXMsZS5sYW1iZGE9dGhpcy5fbGFtYmRhLGUuY2FzY2FkZUJsZW5kUGVyY2VudGFnZT10aGlzLmNhc2NhZGVCbGVuZFBlcmNlbnRhZ2UsZS5kZXB0aENsYW1wPXRoaXMuX2RlcHRoQ2xhbXAsZS5hdXRvQ2FsY0RlcHRoQm91bmRzPXRoaXMuYXV0b0NhbGNEZXB0aEJvdW5kcyxlLnNoYWRvd01heFo9dGhpcy5fc2hhZG93TWF4WixlLnBlbnVtYnJhRGFya25lc3M9dGhpcy5wZW51bWJyYURhcmtuZXNzLGUuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbz10aGlzLl9mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvLGUubWluRGlzdGFuY2U9dGhpcy5taW5EaXN0YW5jZSxlLm1heERpc3RhbmNlPXRoaXMubWF4RGlzdGFuY2UsZS5yZW5kZXJMaXN0PVtdLHQucmVuZGVyTGlzdClmb3IobGV0IGk9MDtpPHQucmVuZGVyTGlzdC5sZW5ndGg7aSsrKXtjb25zdCBzPXQucmVuZGVyTGlzdFtpXTtlLnJlbmRlckxpc3QucHVzaChzLmlkKX1yZXR1cm4gZX1zdGF0aWMgUGFyc2UoZSx0KXtjb25zdCBpPUguUGFyc2UoZSx0LChzLHIsbik9Pm5ldyBrZShzLHIsdm9pZCAwLG4pKTtyZXR1cm4gZS5udW1DYXNjYWRlcyE9PXZvaWQgMCYmKGkubnVtQ2FzY2FkZXM9ZS5udW1DYXNjYWRlcyksZS5kZWJ1ZyE9PXZvaWQgMCYmKGkuZGVidWc9ZS5kZWJ1ZyksZS5zdGFiaWxpemVDYXNjYWRlcyE9PXZvaWQgMCYmKGkuc3RhYmlsaXplQ2FzY2FkZXM9ZS5zdGFiaWxpemVDYXNjYWRlcyksZS5sYW1iZGEhPT12b2lkIDAmJihpLmxhbWJkYT1lLmxhbWJkYSksZS5jYXNjYWRlQmxlbmRQZXJjZW50YWdlIT09dm9pZCAwJiYoaS5jYXNjYWRlQmxlbmRQZXJjZW50YWdlPWUuY2FzY2FkZUJsZW5kUGVyY2VudGFnZSksZS5kZXB0aENsYW1wIT09dm9pZCAwJiYoaS5kZXB0aENsYW1wPWUuZGVwdGhDbGFtcCksZS5hdXRvQ2FsY0RlcHRoQm91bmRzIT09dm9pZCAwJiYoaS5hdXRvQ2FsY0RlcHRoQm91bmRzPWUuYXV0b0NhbGNEZXB0aEJvdW5kcyksZS5zaGFkb3dNYXhaIT09dm9pZCAwJiYoaS5zaGFkb3dNYXhaPWUuc2hhZG93TWF4WiksZS5wZW51bWJyYURhcmtuZXNzIT09dm9pZCAwJiYoaS5wZW51bWJyYURhcmtuZXNzPWUucGVudW1icmFEYXJrbmVzcyksZS5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvIT09dm9pZCAwJiYoaS5mcmVlemVTaGFkb3dDYXN0ZXJzQm91bmRpbmdJbmZvPWUuZnJlZXplU2hhZG93Q2FzdGVyc0JvdW5kaW5nSW5mbyksZS5taW5EaXN0YW5jZSE9PXZvaWQgMCYmZS5tYXhEaXN0YW5jZSE9PXZvaWQgMCYmaS5zZXRNaW5NYXhEaXN0YW5jZShlLm1pbkRpc3RhbmNlLGUubWF4RGlzdGFuY2UpLGl9fWtlLl9GcnVzdHVtQ29ybmVyc05EQ1NwYWNlPVtuZXcgcCgtMSwxLC0xKSxuZXcgcCgxLDEsLTEpLG5ldyBwKDEsLTEsLTEpLG5ldyBwKC0xLC0xLC0xKSxuZXcgcCgtMSwxLDEpLG5ldyBwKDEsMSwxKSxuZXcgcCgxLC0xLDEpLG5ldyBwKC0xLC0xLDEpXSxrZS5DTEFTU05BTUU9IkNhc2NhZGVkU2hhZG93R2VuZXJhdG9yIixrZS5ERUZBVUxUX0NBU0NBREVTX0NPVU5UPTQsa2UuTUlOX0NBU0NBREVTX0NPVU5UPTIsa2UuTUFYX0NBU0NBREVTX0NPVU5UPTQsa2UuX1NjZW5lQ29tcG9uZW50SW5pdGlhbGl6YXRpb249Yz0+e3Rocm93IFEoIlNoYWRvd0dlbmVyYXRvclNjZW5lQ29tcG9uZW50Iil9LFFpLkFkZFBhcnNlcihqLk5BTUVfU0hBRE9XR0VORVJBVE9SLChjLGUpPT57aWYoYy5zaGFkb3dHZW5lcmF0b3JzIT09dm9pZCAwJiZjLnNoYWRvd0dlbmVyYXRvcnMhPT1udWxsKWZvcihsZXQgdD0wLGk9Yy5zaGFkb3dHZW5lcmF0b3JzLmxlbmd0aDt0PGk7dCsrKXtjb25zdCBzPWMuc2hhZG93R2VuZXJhdG9yc1t0XTtzLmNsYXNzTmFtZT09PWtlLkNMQVNTTkFNRT9rZS5QYXJzZShzLGUpOkguUGFyc2UocyxlKX19KTtjbGFzcyBrb3tjb25zdHJ1Y3RvcihlKXt0aGlzLm5hbWU9ai5OQU1FX1NIQURPV0dFTkVSQVRPUix0aGlzLnNjZW5lPWV9cmVnaXN0ZXIoKXt0aGlzLnNjZW5lLl9nYXRoZXJSZW5kZXJUYXJnZXRzU3RhZ2UucmVnaXN0ZXJTdGVwKGouU1RFUF9HQVRIRVJSRU5ERVJUQVJHRVRTX1NIQURPV0dFTkVSQVRPUix0aGlzLHRoaXMuX2dhdGhlclJlbmRlclRhcmdldHMpfXJlYnVpbGQoKXt9c2VyaWFsaXplKGUpe2Uuc2hhZG93R2VuZXJhdG9ycz1bXTtjb25zdCB0PXRoaXMuc2NlbmUubGlnaHRzO2Zvcihjb25zdCBpIG9mIHQpe2NvbnN0IHM9aS5nZXRTaGFkb3dHZW5lcmF0b3JzKCk7aWYocyl7Y29uc3Qgcj1zLnZhbHVlcygpO2ZvcihsZXQgbj1yLm5leHQoKTtuLmRvbmUhPT0hMDtuPXIubmV4dCgpKXtjb25zdCBhPW4udmFsdWU7ZS5zaGFkb3dHZW5lcmF0b3JzLnB1c2goYS5zZXJpYWxpemUoKSl9fX19YWRkRnJvbUNvbnRhaW5lcihlKXt9cmVtb3ZlRnJvbUNvbnRhaW5lcihlLHQpe31kaXNwb3NlKCl7fV9nYXRoZXJSZW5kZXJUYXJnZXRzKGUpe2NvbnN0IHQ9dGhpcy5zY2VuZTtpZih0aGlzLnNjZW5lLnNoYWRvd3NFbmFibGVkKWZvcihsZXQgaT0wO2k8dC5saWdodHMubGVuZ3RoO2krKyl7Y29uc3Qgcz10LmxpZ2h0c1tpXSxyPXMuZ2V0U2hhZG93R2VuZXJhdG9ycygpO2lmKHMuaXNFbmFibGVkKCkmJnMuc2hhZG93RW5hYmxlZCYmcil7Y29uc3Qgbj1yLnZhbHVlcygpO2ZvcihsZXQgYT1uLm5leHQoKTthLmRvbmUhPT0hMDthPW4ubmV4dCgpKXtjb25zdCBoPWEudmFsdWUuZ2V0U2hhZG93TWFwKCk7dC50ZXh0dXJlcy5pbmRleE9mKGgpIT09LTEmJmUucHVzaChoKX19fX19SC5fU2NlbmVDb21wb25lbnRJbml0aWFsaXphdGlvbj1jPT57bGV0IGU9Yy5fZ2V0Q29tcG9uZW50KGouTkFNRV9TSEFET1dHRU5FUkFUT1IpO2V8fChlPW5ldyBrbyhjKSxjLl9hZGRDb21wb25lbnQoZSkpfTtjb25zdCBWbz17ZW5hYmxlU2hhZG93czohMH07ZnVuY3Rpb24genIoYz1Wbyl7Y29uc3R7ZW5hYmxlU2hhZG93czplLHNoYWRvd1RyYW5zcGFyZW5jeTp0LGludGVuc2l0eTppLHNjZW5lOnN9PWMscj1uZXcgRHQoIkRpcmVjdGlvbmFsTGlnaHQiLG5ldyBwKC0uMywtMSwuNCkscyk7ci5wb3NpdGlvbj1uZXcgcCgtNTAsNjUsLTUwKSxyLmludGVuc2l0eT0uNjUqaTtjb25zdCBuPW5ldyBscygiSGVtaXNwaGVyaWNMaWdodCIsbmV3IHAoMSwxLDApLHMpO3JldHVybiBuLmludGVuc2l0eT0uNCppLGUmJihyLnNoYWRvd01pblo9MSxyLnNoYWRvd01heFo9NzAsci5zaGFkb3dHZW5lcmF0b3I9bmV3IEgoMjA0OCxyKSxyLnNoYWRvd0dlbmVyYXRvci51c2VDbG9zZUV4cG9uZW50aWFsU2hhZG93TWFwPSEwLHIuc2hhZG93R2VuZXJhdG9yLmRhcmtuZXNzPXQpLHtkaXJlY3Rpb25hbDpyLGhlbWlzcGhlcmljOm59fWZ1bmN0aW9uIEdyKGMpe2xldCB0PVswLDEsMiwwLDIsMyw0LDUsNiw0LDYsNyw4LDksMTAsOCwxMCwxMSwxMiwxMywxNCwxMiwxNCwxNSwxNiwxNywxOCwxNiwxOCwxOSwyMCwyMSwyMiwyMCwyMiwyM107Y29uc3QgaT1bMCwwLDEsMCwwLDEsMCwwLDEsMCwwLDEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDEsMCwwLDEsMCwwLDEsMCwwLDEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDAsMCwwLDEsMCwwLDEsMCwwLDEsMCwwLDEsMCwwLC0xLDAsMCwtMSwwLDAsLTEsMCwwLC0xLDBdLHM9W107bGV0IHI9W107Y29uc3Qgbj1jLndpZHRofHxjLnNpemV8fDEsYT1jLmhlaWdodHx8Yy5zaXplfHwxLG89Yy5kZXB0aHx8Yy5zaXplfHwxLGg9Yy53cmFwfHwhMTtsZXQgbD1jLnRvcEJhc2VBdD09PXZvaWQgMD8xOmMudG9wQmFzZUF0LHU9Yy5ib3R0b21CYXNlQXQ9PT12b2lkIDA/MDpjLmJvdHRvbUJhc2VBdDtsPShsKzQpJTQsdT0odSs0KSU0O2NvbnN0IGQ9WzIsMCwzLDFdLF89WzIsMCwxLDNdO2xldCBmPWRbbF0sbT1fW3VdLHY9WzEsLTEsMSwtMSwtMSwxLC0xLDEsMSwxLDEsMSwxLDEsLTEsLTEsMSwtMSwtMSwtMSwtMSwxLC0xLC0xLDEsMSwtMSwxLC0xLC0xLDEsLTEsMSwxLDEsMSwtMSwxLDEsLTEsLTEsMSwtMSwtMSwtMSwtMSwxLC0xLC0xLDEsMSwtMSwxLC0xLDEsMSwtMSwxLDEsMSwxLC0xLDEsMSwtMSwtMSwtMSwtMSwtMSwtMSwtMSwxXTtpZihoKXt0PVsyLDMsMCwyLDAsMSw0LDUsNiw0LDYsNyw5LDEwLDExLDksMTEsOCwxMiwxNCwxNSwxMiwxMywxNF0sdj1bLTEsMSwxLDEsMSwxLDEsLTEsMSwtMSwtMSwxLDEsMSwtMSwtMSwxLC0xLC0xLC0xLC0xLDEsLTEsLTEsMSwxLDEsMSwxLC0xLDEsLTEsLTEsMSwtMSwxLC0xLDEsLTEsLTEsMSwxLC0xLC0xLDEsLTEsLTEsLTFdO2xldCB4PVtbMSwxLDFdLFstMSwxLDFdLFstMSwxLC0xXSxbMSwxLC0xXV0sST1bWy0xLC0xLDFdLFsxLC0xLDFdLFsxLC0xLC0xXSxbLTEsLTEsLTFdXTtjb25zdCBVPVsxNywxOCwxOSwxNl0saz1bMjIsMjMsMjAsMjFdO2Zvcig7Zj4wOyl4LnVuc2hpZnQoeC5wb3AoKSksVS51bnNoaWZ0KFUucG9wKCkpLGYtLTtmb3IoO20+MDspSS51bnNoaWZ0KEkucG9wKCkpLGsudW5zaGlmdChrLnBvcCgpKSxtLS07eD14LmZsYXQoKSxJPUkuZmxhdCgpLHY9di5jb25jYXQoeCkuY29uY2F0KEkpLHQucHVzaChVWzBdLFVbMl0sVVszXSxVWzBdLFVbMV0sVVsyXSksdC5wdXNoKGtbMF0sa1syXSxrWzNdLGtbMF0sa1sxXSxrWzJdKX1jb25zdCBFPVtuLzIsYS8yLG8vMl07cj12LnJlZHVjZSgoeCxJLFUpPT54LmNvbmNhdChJKkVbVSUzXSksW10pO2NvbnN0IFM9Yy5zaWRlT3JpZW50YXRpb249PT0wPzA6Yy5zaWRlT3JpZW50YXRpb258fHRlLkRFRkFVTFRTSURFLFI9Yy5mYWNlVVZ8fG5ldyBBcnJheSg2KSxBPWMuZmFjZUNvbG9ycyxDPVtdO2ZvcihsZXQgeD0wO3g8Njt4KyspUlt4XT09PXZvaWQgMCYmKFJbeF09bmV3IHllKDAsMCwxLDEpKSxBJiZBW3hdPT09dm9pZCAwJiYoQVt4XT1uZXcgTmUoMSwxLDEsMSkpO2ZvcihsZXQgeD0wO3g8Njt4KyspaWYocy5wdXNoKFJbeF0ueixfdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWPzEtUlt4XS53OlJbeF0udykscy5wdXNoKFJbeF0ueCxfdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWPzEtUlt4XS53OlJbeF0udykscy5wdXNoKFJbeF0ueCxfdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWPzEtUlt4XS55OlJbeF0ueSkscy5wdXNoKFJbeF0ueixfdC5Vc2VPcGVuR0xPcmllbnRhdGlvbkZvclVWPzEtUlt4XS55OlJbeF0ueSksQSlmb3IobGV0IEk9MDtJPDQ7SSsrKUMucHVzaChBW3hdLnIsQVt4XS5nLEFbeF0uYixBW3hdLmEpO3RlLl9Db21wdXRlU2lkZXMoUyxyLHQsaSxzLGMuZnJvbnRVVnMsYy5iYWNrVVZzKTtjb25zdCBiPW5ldyB0ZTtpZihiLmluZGljZXM9dCxiLnBvc2l0aW9ucz1yLGIubm9ybWFscz1pLGIudXZzPXMsQSl7Y29uc3QgeD1TPT09dGUuRE9VQkxFU0lERT9DLmNvbmNhdChDKTpDO2IuY29sb3JzPXh9cmV0dXJuIGJ9ZnVuY3Rpb24gQ2koYyxlPXt9LHQ9bnVsbCl7Y29uc3QgaT1uZXcgeihjLHQpO3JldHVybiBlLnNpZGVPcmllbnRhdGlvbj16Ll9HZXREZWZhdWx0U2lkZU9yaWVudGF0aW9uKGUuc2lkZU9yaWVudGF0aW9uKSxpLl9vcmlnaW5hbEJ1aWxkZXJTaWRlT3JpZW50YXRpb249ZS5zaWRlT3JpZW50YXRpb24sR3IoZSkuYXBwbHlUb01lc2goaSxlLnVwZGF0YWJsZSksaX10ZS5DcmVhdGVCb3g9R3Isei5DcmVhdGVCb3g9KGMsZSx0PW51bGwsaSxzKT0+Q2koYyx7c2l6ZTplLHNpZGVPcmllbnRhdGlvbjpzLHVwZGF0YWJsZTppfSx0KTtjbGFzcyBYcntjb25zdHJ1Y3Rvcigpe3RoaXMucHJldmlvdXNXb3JsZE1hdHJpY2VzPXt9LHRoaXMucHJldmlvdXNCb25lcz17fX1zdGF0aWMgQWRkVW5pZm9ybXMoZSl7ZS5wdXNoKCJwcmV2aW91c1dvcmxkIiwicHJldmlvdXNWaWV3UHJvamVjdGlvbiIsIm1QcmV2aW91c0JvbmVzIil9c3RhdGljIEFkZFNhbXBsZXJzKGUpe31iaW5kRm9yU3ViTWVzaChlLHQsaSxzLHIpe2lmKHQucHJlUGFzc1JlbmRlcmVyJiZ0LnByZVBhc3NSZW5kZXJlci5lbmFibGVkJiZ0LnByZVBhc3NSZW5kZXJlci5jdXJyZW50UlRpc1NjZW5lUlQmJnQucHJlUGFzc1JlbmRlcmVyLmdldEluZGV4KDIpIT09LTEpe3RoaXMucHJldmlvdXNXb3JsZE1hdHJpY2VzW2kudW5pcXVlSWRdfHwodGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXNbaS51bmlxdWVJZF09cy5jbG9uZSgpKSx0aGlzLnByZXZpb3VzVmlld1Byb2plY3Rpb258fCh0aGlzLnByZXZpb3VzVmlld1Byb2plY3Rpb249dC5nZXRUcmFuc2Zvcm1NYXRyaXgoKS5jbG9uZSgpLHRoaXMuY3VycmVudFZpZXdQcm9qZWN0aW9uPXQuZ2V0VHJhbnNmb3JtTWF0cml4KCkuY2xvbmUoKSk7Y29uc3Qgbj10LmdldEVuZ2luZSgpO3RoaXMuY3VycmVudFZpZXdQcm9qZWN0aW9uLnVwZGF0ZUZsYWchPT10LmdldFRyYW5zZm9ybU1hdHJpeCgpLnVwZGF0ZUZsYWc/KHRoaXMuX2xhc3RVcGRhdGVGcmFtZUlkPW4uZnJhbWVJZCx0aGlzLnByZXZpb3VzVmlld1Byb2plY3Rpb24uY29weUZyb20odGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24pLHRoaXMuY3VycmVudFZpZXdQcm9qZWN0aW9uLmNvcHlGcm9tKHQuZ2V0VHJhbnNmb3JtTWF0cml4KCkpKTp0aGlzLl9sYXN0VXBkYXRlRnJhbWVJZCE9PW4uZnJhbWVJZCYmKHRoaXMuX2xhc3RVcGRhdGVGcmFtZUlkPW4uZnJhbWVJZCx0aGlzLnByZXZpb3VzVmlld1Byb2plY3Rpb24uY29weUZyb20odGhpcy5jdXJyZW50Vmlld1Byb2plY3Rpb24pKSxlLnNldE1hdHJpeCgicHJldmlvdXNXb3JsZCIsdGhpcy5wcmV2aW91c1dvcmxkTWF0cmljZXNbaS51bmlxdWVJZF0pLGUuc2V0TWF0cml4KCJwcmV2aW91c1ZpZXdQcm9qZWN0aW9uIix0aGlzLnByZXZpb3VzVmlld1Byb2plY3Rpb24pLHRoaXMucHJldmlvdXNXb3JsZE1hdHJpY2VzW2kudW5pcXVlSWRdPXMuY2xvbmUoKX19fWNsYXNzIEhyIGV4dGVuZHMgRHtjb25zdHJ1Y3RvcihlLHQsaT0hMCl7c3VwZXIoZSx0KSx0aGlzLl9ub3JtYWxNYXRyaXg9bmV3IE0sdGhpcy5fc3RvcmVFZmZlY3RPblN1Yk1lc2hlcz1pfWdldEVmZmVjdCgpe3JldHVybiB0aGlzLl9zdG9yZUVmZmVjdE9uU3ViTWVzaGVzP3RoaXMuX2FjdGl2ZUVmZmVjdDpzdXBlci5nZXRFZmZlY3QoKX1pc1JlYWR5KGUsdCl7cmV0dXJuIGU/IXRoaXMuX3N0b3JlRWZmZWN0T25TdWJNZXNoZXN8fCFlLnN1Yk1lc2hlc3x8ZS5zdWJNZXNoZXMubGVuZ3RoPT09MD8hMDp0aGlzLmlzUmVhZHlGb3JTdWJNZXNoKGUsZS5zdWJNZXNoZXNbMF0sdCk6ITF9X2lzUmVhZHlGb3JTdWJNZXNoKGUpe2NvbnN0IHQ9ZS5tYXRlcmlhbERlZmluZXM7cmV0dXJuISEoIXRoaXMuY2hlY2tSZWFkeU9uRXZlcnlDYWxsJiZlLmVmZmVjdCYmdCYmdC5fcmVuZGVySWQ9PT10aGlzLmdldFNjZW5lKCkuZ2V0UmVuZGVySWQoKSl9YmluZE9ubHlXb3JsZE1hdHJpeChlKXt0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJ3b3JsZCIsZSl9YmluZE9ubHlOb3JtYWxNYXRyaXgoZSl7dGhpcy5fYWN0aXZlRWZmZWN0LnNldE1hdHJpeCgibm9ybWFsTWF0cml4IixlKX1iaW5kKGUsdCl7dCYmdGhpcy5iaW5kRm9yU3ViTWVzaChlLHQsdC5zdWJNZXNoZXNbMF0pfV9hZnRlckJpbmQoZSx0PW51bGwpe3N1cGVyLl9hZnRlckJpbmQoZSx0KSx0aGlzLmdldFNjZW5lKCkuX2NhY2hlZEVmZmVjdD10LHQmJih0Ll9mb3JjZVJlYmluZE9uTmV4dENhbGw9ITEpfV9tdXN0UmViaW5kKGUsdCxpPTEpe3JldHVybiBlLmlzQ2FjaGVkTWF0ZXJpYWxJbnZhbGlkKHRoaXMsdCxpKX1kaXNwb3NlKGUsdCxpKXt0aGlzLl9hY3RpdmVFZmZlY3Q9dm9pZCAwLHN1cGVyLmRpc3Bvc2UoZSx0LGkpfX1jbGFzcyBjZXtzdGF0aWMgZ2V0IERpZmZ1c2VUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9EaWZmdXNlVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBEaWZmdXNlVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fRGlmZnVzZVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0RpZmZ1c2VUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgRGV0YWlsVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fRGV0YWlsVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBEZXRhaWxUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9EZXRhaWxUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9EZXRhaWxUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgRGVjYWxNYXBFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0RlY2FsTWFwRW5hYmxlZH1zdGF0aWMgc2V0IERlY2FsTWFwRW5hYmxlZChlKXt0aGlzLl9EZWNhbE1hcEVuYWJsZWQhPT1lJiYodGhpcy5fRGVjYWxNYXBFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBBbWJpZW50VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQW1iaWVudFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQW1iaWVudFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0FtYmllbnRUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9BbWJpZW50VGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IE9wYWNpdHlUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9PcGFjaXR5VGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBPcGFjaXR5VGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fT3BhY2l0eVRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX09wYWNpdHlUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgUmVmbGVjdGlvblRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1JlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fUmVmbGVjdGlvblRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBFbWlzc2l2ZVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0VtaXNzaXZlVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBFbWlzc2l2ZVRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0VtaXNzaXZlVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fRW1pc3NpdmVUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9TcGVjdWxhclRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgU3BlY3VsYXJUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9TcGVjdWxhclRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1NwZWN1bGFyVGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IEJ1bXBUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9CdW1wVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBCdW1wVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fQnVtcFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0J1bXBUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9MaWdodG1hcFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgTGlnaHRtYXBUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9MaWdodG1hcFRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX0xpZ2h0bWFwVGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZCgpe3JldHVybiB0aGlzLl9SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBSZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fUmVmcmFjdGlvblRleHR1cmVFbmFibGVkIT09ZSYmKHRoaXMuX1JlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBDb2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgRnJlc25lbEVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fRnJlc25lbEVuYWJsZWR9c3RhdGljIHNldCBGcmVzbmVsRW5hYmxlZChlKXt0aGlzLl9GcmVzbmVsRW5hYmxlZCE9PWUmJih0aGlzLl9GcmVzbmVsRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoNCkpfXN0YXRpYyBnZXQgQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQ2xlYXJDb2F0VGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBDbGVhckNvYXRUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9DbGVhckNvYXRUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9DbGVhckNvYXRUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0NsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IENsZWFyQ29hdEJ1bXBUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9DbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQ2xlYXJDb2F0QnVtcFRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBDbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQ2xlYXJDb2F0VGludFRleHR1cmVFbmFibGVkKGUpe3RoaXMuX0NsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9DbGVhckNvYXRUaW50VGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFNoZWVuVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fU2hlZW5UZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFNoZWVuVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fU2hlZW5UZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9TaGVlblRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9c3RhdGljIGdldCBBbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBBbmlzb3Ryb3BpY1RleHR1cmVFbmFibGVkKGUpe3RoaXMuX0FuaXNvdHJvcGljVGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBUaGlja25lc3NUZXh0dXJlRW5hYmxlZChlKXt0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9UaGlja25lc3NUZXh0dXJlRW5hYmxlZD1lLFAuTWFya0FsbE1hdGVyaWFsc0FzRGlydHkoMSkpfXN0YXRpYyBnZXQgUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgUmVmcmFjdGlvbkludGVuc2l0eVRleHR1cmVFbmFibGVkKGUpe3RoaXMuX1JlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9SZWZyYWN0aW9uSW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IFRyYW5zbHVjZW5jeUludGVuc2l0eVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIHRoaXMuX1RoaWNrbmVzc1RleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQhPT1lJiYodGhpcy5fVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQ9ZSxQLk1hcmtBbGxNYXRlcmlhbHNBc0RpcnR5KDEpKX1zdGF0aWMgZ2V0IElyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gdGhpcy5fSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IElyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWQoZSl7dGhpcy5fSXJpZGVzY2VuY2VUZXh0dXJlRW5hYmxlZCE9PWUmJih0aGlzLl9JcmlkZXNjZW5jZVRleHR1cmVFbmFibGVkPWUsUC5NYXJrQWxsTWF0ZXJpYWxzQXNEaXJ0eSgxKSl9fWNlLl9EaWZmdXNlVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX0RldGFpbFRleHR1cmVFbmFibGVkPSEwLGNlLl9EZWNhbE1hcEVuYWJsZWQ9ITAsY2UuX0FtYmllbnRUZXh0dXJlRW5hYmxlZD0hMCxjZS5fT3BhY2l0eVRleHR1cmVFbmFibGVkPSEwLGNlLl9SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX0VtaXNzaXZlVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX1NwZWN1bGFyVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX0J1bXBUZXh0dXJlRW5hYmxlZD0hMCxjZS5fTGlnaHRtYXBUZXh0dXJlRW5hYmxlZD0hMCxjZS5fUmVmcmFjdGlvblRleHR1cmVFbmFibGVkPSEwLGNlLl9Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZD0hMCxjZS5fRnJlc25lbEVuYWJsZWQ9ITAsY2UuX0NsZWFyQ29hdFRleHR1cmVFbmFibGVkPSEwLGNlLl9DbGVhckNvYXRCdW1wVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX0NsZWFyQ29hdFRpbnRUZXh0dXJlRW5hYmxlZD0hMCxjZS5fU2hlZW5UZXh0dXJlRW5hYmxlZD0hMCxjZS5fQW5pc290cm9waWNUZXh0dXJlRW5hYmxlZD0hMCxjZS5fVGhpY2tuZXNzVGV4dHVyZUVuYWJsZWQ9ITAsY2UuX1JlZnJhY3Rpb25JbnRlbnNpdHlUZXh0dXJlRW5hYmxlZD0hMCxjZS5fVHJhbnNsdWNlbmN5SW50ZW5zaXR5VGV4dHVyZUVuYWJsZWQ9ITAsY2UuX0lyaWRlc2NlbmNlVGV4dHVyZUVuYWJsZWQ9ITA7Y29uc3QgV289ImRlY2FsRnJhZ21lbnREZWNsYXJhdGlvbiIsem89YCNpZmRlZiBERUNBTAp1bmlmb3JtIHZlYzQgdkRlY2FsSW5mb3M7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbV29dPXpvO2NvbnN0IEdvPSJkZWZhdWx0RnJhZ21lbnREZWNsYXJhdGlvbiIsWG89YHVuaWZvcm0gdmVjNCB2RXllUG9zaXRpb247CnVuaWZvcm0gdmVjNCB2RGlmZnVzZUNvbG9yOwojaWZkZWYgU1BFQ1VMQVJURVJNCnVuaWZvcm0gdmVjNCB2U3BlY3VsYXJDb2xvcjsKI2VuZGlmCnVuaWZvcm0gdmVjMyB2RW1pc3NpdmVDb2xvcjsKdW5pZm9ybSB2ZWMzIHZBbWJpZW50Q29sb3I7CnVuaWZvcm0gZmxvYXQgdmlzaWJpbGl0eTsKI2lmZGVmIERJRkZVU0UKdW5pZm9ybSB2ZWMyIHZEaWZmdXNlSW5mb3M7CiNlbmRpZgojaWZkZWYgQU1CSUVOVAp1bmlmb3JtIHZlYzIgdkFtYmllbnRJbmZvczsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZIAp1bmlmb3JtIHZlYzIgdk9wYWNpdHlJbmZvczsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRQp1bmlmb3JtIHZlYzIgdkVtaXNzaXZlSW5mb3M7CiNlbmRpZgojaWZkZWYgTElHSFRNQVAKdW5pZm9ybSB2ZWMyIHZMaWdodG1hcEluZm9zOwojZW5kaWYKI2lmZGVmIEJVTVAKdW5pZm9ybSB2ZWMzIHZCdW1wSW5mb3M7CnVuaWZvcm0gdmVjMiB2VGFuZ2VudFNwYWNlUGFyYW1zOwojZW5kaWYKI2lmZGVmIEFMUEhBVEVTVAp1bmlmb3JtIGZsb2F0IGFscGhhQ3V0T2ZmOwojZW5kaWYKI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9TUEhFUklDQUwpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OKSB8fCBkZWZpbmVkKFJFRlJBQ1RJT04pIHx8IGRlZmluZWQoUFJFUEFTUykKdW5pZm9ybSBtYXQ0IHZpZXc7CiNlbmRpZgojaWZkZWYgUkVGUkFDVElPTgp1bmlmb3JtIHZlYzQgdlJlZnJhY3Rpb25JbmZvczsKI2lmbmRlZiBSRUZSQUNUSU9OTUFQXzNECnVuaWZvcm0gbWF0NCByZWZyYWN0aW9uTWF0cml4OwojZW5kaWYKI2lmZGVmIFJFRlJBQ1RJT05GUkVTTkVMCnVuaWZvcm0gdmVjNCByZWZyYWN0aW9uTGVmdENvbG9yOwp1bmlmb3JtIHZlYzQgcmVmcmFjdGlvblJpZ2h0Q29sb3I7CiNlbmRpZgojaWYgZGVmaW5lZChVU0VfTE9DQUxfUkVGUkFDVElPTk1BUF9DVUJJQykgJiYgZGVmaW5lZChSRUZSQUNUSU9OTUFQXzNEKQp1bmlmb3JtIHZlYzMgdlJlZnJhY3Rpb25Qb3NpdGlvbjsKdW5pZm9ybSB2ZWMzIHZSZWZyYWN0aW9uU2l6ZTsgCiNlbmRpZgojZW5kaWYKI2lmIGRlZmluZWQoU1BFQ1VMQVIpICYmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQp1bmlmb3JtIHZlYzIgdlNwZWN1bGFySW5mb3M7CiNlbmRpZgojaWZkZWYgRElGRlVTRUZSRVNORUwKdW5pZm9ybSB2ZWM0IGRpZmZ1c2VMZWZ0Q29sb3I7CnVuaWZvcm0gdmVjNCBkaWZmdXNlUmlnaHRDb2xvcjsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZRlJFU05FTAp1bmlmb3JtIHZlYzQgb3BhY2l0eVBhcnRzOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFRlJFU05FTAp1bmlmb3JtIHZlYzQgZW1pc3NpdmVMZWZ0Q29sb3I7CnVuaWZvcm0gdmVjNCBlbWlzc2l2ZVJpZ2h0Q29sb3I7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTgp1bmlmb3JtIHZlYzIgdlJlZmxlY3Rpb25JbmZvczsKI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9QTEFOQVIpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9DVUJJQykgfHwgZGVmaW5lZChSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04pIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9TUEhFUklDQUwpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9TS1lCT1gpCnVuaWZvcm0gbWF0NCByZWZsZWN0aW9uTWF0cml4OwojZW5kaWYKI2lmbmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWAojaWYgZGVmaW5lZChVU0VfTE9DQUxfUkVGTEVDVElPTk1BUF9DVUJJQykgJiYgZGVmaW5lZChSRUZMRUNUSU9OTUFQX0NVQklDKQp1bmlmb3JtIHZlYzMgdlJlZmxlY3Rpb25Qb3NpdGlvbjsKdW5pZm9ybSB2ZWMzIHZSZWZsZWN0aW9uU2l6ZTsgCiNlbmRpZgojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05GUkVTTkVMCnVuaWZvcm0gdmVjNCByZWZsZWN0aW9uTGVmdENvbG9yOwp1bmlmb3JtIHZlYzQgcmVmbGVjdGlvblJpZ2h0Q29sb3I7CiNlbmRpZgojZW5kaWYKI2lmZGVmIERFVEFJTAp1bmlmb3JtIHZlYzQgdkRldGFpbEluZm9zOwojZW5kaWYKI2luY2x1ZGU8ZGVjYWxGcmFnbWVudERlY2xhcmF0aW9uPgojZGVmaW5lIEFERElUSU9OQUxfRlJBR01FTlRfREVDTEFSQVRJT04KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0dvXT1Ybztjb25zdCBIbz0iZGVmYXVsdFVib0RlY2xhcmF0aW9uIixLbz1gbGF5b3V0KHN0ZDE0MCxjb2x1bW5fbWFqb3IpIHVuaWZvcm07CnVuaWZvcm0gTWF0ZXJpYWwKewp2ZWM0IGRpZmZ1c2VMZWZ0Q29sb3I7CnZlYzQgZGlmZnVzZVJpZ2h0Q29sb3I7CnZlYzQgb3BhY2l0eVBhcnRzOwp2ZWM0IHJlZmxlY3Rpb25MZWZ0Q29sb3I7CnZlYzQgcmVmbGVjdGlvblJpZ2h0Q29sb3I7CnZlYzQgcmVmcmFjdGlvbkxlZnRDb2xvcjsKdmVjNCByZWZyYWN0aW9uUmlnaHRDb2xvcjsKdmVjNCBlbWlzc2l2ZUxlZnRDb2xvcjsKdmVjNCBlbWlzc2l2ZVJpZ2h0Q29sb3I7CnZlYzIgdkRpZmZ1c2VJbmZvczsKdmVjMiB2QW1iaWVudEluZm9zOwp2ZWMyIHZPcGFjaXR5SW5mb3M7CnZlYzIgdlJlZmxlY3Rpb25JbmZvczsKdmVjMyB2UmVmbGVjdGlvblBvc2l0aW9uOwp2ZWMzIHZSZWZsZWN0aW9uU2l6ZTsKdmVjMiB2RW1pc3NpdmVJbmZvczsKdmVjMiB2TGlnaHRtYXBJbmZvczsKdmVjMiB2U3BlY3VsYXJJbmZvczsKdmVjMyB2QnVtcEluZm9zOwptYXQ0IGRpZmZ1c2VNYXRyaXg7Cm1hdDQgYW1iaWVudE1hdHJpeDsKbWF0NCBvcGFjaXR5TWF0cml4OwptYXQ0IHJlZmxlY3Rpb25NYXRyaXg7Cm1hdDQgZW1pc3NpdmVNYXRyaXg7Cm1hdDQgbGlnaHRtYXBNYXRyaXg7Cm1hdDQgc3BlY3VsYXJNYXRyaXg7Cm1hdDQgYnVtcE1hdHJpeDsKdmVjMiB2VGFuZ2VudFNwYWNlUGFyYW1zOwpmbG9hdCBwb2ludFNpemU7CmZsb2F0IGFscGhhQ3V0T2ZmOwptYXQ0IHJlZnJhY3Rpb25NYXRyaXg7CnZlYzQgdlJlZnJhY3Rpb25JbmZvczsKdmVjMyB2UmVmcmFjdGlvblBvc2l0aW9uOwp2ZWMzIHZSZWZyYWN0aW9uU2l6ZTsKdmVjNCB2U3BlY3VsYXJDb2xvcjsKdmVjMyB2RW1pc3NpdmVDb2xvcjsKdmVjNCB2RGlmZnVzZUNvbG9yOwp2ZWMzIHZBbWJpZW50Q29sb3I7CiNkZWZpbmUgQURESVRJT05BTF9VQk9fREVDTEFSQVRJT04KfTsKI2luY2x1ZGU8c2NlbmVVYm9EZWNsYXJhdGlvbj4KI2luY2x1ZGU8bWVzaFVib0RlY2xhcmF0aW9uPgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbSG9dPUtvO2NvbnN0IFlvPSJwcmVQYXNzRGVjbGFyYXRpb24iLFpvPWAjaWZkZWYgUFJFUEFTUwojZXh0ZW5zaW9uIEdMX0VYVF9kcmF3X2J1ZmZlcnMgOiByZXF1aXJlCmxheW91dChsb2NhdGlvbj0wKSBvdXQgaGlnaHAgdmVjNCBnbEZyYWdEYXRhW3tYfV07aGlnaHAgdmVjNCBnbF9GcmFnQ29sb3I7CiNpZmRlZiBQUkVQQVNTX0RFUFRICnZhcnlpbmcgaGlnaHAgdmVjMyB2Vmlld1BvczsKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX1ZFTE9DSVRZCnZhcnlpbmcgaGlnaHAgdmVjNCB2Q3VycmVudFBvc2l0aW9uO3ZhcnlpbmcgaGlnaHAgdmVjNCB2UHJldmlvdXNQb3NpdGlvbjsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbWW9dPVpvO2NvbnN0IHFvPSJvaXREZWNsYXJhdGlvbiIsam89YCNpZmRlZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1kKI2V4dGVuc2lvbiBHTF9FWFRfZHJhd19idWZmZXJzIDogcmVxdWlyZQpsYXlvdXQobG9jYXRpb249MCkgb3V0IHZlYzIgZGVwdGg7IApsYXlvdXQobG9jYXRpb249MSkgb3V0IHZlYzQgZnJvbnRDb2xvcjsKbGF5b3V0KGxvY2F0aW9uPTIpIG91dCB2ZWM0IGJhY2tDb2xvcjsKI2RlZmluZSBNQVhfREVQVEggOTk5OTkuMApoaWdocCB2ZWM0IGdsX0ZyYWdDb2xvcjsKdW5pZm9ybSBzYW1wbGVyMkQgb2l0RGVwdGhTYW1wbGVyOwp1bmlmb3JtIHNhbXBsZXIyRCBvaXRGcm9udENvbG9yU2FtcGxlcjsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtxb109am87Y29uc3QgJG89Im1haW5VVlZhcnlpbmdEZWNsYXJhdGlvbiIsUW89YCNpZmRlZiBNQUlOVVZ7WH0KdmFyeWluZyB2ZWMyIHZNYWluVVZ7WH07CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbJG9dPVFvO2NvbnN0IEpvPSJsaWdodEZyYWdtZW50RGVjbGFyYXRpb24iLGVoPWAjaWZkZWYgTElHSFR7WH0KdW5pZm9ybSB2ZWM0IHZMaWdodERhdGF7WH07CnVuaWZvcm0gdmVjNCB2TGlnaHREaWZmdXNle1h9OwojaWZkZWYgU1BFQ1VMQVJURVJNCnVuaWZvcm0gdmVjNCB2TGlnaHRTcGVjdWxhcntYfTsKI2Vsc2UKdmVjNCB2TGlnaHRTcGVjdWxhcntYfT12ZWM0KDAuKTsKI2VuZGlmCiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCB2aWV3RnJ1c3R1bVp7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdW5pZm9ybSBmbG9hdCBmcnVzdHVtTGVuZ3Roc3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGNhc2NhZGVCbGVuZEZhY3RvcntYfTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUNhbWVyYXtYfTsKI2lmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVye1h9Owp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcntYfTsKdW5pZm9ybSB2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGRlcHRoQ29ycmVjdGlvbntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IHBlbnVtYnJhRGFya25lc3N7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XUENGe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXkgc2hhZG93U2FtcGxlcntYfTsKI2VuZGlmCiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpjb25zdCB2ZWMzIHZDYXNjYWRlQ29sb3JzTXVsdGlwbGllcntYfVs4XT12ZWMzWzhdCigKdmVjMyAoIDEuNSwwLjAsMC4wICksCnZlYzMgKCAwLjAsMS41LDAuMCApLAp2ZWMzICggMC4wLDAuMCw1LjUgKSwKdmVjMyAoIDEuNSwwLjAsNS41ICksCnZlYzMgKCAxLjUsMS41LDAuMCApLAp2ZWMzICggMS4wLDEuMCwxLjAgKSwKdmVjMyAoIDAuMCwxLjAsNS41ICksCnZlYzMgKCAwLjUsMy41LDAuNzUgKQopOwp2ZWMzIHNoYWRvd0RlYnVne1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTVVTRVNIQURPV01BWFp7WH0KaW50IGluZGV4e1h9PS0xOwojZWxzZQppbnQgaW5kZXh7WH09U0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9LTE7CiNlbmRpZgpmbG9hdCBkaWZme1h9PTAuOwojZWxpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnVuaWZvcm0gc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH07CiNpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGRlcHRoU2FtcGxlcntYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnVuaWZvcm0gc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXJ7WH07CiNlbmRpZgp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH07CiNlbmRpZgp1bmlmb3JtIHZlYzQgc2hhZG93c0luZm97WH07CnVuaWZvcm0gdmVjMiBkZXB0aFZhbHVlc3tYfTsKI2VuZGlmCiNpZmRlZiBTUE9UTElHSFR7WH0KdW5pZm9ybSB2ZWM0IHZMaWdodERpcmVjdGlvbntYfTsKdW5pZm9ybSB2ZWM0IHZMaWdodEZhbGxvZmZ7WH07CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKdW5pZm9ybSB2ZWM0IHZMaWdodEZhbGxvZmZ7WH07CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp1bmlmb3JtIHZlYzMgdkxpZ2h0R3JvdW5ke1h9OwojZW5kaWYKI2lmZGVmIFBST0pFQ1RFRExJR0hUVEVYVFVSRXtYfQp1bmlmb3JtIG1hdDQgdGV4dHVyZVByb2plY3Rpb25NYXRyaXh7WH07CnVuaWZvcm0gc2FtcGxlcjJEIHByb2plY3Rpb25MaWdodFNhbXBsZXJ7WH07CiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0pvXT1laDtjb25zdCB0aD0ibGlnaHRVYm9EZWNsYXJhdGlvbiIsaWg9YCNpZmRlZiBMSUdIVHtYfQp1bmlmb3JtIExpZ2h0e1h9CnsKdmVjNCB2TGlnaHREYXRhOwp2ZWM0IHZMaWdodERpZmZ1c2U7CnZlYzQgdkxpZ2h0U3BlY3VsYXI7CiNpZmRlZiBTUE9UTElHSFR7WH0KdmVjNCB2TGlnaHREaXJlY3Rpb247CnZlYzQgdkxpZ2h0RmFsbG9mZjsKI2VsaWYgZGVmaW5lZChQT0lOVExJR0hUe1h9KQp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQp2ZWMzIHZMaWdodEdyb3VuZDsKI2VuZGlmCnZlYzQgc2hhZG93c0luZm87CnZlYzIgZGVwdGhWYWx1ZXM7Cn0gbGlnaHR7WH07CiNpZmRlZiBQUk9KRUNURURMSUdIVFRFWFRVUkV7WH0KdW5pZm9ybSBtYXQ0IHRleHR1cmVQcm9qZWN0aW9uTWF0cml4e1h9Owp1bmlmb3JtIHNhbXBsZXIyRCBwcm9qZWN0aW9uTGlnaHRTYW1wbGVye1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV3tYfQojaWZkZWYgU0hBRE9XQ1NNe1h9CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IHZpZXdGcnVzdHVtWntYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp1bmlmb3JtIGZsb2F0IGZydXN0dW1MZW5ndGhze1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgY2FzY2FkZUJsZW5kRmFjdG9ye1h9Owp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgZmxvYXQgdkRlcHRoTWV0cmlje1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9OwojaWYgZGVmaW5lZChTSEFET1dQQ1NTe1h9KQp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVye1h9Owp1bmlmb3JtIHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgZGVwdGhDb3JyZWN0aW9ue1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnVuaWZvcm0gZmxvYXQgcGVudW1icmFEYXJrbmVzc3tYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcntYfTsKI2Vsc2UKdW5pZm9ybSBoaWdocCBzYW1wbGVyMkRBcnJheSBzaGFkb3dTYW1wbGVye1h9OwojZW5kaWYKI2lmZGVmIFNIQURPV0NTTURFQlVHe1h9CmNvbnN0IHZlYzMgdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9WzhdPXZlYzNbOF0KKAp2ZWMzICggMS41LDAuMCwwLjAgKSwKdmVjMyAoIDAuMCwxLjUsMC4wICksCnZlYzMgKCAwLjAsMC4wLDUuNSApLAp2ZWMzICggMS41LDAuMCw1LjUgKSwKdmVjMyAoIDEuNSwxLjUsMC4wICksCnZlYzMgKCAxLjAsMS4wLDEuMCApLAp2ZWMzICggMC4wLDEuMCw1LjUgKSwKdmVjMyAoIDAuNSwzLjUsMC43NSApCik7CnZlYzMgc2hhZG93RGVidWd7WH07CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNVVNFU0hBRE9XTUFYWntYfQppbnQgaW5kZXh7WH09LTE7CiNlbHNlCmludCBpbmRleHtYfT1TSEFET1dDU01OVU1fQ0FTQ0FERVN7WH0tMTsKI2VuZGlmCmZsb2F0IGRpZmZ7WH09MC47CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKdW5pZm9ybSBzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVye1h9OyAKI2Vsc2UKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH07CiNpZiBkZWZpbmVkKFNIQURPV1BDU1N7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEIGRlcHRoU2FtcGxlcntYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCnVuaWZvcm0gaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXJ7WH07CiNlbHNlCnVuaWZvcm0gc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXJ7WH07CiNlbmRpZgp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH07CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt0aF09aWg7Y29uc3Qgc2g9ImxpZ2h0c0ZyYWdtZW50RnVuY3Rpb25zIixyaD1gc3RydWN0IGxpZ2h0aW5nSW5mbwp7CnZlYzMgZGlmZnVzZTsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIHNwZWN1bGFyOwojZW5kaWYKI2lmZGVmIE5ET1RMCmZsb2F0IG5kbDsKI2VuZGlmCn07CmxpZ2h0aW5nSW5mbyBjb21wdXRlTGlnaHRpbmcodmVjMyB2aWV3RGlyZWN0aW9uVyx2ZWMzIHZOb3JtYWwsdmVjNCBsaWdodERhdGEsdmVjMyBkaWZmdXNlQ29sb3IsdmVjMyBzcGVjdWxhckNvbG9yLGZsb2F0IHJhbmdlLGZsb2F0IGdsb3NzaW5lc3MpIHsKbGlnaHRpbmdJbmZvIHJlc3VsdDsKdmVjMyBsaWdodFZlY3Rvclc7CmZsb2F0IGF0dGVudWF0aW9uPTEuMDsKaWYgKGxpZ2h0RGF0YS53PT0wLikKewp2ZWMzIGRpcmVjdGlvbj1saWdodERhdGEueHl6LXZQb3NpdGlvblc7CmF0dGVudWF0aW9uPW1heCgwLiwxLjAtbGVuZ3RoKGRpcmVjdGlvbikvcmFuZ2UpOwpsaWdodFZlY3Rvclc9bm9ybWFsaXplKGRpcmVjdGlvbik7Cn0KZWxzZQp7CmxpZ2h0VmVjdG9yVz1ub3JtYWxpemUoLWxpZ2h0RGF0YS54eXopOwp9CmZsb2F0IG5kbD1tYXgoMC4sZG90KHZOb3JtYWwsbGlnaHRWZWN0b3JXKSk7CiNpZmRlZiBORE9UTApyZXN1bHQubmRsPW5kbDsKI2VuZGlmCnJlc3VsdC5kaWZmdXNlPW5kbCpkaWZmdXNlQ29sb3IqYXR0ZW51YXRpb247CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBhbmdsZVc9bm9ybWFsaXplKHZpZXdEaXJlY3Rpb25XK2xpZ2h0VmVjdG9yVyk7CmZsb2F0IHNwZWNDb21wPW1heCgwLixkb3Qodk5vcm1hbCxhbmdsZVcpKTsKc3BlY0NvbXA9cG93KHNwZWNDb21wLG1heCgxLixnbG9zc2luZXNzKSk7CnJlc3VsdC5zcGVjdWxhcj1zcGVjQ29tcCpzcGVjdWxhckNvbG9yKmF0dGVudWF0aW9uOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQpsaWdodGluZ0luZm8gY29tcHV0ZVNwb3RMaWdodGluZyh2ZWMzIHZpZXdEaXJlY3Rpb25XLHZlYzMgdk5vcm1hbCx2ZWM0IGxpZ2h0RGF0YSx2ZWM0IGxpZ2h0RGlyZWN0aW9uLHZlYzMgZGlmZnVzZUNvbG9yLHZlYzMgc3BlY3VsYXJDb2xvcixmbG9hdCByYW5nZSxmbG9hdCBnbG9zc2luZXNzKSB7CmxpZ2h0aW5nSW5mbyByZXN1bHQ7CnZlYzMgZGlyZWN0aW9uPWxpZ2h0RGF0YS54eXotdlBvc2l0aW9uVzsKdmVjMyBsaWdodFZlY3Rvclc9bm9ybWFsaXplKGRpcmVjdGlvbik7CmZsb2F0IGF0dGVudWF0aW9uPW1heCgwLiwxLjAtbGVuZ3RoKGRpcmVjdGlvbikvcmFuZ2UpOwpmbG9hdCBjb3NBbmdsZT1tYXgoMC4sZG90KGxpZ2h0RGlyZWN0aW9uLnh5eiwtbGlnaHRWZWN0b3JXKSk7CmlmIChjb3NBbmdsZT49bGlnaHREaXJlY3Rpb24udykKewpjb3NBbmdsZT1tYXgoMC4scG93KGNvc0FuZ2xlLGxpZ2h0RGF0YS53KSk7CmF0dGVudWF0aW9uKj1jb3NBbmdsZTsKZmxvYXQgbmRsPW1heCgwLixkb3Qodk5vcm1hbCxsaWdodFZlY3RvclcpKTsKI2lmZGVmIE5ET1RMCnJlc3VsdC5uZGw9bmRsOwojZW5kaWYKcmVzdWx0LmRpZmZ1c2U9bmRsKmRpZmZ1c2VDb2xvciphdHRlbnVhdGlvbjsKI2lmZGVmIFNQRUNVTEFSVEVSTQp2ZWMzIGFuZ2xlVz1ub3JtYWxpemUodmlld0RpcmVjdGlvblcrbGlnaHRWZWN0b3JXKTsKZmxvYXQgc3BlY0NvbXA9bWF4KDAuLGRvdCh2Tm9ybWFsLGFuZ2xlVykpOwpzcGVjQ29tcD1wb3coc3BlY0NvbXAsbWF4KDEuLGdsb3NzaW5lc3MpKTsKcmVzdWx0LnNwZWN1bGFyPXNwZWNDb21wKnNwZWN1bGFyQ29sb3IqYXR0ZW51YXRpb247CiNlbmRpZgpyZXR1cm4gcmVzdWx0Owp9CnJlc3VsdC5kaWZmdXNlPXZlYzMoMC4pOwojaWZkZWYgU1BFQ1VMQVJURVJNCnJlc3VsdC5zcGVjdWxhcj12ZWMzKDAuKTsKI2VuZGlmCiNpZmRlZiBORE9UTApyZXN1bHQubmRsPTAuOwojZW5kaWYKcmV0dXJuIHJlc3VsdDsKfQpsaWdodGluZ0luZm8gY29tcHV0ZUhlbWlzcGhlcmljTGlnaHRpbmcodmVjMyB2aWV3RGlyZWN0aW9uVyx2ZWMzIHZOb3JtYWwsdmVjNCBsaWdodERhdGEsdmVjMyBkaWZmdXNlQ29sb3IsdmVjMyBzcGVjdWxhckNvbG9yLHZlYzMgZ3JvdW5kQ29sb3IsZmxvYXQgZ2xvc3NpbmVzcykgewpsaWdodGluZ0luZm8gcmVzdWx0OwpmbG9hdCBuZGw9ZG90KHZOb3JtYWwsbGlnaHREYXRhLnh5eikqMC41KzAuNTsKI2lmZGVmIE5ET1RMCnJlc3VsdC5uZGw9bmRsOwojZW5kaWYKcmVzdWx0LmRpZmZ1c2U9bWl4KGdyb3VuZENvbG9yLGRpZmZ1c2VDb2xvcixuZGwpOwojaWZkZWYgU1BFQ1VMQVJURVJNCnZlYzMgYW5nbGVXPW5vcm1hbGl6ZSh2aWV3RGlyZWN0aW9uVytsaWdodERhdGEueHl6KTsKZmxvYXQgc3BlY0NvbXA9bWF4KDAuLGRvdCh2Tm9ybWFsLGFuZ2xlVykpOwpzcGVjQ29tcD1wb3coc3BlY0NvbXAsbWF4KDEuLGdsb3NzaW5lc3MpKTsKcmVzdWx0LnNwZWN1bGFyPXNwZWNDb21wKnNwZWN1bGFyQ29sb3I7CiNlbmRpZgpyZXR1cm4gcmVzdWx0Owp9CiNkZWZpbmUgaW5saW5lCnZlYzMgY29tcHV0ZVByb2plY3Rpb25UZXh0dXJlRGlmZnVzZUxpZ2h0aW5nKHNhbXBsZXIyRCBwcm9qZWN0aW9uTGlnaHRTYW1wbGVyLG1hdDQgdGV4dHVyZVByb2plY3Rpb25NYXRyaXgpewp2ZWM0IHN0cnE9dGV4dHVyZVByb2plY3Rpb25NYXRyaXgqdmVjNCh2UG9zaXRpb25XLDEuMCk7CnN0cnEvPXN0cnEudzsKdmVjMyB0ZXh0dXJlQ29sb3I9dGV4dHVyZTJEKHByb2plY3Rpb25MaWdodFNhbXBsZXIsc3RycS54eSkucmdiOwpyZXR1cm4gdGV4dHVyZUNvbG9yOwp9YDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3NoXT1yaDtjb25zdCBuaD0ic2hhZG93c0ZyYWdtZW50RnVuY3Rpb25zIixhaD1gI2lmZGVmIFNIQURPV1MKI2lmIGRlZmluZWQoV0VCR0wyKSB8fCBkZWZpbmVkKFdFQkdQVSkgfHwgZGVmaW5lZChOQVRJVkUpCiNkZWZpbmUgVEVYVFVSRUZVTkMocyxjLGwpIHRleHR1cmUyRExvZEVYVChzLGMsbCkKI2Vsc2UKI2RlZmluZSBURVhUVVJFRlVOQyhzLGMsYikgdGV4dHVyZTJEKHMsYyxiKQojZW5kaWYKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCB1bnBhY2sodmVjNCBjb2xvcikKewpjb25zdCB2ZWM0IGJpdF9zaGlmdD12ZWM0KDEuMC8oMjU1LjAqMjU1LjAqMjU1LjApLDEuMC8oMjU1LjAqMjU1LjApLDEuMC8yNTUuMCwxLjApOwpyZXR1cm4gZG90KGNvbG9yLGJpdF9zaGlmdCk7Cn0KI2VuZGlmCmZsb2F0IGNvbXB1dGVGYWxsT2ZmKGZsb2F0IHZhbHVlLHZlYzIgY2xpcFNwYWNlLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewpmbG9hdCBtYXNrPXNtb290aHN0ZXAoMS4wLWZydXN0dW1FZGdlRmFsbG9mZiwxLjAwMDAwMDEyLGNsYW1wKGRvdChjbGlwU3BhY2UsY2xpcFNwYWNlKSwwLiwxLikpOwpyZXR1cm4gbWl4KHZhbHVlLDEuMCxtYXNrKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93Q3ViZSh2ZWMzIGxpZ2h0UG9zaXRpb24sc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyx2ZWMyIGRlcHRoVmFsdWVzKQp7CnZlYzMgZGlyZWN0aW9uVG9MaWdodD12UG9zaXRpb25XLWxpZ2h0UG9zaXRpb247CmZsb2F0IGRlcHRoPWxlbmd0aChkaXJlY3Rpb25Ub0xpZ2h0KTsKZGVwdGg9KGRlcHRoK2RlcHRoVmFsdWVzLngpLyhkZXB0aFZhbHVlcy55KTsKZGVwdGg9Y2xhbXAoZGVwdGgsMC4sMS4wKTsKZGlyZWN0aW9uVG9MaWdodD1ub3JtYWxpemUoZGlyZWN0aW9uVG9MaWdodCk7CmRpcmVjdGlvblRvTGlnaHQueT0tZGlyZWN0aW9uVG9MaWdodC55OwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvdz11bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KSk7CiNlbHNlCmZsb2F0IHNoYWRvdz10ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQpLng7CiNlbmRpZgpyZXR1cm4gZGVwdGg+c2hhZG93ID8gZGFya25lc3MgOiAxLjA7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQb2lzc29uU2FtcGxpbmdDdWJlKHZlYzMgbGlnaHRQb3NpdGlvbixzYW1wbGVyQ3ViZSBzaGFkb3dTYW1wbGVyLGZsb2F0IG1hcFNpemUsZmxvYXQgZGFya25lc3MsdmVjMiBkZXB0aFZhbHVlcykKewp2ZWMzIGRpcmVjdGlvblRvTGlnaHQ9dlBvc2l0aW9uVy1saWdodFBvc2l0aW9uOwpmbG9hdCBkZXB0aD1sZW5ndGgoZGlyZWN0aW9uVG9MaWdodCk7CmRlcHRoPShkZXB0aCtkZXB0aFZhbHVlcy54KS8oZGVwdGhWYWx1ZXMueSk7CmRlcHRoPWNsYW1wKGRlcHRoLDAuLDEuMCk7CmRpcmVjdGlvblRvTGlnaHQ9bm9ybWFsaXplKGRpcmVjdGlvblRvTGlnaHQpOwpkaXJlY3Rpb25Ub0xpZ2h0Lnk9LWRpcmVjdGlvblRvTGlnaHQueTsKZmxvYXQgdmlzaWJpbGl0eT0xLjsKdmVjMyBwb2lzc29uRGlza1s0XTsKcG9pc3NvbkRpc2tbMF09dmVjMygtMS4wLDEuMCwtMS4wKTsKcG9pc3NvbkRpc2tbMV09dmVjMygxLjAsLTEuMCwtMS4wKTsKcG9pc3NvbkRpc2tbMl09dmVjMygtMS4wLC0xLjAsLTEuMCk7CnBvaXNzb25EaXNrWzNdPXZlYzMoMS4wLC0xLjAsMS4wKTsKI2lmbmRlZiBTSEFET1dGTE9BVAppZiAodW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1swXSptYXBTaXplKSk8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2sodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzFdKm1hcFNpemUpKTxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMl0qbWFwU2l6ZSkpPGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1szXSptYXBTaXplKSk8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CiNlbHNlCmlmICh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbMF0qbWFwU2l6ZSkueDxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCtwb2lzc29uRGlza1sxXSptYXBTaXplKS54PGRlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0K3BvaXNzb25EaXNrWzJdKm1hcFNpemUpLng8ZGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh0ZXh0dXJlQ3ViZShzaGFkb3dTYW1wbGVyLGRpcmVjdGlvblRvTGlnaHQrcG9pc3NvbkRpc2tbM10qbWFwU2l6ZSkueDxkZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKI2VuZGlmCnJldHVybiBtaW4oMS4wLHZpc2liaWxpdHkrZGFya25lc3MpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoRVNNQ3ViZSh2ZWMzIGxpZ2h0UG9zaXRpb24sc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBkZXB0aFNjYWxlLHZlYzIgZGVwdGhWYWx1ZXMpCnsKdmVjMyBkaXJlY3Rpb25Ub0xpZ2h0PXZQb3NpdGlvblctbGlnaHRQb3NpdGlvbjsKZmxvYXQgZGVwdGg9bGVuZ3RoKGRpcmVjdGlvblRvTGlnaHQpOwpkZXB0aD0oZGVwdGgrZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpOwpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoLDAuLDEuMCk7CmRpcmVjdGlvblRvTGlnaHQ9bm9ybWFsaXplKGRpcmVjdGlvblRvTGlnaHQpOwpkaXJlY3Rpb25Ub0xpZ2h0Lnk9LWRpcmVjdGlvblRvTGlnaHQueTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkpOwojZWxzZQpmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KS54OwojZW5kaWYKZmxvYXQgZXNtPTEuMC1jbGFtcChleHAobWluKDg3LixkZXB0aFNjYWxlKnNoYWRvd1BpeGVsRGVwdGgpKSpzaGFkb3dNYXBTYW1wbGUsMC4sMS4tZGFya25lc3MpOyAKcmV0dXJuIGVzbTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENsb3NlRVNNQ3ViZSh2ZWMzIGxpZ2h0UG9zaXRpb24sc2FtcGxlckN1YmUgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBkZXB0aFNjYWxlLHZlYzIgZGVwdGhWYWx1ZXMpCnsKdmVjMyBkaXJlY3Rpb25Ub0xpZ2h0PXZQb3NpdGlvblctbGlnaHRQb3NpdGlvbjsKZmxvYXQgZGVwdGg9bGVuZ3RoKGRpcmVjdGlvblRvTGlnaHQpOwpkZXB0aD0oZGVwdGgrZGVwdGhWYWx1ZXMueCkvKGRlcHRoVmFsdWVzLnkpOwpmbG9hdCBzaGFkb3dQaXhlbERlcHRoPWNsYW1wKGRlcHRoLDAuLDEuMCk7CmRpcmVjdGlvblRvTGlnaHQ9bm9ybWFsaXplKGRpcmVjdGlvblRvTGlnaHQpOwpkaXJlY3Rpb25Ub0xpZ2h0Lnk9LWRpcmVjdGlvblRvTGlnaHQueTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dW5wYWNrKHRleHR1cmVDdWJlKHNoYWRvd1NhbXBsZXIsZGlyZWN0aW9uVG9MaWdodCkpOwojZWxzZQpmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dGV4dHVyZUN1YmUoc2hhZG93U2FtcGxlcixkaXJlY3Rpb25Ub0xpZ2h0KS54OwojZW5kaWYKZmxvYXQgZXNtPWNsYW1wKGV4cChtaW4oODcuLC1kZXB0aFNjYWxlKihzaGFkb3dQaXhlbERlcHRoLXNoYWRvd01hcFNhbXBsZSkpKSxkYXJrbmVzcywxLik7CnJldHVybiBlc207Cn0KI2lmIGRlZmluZWQoV0VCR0wyKSB8fCBkZWZpbmVkKFdFQkdQVSkgfHwgZGVmaW5lZChOQVRJVkUpCiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dDU00oZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMiB1dj0wLjUqY2xpcFNwYWNlLnh5K3ZlYzIoMC41KTsKdmVjMyB1dkxheWVyPXZlYzModXYueCx1di55LGxheWVyKTsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvdz11bnBhY2sodGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZMYXllcikpOwojZWxzZQpmbG9hdCBzaGFkb3c9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZMYXllcikueDsKI2VuZGlmCnJldHVybiBzaGFkb3dQaXhlbERlcHRoPnNoYWRvdyA/IGNvbXB1dGVGYWxsT2ZmKGRhcmtuZXNzLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpIDogMS47Cn0KI2VuZGlmCiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3codmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIHNoYWRvd1NhbXBsZXIsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CmlmICh1di54PDAuIHx8IHV2Lng+MS4wIHx8IHV2Lnk8MC4gfHwgdXYueT4xLjApCnsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmZsb2F0IHNoYWRvdz11bnBhY2soVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1diwwLikpOwojZWxzZQpmbG9hdCBzaGFkb3c9VEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1diwwLikueDsKI2VuZGlmCnJldHVybiBzaGFkb3dQaXhlbERlcHRoPnNoYWRvdyA/IGNvbXB1dGVGYWxsT2ZmKGRhcmtuZXNzLGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpIDogMS47Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBvaXNzb25TYW1wbGluZyh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgc2hhZG93U2FtcGxlcixmbG9hdCBtYXBTaXplLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKZmxvYXQgdmlzaWJpbGl0eT0xLjsKdmVjMiBwb2lzc29uRGlza1s0XTsKcG9pc3NvbkRpc2tbMF09dmVjMigtMC45NDIwMTYyNCwtMC4zOTkwNjIxNik7CnBvaXNzb25EaXNrWzFdPXZlYzIoMC45NDU1ODYwOSwtMC43Njg5MDcyNSk7CnBvaXNzb25EaXNrWzJdPXZlYzIoLTAuMDk0MTg0MTAxLC0wLjkyOTM4ODcwKTsKcG9pc3NvbkRpc2tbM109dmVjMigwLjM0NDk1OTM4LDAuMjkzODc3NjApOwojaWZuZGVmIFNIQURPV0ZMT0FUCmlmICh1bnBhY2soVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1swXSptYXBTaXplLDAuKSk8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKHVucGFjayhURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzFdKm1hcFNpemUsMC4pKTxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAodW5wYWNrKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMl0qbWFwU2l6ZSwwLikpPHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmICh1bnBhY2soVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1szXSptYXBTaXplLDAuKSk8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKI2Vsc2UKaWYgKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbMF0qbWFwU2l6ZSwwLikueDxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwppZiAoVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix1ditwb2lzc29uRGlza1sxXSptYXBTaXplLDAuKS54PHNoYWRvd1BpeGVsRGVwdGgpIHZpc2liaWxpdHktPTAuMjU7CmlmIChURVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2K3BvaXNzb25EaXNrWzJdKm1hcFNpemUsMC4pLng8c2hhZG93UGl4ZWxEZXB0aCkgdmlzaWJpbGl0eS09MC4yNTsKaWYgKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYrcG9pc3NvbkRpc2tbM10qbWFwU2l6ZSwwLikueDxzaGFkb3dQaXhlbERlcHRoKSB2aXNpYmlsaXR5LT0wLjI1OwojZW5kaWYKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKG1pbigxLjAsdmlzaWJpbGl0eStkYXJrbmVzcyksY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aEVTTSh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBkZXB0aFNjYWxlLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMyIHV2PTAuNSpjbGlwU3BhY2UueHkrdmVjMigwLjUpOwppZiAodXYueDwwLiB8fCB1di54PjEuMCB8fCB1di55PDAuIHx8IHV2Lnk+MS4wKQp7CnJldHVybiAxLjA7Cn0KZWxzZQp7CmZsb2F0IHNoYWRvd1BpeGVsRGVwdGg9Y2xhbXAoZGVwdGhNZXRyaWMsMC4sMS4wKTsKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dW5wYWNrKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYsMC4pKTsKI2Vsc2UKZmxvYXQgc2hhZG93TWFwU2FtcGxlPVRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYsMC4pLng7CiNlbmRpZgpmbG9hdCBlc209MS4wLWNsYW1wKGV4cChtaW4oODcuLGRlcHRoU2NhbGUqc2hhZG93UGl4ZWxEZXB0aCkpKnNoYWRvd01hcFNhbXBsZSwwLiwxLi1kYXJrbmVzcyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihlc20sY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENsb3NlRVNNKHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBzaGFkb3dTYW1wbGVyLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGRlcHRoU2NhbGUsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzIgdXY9MC41KmNsaXBTcGFjZS54eSt2ZWMyKDAuNSk7CmlmICh1di54PDAuIHx8IHV2Lng+MS4wIHx8IHV2Lnk8MC4gfHwgdXYueT4xLjApCnsKcmV0dXJuIDEuMDsKfQplbHNlCnsKZmxvYXQgc2hhZG93UGl4ZWxEZXB0aD1jbGFtcChkZXB0aE1ldHJpYywwLiwxLjApOyAKI2lmbmRlZiBTSEFET1dGTE9BVApmbG9hdCBzaGFkb3dNYXBTYW1wbGU9dW5wYWNrKFRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYsMC4pKTsKI2Vsc2UKZmxvYXQgc2hhZG93TWFwU2FtcGxlPVRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdXYsMC4pLng7CiNlbmRpZgpmbG9hdCBlc209Y2xhbXAoZXhwKG1pbig4Ny4sLWRlcHRoU2NhbGUqKHNoYWRvd1BpeGVsRGVwdGgtc2hhZG93TWFwU2FtcGxlKSkpLGRhcmtuZXNzLDEuKTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKGVzbSxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNpZmRlZiBJU19ORENfSEFMRl9aUkFOR0UKI2RlZmluZSBaSU5DTElQIGNsaXBTcGFjZS56CiNlbHNlCiNkZWZpbmUgWklOQ0xJUCB1dkRlcHRoLnoKI2VuZGlmCiNpZiBkZWZpbmVkKFdFQkdMMikgfHwgZGVmaW5lZChXRUJHUFUpIHx8IGRlZmluZWQoTkFUSVZFKQojZGVmaW5lIEdSRUFURVNUX0xFU1NfVEhBTl9PTkUgMC45OTk5OTk5NAojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDRjEoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PWNsYW1wKFpJTkNMSVAsMC4sR1JFQVRFU1RfTEVTU19USEFOX09ORSk7CnZlYzQgdXZEZXB0aExheWVyPXZlYzQodXZEZXB0aC54LHV2RGVwdGgueSxsYXllcix1dkRlcHRoLnopOwpmbG9hdCBzaGFkb3c9dGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdXZEZXB0aExheWVyKTsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMyhmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLHZlYzIgc2hhZG93TWFwU2l6ZUFuZEludmVyc2UsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1jbGFtcChaSU5DTElQLDAuLEdSRUFURVNUX0xFU1NfVEhBTl9PTkUpOwp2ZWMyIHV2PXV2RGVwdGgueHkqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueDsgCnV2Kz0wLjU7IAp2ZWMyIHN0PWZyYWN0KHV2KTsgCnZlYzIgYmFzZV91dj1mbG9vcih1diktMC41OyAKYmFzZV91dio9c2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsgCnZlYzIgdXZ3MD0zLi0yLipzdDsKdmVjMiB1dncxPTEuKzIuKnN0Owp2ZWMyIHU9dmVjMigoMi4tc3QueCkvdXZ3MC54LTEuLHN0LngvdXZ3MS54KzEuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55Owp2ZWMyIHY9dmVjMigoMi4tc3QueSkvdXZ3MC55LTEuLHN0LnkvdXZ3MS55KzEuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OwpmbG9hdCBzaGFkb3c9MC47CnNoYWRvdys9dXZ3MC54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzEueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncwLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMF0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MS54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3c9c2hhZG93LzE2LjsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGNShmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLHZlYzIgc2hhZG93TWFwU2l6ZUFuZEludmVyc2UsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnZlYzMgY2xpcFNwYWNlPXZQb3NpdGlvbkZyb21MaWdodC54eXovdlBvc2l0aW9uRnJvbUxpZ2h0Lnc7CnZlYzMgdXZEZXB0aD12ZWMzKDAuNSpjbGlwU3BhY2UueHl6K3ZlYzMoMC41KSk7CnV2RGVwdGguej1jbGFtcChaSU5DTElQLDAuLEdSRUFURVNUX0xFU1NfVEhBTl9PTkUpOwp2ZWMyIHV2PXV2RGVwdGgueHkqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueDsgCnV2Kz0wLjU7IAp2ZWMyIHN0PWZyYWN0KHV2KTsgCnZlYzIgYmFzZV91dj1mbG9vcih1diktMC41OyAKYmFzZV91dio9c2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsgCnZlYzIgdXZ3MD00Li0zLipzdDsKdmVjMiB1dncxPXZlYzIoNy4pOwp2ZWMyIHV2dzI9MS4rMy4qc3Q7CnZlYzMgdT12ZWMzKCgzLi0yLipzdC54KS91dncwLngtMi4sKDMuK3N0LngpL3V2dzEueCxzdC54L3V2dzIueCsyLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKdmVjMyB2PXZlYzMoKDMuLTIuKnN0LnkpL3V2dzAueS0yLiwoMy4rc3QueSkvdXZ3MS55LHN0LnkvdXZ3Mi55KzIuKSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OwpmbG9hdCBzaGFkb3c9MC47CnNoYWRvdys9dXZ3MC54KnV2dzAueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMF0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzEueCp1dncwLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzBdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncyLngqdXZ3MC55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMl0sdlswXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MC54KnV2dzEueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMV0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzEueCp1dncxLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzFdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncyLngqdXZ3MS55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMl0sdlsxXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdys9dXZ3MC54KnV2dzIueSp0ZXh0dXJlMkQoc2hhZG93U2FtcGxlcix2ZWM0KGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMl0pLGxheWVyLHV2RGVwdGgueikpOwpzaGFkb3crPXV2dzEueCp1dncyLnkqdGV4dHVyZTJEKHNoYWRvd1NhbXBsZXIsdmVjNChiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzJdKSxsYXllcix1dkRlcHRoLnopKTsKc2hhZG93Kz11dncyLngqdXZ3Mi55KnRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHZlYzQoYmFzZV91di54eSt2ZWMyKHVbMl0sdlsyXSksbGF5ZXIsdXZEZXB0aC56KSk7CnNoYWRvdz1zaGFkb3cvMTQ0LjsKc2hhZG93PW1peChkYXJrbmVzcywxLixzaGFkb3cpOwpyZXR1cm4gY29tcHV0ZUZhbGxPZmYoc2hhZG93LGNsaXBTcGFjZS54eSxmcnVzdHVtRWRnZUZhbGxvZmYpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENGMSh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CmZsb2F0IHNoYWRvdz1URVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2RGVwdGgsMC4pOwpzaGFkb3c9bWl4KGRhcmtuZXNzLDEuLHNoYWRvdyk7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDRjModmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsdmVjMiBzaGFkb3dNYXBTaXplQW5kSW52ZXJzZSxmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CnZlYzIgdXY9dXZEZXB0aC54eSpzaGFkb3dNYXBTaXplQW5kSW52ZXJzZS54OyAKdXYrPTAuNTsgCnZlYzIgc3Q9ZnJhY3QodXYpOyAKdmVjMiBiYXNlX3V2PWZsb29yKHV2KS0wLjU7IApiYXNlX3V2Kj1zaGFkb3dNYXBTaXplQW5kSW52ZXJzZS55OyAKdmVjMiB1dncwPTMuLTIuKnN0Owp2ZWMyIHV2dzE9MS4rMi4qc3Q7CnZlYzIgdT12ZWMyKCgyLi1zdC54KS91dncwLngtMS4sc3QueC91dncxLngrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzIgdj12ZWMyKCgyLi1zdC55KS91dncwLnktMS4sc3QueS91dncxLnkrMS4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CmZsb2F0IHNoYWRvdz0wLjsKc2hhZG93Kz11dncwLngqdXZ3MC55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzBdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncxLngqdXZ3MC55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzBdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncwLngqdXZ3MS55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVswXSx2WzFdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93Kz11dncxLngqdXZ3MS55KlRFWFRVUkVGVU5DKHNoYWRvd1NhbXBsZXIsdmVjMyhiYXNlX3V2Lnh5K3ZlYzIodVsxXSx2WzFdKSx1dkRlcHRoLnopLDAuKTsKc2hhZG93PXNoYWRvdy8xNi47CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENGNSh2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcix2ZWMyIHNoYWRvd01hcFNpemVBbmRJbnZlcnNlLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewppZiAoZGVwdGhNZXRyaWM+MS4wIHx8IGRlcHRoTWV0cmljPDAuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9WklOQ0xJUDsKdmVjMiB1dj11dkRlcHRoLnh5KnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLng7IAp1dis9MC41OyAKdmVjMiBzdD1mcmFjdCh1dik7IAp2ZWMyIGJhc2VfdXY9Zmxvb3IodXYpLTAuNTsgCmJhc2VfdXYqPXNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7IAp2ZWMyIHV2dzA9NC4tMy4qc3Q7CnZlYzIgdXZ3MT12ZWMyKDcuKTsKdmVjMiB1dncyPTEuKzMuKnN0Owp2ZWMzIHU9dmVjMygoMy4tMi4qc3QueCkvdXZ3MC54LTIuLCgzLitzdC54KS91dncxLngsc3QueC91dncyLngrMi4pKnNoYWRvd01hcFNpemVBbmRJbnZlcnNlLnk7CnZlYzMgdj12ZWMzKCgzLi0yLipzdC55KS91dncwLnktMi4sKDMuK3N0LnkpL3V2dzEueSxzdC55L3V2dzIueSsyLikqc2hhZG93TWFwU2l6ZUFuZEludmVyc2UueTsKZmxvYXQgc2hhZG93PTAuOwpzaGFkb3crPXV2dzAueCp1dncwLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMF0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzEueCp1dncwLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMF0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzIueCp1dncwLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMF0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzAueCp1dncxLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMV0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzEueCp1dncxLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMV0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzIueCp1dncxLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMV0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzAueCp1dncyLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzBdLHZbMl0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzEueCp1dncyLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzFdLHZbMl0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3crPXV2dzIueCp1dncyLnkqVEVYVFVSRUZVTkMoc2hhZG93U2FtcGxlcix2ZWMzKGJhc2VfdXYueHkrdmVjMih1WzJdLHZbMl0pLHV2RGVwdGgueiksMC4pOwpzaGFkb3c9c2hhZG93LzE0NC47CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9CmNvbnN0IHZlYzMgUG9pc3NvblNhbXBsZXJzMzJbNjRdPXZlYzNbNjRdKAp2ZWMzKDAuMDY0MDcwMTMsMC4wNTQwOTkyNywwLiksCnZlYzMoMC43MzY2NTc3LDAuNTc4OTM5NCwwLiksCnZlYzMoLTAuNjI3MDU0MiwtMC41MzIwMjc4LDAuKSwKdmVjMygtMC40MDk2MTA3LDAuODQxMTA5NSwwLiksCnZlYzMoMC42ODQ5NTY0LC0wLjQ5OTA4MTgsMC4pLAp2ZWMzKC0wLjg3NDE4MSwtMC4wNDU3OTczNSwwLiksCnZlYzMoMC45OTg5OTk4LDAuMDAwOTg4MDA2NiwwLiksCnZlYzMoLTAuMDA0OTIwNTc4LC0wLjkxNTE2NDksMC4pLAp2ZWMzKDAuMTgwNTc2MywwLjk3NDc0ODMsMC4pLAp2ZWMzKC0wLjIxMzg0NTEsMC4yNjM1ODE4LDAuKSwKdmVjMygwLjEwOTg0NSwwLjM4ODQ3ODUsMC4pLAp2ZWMzKDAuMDY4NzY3NTUsLTAuMzU4MTA3NCwwLiksCnZlYzMoMC4zNzQwNzMsLTAuNzY2MTI2NiwwLiksCnZlYzMoMC4zMDc5MTMyLC0wLjEyMTY3NjMsMC4pLAp2ZWMzKC0wLjM3OTQzMzUsLTAuODI3MTU4MywwLiksCnZlYzMoLTAuMjAzODc4LC0wLjA3NzE1MDM0LDAuKSwKdmVjMygwLjU5MTI2OTcsMC4xNDY5Nzk5LDAuKSwKdmVjMygtMC44ODA2OSwwLjMwMzE3ODQsMC4pLAp2ZWMzKDAuNTA0MDEwOCwwLjgyODM3MjIsMC4pLAp2ZWMzKC0wLjU4NDQxMjQsMC41NDk0ODc3LDAuKSwKdmVjMygwLjYwMTc3OTksLTAuMTcyNjY1NCwwLiksCnZlYzMoLTAuNTU1NDk4MSwwLjE1NTk5OTcsMC4pLAp2ZWMzKC0wLjMwMTYzNjksLTAuMzkwMDkyOCwwLiksCnZlYzMoLTAuNTU1MDYzMiwtMC4xNzIzNzYyLDAuKSwKdmVjMygwLjkyNTAyOSwwLjI5OTUwNDEsMC4pLAp2ZWMzKC0wLjI0NzMxMzcsMC41NTM4NTA1LDAuKSwKdmVjMygwLjkxODMwMzcsLTAuMjg2MjM5MiwwLiksCnZlYzMoMC4yNDY5NDIxLDAuNjcxODcxMiwwLiksCnZlYzMoMC4zOTE2Mzk3LC0wLjQzMjgyMDksMC4pLAp2ZWMzKC0wLjAzNTc2OTI3LC0wLjYyMjAwMzIsMC4pLAp2ZWMzKC0wLjA0NjYxMjU1LDAuNzk5NTIwMSwwLiksCnZlYzMoMC40NDAyOTI0LDAuMzY0MDMxMiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKSwKdmVjMygwLiwwLiwwLiksCnZlYzMoMC4sMC4sMC4pLAp2ZWMzKDAuLDAuLDAuKQopOwpjb25zdCB2ZWMzIFBvaXNzb25TYW1wbGVyczY0WzY0XT12ZWMzWzY0XSgKdmVjMygtMC42MTMzOTIsMC42MTc0ODEsMC4pLAp2ZWMzKDAuMTcwMDE5LC0wLjA0MDI1NCwwLiksCnZlYzMoLTAuMjk5NDE3LDAuNzkxOTI1LDAuKSwKdmVjMygwLjY0NTY4MCwwLjQ5MzIxMCwwLiksCnZlYzMoLTAuNjUxNzg0LDAuNzE3ODg3LDAuKSwKdmVjMygwLjQyMTAwMywwLjAyNzA3MCwwLiksCnZlYzMoLTAuODE3MTk0LC0wLjI3MTA5NiwwLiksCnZlYzMoLTAuNzA1Mzc0LC0wLjY2ODIwMywwLiksCnZlYzMoMC45NzcwNTAsLTAuMTA4NjE1LDAuKSwKdmVjMygwLjA2MzMyNiwwLjE0MjM2OSwwLiksCnZlYzMoMC4yMDM1MjgsMC4yMTQzMzEsMC4pLAp2ZWMzKC0wLjY2NzUzMSwwLjMyNjA5MCwwLiksCnZlYzMoLTAuMDk4NDIyLC0wLjI5NTc1NSwwLiksCnZlYzMoLTAuODg1OTIyLDAuMjE1MzY5LDAuKSwKdmVjMygwLjU2NjYzNywwLjYwNTIxMywwLiksCnZlYzMoMC4wMzk3NjYsLTAuMzk2MTAwLDAuKSwKdmVjMygwLjc1MTk0NiwwLjQ1MzM1MiwwLiksCnZlYzMoMC4wNzg3MDcsLTAuNzE1MzIzLDAuKSwKdmVjMygtMC4wNzU4MzgsLTAuNTI5MzQ0LDAuKSwKdmVjMygwLjcyNDQ3OSwtMC41ODA3OTgsMC4pLAp2ZWMzKDAuMjIyOTk5LC0wLjIxNTEyNSwwLiksCnZlYzMoLTAuNDY3NTc0LC0wLjQwNTQzOCwwLiksCnZlYzMoLTAuMjQ4MjY4LC0wLjgxNDc1MywwLiksCnZlYzMoMC4zNTQ0MTEsLTAuODg3NTcwLDAuKSwKdmVjMygwLjE3NTgxNywwLjM4MjM2NiwwLiksCnZlYzMoMC40ODc0NzIsLTAuMDYzMDgyLDAuKSwKdmVjMygtMC4wODQwNzgsMC44OTgzMTIsMC4pLAp2ZWMzKDAuNDg4ODc2LC0wLjc4MzQ0MSwwLiksCnZlYzMoMC40NzAwMTYsMC4yMTc5MzMsMC4pLAp2ZWMzKC0wLjY5Njg5MCwtMC41NDk3OTEsMC4pLAp2ZWMzKC0wLjE0OTY5MywwLjYwNTc2MiwwLiksCnZlYzMoMC4wMzQyMTEsMC45Nzk5ODAsMC4pLAp2ZWMzKDAuNTAzMDk4LC0wLjMwODg3OCwwLiksCnZlYzMoLTAuMDE2MjA1LC0wLjg3MjkyMSwwLiksCnZlYzMoMC4zODU3ODQsLTAuMzkzOTAyLDAuKSwKdmVjMygtMC4xNDY4ODYsLTAuODU5MjQ5LDAuKSwKdmVjMygwLjY0MzM2MSwwLjE2NDA5OCwwLiksCnZlYzMoMC42MzQzODgsLTAuMDQ5NDcxLDAuKSwKdmVjMygtMC42ODg4OTQsMC4wMDc4NDMsMC4pLAp2ZWMzKDAuNDY0MDM0LC0wLjE4ODgxOCwwLiksCnZlYzMoLTAuNDQwODQwLDAuMTM3NDg2LDAuKSwKdmVjMygwLjM2NDQ4MywwLjUxMTcwNCwwLiksCnZlYzMoMC4wMzQwMjgsMC4zMjU5NjgsMC4pLAp2ZWMzKDAuMDk5MDk0LC0wLjMwODAyMywwLiksCnZlYzMoMC42OTM5NjAsLTAuMzY2MjUzLDAuKSwKdmVjMygwLjY3ODg4NCwtMC4yMDQ2ODgsMC4pLAp2ZWMzKDAuMDAxODAxLDAuNzgwMzI4LDAuKSwKdmVjMygwLjE0NTE3NywtMC44OTg5ODQsMC4pLAp2ZWMzKDAuMDYyNjU1LC0wLjYxMTg2NiwwLiksCnZlYzMoMC4zMTUyMjYsLTAuNjA0Mjk3LDAuKSwKdmVjMygtMC43ODAxNDUsMC40ODYyNTEsMC4pLAp2ZWMzKC0wLjM3MTg2OCwwLjg4MjEzOCwwLiksCnZlYzMoMC4yMDA0NzYsMC40OTQ0MzAsMC4pLAp2ZWMzKC0wLjQ5NDU1MiwtMC43MTEwNTEsMC4pLAp2ZWMzKDAuNjEyNDc2LDAuNzA1MjUyLDAuKSwKdmVjMygtMC41Nzg4NDUsLTAuNzY4NzkyLDAuKSwKdmVjMygtMC43NzI0NTQsLTAuMDkwOTc2LDAuKSwKdmVjMygwLjUwNDQ0MCwwLjM3MjI5NSwwLiksCnZlYzMoMC4xNTU3MzYsMC4wNjUxNTcsMC4pLAp2ZWMzKDAuMzkxNTIyLDAuODQ5NjA1LDAuKSwKdmVjMygtMC42MjAxMDYsLTAuMzI4MTA0LDAuKSwKdmVjMygwLjc4OTIzOSwtMC40MTk5NjUsMC4pLAp2ZWMzKC0wLjU0NTM5NiwwLjUzODEzMywwLiksCnZlYzMoLTAuMTc4NTY0LC0wLjU5NjA1NywwLikKKTsKI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZixpbnQgc2VhcmNoVGFwQ291bnQsaW50IHBjZlRhcENvdW50LHZlYzNbNjRdIHBvaXNzb25TYW1wbGVycyx2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixmbG9hdCBkZXB0aENvcnJlY3Rpb24sZmxvYXQgcGVudW1icmFEYXJrbmVzcykKewp2ZWMzIGNsaXBTcGFjZT12UG9zaXRpb25Gcm9tTGlnaHQueHl6L3ZQb3NpdGlvbkZyb21MaWdodC53Owp2ZWMzIHV2RGVwdGg9dmVjMygwLjUqY2xpcFNwYWNlLnh5eit2ZWMzKDAuNSkpOwp1dkRlcHRoLno9Y2xhbXAoWklOQ0xJUCwwLixHUkVBVEVTVF9MRVNTX1RIQU5fT05FKTsKdmVjNCB1dkRlcHRoTGF5ZXI9dmVjNCh1dkRlcHRoLngsdXZEZXB0aC55LGxheWVyLHV2RGVwdGgueik7CmZsb2F0IGJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IHN1bUJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IG51bUJsb2NrZXI9MC4wOwpmb3IgKGludCBpPTA7IGk8c2VhcmNoVGFwQ291bnQ7IGkgKyspIHsKYmxvY2tlckRlcHRoPXRleHR1cmUyRChkZXB0aFNhbXBsZXIsdmVjMyh1dkRlcHRoLnh5KyhsaWdodFNpemVVVipsaWdodFNpemVVVkNvcnJlY3Rpb24qc2hhZG93TWFwU2l6ZUludmVyc2UqUG9pc3NvblNhbXBsZXJzMzJbaV0ueHkpLGxheWVyKSkucjsKaWYgKGJsb2NrZXJEZXB0aDxkZXB0aE1ldHJpYykgewpzdW1CbG9ja2VyRGVwdGgrPWJsb2NrZXJEZXB0aDsKbnVtQmxvY2tlcisrOwp9Cn0KZmxvYXQgYXZnQmxvY2tlckRlcHRoPXN1bUJsb2NrZXJEZXB0aC9udW1CbG9ja2VyOwpmbG9hdCBBQU9mZnNldD1zaGFkb3dNYXBTaXplSW52ZXJzZSoxMC47CmZsb2F0IHBlbnVtYnJhUmF0aW89KChkZXB0aE1ldHJpYy1hdmdCbG9ja2VyRGVwdGgpKmRlcHRoQ29ycmVjdGlvbitBQU9mZnNldCk7CnZlYzQgZmlsdGVyUmFkaXVzPXZlYzQocGVudW1icmFSYXRpbypsaWdodFNpemVVVipsaWdodFNpemVVVkNvcnJlY3Rpb24qc2hhZG93TWFwU2l6ZUludmVyc2UsMC4sMC4pOwpmbG9hdCByYW5kb209Z2V0UmFuZCh2UG9zaXRpb25Gcm9tTGlnaHQueHkpOwpmbG9hdCByb3RhdGlvbkFuZ2xlPXJhbmRvbSozLjE0MTU5MjY7CnZlYzIgcm90YXRpb25WZWN0b3I9dmVjMihjb3Mocm90YXRpb25BbmdsZSksc2luKHJvdGF0aW9uQW5nbGUpKTsKZmxvYXQgc2hhZG93PTAuOwpmb3IgKGludCBpPTA7IGk8cGNmVGFwQ291bnQ7IGkrKykgewp2ZWM0IG9mZnNldD12ZWM0KHBvaXNzb25TYW1wbGVyc1tpXSwwLik7Cm9mZnNldD12ZWM0KG9mZnNldC54KnJvdGF0aW9uVmVjdG9yLngtb2Zmc2V0Lnkqcm90YXRpb25WZWN0b3IueSxvZmZzZXQueSpyb3RhdGlvblZlY3Rvci54K29mZnNldC54KnJvdGF0aW9uVmVjdG9yLnksMC4sMC4pOwpzaGFkb3crPXRleHR1cmUyRChzaGFkb3dTYW1wbGVyLHV2RGVwdGhMYXllcitvZmZzZXQqZmlsdGVyUmFkaXVzKTsKfQpzaGFkb3cvPWZsb2F0KHBjZlRhcENvdW50KTsKc2hhZG93PW1peChzaGFkb3csMS4sbWluKChkZXB0aE1ldHJpYy1hdmdCbG9ja2VyRGVwdGgpKmRlcHRoQ29ycmVjdGlvbipwZW51bWJyYURhcmtuZXNzLDEuKSk7CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKaWYgKG51bUJsb2NrZXI8MS4wKSB7CnJldHVybiAxLjA7Cn0KZWxzZQp7CnJldHVybiBjb21wdXRlRmFsbE9mZihzaGFkb3csY2xpcFNwYWNlLnh5LGZydXN0dW1FZGdlRmFsbG9mZik7Cn0KfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDU1ModmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsaW50IHNlYXJjaFRhcENvdW50LGludCBwY2ZUYXBDb3VudCx2ZWMzWzY0XSBwb2lzc29uU2FtcGxlcnMpCnsKaWYgKGRlcHRoTWV0cmljPjEuMCB8fCBkZXB0aE1ldHJpYzwwLjApIHsKcmV0dXJuIDEuMDsKfQplbHNlCnsKdmVjMyBjbGlwU3BhY2U9dlBvc2l0aW9uRnJvbUxpZ2h0Lnh5ei92UG9zaXRpb25Gcm9tTGlnaHQudzsKdmVjMyB1dkRlcHRoPXZlYzMoMC41KmNsaXBTcGFjZS54eXordmVjMygwLjUpKTsKdXZEZXB0aC56PVpJTkNMSVA7CmZsb2F0IGJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IHN1bUJsb2NrZXJEZXB0aD0wLjA7CmZsb2F0IG51bUJsb2NrZXI9MC4wOwpmb3IgKGludCBpPTA7IGk8c2VhcmNoVGFwQ291bnQ7IGkgKyspIHsKYmxvY2tlckRlcHRoPVRFWFRVUkVGVU5DKGRlcHRoU2FtcGxlcix1dkRlcHRoLnh5KyhsaWdodFNpemVVVipzaGFkb3dNYXBTaXplSW52ZXJzZSpQb2lzc29uU2FtcGxlcnMzMltpXS54eSksMC4pLnI7CmlmIChibG9ja2VyRGVwdGg8ZGVwdGhNZXRyaWMpIHsKc3VtQmxvY2tlckRlcHRoKz1ibG9ja2VyRGVwdGg7Cm51bUJsb2NrZXIrKzsKfQp9CmlmIChudW1CbG9ja2VyPDEuMCkgewpyZXR1cm4gMS4wOwp9CmVsc2UKewpmbG9hdCBhdmdCbG9ja2VyRGVwdGg9c3VtQmxvY2tlckRlcHRoL251bUJsb2NrZXI7CmZsb2F0IEFBT2Zmc2V0PXNoYWRvd01hcFNpemVJbnZlcnNlKjEwLjsKZmxvYXQgcGVudW1icmFSYXRpbz0oKGRlcHRoTWV0cmljLWF2Z0Jsb2NrZXJEZXB0aCkrQUFPZmZzZXQpOwpmbG9hdCBmaWx0ZXJSYWRpdXM9cGVudW1icmFSYXRpbypsaWdodFNpemVVVipzaGFkb3dNYXBTaXplSW52ZXJzZTsKZmxvYXQgcmFuZG9tPWdldFJhbmQodlBvc2l0aW9uRnJvbUxpZ2h0Lnh5KTsKZmxvYXQgcm90YXRpb25BbmdsZT1yYW5kb20qMy4xNDE1OTI2Owp2ZWMyIHJvdGF0aW9uVmVjdG9yPXZlYzIoY29zKHJvdGF0aW9uQW5nbGUpLHNpbihyb3RhdGlvbkFuZ2xlKSk7CmZsb2F0IHNoYWRvdz0wLjsKZm9yIChpbnQgaT0wOyBpPHBjZlRhcENvdW50OyBpKyspIHsKdmVjMyBvZmZzZXQ9cG9pc3NvblNhbXBsZXJzW2ldOwpvZmZzZXQ9dmVjMyhvZmZzZXQueCpyb3RhdGlvblZlY3Rvci54LW9mZnNldC55KnJvdGF0aW9uVmVjdG9yLnksb2Zmc2V0Lnkqcm90YXRpb25WZWN0b3IueCtvZmZzZXQueCpyb3RhdGlvblZlY3Rvci55LDAuKTsKc2hhZG93Kz1URVhUVVJFRlVOQyhzaGFkb3dTYW1wbGVyLHV2RGVwdGgrb2Zmc2V0KmZpbHRlclJhZGl1cywwLik7Cn0Kc2hhZG93Lz1mbG9hdChwY2ZUYXBDb3VudCk7CnNoYWRvdz1taXgoc2hhZG93LDEuLGRlcHRoTWV0cmljLWF2Z0Jsb2NrZXJEZXB0aCk7CnNoYWRvdz1taXgoZGFya25lc3MsMS4sc2hhZG93KTsKcmV0dXJuIGNvbXB1dGVGYWxsT2ZmKHNoYWRvdyxjbGlwU3BhY2UueHksZnJ1c3R1bUVkZ2VGYWxsb2ZmKTsKfQp9Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhQQ1NTMTYodmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsc2FtcGxlcjJEIGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoUENTUyh2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDE2LDE2LFBvaXNzb25TYW1wbGVyczMyKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aFBDU1MzMih2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxzYW1wbGVyMkQgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyRFNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZikKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhQQ1NTKHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMTYsMzIsUG9pc3NvblNhbXBsZXJzMzIpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoUENTUzY0KHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLHNhbXBsZXIyRCBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEU2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aFBDU1ModlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwzMiw2NCxQb2lzc29uU2FtcGxlcnM2NCk7Cn0KI2RlZmluZSBpbmxpbmUKZmxvYXQgY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMTYoZmxvYXQgbGF5ZXIsdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHQsZmxvYXQgZGVwdGhNZXRyaWMsaGlnaHAgc2FtcGxlcjJEQXJyYXkgZGVwdGhTYW1wbGVyLGhpZ2hwIHNhbXBsZXIyREFycmF5U2hhZG93IHNoYWRvd1NhbXBsZXIsZmxvYXQgc2hhZG93TWFwU2l6ZUludmVyc2UsZmxvYXQgbGlnaHRTaXplVVYsZmxvYXQgZGFya25lc3MsZmxvYXQgZnJ1c3R1bUVkZ2VGYWxsb2ZmLHZlYzIgbGlnaHRTaXplVVZDb3JyZWN0aW9uLGZsb2F0IGRlcHRoQ29ycmVjdGlvbixmbG9hdCBwZW51bWJyYURhcmtuZXNzKQp7CnJldHVybiBjb21wdXRlU2hhZG93V2l0aENTTVBDU1MobGF5ZXIsdlBvc2l0aW9uRnJvbUxpZ2h0LGRlcHRoTWV0cmljLGRlcHRoU2FtcGxlcixzaGFkb3dTYW1wbGVyLHNoYWRvd01hcFNpemVJbnZlcnNlLGxpZ2h0U2l6ZVVWLGRhcmtuZXNzLGZydXN0dW1FZGdlRmFsbG9mZiwxNiwxNixQb2lzc29uU2FtcGxlcnMzMixsaWdodFNpemVVVkNvcnJlY3Rpb24sZGVwdGhDb3JyZWN0aW9uLHBlbnVtYnJhRGFya25lc3MpOwp9CiNkZWZpbmUgaW5saW5lCmZsb2F0IGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzMyKGZsb2F0IGxheWVyLHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0LGZsb2F0IGRlcHRoTWV0cmljLGhpZ2hwIHNhbXBsZXIyREFycmF5IGRlcHRoU2FtcGxlcixoaWdocCBzYW1wbGVyMkRBcnJheVNoYWRvdyBzaGFkb3dTYW1wbGVyLGZsb2F0IHNoYWRvd01hcFNpemVJbnZlcnNlLGZsb2F0IGxpZ2h0U2l6ZVVWLGZsb2F0IGRhcmtuZXNzLGZsb2F0IGZydXN0dW1FZGdlRmFsbG9mZix2ZWMyIGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixmbG9hdCBkZXB0aENvcnJlY3Rpb24sZmxvYXQgcGVudW1icmFEYXJrbmVzcykKewpyZXR1cm4gY29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTKGxheWVyLHZQb3NpdGlvbkZyb21MaWdodCxkZXB0aE1ldHJpYyxkZXB0aFNhbXBsZXIsc2hhZG93U2FtcGxlcixzaGFkb3dNYXBTaXplSW52ZXJzZSxsaWdodFNpemVVVixkYXJrbmVzcyxmcnVzdHVtRWRnZUZhbGxvZmYsMTYsMzIsUG9pc3NvblNhbXBsZXJzMzIsbGlnaHRTaXplVVZDb3JyZWN0aW9uLGRlcHRoQ29ycmVjdGlvbixwZW51bWJyYURhcmtuZXNzKTsKfQojZGVmaW5lIGlubGluZQpmbG9hdCBjb21wdXRlU2hhZG93V2l0aENTTVBDU1M2NChmbG9hdCBsYXllcix2ZWM0IHZQb3NpdGlvbkZyb21MaWdodCxmbG9hdCBkZXB0aE1ldHJpYyxoaWdocCBzYW1wbGVyMkRBcnJheSBkZXB0aFNhbXBsZXIsaGlnaHAgc2FtcGxlcjJEQXJyYXlTaGFkb3cgc2hhZG93U2FtcGxlcixmbG9hdCBzaGFkb3dNYXBTaXplSW52ZXJzZSxmbG9hdCBsaWdodFNpemVVVixmbG9hdCBkYXJrbmVzcyxmbG9hdCBmcnVzdHVtRWRnZUZhbGxvZmYsdmVjMiBsaWdodFNpemVVVkNvcnJlY3Rpb24sZmxvYXQgZGVwdGhDb3JyZWN0aW9uLGZsb2F0IHBlbnVtYnJhRGFya25lc3MpCnsKcmV0dXJuIGNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUyhsYXllcix2UG9zaXRpb25Gcm9tTGlnaHQsZGVwdGhNZXRyaWMsZGVwdGhTYW1wbGVyLHNoYWRvd1NhbXBsZXIsc2hhZG93TWFwU2l6ZUludmVyc2UsbGlnaHRTaXplVVYsZGFya25lc3MsZnJ1c3R1bUVkZ2VGYWxsb2ZmLDMyLDY0LFBvaXNzb25TYW1wbGVyczY0LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbixkZXB0aENvcnJlY3Rpb24scGVudW1icmFEYXJrbmVzcyk7Cn0KI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbmhdPWFoO2NvbnN0IG9oPSJzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbiIsaGg9YCNpZmRlZiBfREVGSU5FTkFNRV8KI2lmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT0xCiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWMQojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MgojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjIKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTMKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVYzCiNlbGlmIF9ERUZJTkVOQU1FX0RJUkVDVFVWPT00CiNkZWZpbmUgdl9WQVJZSU5HTkFNRV9VViB2TWFpblVWNAojZWxpZiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09NQojZGVmaW5lIHZfVkFSWUlOR05BTUVfVVYgdk1haW5VVjUKI2VsaWYgX0RFRklORU5BTUVfRElSRUNUVVY9PTYKI2RlZmluZSB2X1ZBUllJTkdOQU1FX1VWIHZNYWluVVY2CiNlbHNlCnZhcnlpbmcgdmVjMiB2X1ZBUllJTkdOQU1FX1VWOwojZW5kaWYKdW5pZm9ybSBzYW1wbGVyMkQgX1NBTVBMRVJOQU1FX1NhbXBsZXI7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbb2hdPWhoO2NvbnN0IGxoPSJmcmVzbmVsRnVuY3Rpb24iLGNoPWAjaWZkZWYgRlJFU05FTApmbG9hdCBjb21wdXRlRnJlc25lbFRlcm0odmVjMyB2aWV3RGlyZWN0aW9uLHZlYzMgd29ybGROb3JtYWwsZmxvYXQgYmlhcyxmbG9hdCBwb3dlcikKewpmbG9hdCBmcmVzbmVsVGVybT1wb3coYmlhcythYnMoZG90KHZpZXdEaXJlY3Rpb24sd29ybGROb3JtYWwpKSxwb3dlcik7CnJldHVybiBjbGFtcChmcmVzbmVsVGVybSwwLiwxLik7Cn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtsaF09Y2g7Y29uc3QgdWg9InJlZmxlY3Rpb25GdW5jdGlvbiIsZGg9YHZlYzMgY29tcHV0ZUZpeGVkRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGRpcmVjdGlvbikKewpmbG9hdCBsb249YXRhbihkaXJlY3Rpb24ueixkaXJlY3Rpb24ueCk7CmZsb2F0IGxhdD1hY29zKGRpcmVjdGlvbi55KTsKdmVjMiBzcGhlcmVDb29yZHM9dmVjMihsb24sbGF0KSpSRUNJUFJPQ0FMX1BJMioyLjA7CmZsb2F0IHM9c3BoZXJlQ29vcmRzLngqMC41KzAuNTsKZmxvYXQgdD1zcGhlcmVDb29yZHMueTsKcmV0dXJuIHZlYzMocyx0LDApOyAKfQp2ZWMzIGNvbXB1dGVNaXJyb3JlZEZpeGVkRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGRpcmVjdGlvbikKewpmbG9hdCBsb249YXRhbihkaXJlY3Rpb24ueixkaXJlY3Rpb24ueCk7CmZsb2F0IGxhdD1hY29zKGRpcmVjdGlvbi55KTsKdmVjMiBzcGhlcmVDb29yZHM9dmVjMihsb24sbGF0KSpSRUNJUFJPQ0FMX1BJMioyLjA7CmZsb2F0IHM9c3BoZXJlQ29vcmRzLngqMC41KzAuNTsKZmxvYXQgdD1zcGhlcmVDb29yZHMueTsKcmV0dXJuIHZlYzMoMS4wLXMsdCwwKTsgCn0KdmVjMyBjb21wdXRlRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCkKewp2ZWMzIGNhbWVyYVRvVmVydGV4PW5vcm1hbGl6ZSh3b3JsZFBvcy54eXotZXllUG9zaXRpb24pOwp2ZWMzIHI9bm9ybWFsaXplKHJlZmxlY3QoY2FtZXJhVG9WZXJ0ZXgsd29ybGROb3JtYWwpKTsKcj12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChyLDApKTsKZmxvYXQgbG9uPWF0YW4oci56LHIueCk7CmZsb2F0IGxhdD1hY29zKHIueSk7CnZlYzIgc3BoZXJlQ29vcmRzPXZlYzIobG9uLGxhdCkqUkVDSVBST0NBTF9QSTIqMi4wOwpmbG9hdCBzPXNwaGVyZUNvb3Jkcy54KjAuNSswLjU7CmZsb2F0IHQ9c3BoZXJlQ29vcmRzLnk7CnJldHVybiB2ZWMzKHMsdCwwKTsKfQp2ZWMzIGNvbXB1dGVTcGhlcmljYWxDb29yZHModmVjNCB3b3JsZFBvcyx2ZWMzIHdvcmxkTm9ybWFsLG1hdDQgdmlldyxtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyB2aWV3RGlyPW5vcm1hbGl6ZSh2ZWMzKHZpZXcqd29ybGRQb3MpKTsKdmVjMyB2aWV3Tm9ybWFsPW5vcm1hbGl6ZSh2ZWMzKHZpZXcqdmVjNCh3b3JsZE5vcm1hbCwwLjApKSk7CnZlYzMgcj1yZWZsZWN0KHZpZXdEaXIsdmlld05vcm1hbCk7CnI9dmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQociwwKSk7CnIuej1yLnotMS4wOwpmbG9hdCBtPTIuMCpsZW5ndGgocik7CnJldHVybiB2ZWMzKHIueC9tKzAuNSwxLjAtci55L20tMC41LDApOwp9CnZlYzMgY29tcHV0ZVBsYW5hckNvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBleWVQb3NpdGlvbixtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyB2aWV3RGlyPXdvcmxkUG9zLnh5ei1leWVQb3NpdGlvbjsKdmVjMyBjb29yZHM9bm9ybWFsaXplKHJlZmxlY3Qodmlld0Rpcix3b3JsZE5vcm1hbCkpOwpyZXR1cm4gdmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQoY29vcmRzLDEpKTsKfQp2ZWMzIGNvbXB1dGVDdWJpY0Nvb3Jkcyh2ZWM0IHdvcmxkUG9zLHZlYzMgd29ybGROb3JtYWwsdmVjMyBleWVQb3NpdGlvbixtYXQ0IHJlZmxlY3Rpb25NYXRyaXgpCnsKdmVjMyB2aWV3RGlyPW5vcm1hbGl6ZSh3b3JsZFBvcy54eXotZXllUG9zaXRpb24pOwp2ZWMzIGNvb3Jkcz1yZWZsZWN0KHZpZXdEaXIsd29ybGROb3JtYWwpOwpjb29yZHM9dmVjMyhyZWZsZWN0aW9uTWF0cml4KnZlYzQoY29vcmRzLDApKTsKI2lmZGVmIElOVkVSVENVQklDTUFQCmNvb3Jkcy55Kj0tMS4wOwojZW5kaWYKcmV0dXJuIGNvb3JkczsKfQp2ZWMzIGNvbXB1dGVDdWJpY0xvY2FsQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCx2ZWMzIGV5ZVBvc2l0aW9uLG1hdDQgcmVmbGVjdGlvbk1hdHJpeCx2ZWMzIHJlZmxlY3Rpb25TaXplLHZlYzMgcmVmbGVjdGlvblBvc2l0aW9uKQp7CnZlYzMgdmlld0Rpcj1ub3JtYWxpemUod29ybGRQb3MueHl6LWV5ZVBvc2l0aW9uKTsKdmVjMyBjb29yZHM9cmVmbGVjdCh2aWV3RGlyLHdvcmxkTm9ybWFsKTsKY29vcmRzPXBhcmFsbGF4Q29ycmVjdE5vcm1hbCh3b3JsZFBvcy54eXosY29vcmRzLHJlZmxlY3Rpb25TaXplLHJlZmxlY3Rpb25Qb3NpdGlvbik7CmNvb3Jkcz12ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChjb29yZHMsMCkpOwojaWZkZWYgSU5WRVJUQ1VCSUNNQVAKY29vcmRzLnkqPS0xLjA7CiNlbmRpZgpyZXR1cm4gY29vcmRzOwp9CnZlYzMgY29tcHV0ZVByb2plY3Rpb25Db29yZHModmVjNCB3b3JsZFBvcyxtYXQ0IHZpZXcsbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnJldHVybiB2ZWMzKHJlZmxlY3Rpb25NYXRyaXgqKHZpZXcqd29ybGRQb3MpKTsKfQp2ZWMzIGNvbXB1dGVTa3lCb3hDb29yZHModmVjMyBwb3NpdGlvblcsbWF0NCByZWZsZWN0aW9uTWF0cml4KQp7CnJldHVybiB2ZWMzKHJlZmxlY3Rpb25NYXRyaXgqdmVjNChwb3NpdGlvblcsMS4pKTsKfQojaWZkZWYgUkVGTEVDVElPTgp2ZWMzIGNvbXB1dGVSZWZsZWN0aW9uQ29vcmRzKHZlYzQgd29ybGRQb3MsdmVjMyB3b3JsZE5vcm1hbCkKewojaWZkZWYgUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRAp2ZWMzIGRpcmVjdGlvbj1ub3JtYWxpemUodkRpcmVjdGlvblcpOwpyZXR1cm4gY29tcHV0ZU1pcnJvcmVkRml4ZWRFcXVpcmVjdGFuZ3VsYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsZGlyZWN0aW9uKTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRAp2ZWMzIGRpcmVjdGlvbj1ub3JtYWxpemUodkRpcmVjdGlvblcpOwpyZXR1cm4gY29tcHV0ZUZpeGVkRXF1aXJlY3Rhbmd1bGFyQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLGRpcmVjdGlvbik7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIKcmV0dXJuIGNvbXB1dGVFcXVpcmVjdGFuZ3VsYXJDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NQSEVSSUNBTApyZXR1cm4gY29tcHV0ZVNwaGVyaWNhbENvb3Jkcyh3b3JsZFBvcyx3b3JsZE5vcm1hbCx2aWV3LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfUExBTkFSCnJldHVybiBjb21wdXRlUGxhbmFyQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZFeWVQb3NpdGlvbi54eXoscmVmbGVjdGlvbk1hdHJpeCk7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9DVUJJQwojaWZkZWYgVVNFX0xPQ0FMX1JFRkxFQ1RJT05NQVBfQ1VCSUMKcmV0dXJuIGNvbXB1dGVDdWJpY0xvY2FsQ29vcmRzKHdvcmxkUG9zLHdvcmxkTm9ybWFsLHZFeWVQb3NpdGlvbi54eXoscmVmbGVjdGlvbk1hdHJpeCx2UmVmbGVjdGlvblNpemUsdlJlZmxlY3Rpb25Qb3NpdGlvbik7CiNlbHNlCnJldHVybiBjb21wdXRlQ3ViaWNDb29yZHMod29ybGRQb3Msd29ybGROb3JtYWwsdkV5ZVBvc2l0aW9uLnh5eixyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OCnJldHVybiBjb21wdXRlUHJvamVjdGlvbkNvb3Jkcyh3b3JsZFBvcyx2aWV3LHJlZmxlY3Rpb25NYXRyaXgpOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfU0tZQk9YCnJldHVybiBjb21wdXRlU2t5Qm94Q29vcmRzKHZQb3NpdGlvblVWVyxyZWZsZWN0aW9uTWF0cml4KTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OTUFQX0VYUExJQ0lUCnJldHVybiB2ZWMzKDAsMCwwKTsKI2VuZGlmCn0KI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt1aF09ZGg7Y29uc3QgZmg9ImltYWdlUHJvY2Vzc2luZ0RlY2xhcmF0aW9uIixfaD1gI2lmZGVmIEVYUE9TVVJFCnVuaWZvcm0gZmxvYXQgZXhwb3N1cmVMaW5lYXI7CiNlbmRpZgojaWZkZWYgQ09OVFJBU1QKdW5pZm9ybSBmbG9hdCBjb250cmFzdDsKI2VuZGlmCiNpZiBkZWZpbmVkKFZJR05FVFRFKSB8fCBkZWZpbmVkKERJVEhFUikKdW5pZm9ybSB2ZWMyIHZJbnZlcnNlU2NyZWVuU2l6ZTsKI2VuZGlmCiNpZmRlZiBWSUdORVRURQp1bmlmb3JtIHZlYzQgdmlnbmV0dGVTZXR0aW5nczE7CnVuaWZvcm0gdmVjNCB2aWduZXR0ZVNldHRpbmdzMjsKI2VuZGlmCiNpZmRlZiBDT0xPUkNVUlZFUwp1bmlmb3JtIHZlYzQgdkNhbWVyYUNvbG9yQ3VydmVOZWdhdGl2ZTsKdW5pZm9ybSB2ZWM0IHZDYW1lcmFDb2xvckN1cnZlTmV1dHJhbDsKdW5pZm9ybSB2ZWM0IHZDYW1lcmFDb2xvckN1cnZlUG9zaXRpdmU7CiNlbmRpZgojaWZkZWYgQ09MT1JHUkFESU5HCiNpZmRlZiBDT0xPUkdSQURJTkczRAp1bmlmb3JtIGhpZ2hwIHNhbXBsZXIzRCB0eENvbG9yVHJhbnNmb3JtOwojZWxzZQp1bmlmb3JtIHNhbXBsZXIyRCB0eENvbG9yVHJhbnNmb3JtOwojZW5kaWYKdW5pZm9ybSB2ZWM0IGNvbG9yVHJhbnNmb3JtU2V0dGluZ3M7CiNlbmRpZgojaWZkZWYgRElUSEVSCnVuaWZvcm0gZmxvYXQgZGl0aGVySW50ZW5zaXR5OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2ZoXT1faDtjb25zdCBnaD0iaW1hZ2VQcm9jZXNzaW5nRnVuY3Rpb25zIixwaD1gI2lmIGRlZmluZWQoQ09MT1JHUkFESU5HKSAmJiAhZGVmaW5lZChDT0xPUkdSQURJTkczRCkKLyoqIAoqIFBvbHlmaWxsIGZvciBTQU1QTEVfVEVYVFVSRV8zRCx3aGljaCBpcyB1bnN1cHBvcnRlZCBpbiBXZWJHTC4KKiBzYW1wbGVyM2RTZXR0aW5nLng9dGV4dHVyZU9mZnNldCAoMC41L3RleHR1cmVTaXplKS4KKiBzYW1wbGVyM2RTZXR0aW5nLnk9dGV4dHVyZVNpemUuCiovCiNkZWZpbmUgaW5saW5lCnZlYzMgc2FtcGxlVGV4dHVyZTNEKHNhbXBsZXIyRCBjb2xvclRyYW5zZm9ybSx2ZWMzIGNvbG9yLHZlYzIgc2FtcGxlcjNkU2V0dGluZykKewpmbG9hdCBzbGljZVNpemU9Mi4wKnNhbXBsZXIzZFNldHRpbmcueDsgCiNpZmRlZiBTQU1QTEVSM0RHUkVFTkRFUFRICmZsb2F0IHNsaWNlQ29udGludW91cz0oY29sb3IuZy1zYW1wbGVyM2RTZXR0aW5nLngpKnNhbXBsZXIzZFNldHRpbmcueTsKI2Vsc2UKZmxvYXQgc2xpY2VDb250aW51b3VzPShjb2xvci5iLXNhbXBsZXIzZFNldHRpbmcueCkqc2FtcGxlcjNkU2V0dGluZy55OwojZW5kaWYKZmxvYXQgc2xpY2VJbnRlZ2VyPWZsb29yKHNsaWNlQ29udGludW91cyk7CmZsb2F0IHNsaWNlRnJhY3Rpb249c2xpY2VDb250aW51b3VzLXNsaWNlSW50ZWdlcjsKI2lmZGVmIFNBTVBMRVIzREdSRUVOREVQVEgKdmVjMiBzbGljZVVWPWNvbG9yLnJiOwojZWxzZQp2ZWMyIHNsaWNlVVY9Y29sb3Iucmc7CiNlbmRpZgpzbGljZVVWLngqPXNsaWNlU2l6ZTsKc2xpY2VVVi54Kz1zbGljZUludGVnZXIqc2xpY2VTaXplOwpzbGljZVVWPXNhdHVyYXRlKHNsaWNlVVYpOwp2ZWM0IHNsaWNlMENvbG9yPXRleHR1cmUyRChjb2xvclRyYW5zZm9ybSxzbGljZVVWKTsKc2xpY2VVVi54Kz1zbGljZVNpemU7CnNsaWNlVVY9c2F0dXJhdGUoc2xpY2VVVik7CnZlYzQgc2xpY2UxQ29sb3I9dGV4dHVyZTJEKGNvbG9yVHJhbnNmb3JtLHNsaWNlVVYpOwp2ZWMzIHJlc3VsdD1taXgoc2xpY2UwQ29sb3IucmdiLHNsaWNlMUNvbG9yLnJnYixzbGljZUZyYWN0aW9uKTsKI2lmZGVmIFNBTVBMRVIzREJHUk1BUApjb2xvci5yZ2I9cmVzdWx0LnJnYjsKI2Vsc2UKY29sb3IucmdiPXJlc3VsdC5iZ3I7CiNlbmRpZgpyZXR1cm4gY29sb3I7Cn0KI2VuZGlmCiNpZmRlZiBUT05FTUFQUElOR19BQ0VTCmNvbnN0IG1hdDMgQUNFU0lucHV0TWF0PW1hdDMoCnZlYzMoMC41OTcxOSwwLjA3NjAwLDAuMDI4NDApLAp2ZWMzKDAuMzU0NTgsMC45MDgzNCwwLjEzMzgzKSwKdmVjMygwLjA0ODIzLDAuMDE1NjYsMC44Mzc3NykKKTsKY29uc3QgbWF0MyBBQ0VTT3V0cHV0TWF0PW1hdDMoCnZlYzMoIDEuNjA0NzUsLTAuMTAyMDgsLTAuMDAzMjcpLAp2ZWMzKC0wLjUzMTA4LCAxLjEwODEzLC0wLjA3Mjc2KSwKdmVjMygtMC4wNzM2NywtMC4wMDYwNSwgMS4wNzYwMikKKTsKdmVjMyBSUlRBbmRPRFRGaXQodmVjMyB2KQp7CnZlYzMgYT12Kih2KzAuMDI0NTc4NiktMC4wMDAwOTA1Mzc7CnZlYzMgYj12KigwLjk4MzcyOSp2KzAuNDMyOTUxMCkrMC4yMzgwODE7CnJldHVybiBhL2I7Cn0KdmVjMyBBQ0VTRml0dGVkKHZlYzMgY29sb3IpCnsKY29sb3I9QUNFU0lucHV0TWF0KmNvbG9yOwpjb2xvcj1SUlRBbmRPRFRGaXQoY29sb3IpOwpjb2xvcj1BQ0VTT3V0cHV0TWF0KmNvbG9yOwpjb2xvcj1zYXR1cmF0ZShjb2xvcik7CnJldHVybiBjb2xvcjsKfQojZW5kaWYKI2RlZmluZSBDVVNUT01fSU1BR0VQUk9DRVNTSU5HRlVOQ1RJT05TX0RFRklOSVRJT05TCnZlYzQgYXBwbHlJbWFnZVByb2Nlc3NpbmcodmVjNCByZXN1bHQpIHsKI2RlZmluZSBDVVNUT01fSU1BR0VQUk9DRVNTSU5HRlVOQ1RJT05TX1VQREFURVJFU1VMVF9BVFNUQVJUCiNpZmRlZiBFWFBPU1VSRQpyZXN1bHQucmdiKj1leHBvc3VyZUxpbmVhcjsKI2VuZGlmCiNpZmRlZiBWSUdORVRURQp2ZWMyIHZpZXdwb3J0WFk9Z2xfRnJhZ0Nvb3JkLnh5KnZJbnZlcnNlU2NyZWVuU2l6ZTsKdmlld3BvcnRYWT12aWV3cG9ydFhZKjIuMC0xLjA7CnZlYzMgdmlnbmV0dGVYWTE9dmVjMyh2aWV3cG9ydFhZKnZpZ25ldHRlU2V0dGluZ3MxLnh5K3ZpZ25ldHRlU2V0dGluZ3MxLnp3LDEuMCk7CmZsb2F0IHZpZ25ldHRlVGVybT1kb3QodmlnbmV0dGVYWTEsdmlnbmV0dGVYWTEpOwpmbG9hdCB2aWduZXR0ZT1wb3codmlnbmV0dGVUZXJtLHZpZ25ldHRlU2V0dGluZ3MyLncpOwp2ZWMzIHZpZ25ldHRlQ29sb3I9dmlnbmV0dGVTZXR0aW5nczIucmdiOwojaWZkZWYgVklHTkVUVEVCTEVORE1PREVNVUxUSVBMWQp2ZWMzIHZpZ25ldHRlQ29sb3JNdWx0aXBsaWVyPW1peCh2aWduZXR0ZUNvbG9yLHZlYzMoMSwxLDEpLHZpZ25ldHRlKTsKcmVzdWx0LnJnYio9dmlnbmV0dGVDb2xvck11bHRpcGxpZXI7CiNlbmRpZgojaWZkZWYgVklHTkVUVEVCTEVORE1PREVPUEFRVUUKcmVzdWx0LnJnYj1taXgodmlnbmV0dGVDb2xvcixyZXN1bHQucmdiLHZpZ25ldHRlKTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgVE9ORU1BUFBJTkcKI2lmZGVmIFRPTkVNQVBQSU5HX0FDRVMKcmVzdWx0LnJnYj1BQ0VTRml0dGVkKHJlc3VsdC5yZ2IpOwojZWxzZQpjb25zdCBmbG9hdCB0b25lbWFwcGluZ0NhbGlicmF0aW9uPTEuNTkwNTc5OwpyZXN1bHQucmdiPTEuMC1leHAyKC10b25lbWFwcGluZ0NhbGlicmF0aW9uKnJlc3VsdC5yZ2IpOwojZW5kaWYKI2VuZGlmCnJlc3VsdC5yZ2I9dG9HYW1tYVNwYWNlKHJlc3VsdC5yZ2IpOwpyZXN1bHQucmdiPXNhdHVyYXRlKHJlc3VsdC5yZ2IpOwojaWZkZWYgQ09OVFJBU1QKdmVjMyByZXN1bHRIaWdoQ29udHJhc3Q9cmVzdWx0LnJnYipyZXN1bHQucmdiKigzLjAtMi4wKnJlc3VsdC5yZ2IpOwppZiAoY29udHJhc3Q8MS4wKSB7CnJlc3VsdC5yZ2I9bWl4KHZlYzMoMC41LDAuNSwwLjUpLHJlc3VsdC5yZ2IsY29udHJhc3QpOwp9IGVsc2UgewpyZXN1bHQucmdiPW1peChyZXN1bHQucmdiLHJlc3VsdEhpZ2hDb250cmFzdCxjb250cmFzdC0xLjApOwp9CiNlbmRpZgojaWZkZWYgQ09MT1JHUkFESU5HCnZlYzMgY29sb3JUcmFuc2Zvcm1JbnB1dD1yZXN1bHQucmdiKmNvbG9yVHJhbnNmb3JtU2V0dGluZ3MueHh4K2NvbG9yVHJhbnNmb3JtU2V0dGluZ3MueXl5OwojaWZkZWYgQ09MT1JHUkFESU5HM0QKdmVjMyBjb2xvclRyYW5zZm9ybU91dHB1dD10ZXh0dXJlKHR4Q29sb3JUcmFuc2Zvcm0sY29sb3JUcmFuc2Zvcm1JbnB1dCkucmdiOwojZWxzZQp2ZWMzIGNvbG9yVHJhbnNmb3JtT3V0cHV0PXNhbXBsZVRleHR1cmUzRCh0eENvbG9yVHJhbnNmb3JtLGNvbG9yVHJhbnNmb3JtSW5wdXQsY29sb3JUcmFuc2Zvcm1TZXR0aW5ncy55eikucmdiOwojZW5kaWYKcmVzdWx0LnJnYj1taXgocmVzdWx0LnJnYixjb2xvclRyYW5zZm9ybU91dHB1dCxjb2xvclRyYW5zZm9ybVNldHRpbmdzLnd3dyk7CiNlbmRpZgojaWZkZWYgQ09MT1JDVVJWRVMKZmxvYXQgbHVtYT1nZXRMdW1pbmFuY2UocmVzdWx0LnJnYik7CnZlYzIgY3VydmVNaXg9Y2xhbXAodmVjMihsdW1hKjMuMC0xLjUsbHVtYSotMy4wKzEuNSksdmVjMigwLjApLHZlYzIoMS4wKSk7CnZlYzQgY29sb3JDdXJ2ZT12Q2FtZXJhQ29sb3JDdXJ2ZU5ldXRyYWwrY3VydmVNaXgueCp2Q2FtZXJhQ29sb3JDdXJ2ZVBvc2l0aXZlLWN1cnZlTWl4LnkqdkNhbWVyYUNvbG9yQ3VydmVOZWdhdGl2ZTsKcmVzdWx0LnJnYio9Y29sb3JDdXJ2ZS5yZ2I7CnJlc3VsdC5yZ2I9bWl4KHZlYzMobHVtYSkscmVzdWx0LnJnYixjb2xvckN1cnZlLmEpOwojZW5kaWYKI2lmZGVmIERJVEhFUgpmbG9hdCByYW5kPWdldFJhbmQoZ2xfRnJhZ0Nvb3JkLnh5KnZJbnZlcnNlU2NyZWVuU2l6ZSk7CmZsb2F0IGRpdGhlcj1taXgoLWRpdGhlckludGVuc2l0eSxkaXRoZXJJbnRlbnNpdHkscmFuZCk7CnJlc3VsdC5yZ2I9c2F0dXJhdGUocmVzdWx0LnJnYit2ZWMzKGRpdGhlcikpOwojZW5kaWYKI2RlZmluZSBDVVNUT01fSU1BR0VQUk9DRVNTSU5HRlVOQ1RJT05TX1VQREFURVJFU1VMVF9BVEVORApyZXR1cm4gcmVzdWx0Owp9YDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2doXT1waDtjb25zdCBtaD0iYnVtcEZyYWdtZW50TWFpbkZ1bmN0aW9ucyIsdmg9YCNpZiBkZWZpbmVkKEJVTVApIHx8IGRlZmluZWQoQ0xFQVJDT0FUX0JVTVApIHx8IGRlZmluZWQoQU5JU09UUk9QSUMpIHx8IGRlZmluZWQoREVUQUlMKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkgCnZhcnlpbmcgbWF0MyB2VEJOOwojZW5kaWYKI2lmZGVmIE9CSkVDVFNQQUNFX05PUk1BTE1BUAp1bmlmb3JtIG1hdDQgbm9ybWFsTWF0cml4OwojaWYgZGVmaW5lZChXRUJHTDIpIHx8IGRlZmluZWQoV0VCR1BVKQptYXQ0IHRvTm9ybWFsTWF0cml4KG1hdDQgd01hdHJpeCkKewptYXQ0IHJldD1pbnZlcnNlKHdNYXRyaXgpOwpyZXQ9dHJhbnNwb3NlKHJldCk7CnJldFswXVszXT0wLjsKcmV0WzFdWzNdPTAuOwpyZXRbMl1bM109MC47CnJldFszXT12ZWM0KDAuLDAuLDAuLDEuKTsKcmV0dXJuIHJldDsKfQojZWxzZQptYXQ0IHRvTm9ybWFsTWF0cml4KG1hdDQgbSkKewpmbG9hdAphMDA9bVswXVswXSxhMDE9bVswXVsxXSxhMDI9bVswXVsyXSxhMDM9bVswXVszXSwKYTEwPW1bMV1bMF0sYTExPW1bMV1bMV0sYTEyPW1bMV1bMl0sYTEzPW1bMV1bM10sCmEyMD1tWzJdWzBdLGEyMT1tWzJdWzFdLGEyMj1tWzJdWzJdLGEyMz1tWzJdWzNdLAphMzA9bVszXVswXSxhMzE9bVszXVsxXSxhMzI9bVszXVsyXSxhMzM9bVszXVszXSwKYjAwPWEwMCphMTEtYTAxKmExMCwKYjAxPWEwMCphMTItYTAyKmExMCwKYjAyPWEwMCphMTMtYTAzKmExMCwKYjAzPWEwMSphMTItYTAyKmExMSwKYjA0PWEwMSphMTMtYTAzKmExMSwKYjA1PWEwMiphMTMtYTAzKmExMiwKYjA2PWEyMCphMzEtYTIxKmEzMCwKYjA3PWEyMCphMzItYTIyKmEzMCwKYjA4PWEyMCphMzMtYTIzKmEzMCwKYjA5PWEyMSphMzItYTIyKmEzMSwKYjEwPWEyMSphMzMtYTIzKmEzMSwKYjExPWEyMiphMzMtYTIzKmEzMiwKZGV0PWIwMCpiMTEtYjAxKmIxMCtiMDIqYjA5K2IwMypiMDgtYjA0KmIwNytiMDUqYjA2OwptYXQ0IG1pPW1hdDQoCmExMSpiMTEtYTEyKmIxMCthMTMqYjA5LAphMDIqYjEwLWEwMSpiMTEtYTAzKmIwOSwKYTMxKmIwNS1hMzIqYjA0K2EzMypiMDMsCmEyMipiMDQtYTIxKmIwNS1hMjMqYjAzLAphMTIqYjA4LWExMCpiMTEtYTEzKmIwNywKYTAwKmIxMS1hMDIqYjA4K2EwMypiMDcsCmEzMipiMDItYTMwKmIwNS1hMzMqYjAxLAphMjAqYjA1LWEyMipiMDIrYTIzKmIwMSwKYTEwKmIxMC1hMTEqYjA4K2ExMypiMDYsCmEwMSpiMDgtYTAwKmIxMC1hMDMqYjA2LAphMzAqYjA0LWEzMSpiMDIrYTMzKmIwMCwKYTIxKmIwMi1hMjAqYjA0LWEyMypiMDAsCmExMSpiMDctYTEwKmIwOS1hMTIqYjA2LAphMDAqYjA5LWEwMSpiMDcrYTAyKmIwNiwKYTMxKmIwMS1hMzAqYjAzLWEzMipiMDAsCmEyMCpiMDMtYTIxKmIwMSthMjIqYjAwKS9kZXQ7CnJldHVybiBtYXQ0KG1pWzBdWzBdLG1pWzFdWzBdLG1pWzJdWzBdLG1pWzNdWzBdLAptaVswXVsxXSxtaVsxXVsxXSxtaVsyXVsxXSxtaVszXVsxXSwKbWlbMF1bMl0sbWlbMV1bMl0sbWlbMl1bMl0sbWlbM11bMl0sCm1pWzBdWzNdLG1pWzFdWzNdLG1pWzJdWzNdLG1pWzNdWzNdKTsKfQojZW5kaWYKI2VuZGlmCnZlYzMgcGVydHVyYk5vcm1hbEJhc2UobWF0MyBjb3RhbmdlbnRGcmFtZSx2ZWMzIG5vcm1hbCxmbG9hdCBzY2FsZSkKewojaWZkZWYgTk9STUFMWFlTQ0FMRQpub3JtYWw9bm9ybWFsaXplKG5vcm1hbCp2ZWMzKHNjYWxlLHNjYWxlLDEuMCkpOwojZW5kaWYKcmV0dXJuIG5vcm1hbGl6ZShjb3RhbmdlbnRGcmFtZSpub3JtYWwpOwp9CnZlYzMgcGVydHVyYk5vcm1hbChtYXQzIGNvdGFuZ2VudEZyYW1lLHZlYzMgdGV4dHVyZVNhbXBsZSxmbG9hdCBzY2FsZSkKewpyZXR1cm4gcGVydHVyYk5vcm1hbEJhc2UoY290YW5nZW50RnJhbWUsdGV4dHVyZVNhbXBsZSoyLjAtMS4wLHNjYWxlKTsKfQptYXQzIGNvdGFuZ2VudF9mcmFtZSh2ZWMzIG5vcm1hbCx2ZWMzIHAsdmVjMiB1dix2ZWMyIHRhbmdlbnRTcGFjZVBhcmFtcykKewp2ZWMzIGRwMT1kRmR4KHApOwp2ZWMzIGRwMj1kRmR5KHApOwp2ZWMyIGR1djE9ZEZkeCh1dik7CnZlYzIgZHV2Mj1kRmR5KHV2KTsKdmVjMyBkcDJwZXJwPWNyb3NzKGRwMixub3JtYWwpOwp2ZWMzIGRwMXBlcnA9Y3Jvc3Mobm9ybWFsLGRwMSk7CnZlYzMgdGFuZ2VudD1kcDJwZXJwKmR1djEueCtkcDFwZXJwKmR1djIueDsKdmVjMyBiaXRhbmdlbnQ9ZHAycGVycCpkdXYxLnkrZHAxcGVycCpkdXYyLnk7CnRhbmdlbnQqPXRhbmdlbnRTcGFjZVBhcmFtcy54OwpiaXRhbmdlbnQqPXRhbmdlbnRTcGFjZVBhcmFtcy55OwpmbG9hdCBkZXQ9bWF4KGRvdCh0YW5nZW50LHRhbmdlbnQpLGRvdChiaXRhbmdlbnQsYml0YW5nZW50KSk7CmZsb2F0IGludm1heD1kZXQ9PTAuMCA/IDAuMCA6IGludmVyc2VzcXJ0KGRldCk7CnJldHVybiBtYXQzKHRhbmdlbnQqaW52bWF4LGJpdGFuZ2VudCppbnZtYXgsbm9ybWFsKTsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW21oXT12aDtjb25zdCBFaD0iYnVtcEZyYWdtZW50RnVuY3Rpb25zIixUaD1gI2lmIGRlZmluZWQoQlVNUCkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxCVU1QLF9WQVJZSU5HTkFNRV8sQnVtcCxfU0FNUExFUk5BTUVfLGJ1bXApCiNlbmRpZgojaWYgZGVmaW5lZChERVRBSUwpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sREVUQUlMLF9WQVJZSU5HTkFNRV8sRGV0YWlsLF9TQU1QTEVSTkFNRV8sZGV0YWlsKQojZW5kaWYKI2lmIGRlZmluZWQoQlVNUCkgJiYgZGVmaW5lZChQQVJBTExBWCkKY29uc3QgZmxvYXQgbWluU2FtcGxlcz00LjsKY29uc3QgZmxvYXQgbWF4U2FtcGxlcz0xNS47CmNvbnN0IGludCBpTWF4U2FtcGxlcz0xNTsKdmVjMiBwYXJhbGxheE9jY2x1c2lvbih2ZWMzIHZWaWV3RGlyQ29ULHZlYzMgdk5vcm1hbENvVCx2ZWMyIHRleENvb3JkLGZsb2F0IHBhcmFsbGF4U2NhbGUpIHsKZmxvYXQgcGFyYWxsYXhMaW1pdD1sZW5ndGgodlZpZXdEaXJDb1QueHkpL3ZWaWV3RGlyQ29ULno7CnBhcmFsbGF4TGltaXQqPXBhcmFsbGF4U2NhbGU7CnZlYzIgdk9mZnNldERpcj1ub3JtYWxpemUodlZpZXdEaXJDb1QueHkpOwp2ZWMyIHZNYXhPZmZzZXQ9dk9mZnNldERpcipwYXJhbGxheExpbWl0OwpmbG9hdCBudW1TYW1wbGVzPW1heFNhbXBsZXMrKGRvdCh2Vmlld0RpckNvVCx2Tm9ybWFsQ29UKSoobWluU2FtcGxlcy1tYXhTYW1wbGVzKSk7CmZsb2F0IHN0ZXBTaXplPTEuMC9udW1TYW1wbGVzOwpmbG9hdCBjdXJyUmF5SGVpZ2h0PTEuMDsKdmVjMiB2Q3Vyck9mZnNldD12ZWMyKDAsMCk7CnZlYzIgdkxhc3RPZmZzZXQ9dmVjMigwLDApOwpmbG9hdCBsYXN0U2FtcGxlZEhlaWdodD0xLjA7CmZsb2F0IGN1cnJTYW1wbGVkSGVpZ2h0PTEuMDsKYm9vbCBrZWVwV29ya2luZz10cnVlOwpmb3IgKGludCBpPTA7IGk8aU1heFNhbXBsZXM7IGkrKykKewpjdXJyU2FtcGxlZEhlaWdodD10ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdGV4Q29vcmQrdkN1cnJPZmZzZXQpLnc7CmlmICgha2VlcFdvcmtpbmcpCnsKfQplbHNlIGlmIChjdXJyU2FtcGxlZEhlaWdodD5jdXJyUmF5SGVpZ2h0KQp7CmZsb2F0IGRlbHRhMT1jdXJyU2FtcGxlZEhlaWdodC1jdXJyUmF5SGVpZ2h0OwpmbG9hdCBkZWx0YTI9KGN1cnJSYXlIZWlnaHQrc3RlcFNpemUpLWxhc3RTYW1wbGVkSGVpZ2h0OwpmbG9hdCByYXRpbz1kZWx0YTEvKGRlbHRhMStkZWx0YTIpOwp2Q3Vyck9mZnNldD0ocmF0aW8pKiB2TGFzdE9mZnNldCsoMS4wLXJhdGlvKSp2Q3Vyck9mZnNldDsKa2VlcFdvcmtpbmc9ZmFsc2U7Cn0KZWxzZQp7CmN1cnJSYXlIZWlnaHQtPXN0ZXBTaXplOwp2TGFzdE9mZnNldD12Q3Vyck9mZnNldDsKdkN1cnJPZmZzZXQrPXN0ZXBTaXplKnZNYXhPZmZzZXQ7Cmxhc3RTYW1wbGVkSGVpZ2h0PWN1cnJTYW1wbGVkSGVpZ2h0Owp9Cn0KcmV0dXJuIHZDdXJyT2Zmc2V0Owp9CnZlYzIgcGFyYWxsYXhPZmZzZXQodmVjMyB2aWV3RGlyLGZsb2F0IGhlaWdodFNjYWxlKQp7CmZsb2F0IGhlaWdodD10ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVikudzsKdmVjMiB0ZXhDb29yZE9mZnNldD1oZWlnaHRTY2FsZSp2aWV3RGlyLnh5KmhlaWdodDsKcmV0dXJuIC10ZXhDb29yZE9mZnNldDsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0VoXT1UaDtjb25zdCBiaD0ibG9nRGVwdGhEZWNsYXJhdGlvbiIsU2g9YCNpZmRlZiBMT0dBUklUSE1JQ0RFUFRICnVuaWZvcm0gZmxvYXQgbG9nYXJpdGhtaWNEZXB0aENvbnN0YW50Owp2YXJ5aW5nIGZsb2F0IHZGcmFnbWVudERlcHRoOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW2JoXT1TaDtjb25zdCB4aD0iZm9nRnJhZ21lbnREZWNsYXJhdGlvbiIsTWg9YCNpZmRlZiBGT0cKI2RlZmluZSBGT0dNT0RFX05PTkUgMC4KI2RlZmluZSBGT0dNT0RFX0VYUCAxLgojZGVmaW5lIEZPR01PREVfRVhQMiAyLgojZGVmaW5lIEZPR01PREVfTElORUFSIDMuCiNkZWZpbmUgRSAyLjcxODI4CnVuaWZvcm0gdmVjNCB2Rm9nSW5mb3M7CnVuaWZvcm0gdmVjMyB2Rm9nQ29sb3I7CnZhcnlpbmcgdmVjMyB2Rm9nRGlzdGFuY2U7CmZsb2F0IENhbGNGb2dGYWN0b3IoKQp7CmZsb2F0IGZvZ0NvZWZmPTEuMDsKZmxvYXQgZm9nU3RhcnQ9dkZvZ0luZm9zLnk7CmZsb2F0IGZvZ0VuZD12Rm9nSW5mb3MuejsKZmxvYXQgZm9nRGVuc2l0eT12Rm9nSW5mb3MudzsKZmxvYXQgZm9nRGlzdGFuY2U9bGVuZ3RoKHZGb2dEaXN0YW5jZSk7CmlmIChGT0dNT0RFX0xJTkVBUj09dkZvZ0luZm9zLngpCnsKZm9nQ29lZmY9KGZvZ0VuZC1mb2dEaXN0YW5jZSkvKGZvZ0VuZC1mb2dTdGFydCk7Cn0KZWxzZSBpZiAoRk9HTU9ERV9FWFA9PXZGb2dJbmZvcy54KQp7CmZvZ0NvZWZmPTEuMC9wb3coRSxmb2dEaXN0YW5jZSpmb2dEZW5zaXR5KTsKfQplbHNlIGlmIChGT0dNT0RFX0VYUDI9PXZGb2dJbmZvcy54KQp7CmZvZ0NvZWZmPTEuMC9wb3coRSxmb2dEaXN0YW5jZSpmb2dEaXN0YW5jZSpmb2dEZW5zaXR5KmZvZ0RlbnNpdHkpOwp9CnJldHVybiBjbGFtcChmb2dDb2VmZiwwLjAsMS4wKTsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3hoXT1NaDtjb25zdCBBaD0iYnVtcEZyYWdtZW50IixSaD1gdmVjMiB1dk9mZnNldD12ZWMyKDAuMCwwLjApOwojaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKFBBUkFMTEFYKSB8fCBkZWZpbmVkKERFVEFJTCkKI2lmZGVmIE5PUk1BTFhZU0NBTEUKZmxvYXQgbm9ybWFsU2NhbGU9MS4wOwojZWxpZiBkZWZpbmVkKEJVTVApCmZsb2F0IG5vcm1hbFNjYWxlPXZCdW1wSW5mb3MueTsKI2Vsc2UKZmxvYXQgbm9ybWFsU2NhbGU9MS4wOwojZW5kaWYKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpCm1hdDMgVEJOPXZUQk47CiNlbGlmIGRlZmluZWQoQlVNUCkKdmVjMiBUQk5VVj1nbF9Gcm9udEZhY2luZyA/IHZCdW1wVVYgOiAtdkJ1bXBVVjsKbWF0MyBUQk49Y290YW5nZW50X2ZyYW1lKG5vcm1hbFcqbm9ybWFsU2NhbGUsdlBvc2l0aW9uVyxUQk5VVix2VGFuZ2VudFNwYWNlUGFyYW1zKTsKI2Vsc2UKdmVjMiBUQk5VVj1nbF9Gcm9udEZhY2luZyA/IHZEZXRhaWxVViA6IC12RGV0YWlsVVY7Cm1hdDMgVEJOPWNvdGFuZ2VudF9mcmFtZShub3JtYWxXKm5vcm1hbFNjYWxlLHZQb3NpdGlvblcsVEJOVVYsdmVjMigxLiwxLikpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChBTklTT1RST1BJQykKI2lmIGRlZmluZWQoVEFOR0VOVCkgJiYgZGVmaW5lZChOT1JNQUwpCm1hdDMgVEJOPXZUQk47CiNlbHNlCnZlYzIgVEJOVVY9Z2xfRnJvbnRGYWNpbmcgPyB2TWFpblVWMSA6IC12TWFpblVWMTsKbWF0MyBUQk49Y290YW5nZW50X2ZyYW1lKG5vcm1hbFcsdlBvc2l0aW9uVyxUQk5VVix2ZWMyKDEuLDEuKSk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFBBUkFMTEFYCm1hdDMgaW52VEJOPXRyYW5zcG9zZU1hdDMoVEJOKTsKI2lmZGVmIFBBUkFMTEFYT0NDTFVTSU9OCnV2T2Zmc2V0PXBhcmFsbGF4T2NjbHVzaW9uKGludlRCTiotdmlld0RpcmVjdGlvblcsaW52VEJOKm5vcm1hbFcsdkJ1bXBVVix2QnVtcEluZm9zLnopOwojZWxzZQp1dk9mZnNldD1wYXJhbGxheE9mZnNldChpbnZUQk4qdmlld0RpcmVjdGlvblcsdkJ1bXBJbmZvcy56KTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgREVUQUlMCnZlYzQgZGV0YWlsQ29sb3I9dGV4dHVyZTJEKGRldGFpbFNhbXBsZXIsdkRldGFpbFVWK3V2T2Zmc2V0KTsKdmVjMiBkZXRhaWxOb3JtYWxSRz1kZXRhaWxDb2xvci53eSoyLjAtMS4wOwpmbG9hdCBkZXRhaWxOb3JtYWxCPXNxcnQoMS4tc2F0dXJhdGUoZG90KGRldGFpbE5vcm1hbFJHLGRldGFpbE5vcm1hbFJHKSkpOwp2ZWMzIGRldGFpbE5vcm1hbD12ZWMzKGRldGFpbE5vcm1hbFJHLGRldGFpbE5vcm1hbEIpOwojZW5kaWYKI2lmZGVmIEJVTVAKI2lmZGVmIE9CSkVDVFNQQUNFX05PUk1BTE1BUAojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CVU1QX0ZSQUdNRU5UCm5vcm1hbFc9bm9ybWFsaXplKHRleHR1cmUyRChidW1wU2FtcGxlcix2QnVtcFVWKS54eXogKjIuMC0xLjApOwpub3JtYWxXPW5vcm1hbGl6ZShtYXQzKG5vcm1hbE1hdHJpeCkqbm9ybWFsVyk7CiNlbGlmICFkZWZpbmVkKERFVEFJTCkKbm9ybWFsVz1wZXJ0dXJiTm9ybWFsKFRCTix0ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVit1dk9mZnNldCkueHl6LHZCdW1wSW5mb3MueSk7CiNlbHNlCnZlYzMgYnVtcE5vcm1hbD10ZXh0dXJlMkQoYnVtcFNhbXBsZXIsdkJ1bXBVVit1dk9mZnNldCkueHl6KjIuMC0xLjA7CiNpZiBERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9PTAgCmRldGFpbE5vcm1hbC54eSo9dkRldGFpbEluZm9zLno7CnZlYzMgYmxlbmRlZE5vcm1hbD1ub3JtYWxpemUodmVjMyhidW1wTm9ybWFsLnh5K2RldGFpbE5vcm1hbC54eSxidW1wTm9ybWFsLnoqZGV0YWlsTm9ybWFsLnopKTsKI2VsaWYgREVUQUlMX05PUk1BTEJMRU5ETUVUSE9EPT0xIApkZXRhaWxOb3JtYWwueHkqPXZEZXRhaWxJbmZvcy56OwpidW1wTm9ybWFsKz12ZWMzKDAuMCwwLjAsMS4wKTsKZGV0YWlsTm9ybWFsKj12ZWMzKC0xLjAsLTEuMCwxLjApOwp2ZWMzIGJsZW5kZWROb3JtYWw9YnVtcE5vcm1hbCpkb3QoYnVtcE5vcm1hbCxkZXRhaWxOb3JtYWwpL2J1bXBOb3JtYWwuei1kZXRhaWxOb3JtYWw7CiNlbmRpZgpub3JtYWxXPXBlcnR1cmJOb3JtYWxCYXNlKFRCTixibGVuZGVkTm9ybWFsLHZCdW1wSW5mb3MueSk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKERFVEFJTCkKZGV0YWlsTm9ybWFsLnh5Kj12RGV0YWlsSW5mb3MuejsKbm9ybWFsVz1wZXJ0dXJiTm9ybWFsQmFzZShUQk4sZGV0YWlsTm9ybWFsLHZEZXRhaWxJbmZvcy56KTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtBaF09Umg7Y29uc3QgeWg9ImRlY2FsRnJhZ21lbnQiLENoPWAjaWZkZWYgREVDQUwKI2lmZGVmIEdBTU1BREVDQUwKZGVjYWxDb2xvci5yZ2I9dG9MaW5lYXJTcGFjZShkZWNhbENvbG9yLnJnYik7CiNlbmRpZgojaWZkZWYgREVDQUxfU01PT1RIQUxQSEEKZGVjYWxDb2xvci5hKj1kZWNhbENvbG9yLmE7CiNlbmRpZgpzdXJmYWNlQWxiZWRvLnJnYj1taXgoc3VyZmFjZUFsYmVkby5yZ2IsZGVjYWxDb2xvci5yZ2IsZGVjYWxDb2xvci5hKTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt5aF09Q2g7Y29uc3QgSWg9ImRlcHRoUHJlUGFzcyIsUGg9YCNpZmRlZiBERVBUSFBSRVBBU1MKZ2xfRnJhZ0NvbG9yPXZlYzQoMC4sMC4sMC4sMS4wKTsKcmV0dXJuOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0loXT1QaDtjb25zdCBEaD0ibGlnaHRGcmFnbWVudCIsRmg9YCNpZmRlZiBMSUdIVHtYfQojaWYgZGVmaW5lZChTSEFET1dPTkxZKSB8fCBkZWZpbmVkKExJR0hUTUFQKSAmJiBkZWZpbmVkKExJR0hUTUFQRVhDTFVERUR7WH0pICYmIGRlZmluZWQoTElHSFRNQVBOT1NQRUNVTEFSe1h9KQojZWxzZQojaWZkZWYgUEJSCiNpZmRlZiBTUE9UTElHSFR7WH0KcHJlSW5mbz1jb21wdXRlUG9pbnRBbmRTcG90UHJlTGlnaHRpbmdJbmZvKGxpZ2h0e1h9LnZMaWdodERhdGEsdmlld0RpcmVjdGlvblcsbm9ybWFsVyk7CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKcHJlSW5mbz1jb21wdXRlUG9pbnRBbmRTcG90UHJlTGlnaHRpbmdJbmZvKGxpZ2h0e1h9LnZMaWdodERhdGEsdmlld0RpcmVjdGlvblcsbm9ybWFsVyk7CiNlbGlmIGRlZmluZWQoSEVNSUxJR0hUe1h9KQpwcmVJbmZvPWNvbXB1dGVIZW1pc3BoZXJpY1ByZUxpZ2h0aW5nSW5mbyhsaWdodHtYfS52TGlnaHREYXRhLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcpOwojZWxpZiBkZWZpbmVkKERJUkxJR0hUe1h9KQpwcmVJbmZvPWNvbXB1dGVEaXJlY3Rpb25hbFByZUxpZ2h0aW5nSW5mbyhsaWdodHtYfS52TGlnaHREYXRhLHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcpOwojZW5kaWYKcHJlSW5mby5OZG90Vj1OZG90VjsKI2lmZGVmIFNQT1RMSUdIVHtYfQojaWZkZWYgTElHSFRfRkFMTE9GRl9HTFRGe1h9CnByZUluZm8uYXR0ZW51YXRpb249Y29tcHV0ZURpc3RhbmNlTGlnaHRGYWxsb2ZmX0dMVEYocHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnkpOwpwcmVJbmZvLmF0dGVudWF0aW9uKj1jb21wdXRlRGlyZWN0aW9uYWxMaWdodEZhbGxvZmZfR0xURihsaWdodHtYfS52TGlnaHREaXJlY3Rpb24ueHl6LHByZUluZm8uTCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLnosbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi53KTsKI2VsaWYgZGVmaW5lZChMSUdIVF9GQUxMT0ZGX1BIWVNJQ0FMe1h9KQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9QaHlzaWNhbChwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkKTsKcHJlSW5mby5hdHRlbnVhdGlvbio9Y29tcHV0ZURpcmVjdGlvbmFsTGlnaHRGYWxsb2ZmX1BoeXNpY2FsKGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi54eXoscHJlSW5mby5MLGxpZ2h0e1h9LnZMaWdodERpcmVjdGlvbi53KTsKI2VsaWYgZGVmaW5lZChMSUdIVF9GQUxMT0ZGX1NUQU5EQVJEe1h9KQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZl9TdGFuZGFyZChwcmVJbmZvLmxpZ2h0T2Zmc2V0LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueCk7CnByZUluZm8uYXR0ZW51YXRpb24qPWNvbXB1dGVEaXJlY3Rpb25hbExpZ2h0RmFsbG9mZl9TdGFuZGFyZChsaWdodHtYfS52TGlnaHREaXJlY3Rpb24ueHl6LHByZUluZm8uTCxsaWdodHtYfS52TGlnaHREaXJlY3Rpb24udyxsaWdodHtYfS52TGlnaHREYXRhLncpOwojZWxzZQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZihwcmVJbmZvLmxpZ2h0T2Zmc2V0LHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi54LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueSk7CnByZUluZm8uYXR0ZW51YXRpb24qPWNvbXB1dGVEaXJlY3Rpb25hbExpZ2h0RmFsbG9mZihsaWdodHtYfS52TGlnaHREaXJlY3Rpb24ueHl6LHByZUluZm8uTCxsaWdodHtYfS52TGlnaHREaXJlY3Rpb24udyxsaWdodHtYfS52TGlnaHREYXRhLncsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi56LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYudyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCiNpZmRlZiBMSUdIVF9GQUxMT0ZGX0dMVEZ7WH0KcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfR0xURihwcmVJbmZvLmxpZ2h0RGlzdGFuY2VTcXVhcmVkLGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueSk7CiNlbGlmIGRlZmluZWQoTElHSFRfRkFMTE9GRl9QSFlTSUNBTHtYfSkKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfUGh5c2ljYWwocHJlSW5mby5saWdodERpc3RhbmNlU3F1YXJlZCk7CiNlbGlmIGRlZmluZWQoTElHSFRfRkFMTE9GRl9TVEFOREFSRHtYfSkKcHJlSW5mby5hdHRlbnVhdGlvbj1jb21wdXRlRGlzdGFuY2VMaWdodEZhbGxvZmZfU3RhbmRhcmQocHJlSW5mby5saWdodE9mZnNldCxsaWdodHtYfS52TGlnaHRGYWxsb2ZmLngpOwojZWxzZQpwcmVJbmZvLmF0dGVudWF0aW9uPWNvbXB1dGVEaXN0YW5jZUxpZ2h0RmFsbG9mZihwcmVJbmZvLmxpZ2h0T2Zmc2V0LHByZUluZm8ubGlnaHREaXN0YW5jZVNxdWFyZWQsbGlnaHR7WH0udkxpZ2h0RmFsbG9mZi54LGxpZ2h0e1h9LnZMaWdodEZhbGxvZmYueSk7CiNlbmRpZgojZWxzZQpwcmVJbmZvLmF0dGVudWF0aW9uPTEuMDsKI2VuZGlmCiNpZmRlZiBIRU1JTElHSFR7WH0KcHJlSW5mby5yb3VnaG5lc3M9cm91Z2huZXNzOwojZWxzZQpwcmVJbmZvLnJvdWdobmVzcz1hZGp1c3RSb3VnaG5lc3NGcm9tTGlnaHRQcm9wZXJ0aWVzKHJvdWdobmVzcyxsaWdodHtYfS52TGlnaHRTcGVjdWxhci5hLHByZUluZm8ubGlnaHREaXN0YW5jZSk7CiNlbmRpZgojaWZkZWYgSVJJREVTQ0VOQ0UKcHJlSW5mby5pcmlkZXNjZW5jZUludGVuc2l0eT1pcmlkZXNjZW5jZUludGVuc2l0eTsKI2VuZGlmCiNpZmRlZiBIRU1JTElHSFR7WH0KaW5mby5kaWZmdXNlPWNvbXB1dGVIZW1pc3BoZXJpY0RpZmZ1c2VMaWdodGluZyhwcmVJbmZvLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLGxpZ2h0e1h9LnZMaWdodEdyb3VuZCk7CiNlbGlmIGRlZmluZWQoU1NfVFJBTlNMVUNFTkNZKQppbmZvLmRpZmZ1c2U9Y29tcHV0ZURpZmZ1c2VBbmRUcmFuc21pdHRlZExpZ2h0aW5nKHByZUluZm8sbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2Isc3ViU3VyZmFjZU91dC50cmFuc21pdHRhbmNlKTsKI2Vsc2UKaW5mby5kaWZmdXNlPWNvbXB1dGVEaWZmdXNlTGlnaHRpbmcocHJlSW5mbyxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNlbmRpZgojaWZkZWYgU1BFQ1VMQVJURVJNCiNpZmRlZiBBTklTT1RST1BJQwppbmZvLnNwZWN1bGFyPWNvbXB1dGVBbmlzb3Ryb3BpY1NwZWN1bGFyTGlnaHRpbmcocHJlSW5mbyx2aWV3RGlyZWN0aW9uVyxub3JtYWxXLGFuaXNvdHJvcGljT3V0LmFuaXNvdHJvcGljVGFuZ2VudCxhbmlzb3Ryb3BpY091dC5hbmlzb3Ryb3BpY0JpdGFuZ2VudCxhbmlzb3Ryb3BpY091dC5hbmlzb3Ryb3B5LGNsZWFyY29hdE91dC5zcGVjdWxhckVudmlyb25tZW50UjAsc3BlY3VsYXJFbnZpcm9ubWVudFI5MCxBQVJvdWdobmVzc0ZhY3RvcnMueCxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNlbHNlCmluZm8uc3BlY3VsYXI9Y29tcHV0ZVNwZWN1bGFyTGlnaHRpbmcocHJlSW5mbyxub3JtYWxXLGNsZWFyY29hdE91dC5zcGVjdWxhckVudmlyb25tZW50UjAsc3BlY3VsYXJFbnZpcm9ubWVudFI5MCxBQVJvdWdobmVzc0ZhY3RvcnMueCxsaWdodHtYfS52TGlnaHREaWZmdXNlLnJnYik7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNIRUVOCiNpZmRlZiBTSEVFTl9MSU5LV0lUSEFMQkVETwpwcmVJbmZvLnJvdWdobmVzcz1zaGVlbk91dC5zaGVlbkludGVuc2l0eTsKI2Vsc2UKI2lmZGVmIEhFTUlMSUdIVHtYfQpwcmVJbmZvLnJvdWdobmVzcz1zaGVlbk91dC5zaGVlblJvdWdobmVzczsKI2Vsc2UKcHJlSW5mby5yb3VnaG5lc3M9YWRqdXN0Um91Z2huZXNzRnJvbUxpZ2h0UHJvcGVydGllcyhzaGVlbk91dC5zaGVlblJvdWdobmVzcyxsaWdodHtYfS52TGlnaHRTcGVjdWxhci5hLHByZUluZm8ubGlnaHREaXN0YW5jZSk7CiNlbmRpZgojZW5kaWYKaW5mby5zaGVlbj1jb21wdXRlU2hlZW5MaWdodGluZyhwcmVJbmZvLG5vcm1hbFcsc2hlZW5PdXQuc2hlZW5Db2xvcixzcGVjdWxhckVudmlyb25tZW50UjkwLEFBUm91Z2huZXNzRmFjdG9ycy54LGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiKTsKI2VuZGlmCiNpZmRlZiBDTEVBUkNPQVQKI2lmZGVmIEhFTUlMSUdIVHtYfQpwcmVJbmZvLnJvdWdobmVzcz1jbGVhcmNvYXRPdXQuY2xlYXJDb2F0Um91Z2huZXNzOwojZWxzZQpwcmVJbmZvLnJvdWdobmVzcz1hZGp1c3RSb3VnaG5lc3NGcm9tTGlnaHRQcm9wZXJ0aWVzKGNsZWFyY29hdE91dC5jbGVhckNvYXRSb3VnaG5lc3MsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIuYSxwcmVJbmZvLmxpZ2h0RGlzdGFuY2UpOwojZW5kaWYKaW5mby5jbGVhckNvYXQ9Y29tcHV0ZUNsZWFyQ29hdExpZ2h0aW5nKHByZUluZm8sY2xlYXJjb2F0T3V0LmNsZWFyQ29hdE5vcm1hbFcsY2xlYXJjb2F0T3V0LmNsZWFyQ29hdEFBUm91Z2huZXNzRmFjdG9ycy54LGNsZWFyY29hdE91dC5jbGVhckNvYXRJbnRlbnNpdHksbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IpOwojaWZkZWYgQ0xFQVJDT0FUX1RJTlQKYWJzb3JwdGlvbj1jb21wdXRlQ2xlYXJDb2F0TGlnaHRpbmdBYnNvcnB0aW9uKGNsZWFyY29hdE91dC5jbGVhckNvYXROZG90VlJlZnJhY3QscHJlSW5mby5MLGNsZWFyY29hdE91dC5jbGVhckNvYXROb3JtYWxXLGNsZWFyY29hdE91dC5jbGVhckNvYXRDb2xvcixjbGVhcmNvYXRPdXQuY2xlYXJDb2F0VGhpY2tuZXNzLGNsZWFyY29hdE91dC5jbGVhckNvYXRJbnRlbnNpdHkpOwppbmZvLmRpZmZ1c2UqPWFic29ycHRpb247CiNpZmRlZiBTUEVDVUxBUlRFUk0KaW5mby5zcGVjdWxhcio9YWJzb3JwdGlvbjsKI2VuZGlmCiNlbmRpZgppbmZvLmRpZmZ1c2UqPWluZm8uY2xlYXJDb2F0Lnc7CiNpZmRlZiBTUEVDVUxBUlRFUk0KaW5mby5zcGVjdWxhcio9aW5mby5jbGVhckNvYXQudzsKI2VuZGlmCiNpZmRlZiBTSEVFTgppbmZvLnNoZWVuKj1pbmZvLmNsZWFyQ29hdC53OwojZW5kaWYKI2VuZGlmCiNlbHNlCiNpZmRlZiBTUE9UTElHSFR7WH0KaW5mbz1jb21wdXRlU3BvdExpZ2h0aW5nKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcsbGlnaHR7WH0udkxpZ2h0RGF0YSxsaWdodHtYfS52TGlnaHREaXJlY3Rpb24sbGlnaHR7WH0udkxpZ2h0RGlmZnVzZS5yZ2IsbGlnaHR7WH0udkxpZ2h0U3BlY3VsYXIucmdiLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UuYSxnbG9zc2luZXNzKTsKI2VsaWYgZGVmaW5lZChIRU1JTElHSFR7WH0pCmluZm89Y29tcHV0ZUhlbWlzcGhlcmljTGlnaHRpbmcodmlld0RpcmVjdGlvblcsbm9ybWFsVyxsaWdodHtYfS52TGlnaHREYXRhLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLnJnYixsaWdodHtYfS52TGlnaHRHcm91bmQsZ2xvc3NpbmVzcyk7CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkgfHwgZGVmaW5lZChESVJMSUdIVHtYfSkKaW5mbz1jb21wdXRlTGlnaHRpbmcodmlld0RpcmVjdGlvblcsbm9ybWFsVyxsaWdodHtYfS52TGlnaHREYXRhLGxpZ2h0e1h9LnZMaWdodERpZmZ1c2UucmdiLGxpZ2h0e1h9LnZMaWdodFNwZWN1bGFyLnJnYixsaWdodHtYfS52TGlnaHREaWZmdXNlLmEsZ2xvc3NpbmVzcyk7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFBST0pFQ1RFRExJR0hUVEVYVFVSRXtYfQppbmZvLmRpZmZ1c2UqPWNvbXB1dGVQcm9qZWN0aW9uVGV4dHVyZURpZmZ1c2VMaWdodGluZyhwcm9qZWN0aW9uTGlnaHRTYW1wbGVye1h9LHRleHR1cmVQcm9qZWN0aW9uTWF0cml4e1h9KTsKI2VuZGlmCiNlbmRpZgojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KZm9yIChpbnQgaT0wOyBpPFNIQURPV0NTTU5VTV9DQVNDQURFU3tYfTsgaSsrKSAKewojaWZkZWYgU0hBRE9XQ1NNX1JJR0hUSEFOREVEe1h9CmRpZmZ7WH09dmlld0ZydXN0dW1ae1h9W2ldK3ZQb3NpdGlvbkZyb21DYW1lcmF7WH0uejsKI2Vsc2UKZGlmZntYfT12aWV3RnJ1c3R1bVp7WH1baV0tdlBvc2l0aW9uRnJvbUNhbWVyYXtYfS56OwojZW5kaWYKaWYgKGRpZmZ7WH0+PTAuKSB7CmluZGV4e1h9PWk7CmJyZWFrOwp9Cn0KI2lmZGVmIFNIQURPV0NTTVVTRVNIQURPV01BWFp7WH0KaWYgKGluZGV4e1h9Pj0wKQojZW5kaWYKewojaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDRjEoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGMyhmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGNShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzE2KGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENTUzMyKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyxsaWdodFNpemVVVkNvcnJlY3Rpb257WH1baW5kZXh7WH1dLGRlcHRoQ29ycmVjdGlvbntYfVtpbmRleHtYfV0scGVudW1icmFEYXJrbmVzc3tYfSk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1M2NChmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZW5kaWYKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dDU00oZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbmRpZgojaWZkZWYgU0hBRE9XQ1NNREVCVUd7WH0Kc2hhZG93RGVidWd7WH09dmVjMyhzaGFkb3cpKnZDYXNjYWRlQ29sb3JzTXVsdGlwbGllcntYfVtpbmRleHtYfV07CiNlbmRpZgojaWZuZGVmIFNIQURPV0NTTU5PQkxFTkR7WH0KZmxvYXQgZnJ1c3R1bUxlbmd0aD1mcnVzdHVtTGVuZ3Roc3tYfVtpbmRleHtYfV07CmZsb2F0IGRpZmZSYXRpbz1jbGFtcChkaWZme1h9L2ZydXN0dW1MZW5ndGgsMC4sMS4pKmNhc2NhZGVCbGVuZEZhY3RvcntYfTsKaWYgKGluZGV4e1h9PChTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH0tMSkgJiYgZGlmZlJhdGlvPDEuKQp7CmluZGV4e1h9Kz0xOwpmbG9hdCBuZXh0U2hhZG93PTAuOwojaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YxKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ0YzKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55eixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZWxzZQpuZXh0U2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoQ1NNUENGNShmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1MxNihmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZWxpZiBkZWZpbmVkKFNIQURPV01FRElVTVFVQUxJVFl7WH0pCm5leHRTaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDU01QQ1NTMzIoZmxvYXQoaW5kZXh7WH0pLHZQb3NpdGlvbkZyb21MaWdodHtYfVtpbmRleHtYfV0sdkRlcHRoTWV0cmlje1h9W2luZGV4e1h9XSxkZXB0aFNhbXBsZXJ7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby55LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53LGxpZ2h0U2l6ZVVWQ29ycmVjdGlvbntYfVtpbmRleHtYfV0sZGVwdGhDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxwZW51bWJyYURhcmtuZXNze1h9KTsKI2Vsc2UKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93V2l0aENTTVBDU1M2NChmbG9hdChpbmRleHtYfSksdlBvc2l0aW9uRnJvbUxpZ2h0e1h9W2luZGV4e1h9XSx2RGVwdGhNZXRyaWN7WH1baW5kZXh7WH1dLGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncsbGlnaHRTaXplVVZDb3JyZWN0aW9ue1h9W2luZGV4e1h9XSxkZXB0aENvcnJlY3Rpb257WH1baW5kZXh7WH1dLHBlbnVtYnJhRGFya25lc3N7WH0pOwojZW5kaWYKI2Vsc2UKbmV4dFNoYWRvdz1jb21wdXRlU2hhZG93Q1NNKGZsb2F0KGluZGV4e1h9KSx2UG9zaXRpb25Gcm9tTGlnaHR7WH1baW5kZXh7WH1dLHZEZXB0aE1ldHJpY3tYfVtpbmRleHtYfV0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKc2hhZG93PW1peChuZXh0U2hhZG93LHNoYWRvdyxkaWZmUmF0aW8pOwojaWZkZWYgU0hBRE9XQ1NNREVCVUd7WH0Kc2hhZG93RGVidWd7WH09bWl4KHZlYzMobmV4dFNoYWRvdykqdkNhc2NhZGVDb2xvcnNNdWx0aXBsaWVye1h9W2luZGV4e1h9XSxzaGFkb3dEZWJ1Z3tYfSxkaWZmUmF0aW8pOwojZW5kaWYKfQojZW5kaWYKfQojZWxpZiBkZWZpbmVkKFNIQURPV0NMT1NFRVNNe1h9KQojaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDbG9zZUVTTUN1YmUobGlnaHR7WH0udkxpZ2h0RGF0YS54eXosc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uZGVwdGhWYWx1ZXMpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhDbG9zZUVTTSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dFU017WH0pCiNpZiBkZWZpbmVkKFNIQURPV0NVQkV7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aEVTTUN1YmUobGlnaHR7WH0udkxpZ2h0RGF0YS54eXosc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnosbGlnaHR7WH0uZGVwdGhWYWx1ZXMpOwojZWxzZQpzaGFkb3c9Y29tcHV0ZVNoYWRvd1dpdGhFU00odlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XUE9JU1NPTntYfSkKI2lmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUG9pc3NvblNhbXBsaW5nQ3ViZShsaWdodHtYfS52TGlnaHREYXRhLnh5eixzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5kZXB0aFZhbHVlcyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBvaXNzb25TYW1wbGluZyh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VsaWYgZGVmaW5lZChTSEFET1dQQ0Z7WH0pCiNpZiBkZWZpbmVkKFNIQURPV0xPV1FVQUxJVFl7WH0pCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDRjEodlBvc2l0aW9uRnJvbUxpZ2h0e1h9LHZEZXB0aE1ldHJpY3tYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENGMyh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2Vsc2UKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENGNSh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueXosbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5zaGFkb3dzSW5mby53KTsKI2VuZGlmCiNlbGlmIGRlZmluZWQoU0hBRE9XUENTU3tYfSkKI2lmIGRlZmluZWQoU0hBRE9XTE9XUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENTUzE2KHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbGlmIGRlZmluZWQoU0hBRE9XTUVESVVNUVVBTElUWXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dXaXRoUENTUzMyKHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sZGVwdGhTYW1wbGVye1h9LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueSxsaWdodHtYfS5zaGFkb3dzSW5mby56LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLngsbGlnaHR7WH0uc2hhZG93c0luZm8udyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93V2l0aFBDU1M2NCh2UG9zaXRpb25Gcm9tTGlnaHR7WH0sdkRlcHRoTWV0cmlje1h9LGRlcHRoU2FtcGxlcntYfSxzaGFkb3dTYW1wbGVye1h9LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLnksbGlnaHR7WH0uc2hhZG93c0luZm8ueixsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2Vsc2UKI2lmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKc2hhZG93PWNvbXB1dGVTaGFkb3dDdWJlKGxpZ2h0e1h9LnZMaWdodERhdGEueHl6LHNoYWRvd1NhbXBsZXJ7WH0sbGlnaHR7WH0uc2hhZG93c0luZm8ueCxsaWdodHtYfS5kZXB0aFZhbHVlcyk7CiNlbHNlCnNoYWRvdz1jb21wdXRlU2hhZG93KHZQb3NpdGlvbkZyb21MaWdodHtYfSx2RGVwdGhNZXRyaWN7WH0sc2hhZG93U2FtcGxlcntYfSxsaWdodHtYfS5zaGFkb3dzSW5mby54LGxpZ2h0e1h9LnNoYWRvd3NJbmZvLncpOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBTSEFET1dPTkxZCiNpZm5kZWYgU0hBRE9XSU5VU0UKI2RlZmluZSBTSEFET1dJTlVTRQojZW5kaWYKZ2xvYmFsU2hhZG93Kz1zaGFkb3c7CnNoYWRvd0xpZ2h0Q291bnQrPTEuMDsKI2VuZGlmCiNlbHNlCnNoYWRvdz0xLjsKI2VuZGlmCiNpZm5kZWYgU0hBRE9XT05MWQojaWZkZWYgQ1VTVE9NVVNFUkxJR0hUSU5HCmRpZmZ1c2VCYXNlKz1jb21wdXRlQ3VzdG9tRGlmZnVzZUxpZ2h0aW5nKGluZm8sZGlmZnVzZUJhc2Usc2hhZG93KTsKI2lmZGVmIFNQRUNVTEFSVEVSTQpzcGVjdWxhckJhc2UrPWNvbXB1dGVDdXN0b21TcGVjdWxhckxpZ2h0aW5nKGluZm8sc3BlY3VsYXJCYXNlLHNoYWRvdyk7CiNlbmRpZgojZWxpZiBkZWZpbmVkKExJR0hUTUFQKSAmJiBkZWZpbmVkKExJR0hUTUFQRVhDTFVERUR7WH0pCmRpZmZ1c2VCYXNlKz1saWdodG1hcENvbG9yLnJnYipzaGFkb3c7CiNpZmRlZiBTUEVDVUxBUlRFUk0KI2lmbmRlZiBMSUdIVE1BUE5PU1BFQ1VMQVJ7WH0Kc3BlY3VsYXJCYXNlKz1pbmZvLnNwZWN1bGFyKnNoYWRvdypsaWdodG1hcENvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgQ0xFQVJDT0FUCiNpZm5kZWYgTElHSFRNQVBOT1NQRUNVTEFSe1h9CmNsZWFyQ29hdEJhc2UrPWluZm8uY2xlYXJDb2F0LnJnYipzaGFkb3cqbGlnaHRtYXBDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2lmZGVmIFNIRUVOCiNpZm5kZWYgTElHSFRNQVBOT1NQRUNVTEFSe1h9CnNoZWVuQmFzZSs9aW5mby5zaGVlbi5yZ2Iqc2hhZG93OwojZW5kaWYKI2VuZGlmCiNlbHNlCiNpZmRlZiBTSEFET1dDU01ERUJVR3tYfQpkaWZmdXNlQmFzZSs9aW5mby5kaWZmdXNlKnNoYWRvd0RlYnVne1h9OwojZWxzZSAKZGlmZnVzZUJhc2UrPWluZm8uZGlmZnVzZSpzaGFkb3c7CiNlbmRpZgojaWZkZWYgU1BFQ1VMQVJURVJNCnNwZWN1bGFyQmFzZSs9aW5mby5zcGVjdWxhcipzaGFkb3c7CiNlbmRpZgojaWZkZWYgQ0xFQVJDT0FUCmNsZWFyQ29hdEJhc2UrPWluZm8uY2xlYXJDb2F0LnJnYipzaGFkb3c7CiNlbmRpZgojaWZkZWYgU0hFRU4Kc2hlZW5CYXNlKz1pbmZvLnNoZWVuLnJnYipzaGFkb3c7CiNlbmRpZgojZW5kaWYKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbRGhdPUZoO2NvbnN0IHdoPSJsb2dEZXB0aEZyYWdtZW50IixPaD1gI2lmZGVmIExPR0FSSVRITUlDREVQVEgKZ2xfRnJhZ0RlcHRoRVhUPWxvZzIodkZyYWdtZW50RGVwdGgpKmxvZ2FyaXRobWljRGVwdGhDb25zdGFudCowLjU7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbd2hdPU9oO2NvbnN0IExoPSJmb2dGcmFnbWVudCIsTmg9YCNpZmRlZiBGT0cKZmxvYXQgZm9nPUNhbGNGb2dGYWN0b3IoKTsKI2lmZGVmIFBCUgpmb2c9dG9MaW5lYXJTcGFjZShmb2cpOwojZW5kaWYKY29sb3IucmdiPW1peCh2Rm9nQ29sb3IsY29sb3IucmdiLGZvZyk7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbTGhdPU5oO2NvbnN0IEJoPSJvaXRGcmFnbWVudCIsVWg9YCNpZmRlZiBPUkRFUl9JTkRFUEVOREVOVF9UUkFOU1BBUkVOQ1kKZmxvYXQgZnJhZ0RlcHRoPWdsX0ZyYWdDb29yZC56OyAKI2lmZGVmIE9SREVSX0lOREVQRU5ERU5UX1RSQU5TUEFSRU5DWV8xNkJJVFMKdWludCBoYWxmRmxvYXQ9cGFja0hhbGYyeDE2KHZlYzIoZnJhZ0RlcHRoKSk7CnZlYzIgZnVsbD11bnBhY2tIYWxmMngxNihoYWxmRmxvYXQpOwpmcmFnRGVwdGg9ZnVsbC54OwojZW5kaWYKaXZlYzIgZnJhZ0Nvb3JkPWl2ZWMyKGdsX0ZyYWdDb29yZC54eSk7CnZlYzIgbGFzdERlcHRoPXRleGVsRmV0Y2gob2l0RGVwdGhTYW1wbGVyLGZyYWdDb29yZCwwKS5yZzsKdmVjNCBsYXN0RnJvbnRDb2xvcj10ZXhlbEZldGNoKG9pdEZyb250Q29sb3JTYW1wbGVyLGZyYWdDb29yZCwwKTsKZGVwdGgucmc9dmVjMigtTUFYX0RFUFRIKTsKZnJvbnRDb2xvcj1sYXN0RnJvbnRDb2xvcjsKYmFja0NvbG9yPXZlYzQoMC4wKTsKI2lmZGVmIFVTRV9SRVZFUlNFX0RFUFRIQlVGRkVSCmZsb2F0IGZ1cnRoZXN0RGVwdGg9LWxhc3REZXB0aC54OwpmbG9hdCBuZWFyZXN0RGVwdGg9bGFzdERlcHRoLnk7CiNlbHNlCmZsb2F0IG5lYXJlc3REZXB0aD0tbGFzdERlcHRoLng7CmZsb2F0IGZ1cnRoZXN0RGVwdGg9bGFzdERlcHRoLnk7CiNlbmRpZgpmbG9hdCBhbHBoYU11bHRpcGxpZXI9MS4wLWxhc3RGcm9udENvbG9yLmE7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgppZiAoZnJhZ0RlcHRoPm5lYXJlc3REZXB0aCB8fCBmcmFnRGVwdGg8ZnVydGhlc3REZXB0aCkgewojZWxzZQppZiAoZnJhZ0RlcHRoPG5lYXJlc3REZXB0aCB8fCBmcmFnRGVwdGg+ZnVydGhlc3REZXB0aCkgewojZW5kaWYKcmV0dXJuOwp9CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgppZiAoZnJhZ0RlcHRoPG5lYXJlc3REZXB0aCAmJiBmcmFnRGVwdGg+ZnVydGhlc3REZXB0aCkgewojZWxzZQppZiAoZnJhZ0RlcHRoPm5lYXJlc3REZXB0aCAmJiBmcmFnRGVwdGg8ZnVydGhlc3REZXB0aCkgewojZW5kaWYKZGVwdGgucmc9dmVjMigtZnJhZ0RlcHRoLGZyYWdEZXB0aCk7CnJldHVybjsKfQojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0JoXT1VaDtjb25zdCBraD0iZGVmYXVsdFBpeGVsU2hhZGVyIixWaD1gI2luY2x1ZGU8X19kZWNsX19kZWZhdWx0RnJhZ21lbnQ+CiNpZiBkZWZpbmVkKEJVTVApIHx8ICFkZWZpbmVkKE5PUk1BTCkKI2V4dGVuc2lvbiBHTF9PRVNfc3RhbmRhcmRfZGVyaXZhdGl2ZXMgOiBlbmFibGUKI2VuZGlmCiNpbmNsdWRlPHByZVBhc3NEZWNsYXJhdGlvbj5bU0NFTkVfTVJUX0NPVU5UXQojaW5jbHVkZTxvaXREZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVHSU4KI2lmZGVmIExPR0FSSVRITUlDREVQVEgKI2V4dGVuc2lvbiBHTF9FWFRfZnJhZ19kZXB0aCA6IGVuYWJsZQojZW5kaWYKI2RlZmluZSBSRUNJUFJPQ0FMX1BJMiAwLjE1OTE1NDk0CnZhcnlpbmcgdmVjMyB2UG9zaXRpb25XOwojaWZkZWYgTk9STUFMCnZhcnlpbmcgdmVjMyB2Tm9ybWFsVzsKI2VuZGlmCiNpZiBkZWZpbmVkKFZFUlRFWENPTE9SKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKSAmJiBkZWZpbmVkKElOU1RBTkNFUykKdmFyeWluZyB2ZWM0IHZDb2xvcjsKI2VuZGlmCiNpbmNsdWRlPG1haW5VVlZhcnlpbmdEZWNsYXJhdGlvbj5bMS4uN10KI2luY2x1ZGU8aGVscGVyRnVuY3Rpb25zPgojaW5jbHVkZTxfX2RlY2xfX2xpZ2h0RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KI2luY2x1ZGU8bGlnaHRzRnJhZ21lbnRGdW5jdGlvbnM+CiNpbmNsdWRlPHNoYWRvd3NGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxESUZGVVNFLF9WQVJZSU5HTkFNRV8sRGlmZnVzZSxfU0FNUExFUk5BTUVfLGRpZmZ1c2UpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sQU1CSUVOVCxfVkFSWUlOR05BTUVfLEFtYmllbnQsX1NBTVBMRVJOQU1FXyxhbWJpZW50KQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLE9QQUNJVFksX1ZBUllJTkdOQU1FXyxPcGFjaXR5LF9TQU1QTEVSTkFNRV8sb3BhY2l0eSkKI2luY2x1ZGU8c2FtcGxlckZyYWdtZW50RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxFTUlTU0lWRSxfVkFSWUlOR05BTUVfLEVtaXNzaXZlLF9TQU1QTEVSTkFNRV8sZW1pc3NpdmUpCiNpbmNsdWRlPHNhbXBsZXJGcmFnbWVudERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sTElHSFRNQVAsX1ZBUllJTkdOQU1FXyxMaWdodG1hcCxfU0FNUExFUk5BTUVfLGxpZ2h0bWFwKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERFQ0FMLF9WQVJZSU5HTkFNRV8sRGVjYWwsX1NBTVBMRVJOQU1FXyxkZWNhbCkKI2lmZGVmIFJFRlJBQ1RJT04KI2lmZGVmIFJFRlJBQ1RJT05NQVBfM0QKdW5pZm9ybSBzYW1wbGVyQ3ViZSByZWZyYWN0aW9uQ3ViZVNhbXBsZXI7CiNlbHNlCnVuaWZvcm0gc2FtcGxlcjJEIHJlZnJhY3Rpb24yRFNhbXBsZXI7CiNlbmRpZgojZW5kaWYKI2lmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQojaW5jbHVkZTxzYW1wbGVyRnJhZ21lbnREZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLFNQRUNVTEFSLF9WQVJZSU5HTkFNRV8sU3BlY3VsYXIsX1NBTVBMRVJOQU1FXyxzcGVjdWxhcikKI2VuZGlmCiNpbmNsdWRlPGZyZXNuZWxGdW5jdGlvbj4KI2lmZGVmIFJFRkxFQ1RJT04KI2lmZGVmIFJFRkxFQ1RJT05NQVBfM0QKdW5pZm9ybSBzYW1wbGVyQ3ViZSByZWZsZWN0aW9uQ3ViZVNhbXBsZXI7CiNlbHNlCnVuaWZvcm0gc2FtcGxlcjJEIHJlZmxlY3Rpb24yRFNhbXBsZXI7CiNlbmRpZgojaWZkZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblVWVzsKI2Vsc2UKI2lmIGRlZmluZWQoUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVJfRklYRUQpIHx8IGRlZmluZWQoUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRCkKdmFyeWluZyB2ZWMzIHZEaXJlY3Rpb25XOwojZW5kaWYKI2VuZGlmCiNpbmNsdWRlPHJlZmxlY3Rpb25GdW5jdGlvbj4KI2VuZGlmCiNpbmNsdWRlPGltYWdlUHJvY2Vzc2luZ0RlY2xhcmF0aW9uPgojaW5jbHVkZTxpbWFnZVByb2Nlc3NpbmdGdW5jdGlvbnM+CiNpbmNsdWRlPGJ1bXBGcmFnbWVudE1haW5GdW5jdGlvbnM+CiNpbmNsdWRlPGJ1bXBGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8Y2xpcFBsYW5lRnJhZ21lbnREZWNsYXJhdGlvbj4KI2luY2x1ZGU8bG9nRGVwdGhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Zm9nRnJhZ21lbnREZWNsYXJhdGlvbj4KI2RlZmluZSBDVVNUT01fRlJBR01FTlRfREVGSU5JVElPTlMKdm9pZCBtYWluKHZvaWQpIHsKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfTUFJTl9CRUdJTgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudD4KdmVjMyB2aWV3RGlyZWN0aW9uVz1ub3JtYWxpemUodkV5ZVBvc2l0aW9uLnh5ei12UG9zaXRpb25XKTsKdmVjNCBiYXNlQ29sb3I9dmVjNCgxLiwxLiwxLiwxLik7CnZlYzMgZGlmZnVzZUNvbG9yPXZEaWZmdXNlQ29sb3IucmdiOwpmbG9hdCBhbHBoYT12RGlmZnVzZUNvbG9yLmE7CiNpZmRlZiBOT1JNQUwKdmVjMyBub3JtYWxXPW5vcm1hbGl6ZSh2Tm9ybWFsVyk7CiNlbHNlCnZlYzMgbm9ybWFsVz1ub3JtYWxpemUoLWNyb3NzKGRGZHgodlBvc2l0aW9uVyksZEZkeSh2UG9zaXRpb25XKSkpOwojZW5kaWYKI2luY2x1ZGU8YnVtcEZyYWdtZW50PgojaWZkZWYgVFdPU0lERURMSUdIVElORwpub3JtYWxXPWdsX0Zyb250RmFjaW5nID8gbm9ybWFsVyA6IC1ub3JtYWxXOwojZW5kaWYKI2lmZGVmIERJRkZVU0UKYmFzZUNvbG9yPXRleHR1cmUyRChkaWZmdXNlU2FtcGxlcix2RGlmZnVzZVVWK3V2T2Zmc2V0KTsKI2lmIGRlZmluZWQoQUxQSEFURVNUKSAmJiAhZGVmaW5lZChBTFBIQVRFU1RfQUZURVJBTExBTFBIQUNPTVBVVEFUSU9OUykKaWYgKGJhc2VDb2xvci5hPGFscGhhQ3V0T2ZmKQpkaXNjYXJkOwojZW5kaWYKI2lmZGVmIEFMUEhBRlJPTURJRkZVU0UKYWxwaGEqPWJhc2VDb2xvci5hOwojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfVVBEQVRFX0FMUEhBCmJhc2VDb2xvci5yZ2IqPXZEaWZmdXNlSW5mb3MueTsKI2VuZGlmCiNpZmRlZiBERUNBTAp2ZWM0IGRlY2FsQ29sb3I9dGV4dHVyZTJEKGRlY2FsU2FtcGxlcix2RGVjYWxVVit1dk9mZnNldCk7CiNpbmNsdWRlPGRlY2FsRnJhZ21lbnQ+KHN1cmZhY2VBbGJlZG8sYmFzZUNvbG9yLEdBTU1BREVDQUwsX0dBTU1BREVDQUxfTk9UVVNFRF8pCiNlbmRpZgojaW5jbHVkZTxkZXB0aFByZVBhc3M+CiNpZiBkZWZpbmVkKFZFUlRFWENPTE9SKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKSAmJiBkZWZpbmVkKElOU1RBTkNFUykKYmFzZUNvbG9yLnJnYio9dkNvbG9yLnJnYjsKI2VuZGlmCiNpZmRlZiBERVRBSUwKYmFzZUNvbG9yLnJnYj1iYXNlQ29sb3IucmdiKjIuMCptaXgoMC41LGRldGFpbENvbG9yLnIsdkRldGFpbEluZm9zLnkpOwojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfVVBEQVRFX0RJRkZVU0UKdmVjMyBiYXNlQW1iaWVudENvbG9yPXZlYzMoMS4sMS4sMS4pOwojaWZkZWYgQU1CSUVOVApiYXNlQW1iaWVudENvbG9yPXRleHR1cmUyRChhbWJpZW50U2FtcGxlcix2QW1iaWVudFVWK3V2T2Zmc2V0KS5yZ2IqdkFtYmllbnRJbmZvcy55OwojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0xJR0hUUwojaWZkZWYgU1BFQ1VMQVJURVJNCmZsb2F0IGdsb3NzaW5lc3M9dlNwZWN1bGFyQ29sb3IuYTsKdmVjMyBzcGVjdWxhckNvbG9yPXZTcGVjdWxhckNvbG9yLnJnYjsKI2lmZGVmIFNQRUNVTEFSCnZlYzQgc3BlY3VsYXJNYXBDb2xvcj10ZXh0dXJlMkQoc3BlY3VsYXJTYW1wbGVyLHZTcGVjdWxhclVWK3V2T2Zmc2V0KTsKc3BlY3VsYXJDb2xvcj1zcGVjdWxhck1hcENvbG9yLnJnYjsKI2lmZGVmIEdMT1NTSU5FU1MKZ2xvc3NpbmVzcz1nbG9zc2luZXNzKnNwZWN1bGFyTWFwQ29sb3IuYTsKI2VuZGlmCiNlbmRpZgojZWxzZQpmbG9hdCBnbG9zc2luZXNzPTAuOwojZW5kaWYKdmVjMyBkaWZmdXNlQmFzZT12ZWMzKDAuLDAuLDAuKTsKbGlnaHRpbmdJbmZvIGluZm87CiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBzcGVjdWxhckJhc2U9dmVjMygwLiwwLiwwLik7CiNlbmRpZgpmbG9hdCBzaGFkb3c9MS47CiNpZmRlZiBMSUdIVE1BUAp2ZWM0IGxpZ2h0bWFwQ29sb3I9dGV4dHVyZTJEKGxpZ2h0bWFwU2FtcGxlcix2TGlnaHRtYXBVVit1dk9mZnNldCk7CiNpZmRlZiBSR0JETElHSFRNQVAKbGlnaHRtYXBDb2xvci5yZ2I9ZnJvbVJHQkQobGlnaHRtYXBDb2xvcik7CiNlbmRpZgpsaWdodG1hcENvbG9yLnJnYio9dkxpZ2h0bWFwSW5mb3MueTsKI2VuZGlmCiNpbmNsdWRlPGxpZ2h0RnJhZ21lbnQ+WzAuLm1heFNpbXVsdGFuZW91c0xpZ2h0c10KdmVjNCByZWZyYWN0aW9uQ29sb3I9dmVjNCgwLiwwLiwwLiwxLik7CiNpZmRlZiBSRUZSQUNUSU9OCnZlYzMgcmVmcmFjdGlvblZlY3Rvcj1ub3JtYWxpemUocmVmcmFjdCgtdmlld0RpcmVjdGlvblcsbm9ybWFsVyx2UmVmcmFjdGlvbkluZm9zLnkpKTsKI2lmZGVmIFJFRlJBQ1RJT05NQVBfM0QKI2lmZGVmIFVTRV9MT0NBTF9SRUZSQUNUSU9OTUFQX0NVQklDCnJlZnJhY3Rpb25WZWN0b3I9cGFyYWxsYXhDb3JyZWN0Tm9ybWFsKHZQb3NpdGlvblcscmVmcmFjdGlvblZlY3Rvcix2UmVmcmFjdGlvblNpemUsdlJlZnJhY3Rpb25Qb3NpdGlvbik7CiNlbmRpZgpyZWZyYWN0aW9uVmVjdG9yLnk9cmVmcmFjdGlvblZlY3Rvci55KnZSZWZyYWN0aW9uSW5mb3MudzsKdmVjNCByZWZyYWN0aW9uTG9va3VwPXRleHR1cmVDdWJlKHJlZnJhY3Rpb25DdWJlU2FtcGxlcixyZWZyYWN0aW9uVmVjdG9yKTsKaWYgKGRvdChyZWZyYWN0aW9uVmVjdG9yLHZpZXdEaXJlY3Rpb25XKTwxLjApIHsKcmVmcmFjdGlvbkNvbG9yPXJlZnJhY3Rpb25Mb29rdXA7Cn0KI2Vsc2UKdmVjMyB2UmVmcmFjdGlvblVWVz12ZWMzKHJlZnJhY3Rpb25NYXRyaXgqKHZpZXcqdmVjNCh2UG9zaXRpb25XK3JlZnJhY3Rpb25WZWN0b3IqdlJlZnJhY3Rpb25JbmZvcy56LDEuMCkpKTsKdmVjMiByZWZyYWN0aW9uQ29vcmRzPXZSZWZyYWN0aW9uVVZXLnh5L3ZSZWZyYWN0aW9uVVZXLno7CnJlZnJhY3Rpb25Db29yZHMueT0xLjAtcmVmcmFjdGlvbkNvb3Jkcy55OwpyZWZyYWN0aW9uQ29sb3I9dGV4dHVyZTJEKHJlZnJhY3Rpb24yRFNhbXBsZXIscmVmcmFjdGlvbkNvb3Jkcyk7CiNlbmRpZgojaWZkZWYgUkdCRFJFRlJBQ1RJT04KcmVmcmFjdGlvbkNvbG9yLnJnYj1mcm9tUkdCRChyZWZyYWN0aW9uQ29sb3IpOwojZW5kaWYKI2lmZGVmIElTX1JFRlJBQ1RJT05fTElORUFSCnJlZnJhY3Rpb25Db2xvci5yZ2I9dG9HYW1tYVNwYWNlKHJlZnJhY3Rpb25Db2xvci5yZ2IpOwojZW5kaWYKcmVmcmFjdGlvbkNvbG9yLnJnYio9dlJlZnJhY3Rpb25JbmZvcy54OwojZW5kaWYKdmVjNCByZWZsZWN0aW9uQ29sb3I9dmVjNCgwLiwwLiwwLiwxLik7CiNpZmRlZiBSRUZMRUNUSU9OCnZlYzMgdlJlZmxlY3Rpb25VVlc9Y29tcHV0ZVJlZmxlY3Rpb25Db29yZHModmVjNCh2UG9zaXRpb25XLDEuMCksbm9ybWFsVyk7CiNpZmRlZiBSRUZMRUNUSU9OTUFQX09QUE9TSVRFWgp2UmVmbGVjdGlvblVWVy56Kj0tMS4wOwojZW5kaWYKI2lmZGVmIFJFRkxFQ1RJT05NQVBfM0QKI2lmZGVmIFJPVUdITkVTUwpmbG9hdCBiaWFzPXZSZWZsZWN0aW9uSW5mb3MueTsKI2lmZGVmIFNQRUNVTEFSVEVSTQojaWZkZWYgU1BFQ1VMQVIKI2lmZGVmIEdMT1NTSU5FU1MKYmlhcyo9KDEuMC1zcGVjdWxhck1hcENvbG9yLmEpOwojZW5kaWYKI2VuZGlmCiNlbmRpZgpyZWZsZWN0aW9uQ29sb3I9dGV4dHVyZUN1YmUocmVmbGVjdGlvbkN1YmVTYW1wbGVyLHZSZWZsZWN0aW9uVVZXLGJpYXMpOwojZWxzZQpyZWZsZWN0aW9uQ29sb3I9dGV4dHVyZUN1YmUocmVmbGVjdGlvbkN1YmVTYW1wbGVyLHZSZWZsZWN0aW9uVVZXKTsKI2VuZGlmCiNlbHNlCnZlYzIgY29vcmRzPXZSZWZsZWN0aW9uVVZXLnh5OwojaWZkZWYgUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OCmNvb3Jkcy89dlJlZmxlY3Rpb25VVlcuejsKI2VuZGlmCmNvb3Jkcy55PTEuMC1jb29yZHMueTsKcmVmbGVjdGlvbkNvbG9yPXRleHR1cmUyRChyZWZsZWN0aW9uMkRTYW1wbGVyLGNvb3Jkcyk7CiNlbmRpZgojaWZkZWYgUkdCRFJFRkxFQ1RJT04KcmVmbGVjdGlvbkNvbG9yLnJnYj1mcm9tUkdCRChyZWZsZWN0aW9uQ29sb3IpOwojZW5kaWYKI2lmZGVmIElTX1JFRkxFQ1RJT05fTElORUFSCnJlZmxlY3Rpb25Db2xvci5yZ2I9dG9HYW1tYVNwYWNlKHJlZmxlY3Rpb25Db2xvci5yZ2IpOwojZW5kaWYKcmVmbGVjdGlvbkNvbG9yLnJnYio9dlJlZmxlY3Rpb25JbmZvcy54OwojaWZkZWYgUkVGTEVDVElPTkZSRVNORUwKZmxvYXQgcmVmbGVjdGlvbkZyZXNuZWxUZXJtPWNvbXB1dGVGcmVzbmVsVGVybSh2aWV3RGlyZWN0aW9uVyxub3JtYWxXLHJlZmxlY3Rpb25SaWdodENvbG9yLmEscmVmbGVjdGlvbkxlZnRDb2xvci5hKTsKI2lmZGVmIFJFRkxFQ1RJT05GUkVTTkVMRlJPTVNQRUNVTEFSCiNpZmRlZiBTUEVDVUxBUlRFUk0KcmVmbGVjdGlvbkNvbG9yLnJnYio9c3BlY3VsYXJDb2xvci5yZ2IqKDEuMC1yZWZsZWN0aW9uRnJlc25lbFRlcm0pK3JlZmxlY3Rpb25GcmVzbmVsVGVybSpyZWZsZWN0aW9uUmlnaHRDb2xvci5yZ2I7CiNlbHNlCnJlZmxlY3Rpb25Db2xvci5yZ2IqPXJlZmxlY3Rpb25MZWZ0Q29sb3IucmdiKigxLjAtcmVmbGVjdGlvbkZyZXNuZWxUZXJtKStyZWZsZWN0aW9uRnJlc25lbFRlcm0qcmVmbGVjdGlvblJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2Vsc2UKcmVmbGVjdGlvbkNvbG9yLnJnYio9cmVmbGVjdGlvbkxlZnRDb2xvci5yZ2IqKDEuMC1yZWZsZWN0aW9uRnJlc25lbFRlcm0pK3JlZmxlY3Rpb25GcmVzbmVsVGVybSpyZWZsZWN0aW9uUmlnaHRDb2xvci5yZ2I7CiNlbmRpZgojZW5kaWYKI2VuZGlmCiNpZmRlZiBSRUZSQUNUSU9ORlJFU05FTApmbG9hdCByZWZyYWN0aW9uRnJlc25lbFRlcm09Y29tcHV0ZUZyZXNuZWxUZXJtKHZpZXdEaXJlY3Rpb25XLG5vcm1hbFcscmVmcmFjdGlvblJpZ2h0Q29sb3IuYSxyZWZyYWN0aW9uTGVmdENvbG9yLmEpOwpyZWZyYWN0aW9uQ29sb3IucmdiKj1yZWZyYWN0aW9uTGVmdENvbG9yLnJnYiooMS4wLXJlZnJhY3Rpb25GcmVzbmVsVGVybSkrcmVmcmFjdGlvbkZyZXNuZWxUZXJtKnJlZnJhY3Rpb25SaWdodENvbG9yLnJnYjsKI2VuZGlmCiNpZmRlZiBPUEFDSVRZCnZlYzQgb3BhY2l0eU1hcD10ZXh0dXJlMkQob3BhY2l0eVNhbXBsZXIsdk9wYWNpdHlVVit1dk9mZnNldCk7CiNpZmRlZiBPUEFDSVRZUkdCCm9wYWNpdHlNYXAucmdiPW9wYWNpdHlNYXAucmdiKnZlYzMoMC4zLDAuNTksMC4xMSk7CmFscGhhKj0ob3BhY2l0eU1hcC54K29wYWNpdHlNYXAueStvcGFjaXR5TWFwLnopKiB2T3BhY2l0eUluZm9zLnk7CiNlbHNlCmFscGhhKj1vcGFjaXR5TWFwLmEqdk9wYWNpdHlJbmZvcy55OwojZW5kaWYKI2VuZGlmCiNpZiBkZWZpbmVkKFZFUlRFWEFMUEhBKSB8fCBkZWZpbmVkKElOU1RBTkNFU0NPTE9SKSAmJiBkZWZpbmVkKElOU1RBTkNFUykKYWxwaGEqPXZDb2xvci5hOwojZW5kaWYKI2lmZGVmIE9QQUNJVFlGUkVTTkVMCmZsb2F0IG9wYWNpdHlGcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxvcGFjaXR5UGFydHMueixvcGFjaXR5UGFydHMudyk7CmFscGhhKz1vcGFjaXR5UGFydHMueCooMS4wLW9wYWNpdHlGcmVzbmVsVGVybSkrb3BhY2l0eUZyZXNuZWxUZXJtKm9wYWNpdHlQYXJ0cy55OwojZW5kaWYKI2lmZGVmIEFMUEhBVEVTVAojaWZkZWYgQUxQSEFURVNUX0FGVEVSQUxMQUxQSEFDT01QVVRBVElPTlMKaWYgKGFscGhhPGFscGhhQ3V0T2ZmKQpkaXNjYXJkOwojZW5kaWYKI2lmbmRlZiBBTFBIQUJMRU5ECmFscGhhPTEuMDsKI2VuZGlmCiNlbmRpZgp2ZWMzIGVtaXNzaXZlQ29sb3I9dkVtaXNzaXZlQ29sb3I7CiNpZmRlZiBFTUlTU0lWRQplbWlzc2l2ZUNvbG9yKz10ZXh0dXJlMkQoZW1pc3NpdmVTYW1wbGVyLHZFbWlzc2l2ZVVWK3V2T2Zmc2V0KS5yZ2IqdkVtaXNzaXZlSW5mb3MueTsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRUZSRVNORUwKZmxvYXQgZW1pc3NpdmVGcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxlbWlzc2l2ZVJpZ2h0Q29sb3IuYSxlbWlzc2l2ZUxlZnRDb2xvci5hKTsKZW1pc3NpdmVDb2xvcio9ZW1pc3NpdmVMZWZ0Q29sb3IucmdiKigxLjAtZW1pc3NpdmVGcmVzbmVsVGVybSkrZW1pc3NpdmVGcmVzbmVsVGVybSplbWlzc2l2ZVJpZ2h0Q29sb3IucmdiOwojZW5kaWYKI2lmZGVmIERJRkZVU0VGUkVTTkVMCmZsb2F0IGRpZmZ1c2VGcmVzbmVsVGVybT1jb21wdXRlRnJlc25lbFRlcm0odmlld0RpcmVjdGlvblcsbm9ybWFsVyxkaWZmdXNlUmlnaHRDb2xvci5hLGRpZmZ1c2VMZWZ0Q29sb3IuYSk7CmRpZmZ1c2VCYXNlKj1kaWZmdXNlTGVmdENvbG9yLnJnYiooMS4wLWRpZmZ1c2VGcmVzbmVsVGVybSkrZGlmZnVzZUZyZXNuZWxUZXJtKmRpZmZ1c2VSaWdodENvbG9yLnJnYjsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRUFTSUxMVU1JTkFUSU9OCnZlYzMgZmluYWxEaWZmdXNlPWNsYW1wKGRpZmZ1c2VCYXNlKmRpZmZ1c2VDb2xvcit2QW1iaWVudENvbG9yLDAuMCwxLjApKmJhc2VDb2xvci5yZ2I7CiNlbHNlCiNpZmRlZiBMSU5LRU1JU1NJVkVXSVRIRElGRlVTRQp2ZWMzIGZpbmFsRGlmZnVzZT1jbGFtcCgoZGlmZnVzZUJhc2UrZW1pc3NpdmVDb2xvcikqZGlmZnVzZUNvbG9yK3ZBbWJpZW50Q29sb3IsMC4wLDEuMCkqYmFzZUNvbG9yLnJnYjsKI2Vsc2UKdmVjMyBmaW5hbERpZmZ1c2U9Y2xhbXAoZGlmZnVzZUJhc2UqZGlmZnVzZUNvbG9yK2VtaXNzaXZlQ29sb3IrdkFtYmllbnRDb2xvciwwLjAsMS4wKSpiYXNlQ29sb3IucmdiOwojZW5kaWYKI2VuZGlmCiNpZmRlZiBTUEVDVUxBUlRFUk0KdmVjMyBmaW5hbFNwZWN1bGFyPXNwZWN1bGFyQmFzZSpzcGVjdWxhckNvbG9yOwojaWZkZWYgU1BFQ1VMQVJPVkVSQUxQSEEKYWxwaGE9Y2xhbXAoYWxwaGErZG90KGZpbmFsU3BlY3VsYXIsdmVjMygwLjMsMC41OSwwLjExKSksMC4sMS4pOwojZW5kaWYKI2Vsc2UKdmVjMyBmaW5hbFNwZWN1bGFyPXZlYzMoMC4wKTsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OT1ZFUkFMUEhBCmFscGhhPWNsYW1wKGFscGhhK2RvdChyZWZsZWN0aW9uQ29sb3IucmdiLHZlYzMoMC4zLDAuNTksMC4xMSkpLDAuLDEuKTsKI2VuZGlmCiNpZmRlZiBFTUlTU0lWRUFTSUxMVU1JTkFUSU9OCnZlYzQgY29sb3I9dmVjNChjbGFtcChmaW5hbERpZmZ1c2UqYmFzZUFtYmllbnRDb2xvcitmaW5hbFNwZWN1bGFyK3JlZmxlY3Rpb25Db2xvci5yZ2IrZW1pc3NpdmVDb2xvcityZWZyYWN0aW9uQ29sb3IucmdiLDAuMCwxLjApLGFscGhhKTsKI2Vsc2UKdmVjNCBjb2xvcj12ZWM0KGZpbmFsRGlmZnVzZSpiYXNlQW1iaWVudENvbG9yK2ZpbmFsU3BlY3VsYXIrcmVmbGVjdGlvbkNvbG9yLnJnYityZWZyYWN0aW9uQ29sb3IucmdiLGFscGhhKTsKI2VuZGlmCiNpZmRlZiBMSUdIVE1BUAojaWZuZGVmIExJR0hUTUFQRVhDTFVERUQKI2lmZGVmIFVTRUxJR0hUTUFQQVNTSEFET1dNQVAKY29sb3IucmdiKj1saWdodG1hcENvbG9yLnJnYjsKI2Vsc2UKY29sb3IucmdiKz1saWdodG1hcENvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0ZPRwpjb2xvci5yZ2I9bWF4KGNvbG9yLnJnYiwwLik7CiNpbmNsdWRlPGxvZ0RlcHRoRnJhZ21lbnQ+CiNpbmNsdWRlPGZvZ0ZyYWdtZW50PgojaWZkZWYgSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1MKY29sb3IucmdiPXRvTGluZWFyU3BhY2UoY29sb3IucmdiKTsKI2Vsc2UKI2lmZGVmIElNQUdFUFJPQ0VTU0lORwpjb2xvci5yZ2I9dG9MaW5lYXJTcGFjZShjb2xvci5yZ2IpOwpjb2xvcj1hcHBseUltYWdlUHJvY2Vzc2luZyhjb2xvcik7CiNlbmRpZgojZW5kaWYKY29sb3IuYSo9dmlzaWJpbGl0eTsKI2lmZGVmIFBSRU1VTFRJUExZQUxQSEEKY29sb3IucmdiKj1jb2xvci5hOwojZW5kaWYKI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0ZSQUdDT0xPUgojaWZkZWYgUFJFUEFTUwpmbG9hdCB3cml0ZUdlb21ldHJ5SW5mbz1jb2xvci5hPjAuNCA/IDEuMCA6IDAuMDsKZ2xfRnJhZ0RhdGFbMF09Y29sb3I7IAojaWZkZWYgUFJFUEFTU19QT1NJVElPTgpnbF9GcmFnRGF0YVtQUkVQQVNTX1BPU0lUSU9OX0lOREVYXT12ZWM0KHZQb3NpdGlvblcsd3JpdGVHZW9tZXRyeUluZm8pOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfVkVMT0NJVFkKdmVjMiBhPSh2Q3VycmVudFBvc2l0aW9uLnh5L3ZDdXJyZW50UG9zaXRpb24udykqMC41KzAuNTsKdmVjMiBiPSh2UHJldmlvdXNQb3NpdGlvbi54eS92UHJldmlvdXNQb3NpdGlvbi53KSowLjUrMC41Owp2ZWMyIHZlbG9jaXR5PWFicyhhLWIpOwp2ZWxvY2l0eT12ZWMyKHBvdyh2ZWxvY2l0eS54LDEuMC8zLjApLHBvdyh2ZWxvY2l0eS55LDEuMC8zLjApKSpzaWduKGEtYikqMC41KzAuNTsKZ2xfRnJhZ0RhdGFbUFJFUEFTU19WRUxPQ0lUWV9JTkRFWF09dmVjNCh2ZWxvY2l0eSwwLjAsd3JpdGVHZW9tZXRyeUluZm8pOwojZW5kaWYKI2lmZGVmIFBSRVBBU1NfSVJSQURJQU5DRQpnbF9GcmFnRGF0YVtQUkVQQVNTX0lSUkFESUFOQ0VfSU5ERVhdPXZlYzQoMC4wLDAuMCwwLjAsd3JpdGVHZW9tZXRyeUluZm8pOyAKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX0RFUFRICmdsX0ZyYWdEYXRhW1BSRVBBU1NfREVQVEhfSU5ERVhdPXZlYzQodlZpZXdQb3MueiwwLjAsMC4wLHdyaXRlR2VvbWV0cnlJbmZvKTsgCiNlbmRpZgojaWZkZWYgUFJFUEFTU19OT1JNQUwKZ2xfRnJhZ0RhdGFbUFJFUEFTU19OT1JNQUxfSU5ERVhdPXZlYzQobm9ybWFsaXplKCh2aWV3KnZlYzQobm9ybWFsVywwLjApKS5yZ2IpLHdyaXRlR2VvbWV0cnlJbmZvKTsgCiNlbmRpZgojaWZkZWYgUFJFUEFTU19BTEJFRE9fU1FSVApnbF9GcmFnRGF0YVtQUkVQQVNTX0FMQkVET19TUVJUX0lOREVYXT12ZWM0KDAuMCwwLjAsMC4wLHdyaXRlR2VvbWV0cnlJbmZvKTsgCiNlbmRpZgojaWZkZWYgUFJFUEFTU19SRUZMRUNUSVZJVFkKI2lmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQojaWYgZGVmaW5lZChTUEVDVUxBUikKZ2xfRnJhZ0RhdGFbUFJFUEFTU19SRUZMRUNUSVZJVFlfSU5ERVhdPXZlYzQodG9MaW5lYXJTcGFjZShzcGVjdWxhck1hcENvbG9yKSkqd3JpdGVHZW9tZXRyeUluZm87IAojZWxzZQpnbF9GcmFnRGF0YVtQUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWF09dmVjNCh0b0xpbmVhclNwYWNlKHNwZWN1bGFyQ29sb3IpLDEuMCkqd3JpdGVHZW9tZXRyeUluZm87CiNlbmRpZgojZWxzZQpnbF9GcmFnRGF0YVtQUkVQQVNTX1JFRkxFQ1RJVklUWV9JTkRFWF09dmVjNCgwLjAsMC4wLDAuMCwxLjApKndyaXRlR2VvbWV0cnlJbmZvOwojZW5kaWYKI2VuZGlmCiNlbmRpZgojaWYgIWRlZmluZWQoUFJFUEFTUykgfHwgZGVmaW5lZChXRUJHTDIpCmdsX0ZyYWdDb2xvcj1jb2xvcjsKI2VuZGlmCiNpbmNsdWRlPG9pdEZyYWdtZW50PgojaWYgT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZCmlmIChmcmFnRGVwdGg9PW5lYXJlc3REZXB0aCkgewpmcm9udENvbG9yLnJnYis9Y29sb3IucmdiKmNvbG9yLmEqYWxwaGFNdWx0aXBsaWVyOwpmcm9udENvbG9yLmE9MS4wLWFscGhhTXVsdGlwbGllciooMS4wLWNvbG9yLmEpOwp9IGVsc2UgewpiYWNrQ29sb3IrPWNvbG9yOwp9CiNlbmRpZgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0VORAp9CmA7TC5TaGFkZXJzU3RvcmVba2hdPVZoO2NvbnN0IFdoPSJkZWNhbFZlcnRleERlY2xhcmF0aW9uIix6aD1gI2lmZGVmIERFQ0FMCnVuaWZvcm0gdmVjNCB2RGVjYWxJbmZvczsKdW5pZm9ybSBtYXQ0IGRlY2FsTWF0cml4OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW1doXT16aDtjb25zdCBHaD0iZGVmYXVsdFZlcnRleERlY2xhcmF0aW9uIixYaD1gdW5pZm9ybSBtYXQ0IHZpZXdQcm9qZWN0aW9uOwp1bmlmb3JtIG1hdDQgdmlldzsKI2lmZGVmIERJRkZVU0UKdW5pZm9ybSBtYXQ0IGRpZmZ1c2VNYXRyaXg7CnVuaWZvcm0gdmVjMiB2RGlmZnVzZUluZm9zOwojZW5kaWYKI2lmZGVmIEFNQklFTlQKdW5pZm9ybSBtYXQ0IGFtYmllbnRNYXRyaXg7CnVuaWZvcm0gdmVjMiB2QW1iaWVudEluZm9zOwojZW5kaWYKI2lmZGVmIE9QQUNJVFkKdW5pZm9ybSBtYXQ0IG9wYWNpdHlNYXRyaXg7CnVuaWZvcm0gdmVjMiB2T3BhY2l0eUluZm9zOwojZW5kaWYKI2lmZGVmIEVNSVNTSVZFCnVuaWZvcm0gdmVjMiB2RW1pc3NpdmVJbmZvczsKdW5pZm9ybSBtYXQ0IGVtaXNzaXZlTWF0cml4OwojZW5kaWYKI2lmZGVmIExJR0hUTUFQCnVuaWZvcm0gdmVjMiB2TGlnaHRtYXBJbmZvczsKdW5pZm9ybSBtYXQ0IGxpZ2h0bWFwTWF0cml4OwojZW5kaWYKI2lmIGRlZmluZWQoU1BFQ1VMQVIpICYmIGRlZmluZWQoU1BFQ1VMQVJURVJNKQp1bmlmb3JtIHZlYzIgdlNwZWN1bGFySW5mb3M7CnVuaWZvcm0gbWF0NCBzcGVjdWxhck1hdHJpeDsKI2VuZGlmCiNpZmRlZiBCVU1QCnVuaWZvcm0gdmVjMyB2QnVtcEluZm9zOwp1bmlmb3JtIG1hdDQgYnVtcE1hdHJpeDsKI2VuZGlmCiNpZmRlZiBSRUZMRUNUSU9OCnVuaWZvcm0gbWF0NCByZWZsZWN0aW9uTWF0cml4OwojZW5kaWYKI2lmZGVmIFBPSU5UU0laRQp1bmlmb3JtIGZsb2F0IHBvaW50U2l6ZTsKI2VuZGlmCiNpZmRlZiBERVRBSUwKdW5pZm9ybSB2ZWM0IHZEZXRhaWxJbmZvczsKdW5pZm9ybSBtYXQ0IGRldGFpbE1hdHJpeDsKI2VuZGlmCiNpbmNsdWRlPGRlY2FsVmVydGV4RGVjbGFyYXRpb24+CiNkZWZpbmUgQURESVRJT05BTF9WRVJURVhfREVDTEFSQVRJT04KYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0doXT1YaDtjb25zdCBIaD0idXZBdHRyaWJ1dGVEZWNsYXJhdGlvbiIsS2g9YCNpZmRlZiBVVntYfQphdHRyaWJ1dGUgdmVjMiB1dntYfTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtIaF09S2g7Y29uc3QgWWg9InByZVBhc3NWZXJ0ZXhEZWNsYXJhdGlvbiIsWmg9YCNpZmRlZiBQUkVQQVNTCiNpZmRlZiBQUkVQQVNTX0RFUFRICnZhcnlpbmcgdmVjMyB2Vmlld1BvczsKI2VuZGlmCiNpZmRlZiBQUkVQQVNTX1ZFTE9DSVRZCnVuaWZvcm0gbWF0NCBwcmV2aW91c1ZpZXdQcm9qZWN0aW9uOwp2YXJ5aW5nIHZlYzQgdkN1cnJlbnRQb3NpdGlvbjsKdmFyeWluZyB2ZWM0IHZQcmV2aW91c1Bvc2l0aW9uOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtZaF09Wmg7Y29uc3QgcWg9InNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbiIsamg9YCNpZiBkZWZpbmVkKF9ERUZJTkVOQU1FXykgJiYgX0RFRklORU5BTUVfRElSRUNUVVY9PTAKdmFyeWluZyB2ZWMyIHZfVkFSWUlOR05BTUVfVVY7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbcWhdPWpoO2NvbnN0ICRoPSJidW1wVmVydGV4RGVjbGFyYXRpb24iLFFoPWAjaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKFBBUkFMTEFYKSB8fCBkZWZpbmVkKENMRUFSQ09BVF9CVU1QKSB8fCBkZWZpbmVkKEFOSVNPVFJPUElDKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkgCnZhcnlpbmcgbWF0MyB2VEJOOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVskaF09UWg7Y29uc3QgSmg9ImZvZ1ZlcnRleERlY2xhcmF0aW9uIixlbD1gI2lmZGVmIEZPRwp2YXJ5aW5nIHZlYzMgdkZvZ0Rpc3RhbmNlOwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW0poXT1lbDtjb25zdCB0bD0ibGlnaHRWeEZyYWdtZW50RGVjbGFyYXRpb24iLGlsPWAjaWZkZWYgTElHSFR7WH0KdW5pZm9ybSB2ZWM0IHZMaWdodERhdGF7WH07CnVuaWZvcm0gdmVjNCB2TGlnaHREaWZmdXNle1h9OwojaWZkZWYgU1BFQ1VMQVJURVJNCnVuaWZvcm0gdmVjNCB2TGlnaHRTcGVjdWxhcntYfTsKI2Vsc2UKdmVjNCB2TGlnaHRTcGVjdWxhcntYfT12ZWM0KDAuKTsKI2VuZGlmCiNpZmRlZiBTSEFET1d7WH0KI2lmZGVmIFNIQURPV0NTTXtYfQp1bmlmb3JtIG1hdDQgbGlnaHRNYXRyaXh7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfVtTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH1dOwp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUNhbWVyYXtYfTsKI2VsaWYgZGVmaW5lZChTSEFET1dDVUJFe1h9KQojZWxzZQp2YXJ5aW5nIHZlYzQgdlBvc2l0aW9uRnJvbUxpZ2h0e1h9Owp2YXJ5aW5nIGZsb2F0IHZEZXB0aE1ldHJpY3tYfTsKdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9OwojZW5kaWYKdW5pZm9ybSB2ZWM0IHNoYWRvd3NJbmZve1h9Owp1bmlmb3JtIHZlYzIgZGVwdGhWYWx1ZXN7WH07CiNlbmRpZgojaWZkZWYgU1BPVExJR0hUe1h9CnVuaWZvcm0gdmVjNCB2TGlnaHREaXJlY3Rpb257WH07CnVuaWZvcm0gdmVjNCB2TGlnaHRGYWxsb2Zme1h9OwojZWxpZiBkZWZpbmVkKFBPSU5UTElHSFR7WH0pCnVuaWZvcm0gdmVjNCB2TGlnaHRGYWxsb2Zme1h9OwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKdW5pZm9ybSB2ZWMzIHZMaWdodEdyb3VuZHtYfTsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbdGxdPWlsO2NvbnN0IHNsPSJsaWdodFZ4VWJvRGVjbGFyYXRpb24iLHJsPWAjaWZkZWYgTElHSFR7WH0KdW5pZm9ybSBMaWdodHtYfQp7CnZlYzQgdkxpZ2h0RGF0YTsKdmVjNCB2TGlnaHREaWZmdXNlOwp2ZWM0IHZMaWdodFNwZWN1bGFyOwojaWZkZWYgU1BPVExJR0hUe1h9CnZlYzQgdkxpZ2h0RGlyZWN0aW9uOwp2ZWM0IHZMaWdodEZhbGxvZmY7CiNlbGlmIGRlZmluZWQoUE9JTlRMSUdIVHtYfSkKdmVjNCB2TGlnaHRGYWxsb2ZmOwojZWxpZiBkZWZpbmVkKEhFTUlMSUdIVHtYfSkKdmVjMyB2TGlnaHRHcm91bmQ7CiNlbmRpZgp2ZWM0IHNoYWRvd3NJbmZvOwp2ZWMyIGRlcHRoVmFsdWVzOwp9IGxpZ2h0e1h9OwojaWZkZWYgU0hBRE9Xe1h9CiNpZmRlZiBTSEFET1dDU017WH0KdW5pZm9ybSBtYXQ0IGxpZ2h0TWF0cml4e1h9W1NIQURPV0NTTU5VTV9DQVNDQURFU3tYfV07CnZhcnlpbmcgdmVjNCB2UG9zaXRpb25Gcm9tTGlnaHR7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH1bU0hBRE9XQ1NNTlVNX0NBU0NBREVTe1h9XTsKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21DYW1lcmF7WH07CiNlbGlmIGRlZmluZWQoU0hBRE9XQ1VCRXtYfSkKI2Vsc2UKdmFyeWluZyB2ZWM0IHZQb3NpdGlvbkZyb21MaWdodHtYfTsKdmFyeWluZyBmbG9hdCB2RGVwdGhNZXRyaWN7WH07CnVuaWZvcm0gbWF0NCBsaWdodE1hdHJpeHtYfTsKI2VuZGlmCiNlbmRpZgojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW3NsXT1ybDtjb25zdCBubD0icHJlUGFzc1ZlcnRleCIsYWw9YCNpZmRlZiBQUkVQQVNTX0RFUFRICnZWaWV3UG9zPSh2aWV3KndvcmxkUG9zKS5yZ2I7CiNlbmRpZgojaWYgZGVmaW5lZChQUkVQQVNTX1ZFTE9DSVRZKSAmJiBkZWZpbmVkKEJPTkVTX1ZFTE9DSVRZX0VOQUJMRUQpCnZDdXJyZW50UG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4wCm1hdDQgcHJldmlvdXNJbmZsdWVuY2U7CnByZXZpb3VzSW5mbHVlbmNlPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNbMF0pXSptYXRyaWNlc1dlaWdodHNbMF07CiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4xCnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzFdKV0qbWF0cmljZXNXZWlnaHRzWzFdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4yCnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzJdKV0qbWF0cmljZXNXZWlnaHRzWzJdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz4zCnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzWzNdKV0qbWF0cmljZXNXZWlnaHRzWzNdOwojZW5kaWYKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjQKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVswXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzBdOwojZW5kaWYgCiNpZiBOVU1fQk9ORV9JTkZMVUVOQ0VSUz41CnByZXZpb3VzSW5mbHVlbmNlKz1tUHJldmlvdXNCb25lc1tpbnQobWF0cmljZXNJbmRpY2VzRXh0cmFbMV0pXSptYXRyaWNlc1dlaWdodHNFeHRyYVsxXTsKI2VuZGlmIAojaWYgTlVNX0JPTkVfSU5GTFVFTkNFUlM+NgpwcmV2aW91c0luZmx1ZW5jZSs9bVByZXZpb3VzQm9uZXNbaW50KG1hdHJpY2VzSW5kaWNlc0V4dHJhWzJdKV0qbWF0cmljZXNXZWlnaHRzRXh0cmFbMl07CiNlbmRpZiAKI2lmIE5VTV9CT05FX0lORkxVRU5DRVJTPjcKcHJldmlvdXNJbmZsdWVuY2UrPW1QcmV2aW91c0JvbmVzW2ludChtYXRyaWNlc0luZGljZXNFeHRyYVszXSldKm1hdHJpY2VzV2VpZ2h0c0V4dHJhWzNdOwojZW5kaWYKdlByZXZpb3VzUG9zaXRpb249cHJldmlvdXNWaWV3UHJvamVjdGlvbipmaW5hbFByZXZpb3VzV29ybGQqcHJldmlvdXNJbmZsdWVuY2UqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2Vsc2UKdlByZXZpb3VzUG9zaXRpb249cHJldmlvdXNWaWV3UHJvamVjdGlvbipmaW5hbFByZXZpb3VzV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMS4wKTsKI2VuZGlmCiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbbmxdPWFsO2NvbnN0IG9sPSJ1dlZhcmlhYmxlRGVjbGFyYXRpb24iLGhsPWAjaWYgIWRlZmluZWQoVVZ7WH0pICYmIGRlZmluZWQoTUFJTlVWe1h9KQp2ZWMyIHV2e1h9PXZlYzIoMC4sMC4pOwojZW5kaWYKI2lmZGVmIE1BSU5VVntYfQp2TWFpblVWe1h9PXV2e1h9OwojZW5kaWYKYDtMLkluY2x1ZGVzU2hhZGVyc1N0b3JlW29sXT1obDtjb25zdCBsbD0ic2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uIixjbD1gI2lmIGRlZmluZWQoX0RFRklORU5BTUVfKSAmJiBfREVGSU5FTkFNRV9ESVJFQ1RVVj09MAppZiAodl9JTkZPTkFNRV89PTAuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1dlVwZGF0ZWQsMS4wLDAuMCkpOwp9CiNpZmRlZiBVVjIKZWxzZSBpZiAodl9JTkZPTkFNRV89PTEuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djIsMS4wLDAuMCkpOwp9CiNlbmRpZgojaWZkZWYgVVYzCmVsc2UgaWYgKHZfSU5GT05BTUVfPT0yLikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXYzLDEuMCwwLjApKTsKfQojZW5kaWYKI2lmZGVmIFVWNAplbHNlIGlmICh2X0lORk9OQU1FXz09My4pCnsKdl9WQVJZSU5HTkFNRV9VVj12ZWMyKF9NQVRSSVhOQU1FX01hdHJpeCp2ZWM0KHV2NCwxLjAsMC4wKSk7Cn0KI2VuZGlmCiNpZmRlZiBVVjUKZWxzZSBpZiAodl9JTkZPTkFNRV89PTQuKQp7CnZfVkFSWUlOR05BTUVfVVY9dmVjMihfTUFUUklYTkFNRV9NYXRyaXgqdmVjNCh1djUsMS4wLDAuMCkpOwp9CiNlbmRpZgojaWZkZWYgVVY2CmVsc2UgaWYgKHZfSU5GT05BTUVfPT01LikKewp2X1ZBUllJTkdOQU1FX1VWPXZlYzIoX01BVFJJWE5BTUVfTWF0cml4KnZlYzQodXY2LDEuMCwwLjApKTsKfQojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtsbF09Y2w7Y29uc3QgdWw9ImJ1bXBWZXJ0ZXgiLGRsPWAjaWYgZGVmaW5lZChCVU1QKSB8fCBkZWZpbmVkKFBBUkFMTEFYKSB8fCBkZWZpbmVkKENMRUFSQ09BVF9CVU1QKSB8fCBkZWZpbmVkKEFOSVNPVFJPUElDKQojaWYgZGVmaW5lZChUQU5HRU5UKSAmJiBkZWZpbmVkKE5PUk1BTCkKdmVjMyB0Ym5Ob3JtYWw9bm9ybWFsaXplKG5vcm1hbFVwZGF0ZWQpOwp2ZWMzIHRiblRhbmdlbnQ9bm9ybWFsaXplKHRhbmdlbnRVcGRhdGVkLnh5eik7CnZlYzMgdGJuQml0YW5nZW50PWNyb3NzKHRibk5vcm1hbCx0Ym5UYW5nZW50KSp0YW5nZW50VXBkYXRlZC53Owp2VEJOPW1hdDMoZmluYWxXb3JsZCkqbWF0Myh0Ym5UYW5nZW50LHRibkJpdGFuZ2VudCx0Ym5Ob3JtYWwpOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVt1bF09ZGw7Y29uc3QgZmw9ImZvZ1ZlcnRleCIsX2w9YCNpZmRlZiBGT0cKdkZvZ0Rpc3RhbmNlPSh2aWV3KndvcmxkUG9zKS54eXo7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbZmxdPV9sO2NvbnN0IGdsPSJzaGFkb3dzVmVydGV4IixwbD1gI2lmZGVmIFNIQURPV1MKI2lmIGRlZmluZWQoU0hBRE9XQ1NNe1h9KQp2UG9zaXRpb25Gcm9tQ2FtZXJhe1h9PXZpZXcqd29ybGRQb3M7CmZvciAoaW50IGk9MDsgaTxTSEFET1dDU01OVU1fQ0FTQ0FERVN7WH07IGkrKykgewp2UG9zaXRpb25Gcm9tTGlnaHR7WH1baV09bGlnaHRNYXRyaXh7WH1baV0qd29ybGRQb3M7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWN7WH1baV09KC12UG9zaXRpb25Gcm9tTGlnaHR7WH1baV0ueitsaWdodHtYfS5kZXB0aFZhbHVlcy54KS9saWdodHtYfS5kZXB0aFZhbHVlcy55OwojZWxzZQp2RGVwdGhNZXRyaWN7WH1baV09KHZQb3NpdGlvbkZyb21MaWdodHtYfVtpXS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbmRpZgp9CiNlbGlmIGRlZmluZWQoU0hBRE9Xe1h9KSAmJiAhZGVmaW5lZChTSEFET1dDVUJFe1h9KQp2UG9zaXRpb25Gcm9tTGlnaHR7WH09bGlnaHRNYXRyaXh7WH0qd29ybGRQb3M7CiNpZmRlZiBVU0VfUkVWRVJTRV9ERVBUSEJVRkZFUgp2RGVwdGhNZXRyaWN7WH09KC12UG9zaXRpb25Gcm9tTGlnaHR7WH0ueitsaWdodHtYfS5kZXB0aFZhbHVlcy54KS9saWdodHtYfS5kZXB0aFZhbHVlcy55OwojZWxzZQp2RGVwdGhNZXRyaWN7WH09KHZQb3NpdGlvbkZyb21MaWdodHtYfS56K2xpZ2h0e1h9LmRlcHRoVmFsdWVzLngpL2xpZ2h0e1h9LmRlcHRoVmFsdWVzLnk7CiNlbmRpZgojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtnbF09cGw7Y29uc3QgbWw9InZlcnRleENvbG9yTWl4aW5nIix2bD1gI2lmIGRlZmluZWQoVkVSVEVYQ09MT1IpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpICYmIGRlZmluZWQoSU5TVEFOQ0VTKQp2Q29sb3I9dmVjNCgxLjApOwojaWZkZWYgVkVSVEVYQ09MT1IKI2lmZGVmIFZFUlRFWEFMUEhBCnZDb2xvcio9Y29sb3I7CiNlbHNlCnZDb2xvci5yZ2IqPWNvbG9yLnJnYjsKI2VuZGlmCiNlbmRpZgojaWZkZWYgSU5TVEFOQ0VTQ09MT1IKdkNvbG9yKj1pbnN0YW5jZUNvbG9yOwojZW5kaWYKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVttbF09dmw7Y29uc3QgRWw9InBvaW50Q2xvdWRWZXJ0ZXgiLFRsPWAjaWYgZGVmaW5lZChQT0lOVFNJWkUpICYmICFkZWZpbmVkKFdFQkdQVSkKZ2xfUG9pbnRTaXplPXBvaW50U2l6ZTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtFbF09VGw7Y29uc3QgYmw9ImxvZ0RlcHRoVmVydGV4IixTbD1gI2lmZGVmIExPR0FSSVRITUlDREVQVEgKdkZyYWdtZW50RGVwdGg9MS4wK2dsX1Bvc2l0aW9uLnc7CmdsX1Bvc2l0aW9uLno9bG9nMihtYXgoMC4wMDAwMDEsdkZyYWdtZW50RGVwdGgpKSpsb2dhcml0aG1pY0RlcHRoQ29uc3RhbnQ7CiNlbmRpZgpgO0wuSW5jbHVkZXNTaGFkZXJzU3RvcmVbYmxdPVNsO2NvbnN0IHhsPSJkZWZhdWx0VmVydGV4U2hhZGVyIixNbD1gI2luY2x1ZGU8X19kZWNsX19kZWZhdWx0VmVydGV4PgojZGVmaW5lIENVU1RPTV9WRVJURVhfQkVHSU4KYXR0cmlidXRlIHZlYzMgcG9zaXRpb247CiNpZmRlZiBOT1JNQUwKYXR0cmlidXRlIHZlYzMgbm9ybWFsOwojZW5kaWYKI2lmZGVmIFRBTkdFTlQKYXR0cmlidXRlIHZlYzQgdGFuZ2VudDsKI2VuZGlmCiNpZmRlZiBVVjEKYXR0cmlidXRlIHZlYzIgdXY7CiNlbmRpZgojaW5jbHVkZTx1dkF0dHJpYnV0ZURlY2xhcmF0aW9uPlsyLi43XQojaWZkZWYgVkVSVEVYQ09MT1IKYXR0cmlidXRlIHZlYzQgY29sb3I7CiNlbmRpZgojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPGJvbmVzRGVjbGFyYXRpb24+CiNpbmNsdWRlPGJha2VkVmVydGV4QW5pbWF0aW9uRGVjbGFyYXRpb24+CiNpbmNsdWRlPGluc3RhbmNlc0RlY2xhcmF0aW9uPgojaW5jbHVkZTxwcmVQYXNzVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPG1haW5VVlZhcnlpbmdEZWNsYXJhdGlvbj5bMS4uN10KI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sRElGRlVTRSxfVkFSWUlOR05BTUVfLERpZmZ1c2UpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLERFVEFJTCxfVkFSWUlOR05BTUVfLERldGFpbCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sQU1CSUVOVCxfVkFSWUlOR05BTUVfLEFtYmllbnQpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLE9QQUNJVFksX1ZBUllJTkdOQU1FXyxPcGFjaXR5KQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxFTUlTU0lWRSxfVkFSWUlOR05BTUVfLEVtaXNzaXZlKQojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxMSUdIVE1BUCxfVkFSWUlOR05BTUVfLExpZ2h0bWFwKQojaWYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhEZWNsYXJhdGlvbj4oX0RFRklORU5BTUVfLFNQRUNVTEFSLF9WQVJZSU5HTkFNRV8sU3BlY3VsYXIpCiNlbmRpZgojaW5jbHVkZTxzYW1wbGVyVmVydGV4RGVjbGFyYXRpb24+KF9ERUZJTkVOQU1FXyxCVU1QLF9WQVJZSU5HTkFNRV8sQnVtcCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleERlY2xhcmF0aW9uPihfREVGSU5FTkFNRV8sREVDQUwsX1ZBUllJTkdOQU1FXyxEZWNhbCkKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblc7CiNpZmRlZiBOT1JNQUwKdmFyeWluZyB2ZWMzIHZOb3JtYWxXOwojZW5kaWYKI2lmIGRlZmluZWQoVkVSVEVYQ09MT1IpIHx8IGRlZmluZWQoSU5TVEFOQ0VTQ09MT1IpICYmIGRlZmluZWQoSU5TVEFOQ0VTKQp2YXJ5aW5nIHZlYzQgdkNvbG9yOwojZW5kaWYKI2luY2x1ZGU8YnVtcFZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8Zm9nVmVydGV4RGVjbGFyYXRpb24+CiNpbmNsdWRlPF9fZGVjbF9fbGlnaHRWeEZyYWdtZW50PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbERlY2xhcmF0aW9uPgojaW5jbHVkZTxtb3JwaFRhcmdldHNWZXJ0ZXhEZWNsYXJhdGlvbj5bMC4ubWF4U2ltdWx0YW5lb3VzTW9ycGhUYXJnZXRzXQojaWZkZWYgUkVGTEVDVElPTk1BUF9TS1lCT1gKdmFyeWluZyB2ZWMzIHZQb3NpdGlvblVWVzsKI2VuZGlmCiNpZiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQpCnZhcnlpbmcgdmVjMyB2RGlyZWN0aW9uVzsKI2VuZGlmCiNpbmNsdWRlPGxvZ0RlcHRoRGVjbGFyYXRpb24+CiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgp2ZWMzIHBvc2l0aW9uVXBkYXRlZD1wb3NpdGlvbjsKI2lmZGVmIE5PUk1BTAp2ZWMzIG5vcm1hbFVwZGF0ZWQ9bm9ybWFsOwojZW5kaWYKI2lmZGVmIFRBTkdFTlQKdmVjNCB0YW5nZW50VXBkYXRlZD10YW5nZW50OwojZW5kaWYKI2lmZGVmIFVWMQp2ZWMyIHV2VXBkYXRlZD11djsKI2VuZGlmCiNpbmNsdWRlPG1vcnBoVGFyZ2V0c1ZlcnRleEdsb2JhbD4KI2luY2x1ZGU8bW9ycGhUYXJnZXRzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNNb3JwaFRhcmdldHNdCiNpZmRlZiBSRUZMRUNUSU9OTUFQX1NLWUJPWAp2UG9zaXRpb25VVlc9cG9zaXRpb25VcGRhdGVkOwojZW5kaWYKI2RlZmluZSBDVVNUT01fVkVSVEVYX1VQREFURV9QT1NJVElPTgojZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX05PUk1BTAojaW5jbHVkZTxpbnN0YW5jZXNWZXJ0ZXg+CiNpZiBkZWZpbmVkKFBSRVBBU1MpICYmIGRlZmluZWQoUFJFUEFTU19WRUxPQ0lUWSkgJiYgIWRlZmluZWQoQk9ORVNfVkVMT0NJVFlfRU5BQkxFRCkKdkN1cnJlbnRQb3NpdGlvbj12aWV3UHJvamVjdGlvbipmaW5hbFdvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CnZQcmV2aW91c1Bvc2l0aW9uPXByZXZpb3VzVmlld1Byb2plY3Rpb24qZmluYWxQcmV2aW91c1dvcmxkKnZlYzQocG9zaXRpb25VcGRhdGVkLDEuMCk7CiNlbmRpZgojaW5jbHVkZTxib25lc1ZlcnRleD4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb24+CnZlYzQgd29ybGRQb3M9ZmluYWxXb3JsZCp2ZWM0KHBvc2l0aW9uVXBkYXRlZCwxLjApOwojaWZkZWYgTk9STUFMCm1hdDMgbm9ybWFsV29ybGQ9bWF0MyhmaW5hbFdvcmxkKTsKI2lmIGRlZmluZWQoSU5TVEFOQ0VTKSAmJiBkZWZpbmVkKFRISU5fSU5TVEFOQ0VTKQp2Tm9ybWFsVz1ub3JtYWxVcGRhdGVkL3ZlYzMoZG90KG5vcm1hbFdvcmxkWzBdLG5vcm1hbFdvcmxkWzBdKSxkb3Qobm9ybWFsV29ybGRbMV0sbm9ybWFsV29ybGRbMV0pLGRvdChub3JtYWxXb3JsZFsyXSxub3JtYWxXb3JsZFsyXSkpOwp2Tm9ybWFsVz1ub3JtYWxpemUobm9ybWFsV29ybGQqdk5vcm1hbFcpOwojZWxzZQojaWZkZWYgTk9OVU5JRk9STVNDQUxJTkcKbm9ybWFsV29ybGQ9dHJhbnNwb3NlTWF0MyhpbnZlcnNlTWF0Myhub3JtYWxXb3JsZCkpOwojZW5kaWYKdk5vcm1hbFc9bm9ybWFsaXplKG5vcm1hbFdvcmxkKm5vcm1hbFVwZGF0ZWQpOwojZW5kaWYKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfV09STERQT1MKI2lmZGVmIE1VTFRJVklFVwppZiAoZ2xfVmlld0lEX09WUj09MHUpIHsKZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7Cn0gZWxzZSB7CmdsX1Bvc2l0aW9uPXZpZXdQcm9qZWN0aW9uUip3b3JsZFBvczsKfQojZWxzZQpnbF9Qb3NpdGlvbj12aWV3UHJvamVjdGlvbip3b3JsZFBvczsKI2VuZGlmCnZQb3NpdGlvblc9dmVjMyh3b3JsZFBvcyk7CiNpbmNsdWRlPHByZVBhc3NWZXJ0ZXg+CiNpZiBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEKSB8fCBkZWZpbmVkKFJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQpCnZEaXJlY3Rpb25XPW5vcm1hbGl6ZSh2ZWMzKGZpbmFsV29ybGQqdmVjNChwb3NpdGlvblVwZGF0ZWQsMC4wKSkpOwojZW5kaWYKI2lmbmRlZiBVVjEKdmVjMiB1dlVwZGF0ZWQ9dmVjMigwLiwwLik7CiNlbmRpZgojaWZkZWYgTUFJTlVWMQp2TWFpblVWMT11dlVwZGF0ZWQ7CiNlbmRpZgojaW5jbHVkZTx1dlZhcmlhYmxlRGVjbGFyYXRpb24+WzIuLjddCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLERJRkZVU0UsX1ZBUllJTkdOQU1FXyxEaWZmdXNlLF9NQVRSSVhOQU1FXyxkaWZmdXNlLF9JTkZPTkFNRV8sRGlmZnVzZUluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLERFVEFJTCxfVkFSWUlOR05BTUVfLERldGFpbCxfTUFUUklYTkFNRV8sZGV0YWlsLF9JTkZPTkFNRV8sRGV0YWlsSW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sQU1CSUVOVCxfVkFSWUlOR05BTUVfLEFtYmllbnQsX01BVFJJWE5BTUVfLGFtYmllbnQsX0lORk9OQU1FXyxBbWJpZW50SW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sT1BBQ0lUWSxfVkFSWUlOR05BTUVfLE9wYWNpdHksX01BVFJJWE5BTUVfLG9wYWNpdHksX0lORk9OQU1FXyxPcGFjaXR5SW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sRU1JU1NJVkUsX1ZBUllJTkdOQU1FXyxFbWlzc2l2ZSxfTUFUUklYTkFNRV8sZW1pc3NpdmUsX0lORk9OQU1FXyxFbWlzc2l2ZUluZm9zLngpCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLExJR0hUTUFQLF9WQVJZSU5HTkFNRV8sTGlnaHRtYXAsX01BVFJJWE5BTUVfLGxpZ2h0bWFwLF9JTkZPTkFNRV8sTGlnaHRtYXBJbmZvcy54KQojaWYgZGVmaW5lZChTUEVDVUxBUlRFUk0pCiNpbmNsdWRlPHNhbXBsZXJWZXJ0ZXhJbXBsZW1lbnRhdGlvbj4oX0RFRklORU5BTUVfLFNQRUNVTEFSLF9WQVJZSU5HTkFNRV8sU3BlY3VsYXIsX01BVFJJWE5BTUVfLHNwZWN1bGFyLF9JTkZPTkFNRV8sU3BlY3VsYXJJbmZvcy54KQojZW5kaWYKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sQlVNUCxfVkFSWUlOR05BTUVfLEJ1bXAsX01BVFJJWE5BTUVfLGJ1bXAsX0lORk9OQU1FXyxCdW1wSW5mb3MueCkKI2luY2x1ZGU8c2FtcGxlclZlcnRleEltcGxlbWVudGF0aW9uPihfREVGSU5FTkFNRV8sREVDQUwsX1ZBUllJTkdOQU1FXyxEZWNhbCxfTUFUUklYTkFNRV8sZGVjYWwsX0lORk9OQU1FXyxEZWNhbEluZm9zLngpCiNpbmNsdWRlPGJ1bXBWZXJ0ZXg+CiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleD4KI2luY2x1ZGU8Zm9nVmVydGV4PgojaW5jbHVkZTxzaGFkb3dzVmVydGV4PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNpbmNsdWRlPHZlcnRleENvbG9yTWl4aW5nPgojaW5jbHVkZTxwb2ludENsb3VkVmVydGV4PgojaW5jbHVkZTxsb2dEZXB0aFZlcnRleD4KI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5ECn0KYDtMLlNoYWRlcnNTdG9yZVt4bF09TWw7Y29uc3QgQWw9bmV3IFJlZ0V4cCgiXihbZ2ltdXNdKykhIik7Y2xhc3MgdGl7Y29uc3RydWN0b3IoZSl7dGhpcy5fcGx1Z2lucz1bXSx0aGlzLl9hY3RpdmVQbHVnaW5zPVtdLHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cz1bXSx0aGlzLl9tYXRlcmlhbD1lLHRoaXMuX3NjZW5lPWUuZ2V0U2NlbmUoKSx0aGlzLl9lbmdpbmU9dGhpcy5fc2NlbmUuZ2V0RW5naW5lKCl9X2FkZFBsdWdpbihlKXtmb3IobGV0IHM9MDtzPHRoaXMuX3BsdWdpbnMubGVuZ3RoOysrcylpZih0aGlzLl9wbHVnaW5zW3NdLm5hbWU9PT1lLm5hbWUpdGhyb3dgUGx1Z2luICIke2UubmFtZX0iIGFscmVhZHkgYWRkZWQgdG8gdGhlIG1hdGVyaWFsICIke3RoaXMuX21hdGVyaWFsLm5hbWV9IiFgO2lmKHRoaXMuX21hdGVyaWFsLl91bmlmb3JtQnVmZmVyTGF5b3V0QnVpbHQpdGhyb3dgVGhlIHBsdWdpbiAiJHtlLm5hbWV9IiBjYW4ndCBiZSBhZGRlZCB0byB0aGUgbWF0ZXJpYWwgIiR7dGhpcy5fbWF0ZXJpYWwubmFtZX0iIGJlY2F1c2UgdGhpcyBtYXRlcmlhbCBoYXMgYWxyZWFkeSBiZWVuIHVzZWQgZm9yIHJlbmRlcmluZyEgUGxlYXNlIGFkZCBwbHVnaW5zIHRvIG1hdGVyaWFscyBiZWZvcmUgYW55IHJlbmRlcmluZyB3aXRoIHRoaXMgbWF0ZXJpYWwgb2NjdXJzLmA7Y29uc3QgdD1lLmdldENsYXNzTmFtZSgpO3RpLl9NYXRlcmlhbFBsdWdpbkNsYXNzVG9NYWluRGVmaW5lW3RdfHwodGkuX01hdGVyaWFsUGx1Z2luQ2xhc3NUb01haW5EZWZpbmVbdF09Ik1BVEVSSUFMUExVR0lOXyIrICsrdGkuX01hdGVyaWFsUGx1Z2luQ291bnRlciksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRHZW5lcmljPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50LmJpbmQodGhpcyksdGhpcy5fcGx1Z2lucy5wdXNoKGUpLHRoaXMuX3BsdWdpbnMuc29ydCgocyxyKT0+cy5wcmlvcml0eS1yLnByaW9yaXR5KSx0aGlzLl9jb2RlSW5qZWN0aW9uUG9pbnRzPXt9O2NvbnN0IGk9e307aVt0aS5fTWF0ZXJpYWxQbHVnaW5DbGFzc1RvTWFpbkRlZmluZVt0XV09e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHQ6ITB9O2Zvcihjb25zdCBzIG9mIHRoaXMuX3BsdWdpbnMpcy5jb2xsZWN0RGVmaW5lcyhpKSx0aGlzLl9jb2xsZWN0UG9pbnROYW1lcygidmVydGV4IixzLmdldEN1c3RvbUNvZGUoInZlcnRleCIpKSx0aGlzLl9jb2xsZWN0UG9pbnROYW1lcygiZnJhZ21lbnQiLHMuZ2V0Q3VzdG9tQ29kZSgiZnJhZ21lbnQiKSk7dGhpcy5fZGVmaW5lTmFtZXNGcm9tUGx1Z2lucz1pfV9hY3RpdmF0ZVBsdWdpbihlKXt0aGlzLl9hY3RpdmVQbHVnaW5zLmluZGV4T2YoZSk9PT0tMSYmKHRoaXMuX2FjdGl2ZVBsdWdpbnMucHVzaChlKSx0aGlzLl9hY3RpdmVQbHVnaW5zLnNvcnQoKHQsaSk9PnQucHJpb3JpdHktaS5wcmlvcml0eSksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaD10aGlzLl9oYW5kbGVQbHVnaW5FdmVudElzUmVhZHlGb3JTdWJNZXNoLmJpbmQodGhpcyksdGhpcy5fbWF0ZXJpYWwuX2NhbGxiYWNrUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXM9dGhpcy5faGFuZGxlUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lc0JlZm9yZUF0dHJpYnV0ZXMuYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50UHJlcGFyZURlZmluZXMuYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50QmluZEZvclN1Yk1lc2guYmluZCh0aGlzKSxlLnJlZ2lzdGVyRm9yRXh0cmFFdmVudHMmJih0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMucHVzaChlKSx0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMuc29ydCgodCxpKT0+dC5wcmlvcml0eS1pLnByaW9yaXR5KSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEhhc1JlbmRlclRhcmdldFRleHR1cmVzPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50SGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMuYmluZCh0aGlzKSx0aGlzLl9tYXRlcmlhbC5fY2FsbGJhY2tQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcz10aGlzLl9oYW5kbGVQbHVnaW5FdmVudEZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcy5iaW5kKHRoaXMpLHRoaXMuX21hdGVyaWFsLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoPXRoaXMuX2hhbmRsZVBsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoLmJpbmQodGhpcykpKX1nZXRQbHVnaW4oZSl7Zm9yKGxldCB0PTA7dDx0aGlzLl9wbHVnaW5zLmxlbmd0aDsrK3QpaWYodGhpcy5fcGx1Z2luc1t0XS5uYW1lPT09ZSlyZXR1cm4gdGhpcy5fcGx1Z2luc1t0XTtyZXR1cm4gbnVsbH1faGFuZGxlUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaChlKXtsZXQgdD0hMDtmb3IoY29uc3QgaSBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXQ9dCYmaS5pc1JlYWR5Rm9yU3ViTWVzaChlLmRlZmluZXMsdGhpcy5fc2NlbmUsdGhpcy5fZW5naW5lLGUuc3ViTWVzaCk7ZS5pc1JlYWR5Rm9yU3ViTWVzaD10fV9oYW5kbGVQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzQmVmb3JlQXR0cmlidXRlcyhlKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXQucHJlcGFyZURlZmluZXNCZWZvcmVBdHRyaWJ1dGVzKGUuZGVmaW5lcyx0aGlzLl9zY2VuZSxlLm1lc2gpfV9oYW5kbGVQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpdC5wcmVwYXJlRGVmaW5lcyhlLmRlZmluZXMsdGhpcy5fc2NlbmUsZS5tZXNoKX1faGFuZGxlUGx1Z2luRXZlbnRIYXJkQmluZEZvclN1Yk1lc2goZSl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fYWN0aXZlUGx1Z2luc0ZvckV4dHJhRXZlbnRzKXQuaGFyZEJpbmRGb3JTdWJNZXNoKHRoaXMuX21hdGVyaWFsLl91bmlmb3JtQnVmZmVyLHRoaXMuX3NjZW5lLHRoaXMuX2VuZ2luZSxlLnN1Yk1lc2gpfV9oYW5kbGVQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnMpdC5iaW5kRm9yU3ViTWVzaCh0aGlzLl9tYXRlcmlhbC5fdW5pZm9ybUJ1ZmZlcix0aGlzLl9zY2VuZSx0aGlzLl9lbmdpbmUsZS5zdWJNZXNoKX1faGFuZGxlUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyhlKXtsZXQgdD0hMTtmb3IoY29uc3QgaSBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zRm9yRXh0cmFFdmVudHMpaWYodD1pLmhhc1JlbmRlclRhcmdldFRleHR1cmVzKCksdClicmVhaztlLmhhc1JlbmRlclRhcmdldFRleHR1cmVzPXR9X2hhbmRsZVBsdWdpbkV2ZW50RmlsbFJlbmRlclRhcmdldFRleHR1cmVzKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuX2FjdGl2ZVBsdWdpbnNGb3JFeHRyYUV2ZW50cyl0LmZpbGxSZW5kZXJUYXJnZXRUZXh0dXJlcyhlLnJlbmRlclRhcmdldHMpfV9oYW5kbGVQbHVnaW5FdmVudChlLHQpe3ZhciBpO3N3aXRjaChlKXtjYXNlIGV0LkdldEFjdGl2ZVRleHR1cmVzOntjb25zdCBzPXQ7Zm9yKGNvbnN0IHIgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucylyLmdldEFjdGl2ZVRleHR1cmVzKHMuYWN0aXZlVGV4dHVyZXMpO2JyZWFrfWNhc2UgZXQuR2V0QW5pbWF0YWJsZXM6e2NvbnN0IHM9dDtmb3IoY29uc3QgciBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXIuZ2V0QW5pbWF0YWJsZXMocy5hbmltYXRhYmxlcyk7YnJlYWt9Y2FzZSBldC5IYXNUZXh0dXJlOntjb25zdCBzPXQ7bGV0IHI9ITE7Zm9yKGNvbnN0IG4gb2YgdGhpcy5fYWN0aXZlUGx1Z2lucylpZihyPW4uaGFzVGV4dHVyZShzLnRleHR1cmUpLHIpYnJlYWs7cy5oYXNUZXh0dXJlPXI7YnJlYWt9Y2FzZSBldC5EaXNwb3NlZDp7Y29uc3Qgcz10O2Zvcihjb25zdCByIG9mIHRoaXMuX3BsdWdpbnMpci5kaXNwb3NlKHMuZm9yY2VEaXNwb3NlVGV4dHVyZXMpO2JyZWFrfWNhc2UgZXQuR2V0RGVmaW5lTmFtZXM6e2NvbnN0IHM9dDtzLmRlZmluZU5hbWVzPXRoaXMuX2RlZmluZU5hbWVzRnJvbVBsdWdpbnM7YnJlYWt9Y2FzZSBldC5QcmVwYXJlRWZmZWN0Ontjb25zdCBzPXQ7Zm9yKGNvbnN0IHIgb2YgdGhpcy5fYWN0aXZlUGx1Z2lucylzLmZhbGxiYWNrUmFuaz1yLmFkZEZhbGxiYWNrcyhzLmRlZmluZXMscy5mYWxsYmFja3Mscy5mYWxsYmFja1JhbmspLHIuZ2V0QXR0cmlidXRlcyhzLmF0dHJpYnV0ZXMsdGhpcy5fc2NlbmUscy5tZXNoKTt0aGlzLl91bmlmb3JtTGlzdC5sZW5ndGg+MCYmcy51bmlmb3Jtcy5wdXNoKC4uLnRoaXMuX3VuaWZvcm1MaXN0KSx0aGlzLl9zYW1wbGVyTGlzdC5sZW5ndGg+MCYmcy5zYW1wbGVycy5wdXNoKC4uLnRoaXMuX3NhbXBsZXJMaXN0KSx0aGlzLl91Ym9MaXN0Lmxlbmd0aD4wJiZzLnVuaWZvcm1CdWZmZXJzTmFtZXMucHVzaCguLi50aGlzLl91Ym9MaXN0KSxzLmN1c3RvbUNvZGU9dGhpcy5faW5qZWN0Q3VzdG9tQ29kZShzLmN1c3RvbUNvZGUpO2JyZWFrfWNhc2UgZXQuUHJlcGFyZVVuaWZvcm1CdWZmZXI6e2NvbnN0IHM9dDt0aGlzLl91Ym9EZWNsYXJhdGlvbj0iIix0aGlzLl92ZXJ0ZXhEZWNsYXJhdGlvbj0iIix0aGlzLl9mcmFnbWVudERlY2xhcmF0aW9uPSIiLHRoaXMuX3VuaWZvcm1MaXN0PVtdLHRoaXMuX3NhbXBsZXJMaXN0PVtdLHRoaXMuX3Vib0xpc3Q9W107Zm9yKGNvbnN0IHIgb2YgdGhpcy5fcGx1Z2lucyl7Y29uc3Qgbj1yLmdldFVuaWZvcm1zKCk7aWYobil7aWYobi51Ym8pZm9yKGNvbnN0IGEgb2Ygbi51Ym8pe2lmKGEuc2l6ZSYmYS50eXBlKXtjb25zdCBvPShpPWEuYXJyYXlTaXplKSE9PW51bGwmJmkhPT12b2lkIDA/aTowO3MudWJvLmFkZFVuaWZvcm0oYS5uYW1lLGEuc2l6ZSxvKSx0aGlzLl91Ym9EZWNsYXJhdGlvbis9YCR7YS50eXBlfSAke2EubmFtZX0ke28+MD9gWyR7b31dYDoiIn07XHIKYH10aGlzLl91bmlmb3JtTGlzdC5wdXNoKGEubmFtZSl9bi52ZXJ0ZXgmJih0aGlzLl92ZXJ0ZXhEZWNsYXJhdGlvbis9bi52ZXJ0ZXgrYFxyCmApLG4uZnJhZ21lbnQmJih0aGlzLl9mcmFnbWVudERlY2xhcmF0aW9uKz1uLmZyYWdtZW50K2BccgpgKX1yLmdldFNhbXBsZXJzKHRoaXMuX3NhbXBsZXJMaXN0KSxyLmdldFVuaWZvcm1CdWZmZXJzTmFtZXModGhpcy5fdWJvTGlzdCl9YnJlYWt9fX1fY29sbGVjdFBvaW50TmFtZXMoZSx0KXtpZih0KWZvcihjb25zdCBpIGluIHQpdGhpcy5fY29kZUluamVjdGlvblBvaW50c1tlXXx8KHRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHNbZV09e30pLHRoaXMuX2NvZGVJbmplY3Rpb25Qb2ludHNbZV1baV09ITB9X2luamVjdEN1c3RvbUNvZGUoZSl7cmV0dXJuKHQsaSk9Pnt2YXIgcztlJiYoaT1lKHQsaSkpLHRoaXMuX3Vib0RlY2xhcmF0aW9uJiYoaT1pLnJlcGxhY2UoIiNkZWZpbmUgQURESVRJT05BTF9VQk9fREVDTEFSQVRJT04iLHRoaXMuX3Vib0RlY2xhcmF0aW9uKSksdGhpcy5fdmVydGV4RGVjbGFyYXRpb24mJihpPWkucmVwbGFjZSgiI2RlZmluZSBBRERJVElPTkFMX1ZFUlRFWF9ERUNMQVJBVElPTiIsdGhpcy5fdmVydGV4RGVjbGFyYXRpb24pKSx0aGlzLl9mcmFnbWVudERlY2xhcmF0aW9uJiYoaT1pLnJlcGxhY2UoIiNkZWZpbmUgQURESVRJT05BTF9GUkFHTUVOVF9ERUNMQVJBVElPTiIsdGhpcy5fZnJhZ21lbnREZWNsYXJhdGlvbikpO2NvbnN0IHI9KHM9dGhpcy5fY29kZUluamVjdGlvblBvaW50cyk9PT1udWxsfHxzPT09dm9pZCAwP3ZvaWQgMDpzW3RdO2lmKCFyKXJldHVybiBpO2ZvcihsZXQgbiBpbiByKXtsZXQgYT0iIjtmb3IoY29uc3QgbyBvZiB0aGlzLl9hY3RpdmVQbHVnaW5zKXtjb25zdCBoPW8uZ2V0Q3VzdG9tQ29kZSh0KTtoIT1udWxsJiZoW25dJiYoYSs9aFtuXStgXHIKYCl9aWYoYS5sZW5ndGg+MClpZihuLmNoYXJBdCgwKT09PSIhIil7bj1uLnN1YnN0cmluZygxKTtsZXQgbz0iZyI7aWYobi5jaGFyQXQoMCk9PT0iISIpbz0iIixuPW4uc3Vic3RyaW5nKDEpO2Vsc2V7Y29uc3QgZD1BbC5leGVjKG4pO2QmJmQubGVuZ3RoPj0yJiYobz1kWzFdLG49bi5zdWJzdHJpbmcoby5sZW5ndGgrMSkpfW8uaW5kZXhPZigiZyIpPDAmJihvKz0iZyIpO2NvbnN0IGg9aSxsPW5ldyBSZWdFeHAobixvKTtsZXQgdT1sLmV4ZWMoaCk7Zm9yKDt1IT09bnVsbDspe2xldCBkPWE7Zm9yKGxldCBfPTA7Xzx1Lmxlbmd0aDsrK18pZD1kLnJlcGxhY2UoIiQiK18sdVtfXSk7aT1pLnJlcGxhY2UodVswXSxkKSx1PWwuZXhlYyhoKX19ZWxzZXtjb25zdCBvPSIjZGVmaW5lICIrbjtpPWkucmVwbGFjZShvLGBccgpgK2ErYFxyCmArbyl9fXJldHVybiBpfX19dGkuX01hdGVyaWFsUGx1Z2luQ2xhc3NUb01haW5EZWZpbmU9e30sdGkuX01hdGVyaWFsUGx1Z2luQ291bnRlcj0wO2NsYXNzIGRze19lbmFibGUoZSl7ZSYmdGhpcy5fcGx1Z2luTWFuYWdlci5fYWN0aXZhdGVQbHVnaW4odGhpcyl9Y29uc3RydWN0b3IoZSx0LGkscyxyPSEwLG49ITEpe3RoaXMucHJpb3JpdHk9NTAwLHRoaXMucmVnaXN0ZXJGb3JFeHRyYUV2ZW50cz0hMSx0aGlzLl9tYXRlcmlhbD1lLHRoaXMubmFtZT10LHRoaXMucHJpb3JpdHk9aSxlLnBsdWdpbk1hbmFnZXJ8fChlLnBsdWdpbk1hbmFnZXI9bmV3IHRpKGUpLGUub25EaXNwb3NlT2JzZXJ2YWJsZS5hZGQoKCk9PntlLnBsdWdpbk1hbmFnZXI9dm9pZCAwfSkpLHRoaXMuX3BsdWdpbkRlZmluZU5hbWVzPXMsdGhpcy5fcGx1Z2luTWFuYWdlcj1lLnBsdWdpbk1hbmFnZXIsciYmdGhpcy5fcGx1Z2luTWFuYWdlci5fYWRkUGx1Z2luKHRoaXMpLG4mJnRoaXMuX2VuYWJsZSghMCksdGhpcy5tYXJrQWxsRGVmaW5lc0FzRGlydHk9ZS5fZGlydHlDYWxsYmFja3NbNjNdfWdldENsYXNzTmFtZSgpe3JldHVybiJNYXRlcmlhbFBsdWdpbkJhc2UifWlzUmVhZHlGb3JTdWJNZXNoKGUsdCxpLHMpe3JldHVybiEwfWhhcmRCaW5kRm9yU3ViTWVzaChlLHQsaSxzKXt9YmluZEZvclN1Yk1lc2goZSx0LGkscyl7fWRpc3Bvc2UoZSl7fWdldEN1c3RvbUNvZGUoZSl7cmV0dXJuIG51bGx9Y29sbGVjdERlZmluZXMoZSl7aWYodGhpcy5fcGx1Z2luRGVmaW5lTmFtZXMpZm9yKGNvbnN0IHQgb2YgT2JqZWN0LmtleXModGhpcy5fcGx1Z2luRGVmaW5lTmFtZXMpKXtpZih0WzBdPT09Il8iKWNvbnRpbnVlO2NvbnN0IGk9dHlwZW9mIHRoaXMuX3BsdWdpbkRlZmluZU5hbWVzW3RdO2VbdF09e3R5cGU6aT09PSJudW1iZXIiPyJudW1iZXIiOmk9PT0ic3RyaW5nIj8ic3RyaW5nIjppPT09ImJvb2xlYW4iPyJib29sZWFuIjoib2JqZWN0IixkZWZhdWx0OnRoaXMuX3BsdWdpbkRlZmluZU5hbWVzW3RdfX19cHJlcGFyZURlZmluZXNCZWZvcmVBdHRyaWJ1dGVzKGUsdCxpKXt9cHJlcGFyZURlZmluZXMoZSx0LGkpe31oYXNUZXh0dXJlKGUpe3JldHVybiExfWhhc1JlbmRlclRhcmdldFRleHR1cmVzKCl7cmV0dXJuITF9ZmlsbFJlbmRlclRhcmdldFRleHR1cmVzKGUpe31nZXRBY3RpdmVUZXh0dXJlcyhlKXt9Z2V0QW5pbWF0YWJsZXMoZSl7fWFkZEZhbGxiYWNrcyhlLHQsaSl7cmV0dXJuIGl9Z2V0U2FtcGxlcnMoZSl7fWdldEF0dHJpYnV0ZXMoZSx0LGkpe31nZXRVbmlmb3JtQnVmZmVyc05hbWVzKGUpe31nZXRVbmlmb3Jtcygpe3JldHVybnt9fWNvcHlUbyhlKXtuZS5DbG9uZSgoKT0+ZSx0aGlzKX1zZXJpYWxpemUoKXtyZXR1cm4gbmUuU2VyaWFsaXplKHRoaXMpfXBhcnNlKGUsdCxpKXtuZS5QYXJzZSgoKT0+dGhpcyxlLHQsaSl9fVQoW3koKV0sZHMucHJvdG90eXBlLCJuYW1lIix2b2lkIDApLFQoW3koKV0sZHMucHJvdG90eXBlLCJwcmlvcml0eSIsdm9pZCAwKSxUKFt5KCldLGRzLnByb3RvdHlwZSwicmVnaXN0ZXJGb3JFeHRyYUV2ZW50cyIsdm9pZCAwKTtjbGFzcyBSbCBleHRlbmRzIEZze2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSx0aGlzLkRFVEFJTD0hMSx0aGlzLkRFVEFJTERJUkVDVFVWPTAsdGhpcy5ERVRBSUxfTk9STUFMQkxFTkRNRVRIT0Q9MH19Y2xhc3MgbWkgZXh0ZW5kcyBkc3tfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpe3RoaXMuX2VuYWJsZSh0aGlzLl9pc0VuYWJsZWQpLHRoaXMuX2ludGVybmFsTWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpfWNvbnN0cnVjdG9yKGUsdD0hMCl7c3VwZXIoZSwiRGV0YWlsTWFwIiwxNDAsbmV3IFJsLHQpLHRoaXMuX3RleHR1cmU9bnVsbCx0aGlzLmRpZmZ1c2VCbGVuZExldmVsPTEsdGhpcy5yb3VnaG5lc3NCbGVuZExldmVsPTEsdGhpcy5idW1wTGV2ZWw9MSx0aGlzLl9ub3JtYWxCbGVuZE1ldGhvZD1ELk1BVEVSSUFMX05PUk1BTEJMRU5ETUVUSE9EX1dISVRFT1VULHRoaXMuX2lzRW5hYmxlZD0hMSx0aGlzLmlzRW5hYmxlZD0hMSx0aGlzLl9pbnRlcm5hbE1hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHk9ZS5fZGlydHlDYWxsYmFja3NbMV19aXNSZWFkeUZvclN1Yk1lc2goZSx0LGkpe3JldHVybiB0aGlzLl9pc0VuYWJsZWQ/IShlLl9hcmVUZXh0dXJlc0RpcnR5JiZ0LnRleHR1cmVzRW5hYmxlZCYmaS5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmdGhpcy5fdGV4dHVyZSYmY2UuRGV0YWlsVGV4dHVyZUVuYWJsZWQmJiF0aGlzLl90ZXh0dXJlLmlzUmVhZHkoKSk6ITB9cHJlcGFyZURlZmluZXMoZSx0KXtpZih0aGlzLl9pc0VuYWJsZWQpe2UuREVUQUlMX05PUk1BTEJMRU5ETUVUSE9EPXRoaXMuX25vcm1hbEJsZW5kTWV0aG9kO2NvbnN0IGk9dC5nZXRFbmdpbmUoKTtlLl9hcmVUZXh0dXJlc0RpcnR5JiYoaS5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmdGhpcy5fdGV4dHVyZSYmY2UuRGV0YWlsVGV4dHVyZUVuYWJsZWQmJnRoaXMuX2lzRW5hYmxlZD8oc2UuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl90ZXh0dXJlLGUsIkRFVEFJTCIpLGUuREVUQUlMX05PUk1BTEJMRU5ETUVUSE9EPXRoaXMuX25vcm1hbEJsZW5kTWV0aG9kKTplLkRFVEFJTD0hMSl9ZWxzZSBlLkRFVEFJTD0hMX1iaW5kRm9yU3ViTWVzaChlLHQpe2lmKCF0aGlzLl9pc0VuYWJsZWQpcmV0dXJuO2NvbnN0IGk9dGhpcy5fbWF0ZXJpYWwuaXNGcm96ZW47KCFlLnVzZVVib3x8IWl8fCFlLmlzU3luYykmJnRoaXMuX3RleHR1cmUmJmNlLkRldGFpbFRleHR1cmVFbmFibGVkJiYoZS51cGRhdGVGbG9hdDQoInZEZXRhaWxJbmZvcyIsdGhpcy5fdGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuZGlmZnVzZUJsZW5kTGV2ZWwsdGhpcy5idW1wTGV2ZWwsdGhpcy5yb3VnaG5lc3NCbGVuZExldmVsKSxzZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl90ZXh0dXJlLGUsImRldGFpbCIpKSx0LnRleHR1cmVzRW5hYmxlZCYmdGhpcy5fdGV4dHVyZSYmY2UuRGV0YWlsVGV4dHVyZUVuYWJsZWQmJmUuc2V0VGV4dHVyZSgiZGV0YWlsU2FtcGxlciIsdGhpcy5fdGV4dHVyZSl9aGFzVGV4dHVyZShlKXtyZXR1cm4gdGhpcy5fdGV4dHVyZT09PWV9Z2V0QWN0aXZlVGV4dHVyZXMoZSl7dGhpcy5fdGV4dHVyZSYmZS5wdXNoKHRoaXMuX3RleHR1cmUpfWdldEFuaW1hdGFibGVzKGUpe3RoaXMuX3RleHR1cmUmJnRoaXMuX3RleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fdGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fdGV4dHVyZSl9ZGlzcG9zZShlKXt2YXIgdDtlJiYoKHQ9dGhpcy5fdGV4dHVyZSk9PT1udWxsfHx0PT09dm9pZCAwfHx0LmRpc3Bvc2UoKSl9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIkRldGFpbE1hcENvbmZpZ3VyYXRpb24ifWdldFNhbXBsZXJzKGUpe2UucHVzaCgiZGV0YWlsU2FtcGxlciIpfWdldFVuaWZvcm1zKCl7cmV0dXJue3Vibzpbe25hbWU6InZEZXRhaWxJbmZvcyIsc2l6ZTo0LHR5cGU6InZlYzQifSx7bmFtZToiZGV0YWlsTWF0cml4IixzaXplOjE2LHR5cGU6Im1hdDQifV19fX1UKFt2dCgiZGV0YWlsVGV4dHVyZSIpLFRlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxtaS5wcm90b3R5cGUsInRleHR1cmUiLHZvaWQgMCksVChbeSgpXSxtaS5wcm90b3R5cGUsImRpZmZ1c2VCbGVuZExldmVsIix2b2lkIDApLFQoW3koKV0sbWkucHJvdG90eXBlLCJyb3VnaG5lc3NCbGVuZExldmVsIix2b2lkIDApLFQoW3koKV0sbWkucHJvdG90eXBlLCJidW1wTGV2ZWwiLHZvaWQgMCksVChbeSgpLFRlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxtaS5wcm90b3R5cGUsIm5vcm1hbEJsZW5kTWV0aG9kIix2b2lkIDApLFQoW3koKSxUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sbWkucHJvdG90eXBlLCJpc0VuYWJsZWQiLHZvaWQgMCk7Y29uc3QgWnM9e2VmZmVjdDpudWxsLHN1Yk1lc2g6bnVsbH07Y2xhc3MgeWwgZXh0ZW5kcyBGc3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSx0aGlzLk1BSU5VVjE9ITEsdGhpcy5NQUlOVVYyPSExLHRoaXMuTUFJTlVWMz0hMSx0aGlzLk1BSU5VVjQ9ITEsdGhpcy5NQUlOVVY1PSExLHRoaXMuTUFJTlVWNj0hMSx0aGlzLkRJRkZVU0U9ITEsdGhpcy5ESUZGVVNFRElSRUNUVVY9MCx0aGlzLkJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRT0hMSx0aGlzLkFNQklFTlQ9ITEsdGhpcy5BTUJJRU5URElSRUNUVVY9MCx0aGlzLk9QQUNJVFk9ITEsdGhpcy5PUEFDSVRZRElSRUNUVVY9MCx0aGlzLk9QQUNJVFlSR0I9ITEsdGhpcy5SRUZMRUNUSU9OPSExLHRoaXMuRU1JU1NJVkU9ITEsdGhpcy5FTUlTU0lWRURJUkVDVFVWPTAsdGhpcy5TUEVDVUxBUj0hMSx0aGlzLlNQRUNVTEFSRElSRUNUVVY9MCx0aGlzLkJVTVA9ITEsdGhpcy5CVU1QRElSRUNUVVY9MCx0aGlzLlBBUkFMTEFYPSExLHRoaXMuUEFSQUxMQVhPQ0NMVVNJT049ITEsdGhpcy5TUEVDVUxBUk9WRVJBTFBIQT0hMSx0aGlzLkNMSVBQTEFORT0hMSx0aGlzLkNMSVBQTEFORTI9ITEsdGhpcy5DTElQUExBTkUzPSExLHRoaXMuQ0xJUFBMQU5FND0hMSx0aGlzLkNMSVBQTEFORTU9ITEsdGhpcy5DTElQUExBTkU2PSExLHRoaXMuQUxQSEFURVNUPSExLHRoaXMuREVQVEhQUkVQQVNTPSExLHRoaXMuQUxQSEFGUk9NRElGRlVTRT0hMSx0aGlzLlBPSU5UU0laRT0hMSx0aGlzLkZPRz0hMSx0aGlzLlNQRUNVTEFSVEVSTT0hMSx0aGlzLkRJRkZVU0VGUkVTTkVMPSExLHRoaXMuT1BBQ0lUWUZSRVNORUw9ITEsdGhpcy5SRUZMRUNUSU9ORlJFU05FTD0hMSx0aGlzLlJFRlJBQ1RJT05GUkVTTkVMPSExLHRoaXMuRU1JU1NJVkVGUkVTTkVMPSExLHRoaXMuRlJFU05FTD0hMSx0aGlzLk5PUk1BTD0hMSx0aGlzLlRBTkdFTlQ9ITEsdGhpcy5VVjE9ITEsdGhpcy5VVjI9ITEsdGhpcy5VVjM9ITEsdGhpcy5VVjQ9ITEsdGhpcy5VVjU9ITEsdGhpcy5VVjY9ITEsdGhpcy5WRVJURVhDT0xPUj0hMSx0aGlzLlZFUlRFWEFMUEhBPSExLHRoaXMuTlVNX0JPTkVfSU5GTFVFTkNFUlM9MCx0aGlzLkJvbmVzUGVyTWVzaD0wLHRoaXMuQk9ORVRFWFRVUkU9ITEsdGhpcy5CT05FU19WRUxPQ0lUWV9FTkFCTEVEPSExLHRoaXMuSU5TVEFOQ0VTPSExLHRoaXMuVEhJTl9JTlNUQU5DRVM9ITEsdGhpcy5JTlNUQU5DRVNDT0xPUj0hMSx0aGlzLkdMT1NTSU5FU1M9ITEsdGhpcy5ST1VHSE5FU1M9ITEsdGhpcy5FTUlTU0lWRUFTSUxMVU1JTkFUSU9OPSExLHRoaXMuTElOS0VNSVNTSVZFV0lUSERJRkZVU0U9ITEsdGhpcy5SRUZMRUNUSU9ORlJFU05FTEZST01TUEVDVUxBUj0hMSx0aGlzLkxJR0hUTUFQPSExLHRoaXMuTElHSFRNQVBESVJFQ1RVVj0wLHRoaXMuT0JKRUNUU1BBQ0VfTk9STUFMTUFQPSExLHRoaXMuVVNFTElHSFRNQVBBU1NIQURPV01BUD0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfM0Q9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX1NQSEVSSUNBTD0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfUExBTkFSPSExLHRoaXMuUkVGTEVDVElPTk1BUF9DVUJJQz0hMSx0aGlzLlVTRV9MT0NBTF9SRUZMRUNUSU9OTUFQX0NVQklDPSExLHRoaXMuVVNFX0xPQ0FMX1JFRlJBQ1RJT05NQVBfQ1VCSUM9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX1BST0pFQ1RJT049ITEsdGhpcy5SRUZMRUNUSU9OTUFQX1NLWUJPWD0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfRVhQTElDSVQ9ITEsdGhpcy5SRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUj0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEPSExLHRoaXMuUkVGTEVDVElPTk1BUF9NSVJST1JFREVRVUlSRUNUQU5HVUxBUl9GSVhFRD0hMSx0aGlzLlJFRkxFQ1RJT05NQVBfT1BQT1NJVEVaPSExLHRoaXMuSU5WRVJUQ1VCSUNNQVA9ITEsdGhpcy5MT0dBUklUSE1JQ0RFUFRIPSExLHRoaXMuUkVGUkFDVElPTj0hMSx0aGlzLlJFRlJBQ1RJT05NQVBfM0Q9ITEsdGhpcy5SRUZMRUNUSU9OT1ZFUkFMUEhBPSExLHRoaXMuVFdPU0lERURMSUdIVElORz0hMSx0aGlzLlNIQURPV0ZMT0FUPSExLHRoaXMuTU9SUEhUQVJHRVRTPSExLHRoaXMuTU9SUEhUQVJHRVRTX05PUk1BTD0hMSx0aGlzLk1PUlBIVEFSR0VUU19UQU5HRU5UPSExLHRoaXMuTU9SUEhUQVJHRVRTX1VWPSExLHRoaXMuTlVNX01PUlBIX0lORkxVRU5DRVJTPTAsdGhpcy5NT1JQSFRBUkdFVFNfVEVYVFVSRT0hMSx0aGlzLk5PTlVOSUZPUk1TQ0FMSU5HPSExLHRoaXMuUFJFTVVMVElQTFlBTFBIQT0hMSx0aGlzLkFMUEhBVEVTVF9BRlRFUkFMTEFMUEhBQ09NUFVUQVRJT05TPSExLHRoaXMuQUxQSEFCTEVORD0hMCx0aGlzLlBSRVBBU1M9ITEsdGhpcy5QUkVQQVNTX0lSUkFESUFOQ0U9ITEsdGhpcy5QUkVQQVNTX0lSUkFESUFOQ0VfSU5ERVg9LTEsdGhpcy5QUkVQQVNTX0FMQkVET19TUVJUPSExLHRoaXMuUFJFUEFTU19BTEJFRE9fU1FSVF9JTkRFWD0tMSx0aGlzLlBSRVBBU1NfREVQVEg9ITEsdGhpcy5QUkVQQVNTX0RFUFRIX0lOREVYPS0xLHRoaXMuUFJFUEFTU19OT1JNQUw9ITEsdGhpcy5QUkVQQVNTX05PUk1BTF9JTkRFWD0tMSx0aGlzLlBSRVBBU1NfUE9TSVRJT049ITEsdGhpcy5QUkVQQVNTX1BPU0lUSU9OX0lOREVYPS0xLHRoaXMuUFJFUEFTU19WRUxPQ0lUWT0hMSx0aGlzLlBSRVBBU1NfVkVMT0NJVFlfSU5ERVg9LTEsdGhpcy5QUkVQQVNTX1JFRkxFQ1RJVklUWT0hMSx0aGlzLlBSRVBBU1NfUkVGTEVDVElWSVRZX0lOREVYPS0xLHRoaXMuU0NFTkVfTVJUX0NPVU5UPTAsdGhpcy5SR0JETElHSFRNQVA9ITEsdGhpcy5SR0JEUkVGTEVDVElPTj0hMSx0aGlzLlJHQkRSRUZSQUNUSU9OPSExLHRoaXMuSU1BR0VQUk9DRVNTSU5HPSExLHRoaXMuVklHTkVUVEU9ITEsdGhpcy5WSUdORVRURUJMRU5ETU9ERU1VTFRJUExZPSExLHRoaXMuVklHTkVUVEVCTEVORE1PREVPUEFRVUU9ITEsdGhpcy5UT05FTUFQUElORz0hMSx0aGlzLlRPTkVNQVBQSU5HX0FDRVM9ITEsdGhpcy5DT05UUkFTVD0hMSx0aGlzLkNPTE9SQ1VSVkVTPSExLHRoaXMuQ09MT1JHUkFESU5HPSExLHRoaXMuQ09MT1JHUkFESU5HM0Q9ITEsdGhpcy5TQU1QTEVSM0RHUkVFTkRFUFRIPSExLHRoaXMuU0FNUExFUjNEQkdSTUFQPSExLHRoaXMuRElUSEVSPSExLHRoaXMuSU1BR0VQUk9DRVNTSU5HUE9TVFBST0NFU1M9ITEsdGhpcy5TS0lQRklOQUxDT0xPUkNMQU1QPSExLHRoaXMuTVVMVElWSUVXPSExLHRoaXMuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZPSExLHRoaXMuT1JERVJfSU5ERVBFTkRFTlRfVFJBTlNQQVJFTkNZXzE2QklUUz0hMSx0aGlzLkNBTUVSQV9PUlRIT0dSQVBISUM9ITEsdGhpcy5DQU1FUkFfUEVSU1BFQ1RJVkU9ITEsdGhpcy5JU19SRUZMRUNUSU9OX0xJTkVBUj0hMSx0aGlzLklTX1JFRlJBQ1RJT05fTElORUFSPSExLHRoaXMuRVhQT1NVUkU9ITEsdGhpcy5yZWJ1aWxkKCl9c2V0UmVmbGVjdGlvbk1vZGUoZSl7Y29uc3QgdD1bIlJFRkxFQ1RJT05NQVBfQ1VCSUMiLCJSRUZMRUNUSU9OTUFQX0VYUExJQ0lUIiwiUkVGTEVDVElPTk1BUF9QTEFOQVIiLCJSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04iLCJSRUZMRUNUSU9OTUFQX1BST0pFQ1RJT04iLCJSRUZMRUNUSU9OTUFQX1NLWUJPWCIsIlJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMIiwiUkVGTEVDVElPTk1BUF9FUVVJUkVDVEFOR1VMQVIiLCJSRUZMRUNUSU9OTUFQX0VRVUlSRUNUQU5HVUxBUl9GSVhFRCIsIlJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQiXTtmb3IoY29uc3QgaSBvZiB0KXRoaXNbaV09aT09PWV9fWNsYXNzIEIgZXh0ZW5kcyBIcntnZXQgaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbigpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9ufXNldCBpbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKGUpe3RoaXMuX2F0dGFjaEltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24oZSksdGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSgpfV9hdHRhY2hJbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uKGUpe2UhPT10aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiYodGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbiYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXImJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24ub25VcGRhdGVQYXJhbWV0ZXJzLnJlbW92ZSh0aGlzLl9pbWFnZVByb2Nlc3NpbmdPYnNlcnZlciksZT90aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uPWU6dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbj10aGlzLmdldFNjZW5lKCkuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbix0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiYodGhpcy5faW1hZ2VQcm9jZXNzaW5nT2JzZXJ2ZXI9dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5vblVwZGF0ZVBhcmFtZXRlcnMuYWRkKCgpPT57dGhpcy5fbWFya0FsbFN1Yk1lc2hlc0FzSW1hZ2VQcm9jZXNzaW5nRGlydHkoKX0pKSl9Z2V0IGlzUHJlUGFzc0NhcGFibGUoKXtyZXR1cm4hdGhpcy5kaXNhYmxlRGVwdGhXcml0ZX1nZXQgY2FtZXJhQ29sb3JDdXJ2ZXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckN1cnZlc0VuYWJsZWR9c2V0IGNhbWVyYUNvbG9yQ3VydmVzRW5hYmxlZChlKXt0aGlzLmltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JDdXJ2ZXNFbmFibGVkPWV9Z2V0IGNhbWVyYUNvbG9yR3JhZGluZ0VuYWJsZWQoKXtyZXR1cm4gdGhpcy5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yR3JhZGluZ0VuYWJsZWR9c2V0IGNhbWVyYUNvbG9yR3JhZGluZ0VuYWJsZWQoZSl7dGhpcy5pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yR3JhZGluZ0VuYWJsZWQ9ZX1nZXQgY2FtZXJhVG9uZU1hcHBpbmdFbmFibGVkKCl7cmV0dXJuIHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24udG9uZU1hcHBpbmdFbmFibGVkfXNldCBjYW1lcmFUb25lTWFwcGluZ0VuYWJsZWQoZSl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi50b25lTWFwcGluZ0VuYWJsZWQ9ZX1nZXQgY2FtZXJhRXhwb3N1cmUoKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5leHBvc3VyZX1zZXQgY2FtZXJhRXhwb3N1cmUoZSl7dGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5leHBvc3VyZT1lfWdldCBjYW1lcmFDb250cmFzdCgpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbnRyYXN0fXNldCBjYW1lcmFDb250cmFzdChlKXt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbnRyYXN0PWV9Z2V0IGNhbWVyYUNvbG9yR3JhZGluZ1RleHR1cmUoKXtyZXR1cm4gdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5jb2xvckdyYWRpbmdUZXh0dXJlfXNldCBjYW1lcmFDb2xvckdyYWRpbmdUZXh0dXJlKGUpe3RoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24uY29sb3JHcmFkaW5nVGV4dHVyZT1lfWdldCBjYW1lcmFDb2xvckN1cnZlcygpe3JldHVybiB0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yQ3VydmVzfXNldCBjYW1lcmFDb2xvckN1cnZlcyhlKXt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmNvbG9yQ3VydmVzPWV9Z2V0IGNhblJlbmRlclRvTVJUKCl7cmV0dXJuITB9Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuX2RpZmZ1c2VUZXh0dXJlPW51bGwsdGhpcy5fYW1iaWVudFRleHR1cmU9bnVsbCx0aGlzLl9vcGFjaXR5VGV4dHVyZT1udWxsLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlPW51bGwsdGhpcy5fZW1pc3NpdmVUZXh0dXJlPW51bGwsdGhpcy5fc3BlY3VsYXJUZXh0dXJlPW51bGwsdGhpcy5fYnVtcFRleHR1cmU9bnVsbCx0aGlzLl9saWdodG1hcFRleHR1cmU9bnVsbCx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZT1udWxsLHRoaXMuYW1iaWVudENvbG9yPW5ldyByZSgwLDAsMCksdGhpcy5kaWZmdXNlQ29sb3I9bmV3IHJlKDEsMSwxKSx0aGlzLnNwZWN1bGFyQ29sb3I9bmV3IHJlKDEsMSwxKSx0aGlzLmVtaXNzaXZlQ29sb3I9bmV3IHJlKDAsMCwwKSx0aGlzLnNwZWN1bGFyUG93ZXI9NjQsdGhpcy5fdXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmU9ITEsdGhpcy5fdXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbj0hMSx0aGlzLl9saW5rRW1pc3NpdmVXaXRoRGlmZnVzZT0hMSx0aGlzLl91c2VTcGVjdWxhck92ZXJBbHBoYT0hMSx0aGlzLl91c2VSZWZsZWN0aW9uT3ZlckFscGhhPSExLHRoaXMuX2Rpc2FibGVMaWdodGluZz0hMSx0aGlzLl91c2VPYmplY3RTcGFjZU5vcm1hbE1hcD0hMSx0aGlzLl91c2VQYXJhbGxheD0hMSx0aGlzLl91c2VQYXJhbGxheE9jY2x1c2lvbj0hMSx0aGlzLnBhcmFsbGF4U2NhbGVCaWFzPS4wNSx0aGlzLl9yb3VnaG5lc3M9MCx0aGlzLmluZGV4T2ZSZWZyYWN0aW9uPS45OCx0aGlzLmludmVydFJlZnJhY3Rpb25ZPSEwLHRoaXMuYWxwaGFDdXRPZmY9LjQsdGhpcy5fdXNlTGlnaHRtYXBBc1NoYWRvd21hcD0hMSx0aGlzLl91c2VSZWZsZWN0aW9uRnJlc25lbEZyb21TcGVjdWxhcj0hMSx0aGlzLl91c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGE9ITEsdGhpcy5fbWF4U2ltdWx0YW5lb3VzTGlnaHRzPTQsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWD0hMSx0aGlzLl9pbnZlcnROb3JtYWxNYXBZPSExLHRoaXMuX3R3b1NpZGVkTGlnaHRpbmc9ITEsdGhpcy5fcmVuZGVyVGFyZ2V0cz1uZXcgSmUoMTYpLHRoaXMuX3dvcmxkVmlld1Byb2plY3Rpb25NYXRyaXg9TS5aZXJvKCksdGhpcy5fZ2xvYmFsQW1iaWVudENvbG9yPW5ldyByZSgwLDAsMCksdGhpcy5fY2FjaGVIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcz0hMSx0aGlzLmRldGFpbE1hcD1uZXcgbWkodGhpcyksdGhpcy5fYXR0YWNoSW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbihudWxsKSx0aGlzLnByZVBhc3NDb25maWd1cmF0aW9uPW5ldyBYcix0aGlzLmdldFJlbmRlclRhcmdldFRleHR1cmVzPSgpPT4odGhpcy5fcmVuZGVyVGFyZ2V0cy5yZXNldCgpLEIuUmVmbGVjdGlvblRleHR1cmVFbmFibGVkJiZ0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNSZW5kZXJUYXJnZXQmJnRoaXMuX3JlbmRlclRhcmdldHMucHVzaCh0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSksQi5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQmJnRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZ0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc1JlbmRlclRhcmdldCYmdGhpcy5fcmVuZGVyVGFyZ2V0cy5wdXNoKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKSx0aGlzLl9ldmVudEluZm8ucmVuZGVyVGFyZ2V0cz10aGlzLl9yZW5kZXJUYXJnZXRzLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRGaWxsUmVuZGVyVGFyZ2V0VGV4dHVyZXModGhpcy5fZXZlbnRJbmZvKSx0aGlzLl9yZW5kZXJUYXJnZXRzKX1nZXQgaGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXMoKXtyZXR1cm4gQi5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQmJnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZ0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc1JlbmRlclRhcmdldHx8Qi5SZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQmJnRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZ0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc1JlbmRlclRhcmdldD8hMDp0aGlzLl9jYWNoZUhhc1JlbmRlclRhcmdldFRleHR1cmVzfWdldENsYXNzTmFtZSgpe3JldHVybiJTdGFuZGFyZE1hdGVyaWFsIn1nZXQgdXNlTG9nYXJpdGhtaWNEZXB0aCgpe3JldHVybiB0aGlzLl91c2VMb2dhcml0aG1pY0RlcHRofXNldCB1c2VMb2dhcml0aG1pY0RlcHRoKGUpe3RoaXMuX3VzZUxvZ2FyaXRobWljRGVwdGg9ZSYmdGhpcy5nZXRTY2VuZSgpLmdldEVuZ2luZSgpLmdldENhcHMoKS5mcmFnbWVudERlcHRoU3VwcG9ydGVkLHRoaXMuX21hcmtBbGxTdWJNZXNoZXNBc01pc2NEaXJ0eSgpfW5lZWRBbHBoYUJsZW5kaW5nKCl7cmV0dXJuIHRoaXMuX2Rpc2FibGVBbHBoYUJsZW5kaW5nPyExOnRoaXMuYWxwaGE8MXx8dGhpcy5fb3BhY2l0eVRleHR1cmUhPW51bGx8fHRoaXMuX3Nob3VsZFVzZUFscGhhRnJvbURpZmZ1c2VUZXh0dXJlKCl8fHRoaXMuX29wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5fb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLmlzRW5hYmxlZH1uZWVkQWxwaGFUZXN0aW5nKCl7cmV0dXJuIHRoaXMuX2ZvcmNlQWxwaGFUZXN0PyEwOnRoaXMuX2hhc0FscGhhQ2hhbm5lbCgpJiYodGhpcy5fdHJhbnNwYXJlbmN5TW9kZT09bnVsbHx8dGhpcy5fdHJhbnNwYXJlbmN5TW9kZT09PUQuTUFURVJJQUxfQUxQSEFURVNUKX1fc2hvdWxkVXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUoKXtyZXR1cm4gdGhpcy5fZGlmZnVzZVRleHR1cmUhPW51bGwmJnRoaXMuX2RpZmZ1c2VUZXh0dXJlLmhhc0FscGhhJiZ0aGlzLl91c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSYmdGhpcy5fdHJhbnNwYXJlbmN5TW9kZSE9PUQuTUFURVJJQUxfT1BBUVVFfV9oYXNBbHBoYUNoYW5uZWwoKXtyZXR1cm4gdGhpcy5fZGlmZnVzZVRleHR1cmUhPW51bGwmJnRoaXMuX2RpZmZ1c2VUZXh0dXJlLmhhc0FscGhhfHx0aGlzLl9vcGFjaXR5VGV4dHVyZSE9bnVsbH1nZXRBbHBoYVRlc3RUZXh0dXJlKCl7cmV0dXJuIHRoaXMuX2RpZmZ1c2VUZXh0dXJlfWlzUmVhZHlGb3JTdWJNZXNoKGUsdCxpPSExKXtpZih0aGlzLl91bmlmb3JtQnVmZmVyTGF5b3V0QnVpbHR8fHRoaXMuYnVpbGRVbmlmb3JtTGF5b3V0KCksdC5lZmZlY3QmJnRoaXMuaXNGcm96ZW4mJnQuZWZmZWN0Ll93YXNQcmV2aW91c2x5UmVhZHkmJnQuZWZmZWN0Ll93YXNQcmV2aW91c2x5VXNpbmdJbnN0YW5jZXM9PT1pKXJldHVybiEwO3QubWF0ZXJpYWxEZWZpbmVzfHwodGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEdlbmVyaWMoZXQuR2V0RGVmaW5lTmFtZXMsdGhpcy5fZXZlbnRJbmZvKSx0Lm1hdGVyaWFsRGVmaW5lcz1uZXcgeWwodGhpcy5fZXZlbnRJbmZvLmRlZmluZU5hbWVzKSk7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkscj10Lm1hdGVyaWFsRGVmaW5lcztpZih0aGlzLl9pc1JlYWR5Rm9yU3ViTWVzaCh0KSlyZXR1cm4hMDtjb25zdCBuPXMuZ2V0RW5naW5lKCk7ci5fbmVlZE5vcm1hbHM9c2UuUHJlcGFyZURlZmluZXNGb3JMaWdodHMocyxlLHIsITAsdGhpcy5fbWF4U2ltdWx0YW5lb3VzTGlnaHRzLHRoaXMuX2Rpc2FibGVMaWdodGluZyksc2UuUHJlcGFyZURlZmluZXNGb3JNdWx0aXZpZXcocyxyKTtjb25zdCBhPXRoaXMubmVlZEFscGhhQmxlbmRpbmdGb3JNZXNoKGUpJiZ0aGlzLmdldFNjZW5lKCkudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeTtpZihzZS5QcmVwYXJlRGVmaW5lc0ZvclByZVBhc3MocyxyLHRoaXMuY2FuUmVuZGVyVG9NUlQmJiFhKSxzZS5QcmVwYXJlRGVmaW5lc0Zvck9JVChzLHIsYSksci5fYXJlVGV4dHVyZXNEaXJ0eSl7dGhpcy5fZXZlbnRJbmZvLmhhc1JlbmRlclRhcmdldFRleHR1cmVzPSExLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRIYXNSZW5kZXJUYXJnZXRUZXh0dXJlcyh0aGlzLl9ldmVudEluZm8pLHRoaXMuX2NhY2hlSGFzUmVuZGVyVGFyZ2V0VGV4dHVyZXM9dGhpcy5fZXZlbnRJbmZvLmhhc1JlbmRlclRhcmdldFRleHR1cmVzLHIuX25lZWRVVnM9ITE7Zm9yKGxldCBoPTE7aDw9NjsrK2gpclsiTUFJTlVWIitoXT0hMTtpZihzLnRleHR1cmVzRW5hYmxlZCl7aWYoci5ESUZGVVNFRElSRUNUVVY9MCxyLkJVTVBESVJFQ1RVVj0wLHIuQU1CSUVOVERJUkVDVFVWPTAsci5PUEFDSVRZRElSRUNUVVY9MCxyLkVNSVNTSVZFRElSRUNUVVY9MCxyLlNQRUNVTEFSRElSRUNUVVY9MCxyLkxJR0hUTUFQRElSRUNUVVY9MCx0aGlzLl9kaWZmdXNlVGV4dHVyZSYmQi5EaWZmdXNlVGV4dHVyZUVuYWJsZWQpaWYodGhpcy5fZGlmZnVzZVRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlzZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2RpZmZ1c2VUZXh0dXJlLHIsIkRJRkZVU0UiKTtlbHNlIHJldHVybiExO2Vsc2Ugci5ESUZGVVNFPSExO2lmKHRoaXMuX2FtYmllbnRUZXh0dXJlJiZCLkFtYmllbnRUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9hbWJpZW50VGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKXNlLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fYW1iaWVudFRleHR1cmUsciwiQU1CSUVOVCIpO2Vsc2UgcmV0dXJuITE7ZWxzZSByLkFNQklFTlQ9ITE7aWYodGhpcy5fb3BhY2l0eVRleHR1cmUmJkIuT3BhY2l0eVRleHR1cmVFbmFibGVkKWlmKHRoaXMuX29wYWNpdHlUZXh0dXJlLmlzUmVhZHlPck5vdEJsb2NraW5nKCkpc2UuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9vcGFjaXR5VGV4dHVyZSxyLCJPUEFDSVRZIiksci5PUEFDSVRZUkdCPXRoaXMuX29wYWNpdHlUZXh0dXJlLmdldEFscGhhRnJvbVJHQjtlbHNlIHJldHVybiExO2Vsc2Ugci5PUEFDSVRZPSExO2lmKHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlJiZCLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZClpZih0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKXtzd2l0Y2goci5fbmVlZE5vcm1hbHM9ITAsci5SRUZMRUNUSU9OPSEwLHIuUk9VR0hORVNTPXRoaXMuX3JvdWdobmVzcz4wLHIuUkVGTEVDVElPTk9WRVJBTFBIQT10aGlzLl91c2VSZWZsZWN0aW9uT3ZlckFscGhhLHIuSU5WRVJUQ1VCSUNNQVA9dGhpcy5fcmVmbGVjdGlvblRleHR1cmUuY29vcmRpbmF0ZXNNb2RlPT09Ti5JTlZDVUJJQ19NT0RFLHIuUkVGTEVDVElPTk1BUF8zRD10aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc0N1YmUsci5SRUZMRUNUSU9OTUFQX09QUE9TSVRFWj1yLlJFRkxFQ1RJT05NQVBfM0QmJnRoaXMuZ2V0U2NlbmUoKS51c2VSaWdodEhhbmRlZFN5c3RlbT8hdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaW52ZXJ0Wjp0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pbnZlcnRaLHIuUkdCRFJFRkxFQ1RJT049dGhpcy5fcmVmbGVjdGlvblRleHR1cmUuaXNSR0JELHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmNvb3JkaW5hdGVzTW9kZSl7Y2FzZSBOLkVYUExJQ0lUX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9FWFBMSUNJVCIpO2JyZWFrO2Nhc2UgTi5QTEFOQVJfTU9ERTpyLnNldFJlZmxlY3Rpb25Nb2RlKCJSRUZMRUNUSU9OTUFQX1BMQU5BUiIpO2JyZWFrO2Nhc2UgTi5QUk9KRUNUSU9OX01PREU6ci5zZXRSZWZsZWN0aW9uTW9kZSgiUkVGTEVDVElPTk1BUF9QUk9KRUNUSU9OIik7YnJlYWs7Y2FzZSBOLlNLWUJPWF9NT0RFOnIuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfU0tZQk9YIik7YnJlYWs7Y2FzZSBOLlNQSEVSSUNBTF9NT0RFOnIuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfU1BIRVJJQ0FMIik7YnJlYWs7Y2FzZSBOLkVRVUlSRUNUQU5HVUxBUl9NT0RFOnIuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSIik7YnJlYWs7Y2FzZSBOLkZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NT0RFOnIuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfRVFVSVJFQ1RBTkdVTEFSX0ZJWEVEIik7YnJlYWs7Y2FzZSBOLkZJWEVEX0VRVUlSRUNUQU5HVUxBUl9NSVJST1JFRF9NT0RFOnIuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfTUlSUk9SRURFUVVJUkVDVEFOR1VMQVJfRklYRUQiKTticmVhaztjYXNlIE4uQ1VCSUNfTU9ERTpjYXNlIE4uSU5WQ1VCSUNfTU9ERTpkZWZhdWx0OnIuc2V0UmVmbGVjdGlvbk1vZGUoIlJFRkxFQ1RJT05NQVBfQ1VCSUMiKTticmVha31yLlVTRV9MT0NBTF9SRUZMRUNUSU9OTUFQX0NVQklDPSEhdGhpcy5fcmVmbGVjdGlvblRleHR1cmUuYm91bmRpbmdCb3hTaXplfWVsc2UgcmV0dXJuITE7ZWxzZSByLlJFRkxFQ1RJT049ITEsci5SRUZMRUNUSU9OTUFQX09QUE9TSVRFWj0hMTtpZih0aGlzLl9lbWlzc2l2ZVRleHR1cmUmJkIuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9lbWlzc2l2ZVRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlzZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSxyLCJFTUlTU0lWRSIpO2Vsc2UgcmV0dXJuITE7ZWxzZSByLkVNSVNTSVZFPSExO2lmKHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmQi5MaWdodG1hcFRleHR1cmVFbmFibGVkKWlmKHRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKXNlLlByZXBhcmVEZWZpbmVzRm9yTWVyZ2VkVVYodGhpcy5fbGlnaHRtYXBUZXh0dXJlLHIsIkxJR0hUTUFQIiksci5VU0VMSUdIVE1BUEFTU0hBRE9XTUFQPXRoaXMuX3VzZUxpZ2h0bWFwQXNTaGFkb3dtYXAsci5SR0JETElHSFRNQVA9dGhpcy5fbGlnaHRtYXBUZXh0dXJlLmlzUkdCRDtlbHNlIHJldHVybiExO2Vsc2Ugci5MSUdIVE1BUD0hMTtpZih0aGlzLl9zcGVjdWxhclRleHR1cmUmJkIuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZClpZih0aGlzLl9zcGVjdWxhclRleHR1cmUuaXNSZWFkeU9yTm90QmxvY2tpbmcoKSlzZS5QcmVwYXJlRGVmaW5lc0Zvck1lcmdlZFVWKHRoaXMuX3NwZWN1bGFyVGV4dHVyZSxyLCJTUEVDVUxBUiIpLHIuR0xPU1NJTkVTUz10aGlzLl91c2VHbG9zc2luZXNzRnJvbVNwZWN1bGFyTWFwQWxwaGE7ZWxzZSByZXR1cm4hMTtlbHNlIHIuU1BFQ1VMQVI9ITE7aWYocy5nZXRFbmdpbmUoKS5nZXRDYXBzKCkuc3RhbmRhcmREZXJpdmF0aXZlcyYmdGhpcy5fYnVtcFRleHR1cmUmJkIuQnVtcFRleHR1cmVFbmFibGVkKXtpZih0aGlzLl9idW1wVGV4dHVyZS5pc1JlYWR5KCkpc2UuUHJlcGFyZURlZmluZXNGb3JNZXJnZWRVVih0aGlzLl9idW1wVGV4dHVyZSxyLCJCVU1QIiksci5QQVJBTExBWD10aGlzLl91c2VQYXJhbGxheCxyLlBBUkFMTEFYT0NDTFVTSU9OPXRoaXMuX3VzZVBhcmFsbGF4T2NjbHVzaW9uO2Vsc2UgcmV0dXJuITE7ci5PQkpFQ1RTUEFDRV9OT1JNQUxNQVA9dGhpcy5fdXNlT2JqZWN0U3BhY2VOb3JtYWxNYXB9ZWxzZSByLkJVTVA9ITEsci5QQVJBTExBWD0hMSxyLlBBUkFMTEFYT0NDTFVTSU9OPSExO2lmKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlJiZCLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZClpZih0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc1JlYWR5T3JOb3RCbG9ja2luZygpKXIuX25lZWRVVnM9ITAsci5SRUZSQUNUSU9OPSEwLHIuUkVGUkFDVElPTk1BUF8zRD10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc0N1YmUsci5SR0JEUkVGUkFDVElPTj10aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5pc1JHQkQsci5VU0VfTE9DQUxfUkVGUkFDVElPTk1BUF9DVUJJQz0hIXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmJvdW5kaW5nQm94U2l6ZTtlbHNlIHJldHVybiExO2Vsc2Ugci5SRUZSQUNUSU9OPSExO3IuVFdPU0lERURMSUdIVElORz0hdGhpcy5fYmFja0ZhY2VDdWxsaW5nJiZ0aGlzLl90d29TaWRlZExpZ2h0aW5nfWVsc2Ugci5ESUZGVVNFPSExLHIuQU1CSUVOVD0hMSxyLk9QQUNJVFk9ITEsci5SRUZMRUNUSU9OPSExLHIuRU1JU1NJVkU9ITEsci5MSUdIVE1BUD0hMSxyLkJVTVA9ITEsci5SRUZSQUNUSU9OPSExO3IuQUxQSEFGUk9NRElGRlVTRT10aGlzLl9zaG91bGRVc2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSgpLHIuRU1JU1NJVkVBU0lMTFVNSU5BVElPTj10aGlzLl91c2VFbWlzc2l2ZUFzSWxsdW1pbmF0aW9uLHIuTElOS0VNSVNTSVZFV0lUSERJRkZVU0U9dGhpcy5fbGlua0VtaXNzaXZlV2l0aERpZmZ1c2Usci5TUEVDVUxBUk9WRVJBTFBIQT10aGlzLl91c2VTcGVjdWxhck92ZXJBbHBoYSxyLlBSRU1VTFRJUExZQUxQSEE9dGhpcy5hbHBoYU1vZGU9PT03fHx0aGlzLmFscGhhTW9kZT09PTgsci5BTFBIQVRFU1RfQUZURVJBTExBTFBIQUNPTVBVVEFUSU9OUz10aGlzLnRyYW5zcGFyZW5jeU1vZGUhPT1udWxsLHIuQUxQSEFCTEVORD10aGlzLnRyYW5zcGFyZW5jeU1vZGU9PT1udWxsfHx0aGlzLm5lZWRBbHBoYUJsZW5kaW5nRm9yTWVzaChlKX1pZih0aGlzLl9ldmVudEluZm8uaXNSZWFkeUZvclN1Yk1lc2g9ITAsdGhpcy5fZXZlbnRJbmZvLmRlZmluZXM9cix0aGlzLl9ldmVudEluZm8uc3ViTWVzaD10LHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRJc1JlYWR5Rm9yU3ViTWVzaCh0aGlzLl9ldmVudEluZm8pLCF0aGlzLl9ldmVudEluZm8uaXNSZWFkeUZvclN1Yk1lc2gpcmV0dXJuITE7aWYoci5fYXJlSW1hZ2VQcm9jZXNzaW5nRGlydHkmJnRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24pe2lmKCF0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmlzUmVhZHkoKSlyZXR1cm4hMTt0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLnByZXBhcmVEZWZpbmVzKHIpLHIuSVNfUkVGTEVDVElPTl9MSU5FQVI9dGhpcy5yZWZsZWN0aW9uVGV4dHVyZSE9bnVsbCYmIXRoaXMucmVmbGVjdGlvblRleHR1cmUuZ2FtbWFTcGFjZSxyLklTX1JFRlJBQ1RJT05fTElORUFSPXRoaXMucmVmcmFjdGlvblRleHR1cmUhPW51bGwmJiF0aGlzLnJlZnJhY3Rpb25UZXh0dXJlLmdhbW1hU3BhY2V9ci5fYXJlRnJlc25lbERpcnR5JiYoQi5GcmVzbmVsRW5hYmxlZD8odGhpcy5fZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzfHx0aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnN8fHRoaXMuX2VtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnN8fHRoaXMuX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVyc3x8dGhpcy5fcmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzKSYmKHIuRElGRlVTRUZSRVNORUw9dGhpcy5fZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkLHIuT1BBQ0lUWUZSRVNORUw9dGhpcy5fb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkLHIuUkVGTEVDVElPTkZSRVNORUw9dGhpcy5fcmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzJiZ0aGlzLl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkLHIuUkVGTEVDVElPTkZSRVNORUxGUk9NU1BFQ1VMQVI9dGhpcy5fdXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXIsci5SRUZSQUNUSU9ORlJFU05FTD10aGlzLl9yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuX3JlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5FTUlTU0lWRUZSRVNORUw9dGhpcy5fZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5fZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQsci5fbmVlZE5vcm1hbHM9ITAsci5GUkVTTkVMPSEwKTpyLkZSRVNORUw9ITEpLHNlLlByZXBhcmVEZWZpbmVzRm9yTWlzYyhlLHMsdGhpcy5fdXNlTG9nYXJpdGhtaWNEZXB0aCx0aGlzLnBvaW50c0Nsb3VkLHRoaXMuZm9nRW5hYmxlZCx0aGlzLl9zaG91bGRUdXJuQWxwaGFUZXN0T24oZSl8fHRoaXMuX2ZvcmNlQWxwaGFUZXN0LHIpLHNlLlByZXBhcmVEZWZpbmVzRm9yRnJhbWVCb3VuZFZhbHVlcyhzLG4sdGhpcyxyLGksbnVsbCx0LmdldFJlbmRlcmluZ01lc2goKS5oYXNUaGluSW5zdGFuY2VzKSx0aGlzLl9ldmVudEluZm8uZGVmaW5lcz1yLHRoaXMuX2V2ZW50SW5mby5tZXNoPWUsdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudFByZXBhcmVEZWZpbmVzQmVmb3JlQXR0cmlidXRlcyh0aGlzLl9ldmVudEluZm8pLHNlLlByZXBhcmVEZWZpbmVzRm9yQXR0cmlidXRlcyhlLHIsITAsITAsITApLHRoaXMuX2NhbGxiYWNrUGx1Z2luRXZlbnRQcmVwYXJlRGVmaW5lcyh0aGlzLl9ldmVudEluZm8pO2xldCBvPSExO2lmKHIuaXNEaXJ0eSl7Y29uc3QgaD1yLl9hcmVMaWdodHNEaXNwb3NlZDtyLm1hcmtBc1Byb2Nlc3NlZCgpO2NvbnN0IGw9bmV3IFlzO3IuUkVGTEVDVElPTiYmbC5hZGRGYWxsYmFjaygwLCJSRUZMRUNUSU9OIiksci5TUEVDVUxBUiYmbC5hZGRGYWxsYmFjaygwLCJTUEVDVUxBUiIpLHIuQlVNUCYmbC5hZGRGYWxsYmFjaygwLCJCVU1QIiksci5QQVJBTExBWCYmbC5hZGRGYWxsYmFjaygxLCJQQVJBTExBWCIpLHIuUEFSQUxMQVhPQ0NMVVNJT04mJmwuYWRkRmFsbGJhY2soMCwiUEFSQUxMQVhPQ0NMVVNJT04iKSxyLlNQRUNVTEFST1ZFUkFMUEhBJiZsLmFkZEZhbGxiYWNrKDAsIlNQRUNVTEFST1ZFUkFMUEhBIiksci5GT0cmJmwuYWRkRmFsbGJhY2soMSwiRk9HIiksci5QT0lOVFNJWkUmJmwuYWRkRmFsbGJhY2soMCwiUE9JTlRTSVpFIiksci5MT0dBUklUSE1JQ0RFUFRIJiZsLmFkZEZhbGxiYWNrKDAsIkxPR0FSSVRITUlDREVQVEgiKSxzZS5IYW5kbGVGYWxsYmFja3NGb3JTaGFkb3dzKHIsbCx0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHMpLHIuU1BFQ1VMQVJURVJNJiZsLmFkZEZhbGxiYWNrKDAsIlNQRUNVTEFSVEVSTSIpLHIuRElGRlVTRUZSRVNORUwmJmwuYWRkRmFsbGJhY2soMSwiRElGRlVTRUZSRVNORUwiKSxyLk9QQUNJVFlGUkVTTkVMJiZsLmFkZEZhbGxiYWNrKDIsIk9QQUNJVFlGUkVTTkVMIiksci5SRUZMRUNUSU9ORlJFU05FTCYmbC5hZGRGYWxsYmFjaygzLCJSRUZMRUNUSU9ORlJFU05FTCIpLHIuRU1JU1NJVkVGUkVTTkVMJiZsLmFkZEZhbGxiYWNrKDQsIkVNSVNTSVZFRlJFU05FTCIpLHIuRlJFU05FTCYmbC5hZGRGYWxsYmFjayg0LCJGUkVTTkVMIiksci5NVUxUSVZJRVcmJmwuYWRkRmFsbGJhY2soMCwiTVVMVElWSUVXIik7Y29uc3QgdT1bZy5Qb3NpdGlvbktpbmRdO3IuTk9STUFMJiZ1LnB1c2goZy5Ob3JtYWxLaW5kKSxyLlRBTkdFTlQmJnUucHVzaChnLlRhbmdlbnRLaW5kKTtmb3IobGV0IEE9MTtBPD02OysrQSlyWyJVViIrQV0mJnUucHVzaChgdXYke0E9PT0xPyIiOkF9YCk7ci5WRVJURVhDT0xPUiYmdS5wdXNoKGcuQ29sb3JLaW5kKSxzZS5QcmVwYXJlQXR0cmlidXRlc0ZvckJvbmVzKHUsZSxyLGwpLHNlLlByZXBhcmVBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKHUsciksc2UuUHJlcGFyZUF0dHJpYnV0ZXNGb3JNb3JwaFRhcmdldHModSxlLHIpLHNlLlByZXBhcmVBdHRyaWJ1dGVzRm9yQmFrZWRWZXJ0ZXhBbmltYXRpb24odSxlLHIpO2xldCBkPSJkZWZhdWx0Ijtjb25zdCBfPVsid29ybGQiLCJ2aWV3Iiwidmlld1Byb2plY3Rpb24iLCJ2RXllUG9zaXRpb24iLCJ2TGlnaHRzVHlwZSIsInZBbWJpZW50Q29sb3IiLCJ2RGlmZnVzZUNvbG9yIiwidlNwZWN1bGFyQ29sb3IiLCJ2RW1pc3NpdmVDb2xvciIsInZpc2liaWxpdHkiLCJ2Rm9nSW5mb3MiLCJ2Rm9nQ29sb3IiLCJwb2ludFNpemUiLCJ2RGlmZnVzZUluZm9zIiwidkFtYmllbnRJbmZvcyIsInZPcGFjaXR5SW5mb3MiLCJ2UmVmbGVjdGlvbkluZm9zIiwidkVtaXNzaXZlSW5mb3MiLCJ2U3BlY3VsYXJJbmZvcyIsInZCdW1wSW5mb3MiLCJ2TGlnaHRtYXBJbmZvcyIsInZSZWZyYWN0aW9uSW5mb3MiLCJtQm9uZXMiLCJkaWZmdXNlTWF0cml4IiwiYW1iaWVudE1hdHJpeCIsIm9wYWNpdHlNYXRyaXgiLCJyZWZsZWN0aW9uTWF0cml4IiwiZW1pc3NpdmVNYXRyaXgiLCJzcGVjdWxhck1hdHJpeCIsImJ1bXBNYXRyaXgiLCJub3JtYWxNYXRyaXgiLCJsaWdodG1hcE1hdHJpeCIsInJlZnJhY3Rpb25NYXRyaXgiLCJkaWZmdXNlTGVmdENvbG9yIiwiZGlmZnVzZVJpZ2h0Q29sb3IiLCJvcGFjaXR5UGFydHMiLCJyZWZsZWN0aW9uTGVmdENvbG9yIiwicmVmbGVjdGlvblJpZ2h0Q29sb3IiLCJlbWlzc2l2ZUxlZnRDb2xvciIsImVtaXNzaXZlUmlnaHRDb2xvciIsInJlZnJhY3Rpb25MZWZ0Q29sb3IiLCJyZWZyYWN0aW9uUmlnaHRDb2xvciIsInZSZWZsZWN0aW9uUG9zaXRpb24iLCJ2UmVmbGVjdGlvblNpemUiLCJ2UmVmcmFjdGlvblBvc2l0aW9uIiwidlJlZnJhY3Rpb25TaXplIiwibG9nYXJpdGhtaWNEZXB0aENvbnN0YW50IiwidlRhbmdlbnRTcGFjZVBhcmFtcyIsImFscGhhQ3V0T2ZmIiwiYm9uZVRleHR1cmVXaWR0aCIsIm1vcnBoVGFyZ2V0VGV4dHVyZUluZm8iLCJtb3JwaFRhcmdldFRleHR1cmVJbmRpY2VzIl0sZj1bImRpZmZ1c2VTYW1wbGVyIiwiYW1iaWVudFNhbXBsZXIiLCJvcGFjaXR5U2FtcGxlciIsInJlZmxlY3Rpb25DdWJlU2FtcGxlciIsInJlZmxlY3Rpb24yRFNhbXBsZXIiLCJlbWlzc2l2ZVNhbXBsZXIiLCJzcGVjdWxhclNhbXBsZXIiLCJidW1wU2FtcGxlciIsImxpZ2h0bWFwU2FtcGxlciIsInJlZnJhY3Rpb25DdWJlU2FtcGxlciIsInJlZnJhY3Rpb24yRFNhbXBsZXIiLCJib25lU2FtcGxlciIsIm1vcnBoVGFyZ2V0cyIsIm9pdERlcHRoU2FtcGxlciIsIm9pdEZyb250Q29sb3JTYW1wbGVyIl0sbT1bIk1hdGVyaWFsIiwiU2NlbmUiLCJNZXNoIl07dGhpcy5fZXZlbnRJbmZvLmZhbGxiYWNrcz1sLHRoaXMuX2V2ZW50SW5mby5mYWxsYmFja1Jhbms9MCx0aGlzLl9ldmVudEluZm8uZGVmaW5lcz1yLHRoaXMuX2V2ZW50SW5mby51bmlmb3Jtcz1fLHRoaXMuX2V2ZW50SW5mby5hdHRyaWJ1dGVzPXUsdGhpcy5fZXZlbnRJbmZvLnNhbXBsZXJzPWYsdGhpcy5fZXZlbnRJbmZvLnVuaWZvcm1CdWZmZXJzTmFtZXM9bSx0aGlzLl9ldmVudEluZm8uY3VzdG9tQ29kZT12b2lkIDAsdGhpcy5fZXZlbnRJbmZvLm1lc2g9ZSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50R2VuZXJpYyhldC5QcmVwYXJlRWZmZWN0LHRoaXMuX2V2ZW50SW5mbyksWHIuQWRkVW5pZm9ybXMoXyksZ2UmJihnZS5QcmVwYXJlVW5pZm9ybXMoXyxyKSxnZS5QcmVwYXJlU2FtcGxlcnMoZixyKSksc2UuUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNMaXN0KHt1bmlmb3Jtc05hbWVzOl8sdW5pZm9ybUJ1ZmZlcnNOYW1lczptLHNhbXBsZXJzOmYsZGVmaW5lczpyLG1heFNpbXVsdGFuZW91c0xpZ2h0czp0aGlzLl9tYXhTaW11bHRhbmVvdXNMaWdodHN9KSxvcyhfKTtjb25zdCB2PXt9O3RoaXMuY3VzdG9tU2hhZGVyTmFtZVJlc29sdmUmJihkPXRoaXMuY3VzdG9tU2hhZGVyTmFtZVJlc29sdmUoZCxfLG0sZixyLHUsdikpO2NvbnN0IEU9ci50b1N0cmluZygpLFM9dC5lZmZlY3Q7bGV0IFI9cy5nZXRFbmdpbmUoKS5jcmVhdGVFZmZlY3QoZCx7YXR0cmlidXRlczp1LHVuaWZvcm1zTmFtZXM6Xyx1bmlmb3JtQnVmZmVyc05hbWVzOm0sc2FtcGxlcnM6ZixkZWZpbmVzOkUsZmFsbGJhY2tzOmwsb25Db21waWxlZDp0aGlzLm9uQ29tcGlsZWQsb25FcnJvcjp0aGlzLm9uRXJyb3IsaW5kZXhQYXJhbWV0ZXJzOnttYXhTaW11bHRhbmVvdXNMaWdodHM6dGhpcy5fbWF4U2ltdWx0YW5lb3VzTGlnaHRzLG1heFNpbXVsdGFuZW91c01vcnBoVGFyZ2V0czpyLk5VTV9NT1JQSF9JTkZMVUVOQ0VSU30scHJvY2Vzc0ZpbmFsQ29kZTp2LnByb2Nlc3NGaW5hbENvZGUscHJvY2Vzc0NvZGVBZnRlckluY2x1ZGVzOnRoaXMuX2V2ZW50SW5mby5jdXN0b21Db2RlLG11bHRpVGFyZ2V0OnIuUFJFUEFTU30sbik7aWYodGhpcy5fZXZlbnRJbmZvLmN1c3RvbUNvZGU9dm9pZCAwLFIpaWYodGhpcy5fb25FZmZlY3RDcmVhdGVkT2JzZXJ2YWJsZSYmKFpzLmVmZmVjdD1SLFpzLnN1Yk1lc2g9dCx0aGlzLl9vbkVmZmVjdENyZWF0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhacykpLHRoaXMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZyYmUyYmIVIuaXNSZWFkeSgpKXtpZihSPVMsci5tYXJrQXNVbnByb2Nlc3NlZCgpLG89dGhpcy5pc0Zyb3plbixoKXJldHVybiByLl9hcmVMaWdodHNEaXNwb3NlZD0hMCwhMX1lbHNlIHMucmVzZXRDYWNoZWRNYXRlcmlhbCgpLHQuc2V0RWZmZWN0KFIscix0aGlzLl9tYXRlcmlhbENvbnRleHQpfXJldHVybiF0LmVmZmVjdHx8IXQuZWZmZWN0LmlzUmVhZHkoKT8hMTooci5fcmVuZGVySWQ9cy5nZXRSZW5kZXJJZCgpLHQuZWZmZWN0Ll93YXNQcmV2aW91c2x5UmVhZHk9IW8sdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlVc2luZ0luc3RhbmNlcz1pLHRoaXMuX2NoZWNrU2NlbmVQZXJmb3JtYW5jZVByaW9yaXR5KCksITApfWJ1aWxkVW5pZm9ybUxheW91dCgpe2NvbnN0IGU9dGhpcy5fdW5pZm9ybUJ1ZmZlcjtlLmFkZFVuaWZvcm0oImRpZmZ1c2VMZWZ0Q29sb3IiLDQpLGUuYWRkVW5pZm9ybSgiZGlmZnVzZVJpZ2h0Q29sb3IiLDQpLGUuYWRkVW5pZm9ybSgib3BhY2l0eVBhcnRzIiw0KSxlLmFkZFVuaWZvcm0oInJlZmxlY3Rpb25MZWZ0Q29sb3IiLDQpLGUuYWRkVW5pZm9ybSgicmVmbGVjdGlvblJpZ2h0Q29sb3IiLDQpLGUuYWRkVW5pZm9ybSgicmVmcmFjdGlvbkxlZnRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJyZWZyYWN0aW9uUmlnaHRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJlbWlzc2l2ZUxlZnRDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJlbWlzc2l2ZVJpZ2h0Q29sb3IiLDQpLGUuYWRkVW5pZm9ybSgidkRpZmZ1c2VJbmZvcyIsMiksZS5hZGRVbmlmb3JtKCJ2QW1iaWVudEluZm9zIiwyKSxlLmFkZFVuaWZvcm0oInZPcGFjaXR5SW5mb3MiLDIpLGUuYWRkVW5pZm9ybSgidlJlZmxlY3Rpb25JbmZvcyIsMiksZS5hZGRVbmlmb3JtKCJ2UmVmbGVjdGlvblBvc2l0aW9uIiwzKSxlLmFkZFVuaWZvcm0oInZSZWZsZWN0aW9uU2l6ZSIsMyksZS5hZGRVbmlmb3JtKCJ2RW1pc3NpdmVJbmZvcyIsMiksZS5hZGRVbmlmb3JtKCJ2TGlnaHRtYXBJbmZvcyIsMiksZS5hZGRVbmlmb3JtKCJ2U3BlY3VsYXJJbmZvcyIsMiksZS5hZGRVbmlmb3JtKCJ2QnVtcEluZm9zIiwzKSxlLmFkZFVuaWZvcm0oImRpZmZ1c2VNYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oImFtYmllbnRNYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oIm9wYWNpdHlNYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oInJlZmxlY3Rpb25NYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oImVtaXNzaXZlTWF0cml4IiwxNiksZS5hZGRVbmlmb3JtKCJsaWdodG1hcE1hdHJpeCIsMTYpLGUuYWRkVW5pZm9ybSgic3BlY3VsYXJNYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oImJ1bXBNYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oInZUYW5nZW50U3BhY2VQYXJhbXMiLDIpLGUuYWRkVW5pZm9ybSgicG9pbnRTaXplIiwxKSxlLmFkZFVuaWZvcm0oImFscGhhQ3V0T2ZmIiwxKSxlLmFkZFVuaWZvcm0oInJlZnJhY3Rpb25NYXRyaXgiLDE2KSxlLmFkZFVuaWZvcm0oInZSZWZyYWN0aW9uSW5mb3MiLDQpLGUuYWRkVW5pZm9ybSgidlJlZnJhY3Rpb25Qb3NpdGlvbiIsMyksZS5hZGRVbmlmb3JtKCJ2UmVmcmFjdGlvblNpemUiLDMpLGUuYWRkVW5pZm9ybSgidlNwZWN1bGFyQ29sb3IiLDQpLGUuYWRkVW5pZm9ybSgidkVtaXNzaXZlQ29sb3IiLDMpLGUuYWRkVW5pZm9ybSgidkRpZmZ1c2VDb2xvciIsNCksZS5hZGRVbmlmb3JtKCJ2QW1iaWVudENvbG9yIiwzKSxzdXBlci5idWlsZFVuaWZvcm1MYXlvdXQoKX1iaW5kRm9yU3ViTWVzaChlLHQsaSl7dmFyIHM7Y29uc3Qgcj10aGlzLmdldFNjZW5lKCksbj1pLm1hdGVyaWFsRGVmaW5lcztpZighbilyZXR1cm47Y29uc3QgYT1pLmVmZmVjdDtpZighYSlyZXR1cm47dGhpcy5fYWN0aXZlRWZmZWN0PWEsdC5nZXRNZXNoVW5pZm9ybUJ1ZmZlcigpLmJpbmRUb0VmZmVjdChhLCJNZXNoIiksdC50cmFuc2ZlclRvRWZmZWN0KGUpLHRoaXMuX3VuaWZvcm1CdWZmZXIuYmluZFRvRWZmZWN0KGEsIk1hdGVyaWFsIiksdGhpcy5wcmVQYXNzQ29uZmlndXJhdGlvbi5iaW5kRm9yU3ViTWVzaCh0aGlzLl9hY3RpdmVFZmZlY3Qscix0LGUsdGhpcy5pc0Zyb3plbiksdGhpcy5fZXZlbnRJbmZvLnN1Yk1lc2g9aSx0aGlzLl9jYWxsYmFja1BsdWdpbkV2ZW50SGFyZEJpbmRGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbyksbi5PQkpFQ1RTUEFDRV9OT1JNQUxNQVAmJihlLnRvTm9ybWFsTWF0cml4KHRoaXMuX25vcm1hbE1hdHJpeCksdGhpcy5iaW5kT25seU5vcm1hbE1hdHJpeCh0aGlzLl9ub3JtYWxNYXRyaXgpKTtjb25zdCBvPWEuX2ZvcmNlUmViaW5kT25OZXh0Q2FsbHx8dGhpcy5fbXVzdFJlYmluZChyLGEsdC52aXNpYmlsaXR5KTtzZS5CaW5kQm9uZXNQYXJhbWV0ZXJzKHQsYSk7Y29uc3QgaD10aGlzLl91bmlmb3JtQnVmZmVyO2lmKG8pe2lmKHRoaXMuYmluZFZpZXdQcm9qZWN0aW9uKGEpLCFoLnVzZVVib3x8IXRoaXMuaXNGcm96ZW58fCFoLmlzU3luY3x8YS5fZm9yY2VSZWJpbmRPbk5leHRDYWxsKXtpZihCLkZyZXNuZWxFbmFibGVkJiZuLkZSRVNORUwmJih0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkJiYoaC51cGRhdGVDb2xvcjQoImRpZmZ1c2VMZWZ0Q29sb3IiLHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLmxlZnRDb2xvcix0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5wb3dlciksaC51cGRhdGVDb2xvcjQoImRpZmZ1c2VSaWdodENvbG9yIix0aGlzLmRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLHRoaXMuZGlmZnVzZUZyZXNuZWxQYXJhbWV0ZXJzLmJpYXMpKSx0aGlzLm9wYWNpdHlGcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkJiZoLnVwZGF0ZUNvbG9yNCgib3BhY2l0eVBhcnRzIixuZXcgcmUodGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMubGVmdENvbG9yLnRvTHVtaW5hbmNlKCksdGhpcy5vcGFjaXR5RnJlc25lbFBhcmFtZXRlcnMucmlnaHRDb2xvci50b0x1bWluYW5jZSgpLHRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLmJpYXMpLHRoaXMub3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSx0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkJiYoaC51cGRhdGVDb2xvcjQoInJlZmxlY3Rpb25MZWZ0Q29sb3IiLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmxlZnRDb2xvcix0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5wb3dlciksaC51cGRhdGVDb2xvcjQoInJlZmxlY3Rpb25SaWdodENvbG9yIix0aGlzLnJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLHRoaXMucmVmbGVjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmJpYXMpKSx0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycyYmdGhpcy5yZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMuaXNFbmFibGVkJiYoaC51cGRhdGVDb2xvcjQoInJlZnJhY3Rpb25MZWZ0Q29sb3IiLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmxlZnRDb2xvcix0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5wb3dlciksaC51cGRhdGVDb2xvcjQoInJlZnJhY3Rpb25SaWdodENvbG9yIix0aGlzLnJlZnJhY3Rpb25GcmVzbmVsUGFyYW1ldGVycy5yaWdodENvbG9yLHRoaXMucmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzLmJpYXMpKSx0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMmJnRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5pc0VuYWJsZWQmJihoLnVwZGF0ZUNvbG9yNCgiZW1pc3NpdmVMZWZ0Q29sb3IiLHRoaXMuZW1pc3NpdmVGcmVzbmVsUGFyYW1ldGVycy5sZWZ0Q29sb3IsdGhpcy5lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzLnBvd2VyKSxoLnVwZGF0ZUNvbG9yNCgiZW1pc3NpdmVSaWdodENvbG9yIix0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMucmlnaHRDb2xvcix0aGlzLmVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMuYmlhcykpKSxyLnRleHR1cmVzRW5hYmxlZCl7aWYodGhpcy5fZGlmZnVzZVRleHR1cmUmJkIuRGlmZnVzZVRleHR1cmVFbmFibGVkJiYoaC51cGRhdGVGbG9hdDIoInZEaWZmdXNlSW5mb3MiLHRoaXMuX2RpZmZ1c2VUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fZGlmZnVzZVRleHR1cmUubGV2ZWwpLHNlLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX2RpZmZ1c2VUZXh0dXJlLGgsImRpZmZ1c2UiKSksdGhpcy5fYW1iaWVudFRleHR1cmUmJkIuQW1iaWVudFRleHR1cmVFbmFibGVkJiYoaC51cGRhdGVGbG9hdDIoInZBbWJpZW50SW5mb3MiLHRoaXMuX2FtYmllbnRUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fYW1iaWVudFRleHR1cmUubGV2ZWwpLHNlLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX2FtYmllbnRUZXh0dXJlLGgsImFtYmllbnQiKSksdGhpcy5fb3BhY2l0eVRleHR1cmUmJkIuT3BhY2l0eVRleHR1cmVFbmFibGVkJiYoaC51cGRhdGVGbG9hdDIoInZPcGFjaXR5SW5mb3MiLHRoaXMuX29wYWNpdHlUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fb3BhY2l0eVRleHR1cmUubGV2ZWwpLHNlLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX29wYWNpdHlUZXh0dXJlLGgsIm9wYWNpdHkiKSksdGhpcy5faGFzQWxwaGFDaGFubmVsKCkmJmgudXBkYXRlRmxvYXQoImFscGhhQ3V0T2ZmIix0aGlzLmFscGhhQ3V0T2ZmKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmQi5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0MigidlJlZmxlY3Rpb25JbmZvcyIsdGhpcy5fcmVmbGVjdGlvblRleHR1cmUubGV2ZWwsdGhpcy5yb3VnaG5lc3MpLGgudXBkYXRlTWF0cml4KCJyZWZsZWN0aW9uTWF0cml4Iix0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCgpKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5ib3VuZGluZ0JveFNpemUpKXtjb25zdCBsPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlO2gudXBkYXRlVmVjdG9yMygidlJlZmxlY3Rpb25Qb3NpdGlvbiIsbC5ib3VuZGluZ0JveFBvc2l0aW9uKSxoLnVwZGF0ZVZlY3RvcjMoInZSZWZsZWN0aW9uU2l6ZSIsbC5ib3VuZGluZ0JveFNpemUpfWlmKHRoaXMuX2VtaXNzaXZlVGV4dHVyZSYmQi5FbWlzc2l2ZVRleHR1cmVFbmFibGVkJiYoaC51cGRhdGVGbG9hdDIoInZFbWlzc2l2ZUluZm9zIix0aGlzLl9lbWlzc2l2ZVRleHR1cmUuY29vcmRpbmF0ZXNJbmRleCx0aGlzLl9lbWlzc2l2ZVRleHR1cmUubGV2ZWwpLHNlLkJpbmRUZXh0dXJlTWF0cml4KHRoaXMuX2VtaXNzaXZlVGV4dHVyZSxoLCJlbWlzc2l2ZSIpKSx0aGlzLl9saWdodG1hcFRleHR1cmUmJkIuTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCYmKGgudXBkYXRlRmxvYXQyKCJ2TGlnaHRtYXBJbmZvcyIsdGhpcy5fbGlnaHRtYXBUZXh0dXJlLmNvb3JkaW5hdGVzSW5kZXgsdGhpcy5fbGlnaHRtYXBUZXh0dXJlLmxldmVsKSxzZS5CaW5kVGV4dHVyZU1hdHJpeCh0aGlzLl9saWdodG1hcFRleHR1cmUsaCwibGlnaHRtYXAiKSksdGhpcy5fc3BlY3VsYXJUZXh0dXJlJiZCLlNwZWN1bGFyVGV4dHVyZUVuYWJsZWQmJihoLnVwZGF0ZUZsb2F0MigidlNwZWN1bGFySW5mb3MiLHRoaXMuX3NwZWN1bGFyVGV4dHVyZS5jb29yZGluYXRlc0luZGV4LHRoaXMuX3NwZWN1bGFyVGV4dHVyZS5sZXZlbCksc2UuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fc3BlY3VsYXJUZXh0dXJlLGgsInNwZWN1bGFyIikpLHRoaXMuX2J1bXBUZXh0dXJlJiZyLmdldEVuZ2luZSgpLmdldENhcHMoKS5zdGFuZGFyZERlcml2YXRpdmVzJiZCLkJ1bXBUZXh0dXJlRW5hYmxlZCYmKGgudXBkYXRlRmxvYXQzKCJ2QnVtcEluZm9zIix0aGlzLl9idW1wVGV4dHVyZS5jb29yZGluYXRlc0luZGV4LDEvdGhpcy5fYnVtcFRleHR1cmUubGV2ZWwsdGhpcy5wYXJhbGxheFNjYWxlQmlhcyksc2UuQmluZFRleHR1cmVNYXRyaXgodGhpcy5fYnVtcFRleHR1cmUsaCwiYnVtcCIpLHIuX21pcnJvcmVkQ2FtZXJhUG9zaXRpb24/aC51cGRhdGVGbG9hdDIoInZUYW5nZW50U3BhY2VQYXJhbXMiLHRoaXMuX2ludmVydE5vcm1hbE1hcFg/MTotMSx0aGlzLl9pbnZlcnROb3JtYWxNYXBZPzE6LTEpOmgudXBkYXRlRmxvYXQyKCJ2VGFuZ2VudFNwYWNlUGFyYW1zIix0aGlzLl9pbnZlcnROb3JtYWxNYXBYPy0xOjEsdGhpcy5faW52ZXJ0Tm9ybWFsTWFwWT8tMToxKSksdGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJkIuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkKXtsZXQgbD0xO2lmKHRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmlzQ3ViZXx8KGgudXBkYXRlTWF0cml4KCJyZWZyYWN0aW9uTWF0cml4Iix0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5nZXRSZWZsZWN0aW9uVGV4dHVyZU1hdHJpeCgpKSx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZS5kZXB0aCYmKGw9dGhpcy5fcmVmcmFjdGlvblRleHR1cmUuZGVwdGgpKSxoLnVwZGF0ZUZsb2F0NCgidlJlZnJhY3Rpb25JbmZvcyIsdGhpcy5fcmVmcmFjdGlvblRleHR1cmUubGV2ZWwsdGhpcy5pbmRleE9mUmVmcmFjdGlvbixsLHRoaXMuaW52ZXJ0UmVmcmFjdGlvblk/LTE6MSksdGhpcy5fcmVmcmFjdGlvblRleHR1cmUuYm91bmRpbmdCb3hTaXplKXtjb25zdCB1PXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlO2gudXBkYXRlVmVjdG9yMygidlJlZnJhY3Rpb25Qb3NpdGlvbiIsdS5ib3VuZGluZ0JveFBvc2l0aW9uKSxoLnVwZGF0ZVZlY3RvcjMoInZSZWZyYWN0aW9uU2l6ZSIsdS5ib3VuZGluZ0JveFNpemUpfX19dGhpcy5wb2ludHNDbG91ZCYmaC51cGRhdGVGbG9hdCgicG9pbnRTaXplIix0aGlzLnBvaW50U2l6ZSksbi5TUEVDVUxBUlRFUk0mJmgudXBkYXRlQ29sb3I0KCJ2U3BlY3VsYXJDb2xvciIsdGhpcy5zcGVjdWxhckNvbG9yLHRoaXMuc3BlY3VsYXJQb3dlciksaC51cGRhdGVDb2xvcjMoInZFbWlzc2l2ZUNvbG9yIixCLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQ/dGhpcy5lbWlzc2l2ZUNvbG9yOnJlLkJsYWNrUmVhZE9ubHkpLGgudXBkYXRlQ29sb3I0KCJ2RGlmZnVzZUNvbG9yIix0aGlzLmRpZmZ1c2VDb2xvcix0aGlzLmFscGhhKSxyLmFtYmllbnRDb2xvci5tdWx0aXBseVRvUmVmKHRoaXMuYW1iaWVudENvbG9yLHRoaXMuX2dsb2JhbEFtYmllbnRDb2xvciksaC51cGRhdGVDb2xvcjMoInZBbWJpZW50Q29sb3IiLHRoaXMuX2dsb2JhbEFtYmllbnRDb2xvcil9ci50ZXh0dXJlc0VuYWJsZWQmJih0aGlzLl9kaWZmdXNlVGV4dHVyZSYmQi5EaWZmdXNlVGV4dHVyZUVuYWJsZWQmJmEuc2V0VGV4dHVyZSgiZGlmZnVzZVNhbXBsZXIiLHRoaXMuX2RpZmZ1c2VUZXh0dXJlKSx0aGlzLl9hbWJpZW50VGV4dHVyZSYmQi5BbWJpZW50VGV4dHVyZUVuYWJsZWQmJmEuc2V0VGV4dHVyZSgiYW1iaWVudFNhbXBsZXIiLHRoaXMuX2FtYmllbnRUZXh0dXJlKSx0aGlzLl9vcGFjaXR5VGV4dHVyZSYmQi5PcGFjaXR5VGV4dHVyZUVuYWJsZWQmJmEuc2V0VGV4dHVyZSgib3BhY2l0eVNhbXBsZXIiLHRoaXMuX29wYWNpdHlUZXh0dXJlKSx0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSYmQi5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQmJih0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZS5pc0N1YmU/YS5zZXRUZXh0dXJlKCJyZWZsZWN0aW9uQ3ViZVNhbXBsZXIiLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKTphLnNldFRleHR1cmUoInJlZmxlY3Rpb24yRFNhbXBsZXIiLHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKSksdGhpcy5fZW1pc3NpdmVUZXh0dXJlJiZCLkVtaXNzaXZlVGV4dHVyZUVuYWJsZWQmJmEuc2V0VGV4dHVyZSgiZW1pc3NpdmVTYW1wbGVyIix0aGlzLl9lbWlzc2l2ZVRleHR1cmUpLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmQi5MaWdodG1hcFRleHR1cmVFbmFibGVkJiZhLnNldFRleHR1cmUoImxpZ2h0bWFwU2FtcGxlciIsdGhpcy5fbGlnaHRtYXBUZXh0dXJlKSx0aGlzLl9zcGVjdWxhclRleHR1cmUmJkIuU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCYmYS5zZXRUZXh0dXJlKCJzcGVjdWxhclNhbXBsZXIiLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSksdGhpcy5fYnVtcFRleHR1cmUmJnIuZ2V0RW5naW5lKCkuZ2V0Q2FwcygpLnN0YW5kYXJkRGVyaXZhdGl2ZXMmJkIuQnVtcFRleHR1cmVFbmFibGVkJiZhLnNldFRleHR1cmUoImJ1bXBTYW1wbGVyIix0aGlzLl9idW1wVGV4dHVyZSksdGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJkIuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkJiYodGhpcy5fcmVmcmFjdGlvblRleHR1cmUuaXNDdWJlP2Euc2V0VGV4dHVyZSgicmVmcmFjdGlvbkN1YmVTYW1wbGVyIix0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSk6YS5zZXRUZXh0dXJlKCJyZWZyYWN0aW9uMkRTYW1wbGVyIix0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSkpKSx0aGlzLmdldFNjZW5lKCkudXNlT3JkZXJJbmRlcGVuZGVudFRyYW5zcGFyZW5jeSYmdGhpcy5uZWVkQWxwaGFCbGVuZGluZ0Zvck1lc2godCkmJnRoaXMuZ2V0U2NlbmUoKS5kZXB0aFBlZWxpbmdSZW5kZXJlci5iaW5kKGEpLHRoaXMuX2V2ZW50SW5mby5zdWJNZXNoPWksdGhpcy5fY2FsbGJhY2tQbHVnaW5FdmVudEJpbmRGb3JTdWJNZXNoKHRoaXMuX2V2ZW50SW5mbyksaHMoYSx0aGlzLHIpLHRoaXMuYmluZEV5ZVBvc2l0aW9uKGEpfWVsc2Ugci5nZXRFbmdpbmUoKS5fZmVhdHVyZXMubmVlZFRvQWx3YXlzQmluZFVuaWZvcm1CdWZmZXJzJiYodGhpcy5fbmVlZFRvQmluZFNjZW5lVWJvPSEwKTsob3x8IXRoaXMuaXNGcm96ZW4pJiYoci5saWdodHNFbmFibGVkJiYhdGhpcy5fZGlzYWJsZUxpZ2h0aW5nJiZzZS5CaW5kTGlnaHRzKHIsdCxhLG4sdGhpcy5fbWF4U2ltdWx0YW5lb3VzTGlnaHRzKSwoci5mb2dFbmFibGVkJiZ0LmFwcGx5Rm9nJiZyLmZvZ01vZGUhPT1hZS5GT0dNT0RFX05PTkV8fHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlfHx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZXx8dC5yZWNlaXZlU2hhZG93c3x8bi5QUkVQQVNTKSYmdGhpcy5iaW5kVmlldyhhKSxzZS5CaW5kRm9nUGFyYW1ldGVycyhyLHQsYSksbi5OVU1fTU9SUEhfSU5GTFVFTkNFUlMmJnNlLkJpbmRNb3JwaFRhcmdldFBhcmFtZXRlcnModCxhKSxuLkJBS0VEX1ZFUlRFWF9BTklNQVRJT05fVEVYVFVSRSYmKChzPXQuYmFrZWRWZXJ0ZXhBbmltYXRpb25NYW5hZ2VyKT09PW51bGx8fHM9PT12b2lkIDB8fHMuYmluZChhLG4uSU5TVEFOQ0VTKSksdGhpcy51c2VMb2dhcml0aG1pY0RlcHRoJiZzZS5CaW5kTG9nRGVwdGgobixhLHIpLHRoaXMuX2ltYWdlUHJvY2Vzc2luZ0NvbmZpZ3VyYXRpb24mJiF0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uLmFwcGx5QnlQb3N0UHJvY2VzcyYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5iaW5kKHRoaXMuX2FjdGl2ZUVmZmVjdCkpLHRoaXMuX2FmdGVyQmluZCh0LHRoaXMuX2FjdGl2ZUVmZmVjdCksaC51cGRhdGUoKX1nZXRBbmltYXRhYmxlcygpe2NvbnN0IGU9c3VwZXIuZ2V0QW5pbWF0YWJsZXMoKTtyZXR1cm4gdGhpcy5fZGlmZnVzZVRleHR1cmUmJnRoaXMuX2RpZmZ1c2VUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX2RpZmZ1c2VUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl9kaWZmdXNlVGV4dHVyZSksdGhpcy5fYW1iaWVudFRleHR1cmUmJnRoaXMuX2FtYmllbnRUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX2FtYmllbnRUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl9hbWJpZW50VGV4dHVyZSksdGhpcy5fb3BhY2l0eVRleHR1cmUmJnRoaXMuX29wYWNpdHlUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX29wYWNpdHlUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl9vcGFjaXR5VGV4dHVyZSksdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSksdGhpcy5fZW1pc3NpdmVUZXh0dXJlJiZ0aGlzLl9lbWlzc2l2ZVRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fZW1pc3NpdmVUZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl9lbWlzc2l2ZVRleHR1cmUpLHRoaXMuX3NwZWN1bGFyVGV4dHVyZSYmdGhpcy5fc3BlY3VsYXJUZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX3NwZWN1bGFyVGV4dHVyZS5hbmltYXRpb25zLmxlbmd0aD4wJiZlLnB1c2godGhpcy5fc3BlY3VsYXJUZXh0dXJlKSx0aGlzLl9idW1wVGV4dHVyZSYmdGhpcy5fYnVtcFRleHR1cmUuYW5pbWF0aW9ucyYmdGhpcy5fYnVtcFRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX2J1bXBUZXh0dXJlKSx0aGlzLl9saWdodG1hcFRleHR1cmUmJnRoaXMuX2xpZ2h0bWFwVGV4dHVyZS5hbmltYXRpb25zJiZ0aGlzLl9saWdodG1hcFRleHR1cmUuYW5pbWF0aW9ucy5sZW5ndGg+MCYmZS5wdXNoKHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSksdGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJnRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmFuaW1hdGlvbnMmJnRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlLmFuaW1hdGlvbnMubGVuZ3RoPjAmJmUucHVzaCh0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSksZX1nZXRBY3RpdmVUZXh0dXJlcygpe2NvbnN0IGU9c3VwZXIuZ2V0QWN0aXZlVGV4dHVyZXMoKTtyZXR1cm4gdGhpcy5fZGlmZnVzZVRleHR1cmUmJmUucHVzaCh0aGlzLl9kaWZmdXNlVGV4dHVyZSksdGhpcy5fYW1iaWVudFRleHR1cmUmJmUucHVzaCh0aGlzLl9hbWJpZW50VGV4dHVyZSksdGhpcy5fb3BhY2l0eVRleHR1cmUmJmUucHVzaCh0aGlzLl9vcGFjaXR5VGV4dHVyZSksdGhpcy5fcmVmbGVjdGlvblRleHR1cmUmJmUucHVzaCh0aGlzLl9yZWZsZWN0aW9uVGV4dHVyZSksdGhpcy5fZW1pc3NpdmVUZXh0dXJlJiZlLnB1c2godGhpcy5fZW1pc3NpdmVUZXh0dXJlKSx0aGlzLl9zcGVjdWxhclRleHR1cmUmJmUucHVzaCh0aGlzLl9zcGVjdWxhclRleHR1cmUpLHRoaXMuX2J1bXBUZXh0dXJlJiZlLnB1c2godGhpcy5fYnVtcFRleHR1cmUpLHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSYmZS5wdXNoKHRoaXMuX2xpZ2h0bWFwVGV4dHVyZSksdGhpcy5fcmVmcmFjdGlvblRleHR1cmUmJmUucHVzaCh0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZSksZX1oYXNUZXh0dXJlKGUpe3JldHVybiEhKHN1cGVyLmhhc1RleHR1cmUoZSl8fHRoaXMuX2RpZmZ1c2VUZXh0dXJlPT09ZXx8dGhpcy5fYW1iaWVudFRleHR1cmU9PT1lfHx0aGlzLl9vcGFjaXR5VGV4dHVyZT09PWV8fHRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlPT09ZXx8dGhpcy5fZW1pc3NpdmVUZXh0dXJlPT09ZXx8dGhpcy5fc3BlY3VsYXJUZXh0dXJlPT09ZXx8dGhpcy5fYnVtcFRleHR1cmU9PT1lfHx0aGlzLl9saWdodG1hcFRleHR1cmU9PT1lfHx0aGlzLl9yZWZyYWN0aW9uVGV4dHVyZT09PWUpfWRpc3Bvc2UoZSx0KXt2YXIgaSxzLHIsbixhLG8saCxsLHU7dCYmKChpPXRoaXMuX2RpZmZ1c2VUZXh0dXJlKT09PW51bGx8fGk9PT12b2lkIDB8fGkuZGlzcG9zZSgpLChzPXRoaXMuX2FtYmllbnRUZXh0dXJlKT09PW51bGx8fHM9PT12b2lkIDB8fHMuZGlzcG9zZSgpLChyPXRoaXMuX29wYWNpdHlUZXh0dXJlKT09PW51bGx8fHI9PT12b2lkIDB8fHIuZGlzcG9zZSgpLChuPXRoaXMuX3JlZmxlY3Rpb25UZXh0dXJlKT09PW51bGx8fG49PT12b2lkIDB8fG4uZGlzcG9zZSgpLChhPXRoaXMuX2VtaXNzaXZlVGV4dHVyZSk9PT1udWxsfHxhPT09dm9pZCAwfHxhLmRpc3Bvc2UoKSwobz10aGlzLl9zcGVjdWxhclRleHR1cmUpPT09bnVsbHx8bz09PXZvaWQgMHx8by5kaXNwb3NlKCksKGg9dGhpcy5fYnVtcFRleHR1cmUpPT09bnVsbHx8aD09PXZvaWQgMHx8aC5kaXNwb3NlKCksKGw9dGhpcy5fbGlnaHRtYXBUZXh0dXJlKT09PW51bGx8fGw9PT12b2lkIDB8fGwuZGlzcG9zZSgpLCh1PXRoaXMuX3JlZnJhY3Rpb25UZXh0dXJlKT09PW51bGx8fHU9PT12b2lkIDB8fHUuZGlzcG9zZSgpKSx0aGlzLl9pbWFnZVByb2Nlc3NpbmdDb25maWd1cmF0aW9uJiZ0aGlzLl9pbWFnZVByb2Nlc3NpbmdPYnNlcnZlciYmdGhpcy5faW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5vblVwZGF0ZVBhcmFtZXRlcnMucmVtb3ZlKHRoaXMuX2ltYWdlUHJvY2Vzc2luZ09ic2VydmVyKSxzdXBlci5kaXNwb3NlKGUsdCl9Y2xvbmUoZSl7Y29uc3QgdD1uZS5DbG9uZSgoKT0+bmV3IEIoZSx0aGlzLmdldFNjZW5lKCkpLHRoaXMpO3JldHVybiB0Lm5hbWU9ZSx0LmlkPWUsdGhpcy5zdGVuY2lsLmNvcHlUbyh0LnN0ZW5jaWwpLHR9c3RhdGljIFBhcnNlKGUsdCxpKXtjb25zdCBzPW5lLlBhcnNlKCgpPT5uZXcgQihlLm5hbWUsdCksZSx0LGkpO3JldHVybiBlLnN0ZW5jaWwmJnMuc3RlbmNpbC5wYXJzZShlLnN0ZW5jaWwsdCxpKSxzfXN0YXRpYyBnZXQgRGlmZnVzZVRleHR1cmVFbmFibGVkKCl7cmV0dXJuIGNlLkRpZmZ1c2VUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IERpZmZ1c2VUZXh0dXJlRW5hYmxlZChlKXtjZS5EaWZmdXNlVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IERldGFpbFRleHR1cmVFbmFibGVkKCl7cmV0dXJuIGNlLkRldGFpbFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgRGV0YWlsVGV4dHVyZUVuYWJsZWQoZSl7Y2UuRGV0YWlsVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IEFtYmllbnRUZXh0dXJlRW5hYmxlZCgpe3JldHVybiBjZS5BbWJpZW50VGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBBbWJpZW50VGV4dHVyZUVuYWJsZWQoZSl7Y2UuQW1iaWVudFRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBPcGFjaXR5VGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gY2UuT3BhY2l0eVRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgT3BhY2l0eVRleHR1cmVFbmFibGVkKGUpe2NlLk9wYWNpdHlUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgUmVmbGVjdGlvblRleHR1cmVFbmFibGVkKCl7cmV0dXJuIGNlLlJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IFJlZmxlY3Rpb25UZXh0dXJlRW5hYmxlZChlKXtjZS5SZWZsZWN0aW9uVGV4dHVyZUVuYWJsZWQ9ZX1zdGF0aWMgZ2V0IEVtaXNzaXZlVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gY2UuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZH1zdGF0aWMgc2V0IEVtaXNzaXZlVGV4dHVyZUVuYWJsZWQoZSl7Y2UuRW1pc3NpdmVUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgU3BlY3VsYXJUZXh0dXJlRW5hYmxlZCgpe3JldHVybiBjZS5TcGVjdWxhclRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgU3BlY3VsYXJUZXh0dXJlRW5hYmxlZChlKXtjZS5TcGVjdWxhclRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBCdW1wVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gY2UuQnVtcFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgQnVtcFRleHR1cmVFbmFibGVkKGUpe2NlLkJ1bXBUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgTGlnaHRtYXBUZXh0dXJlRW5hYmxlZCgpe3JldHVybiBjZS5MaWdodG1hcFRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgTGlnaHRtYXBUZXh0dXJlRW5hYmxlZChlKXtjZS5MaWdodG1hcFRleHR1cmVFbmFibGVkPWV9c3RhdGljIGdldCBSZWZyYWN0aW9uVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gY2UuUmVmcmFjdGlvblRleHR1cmVFbmFibGVkfXN0YXRpYyBzZXQgUmVmcmFjdGlvblRleHR1cmVFbmFibGVkKGUpe2NlLlJlZnJhY3Rpb25UZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWQoKXtyZXR1cm4gY2UuQ29sb3JHcmFkaW5nVGV4dHVyZUVuYWJsZWR9c3RhdGljIHNldCBDb2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZChlKXtjZS5Db2xvckdyYWRpbmdUZXh0dXJlRW5hYmxlZD1lfXN0YXRpYyBnZXQgRnJlc25lbEVuYWJsZWQoKXtyZXR1cm4gY2UuRnJlc25lbEVuYWJsZWR9c3RhdGljIHNldCBGcmVzbmVsRW5hYmxlZChlKXtjZS5GcmVzbmVsRW5hYmxlZD1lfX1UKFt2dCgiZGlmZnVzZVRleHR1cmUiKV0sQi5wcm90b3R5cGUsIl9kaWZmdXNlVGV4dHVyZSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzQW5kTWlzY0RpcnR5IildLEIucHJvdG90eXBlLCJkaWZmdXNlVGV4dHVyZSIsdm9pZCAwKSxUKFt2dCgiYW1iaWVudFRleHR1cmUiKV0sQi5wcm90b3R5cGUsIl9hbWJpZW50VGV4dHVyZSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsImFtYmllbnRUZXh0dXJlIix2b2lkIDApLFQoW3Z0KCJvcGFjaXR5VGV4dHVyZSIpXSxCLnByb3RvdHlwZSwiX29wYWNpdHlUZXh0dXJlIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNBbmRNaXNjRGlydHkiKV0sQi5wcm90b3R5cGUsIm9wYWNpdHlUZXh0dXJlIix2b2lkIDApLFQoW3Z0KCJyZWZsZWN0aW9uVGV4dHVyZSIpXSxCLnByb3RvdHlwZSwiX3JlZmxlY3Rpb25UZXh0dXJlIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwicmVmbGVjdGlvblRleHR1cmUiLHZvaWQgMCksVChbdnQoImVtaXNzaXZlVGV4dHVyZSIpXSxCLnByb3RvdHlwZSwiX2VtaXNzaXZlVGV4dHVyZSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsImVtaXNzaXZlVGV4dHVyZSIsdm9pZCAwKSxUKFt2dCgic3BlY3VsYXJUZXh0dXJlIildLEIucHJvdG90eXBlLCJfc3BlY3VsYXJUZXh0dXJlIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwic3BlY3VsYXJUZXh0dXJlIix2b2lkIDApLFQoW3Z0KCJidW1wVGV4dHVyZSIpXSxCLnByb3RvdHlwZSwiX2J1bXBUZXh0dXJlIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwiYnVtcFRleHR1cmUiLHZvaWQgMCksVChbdnQoImxpZ2h0bWFwVGV4dHVyZSIpXSxCLnByb3RvdHlwZSwiX2xpZ2h0bWFwVGV4dHVyZSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsImxpZ2h0bWFwVGV4dHVyZSIsdm9pZCAwKSxUKFt2dCgicmVmcmFjdGlvblRleHR1cmUiKV0sQi5wcm90b3R5cGUsIl9yZWZyYWN0aW9uVGV4dHVyZSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInJlZnJhY3Rpb25UZXh0dXJlIix2b2lkIDApLFQoW2RpKCJhbWJpZW50IildLEIucHJvdG90eXBlLCJhbWJpZW50Q29sb3IiLHZvaWQgMCksVChbZGkoImRpZmZ1c2UiKV0sQi5wcm90b3R5cGUsImRpZmZ1c2VDb2xvciIsdm9pZCAwKSxUKFtkaSgic3BlY3VsYXIiKV0sQi5wcm90b3R5cGUsInNwZWN1bGFyQ29sb3IiLHZvaWQgMCksVChbZGkoImVtaXNzaXZlIildLEIucHJvdG90eXBlLCJlbWlzc2l2ZUNvbG9yIix2b2lkIDApLFQoW3koKV0sQi5wcm90b3R5cGUsInNwZWN1bGFyUG93ZXIiLHZvaWQgMCksVChbeSgidXNlQWxwaGFGcm9tRGlmZnVzZVRleHR1cmUiKV0sQi5wcm90b3R5cGUsIl91c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzQW5kTWlzY0RpcnR5IildLEIucHJvdG90eXBlLCJ1c2VBbHBoYUZyb21EaWZmdXNlVGV4dHVyZSIsdm9pZCAwKSxUKFt5KCJ1c2VFbWlzc2l2ZUFzSWxsdW1pbmF0aW9uIildLEIucHJvdG90eXBlLCJfdXNlRW1pc3NpdmVBc0lsbHVtaW5hdGlvbiIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInVzZUVtaXNzaXZlQXNJbGx1bWluYXRpb24iLHZvaWQgMCksVChbeSgibGlua0VtaXNzaXZlV2l0aERpZmZ1c2UiKV0sQi5wcm90b3R5cGUsIl9saW5rRW1pc3NpdmVXaXRoRGlmZnVzZSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsImxpbmtFbWlzc2l2ZVdpdGhEaWZmdXNlIix2b2lkIDApLFQoW3koInVzZVNwZWN1bGFyT3ZlckFscGhhIildLEIucHJvdG90eXBlLCJfdXNlU3BlY3VsYXJPdmVyQWxwaGEiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJ1c2VTcGVjdWxhck92ZXJBbHBoYSIsdm9pZCAwKSxUKFt5KCJ1c2VSZWZsZWN0aW9uT3ZlckFscGhhIildLEIucHJvdG90eXBlLCJfdXNlUmVmbGVjdGlvbk92ZXJBbHBoYSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInVzZVJlZmxlY3Rpb25PdmVyQWxwaGEiLHZvaWQgMCksVChbeSgiZGlzYWJsZUxpZ2h0aW5nIildLEIucHJvdG90eXBlLCJfZGlzYWJsZUxpZ2h0aW5nIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzTGlnaHRzRGlydHkiKV0sQi5wcm90b3R5cGUsImRpc2FibGVMaWdodGluZyIsdm9pZCAwKSxUKFt5KCJ1c2VPYmplY3RTcGFjZU5vcm1hbE1hcCIpXSxCLnByb3RvdHlwZSwiX3VzZU9iamVjdFNwYWNlTm9ybWFsTWFwIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwidXNlT2JqZWN0U3BhY2VOb3JtYWxNYXAiLHZvaWQgMCksVChbeSgidXNlUGFyYWxsYXgiKV0sQi5wcm90b3R5cGUsIl91c2VQYXJhbGxheCIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInVzZVBhcmFsbGF4Iix2b2lkIDApLFQoW3koInVzZVBhcmFsbGF4T2NjbHVzaW9uIildLEIucHJvdG90eXBlLCJfdXNlUGFyYWxsYXhPY2NsdXNpb24iLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJ1c2VQYXJhbGxheE9jY2x1c2lvbiIsdm9pZCAwKSxUKFt5KCldLEIucHJvdG90eXBlLCJwYXJhbGxheFNjYWxlQmlhcyIsdm9pZCAwKSxUKFt5KCJyb3VnaG5lc3MiKV0sQi5wcm90b3R5cGUsIl9yb3VnaG5lc3MiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJyb3VnaG5lc3MiLHZvaWQgMCksVChbeSgpXSxCLnByb3RvdHlwZSwiaW5kZXhPZlJlZnJhY3Rpb24iLHZvaWQgMCksVChbeSgpXSxCLnByb3RvdHlwZSwiaW52ZXJ0UmVmcmFjdGlvblkiLHZvaWQgMCksVChbeSgpXSxCLnByb3RvdHlwZSwiYWxwaGFDdXRPZmYiLHZvaWQgMCksVChbeSgidXNlTGlnaHRtYXBBc1NoYWRvd21hcCIpXSxCLnByb3RvdHlwZSwiX3VzZUxpZ2h0bWFwQXNTaGFkb3dtYXAiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJ1c2VMaWdodG1hcEFzU2hhZG93bWFwIix2b2lkIDApLFQoW1ZpKCJkaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMiKV0sQi5wcm90b3R5cGUsIl9kaWZmdXNlRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sQi5wcm90b3R5cGUsImRpZmZ1c2VGcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtWaSgib3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzIildLEIucHJvdG90eXBlLCJfb3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbEFuZE1pc2NEaXJ0eSIpXSxCLnByb3RvdHlwZSwib3BhY2l0eUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW1ZpKCJyZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiKV0sQi5wcm90b3R5cGUsIl9yZWZsZWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sQi5wcm90b3R5cGUsInJlZmxlY3Rpb25GcmVzbmVsUGFyYW1ldGVycyIsdm9pZCAwKSxUKFtWaSgicmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIildLEIucHJvdG90eXBlLCJfcmVmcmFjdGlvbkZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLEIucHJvdG90eXBlLCJyZWZyYWN0aW9uRnJlc25lbFBhcmFtZXRlcnMiLHZvaWQgMCksVChbVmkoImVtaXNzaXZlRnJlc25lbFBhcmFtZXRlcnMiKV0sQi5wcm90b3R5cGUsIl9lbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzRnJlc25lbERpcnR5IildLEIucHJvdG90eXBlLCJlbWlzc2l2ZUZyZXNuZWxQYXJhbWV0ZXJzIix2b2lkIDApLFQoW3koInVzZVJlZmxlY3Rpb25GcmVzbmVsRnJvbVNwZWN1bGFyIildLEIucHJvdG90eXBlLCJfdXNlUmVmbGVjdGlvbkZyZXNuZWxGcm9tU3BlY3VsYXIiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNGcmVzbmVsRGlydHkiKV0sQi5wcm90b3R5cGUsInVzZVJlZmxlY3Rpb25GcmVzbmVsRnJvbVNwZWN1bGFyIix2b2lkIDApLFQoW3koInVzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYSIpXSxCLnByb3RvdHlwZSwiX3VzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsInVzZUdsb3NzaW5lc3NGcm9tU3BlY3VsYXJNYXBBbHBoYSIsdm9pZCAwKSxUKFt5KCJtYXhTaW11bHRhbmVvdXNMaWdodHMiKV0sQi5wcm90b3R5cGUsIl9tYXhTaW11bHRhbmVvdXNMaWdodHMiLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNMaWdodHNEaXJ0eSIpXSxCLnByb3RvdHlwZSwibWF4U2ltdWx0YW5lb3VzTGlnaHRzIix2b2lkIDApLFQoW3koImludmVydE5vcm1hbE1hcFgiKV0sQi5wcm90b3R5cGUsIl9pbnZlcnROb3JtYWxNYXBYIix2b2lkIDApLFQoW1RlKCJfbWFya0FsbFN1Yk1lc2hlc0FzVGV4dHVyZXNEaXJ0eSIpXSxCLnByb3RvdHlwZSwiaW52ZXJ0Tm9ybWFsTWFwWCIsdm9pZCAwKSxUKFt5KCJpbnZlcnROb3JtYWxNYXBZIildLEIucHJvdG90eXBlLCJfaW52ZXJ0Tm9ybWFsTWFwWSIsdm9pZCAwKSxUKFtUZSgiX21hcmtBbGxTdWJNZXNoZXNBc1RleHR1cmVzRGlydHkiKV0sQi5wcm90b3R5cGUsImludmVydE5vcm1hbE1hcFkiLHZvaWQgMCksVChbeSgidHdvU2lkZWRMaWdodGluZyIpXSxCLnByb3RvdHlwZSwiX3R3b1NpZGVkTGlnaHRpbmciLHZvaWQgMCksVChbVGUoIl9tYXJrQWxsU3ViTWVzaGVzQXNUZXh0dXJlc0RpcnR5IildLEIucHJvdG90eXBlLCJ0d29TaWRlZExpZ2h0aW5nIix2b2lkIDApLFQoW3koKV0sQi5wcm90b3R5cGUsInVzZUxvZ2FyaXRobWljRGVwdGgiLG51bGwpLHN0KCJCQUJZTE9OLlN0YW5kYXJkTWF0ZXJpYWwiLEIpLGFlLkRlZmF1bHRNYXRlcmlhbEZhY3Rvcnk9Yz0+bmV3IEIoImRlZmF1bHQgbWF0ZXJpYWwiLGMpO2NvbnN0IENsPSJpbWFnZVByb2Nlc3NpbmdDb21wYXRpYmlsaXR5IixJbD1gI2lmZGVmIElNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTCmdsX0ZyYWdDb2xvci5yZ2I9cG93KGdsX0ZyYWdDb2xvci5yZ2IsdmVjMygyLjIpKTsKI2VuZGlmCmA7TC5JbmNsdWRlc1NoYWRlcnNTdG9yZVtDbF09SWw7Y29uc3QgUGw9InNoYWRvd09ubHlQaXhlbFNoYWRlciIsRGw9YHByZWNpc2lvbiBoaWdocCBmbG9hdDsKdW5pZm9ybSB2ZWM0IHZFeWVQb3NpdGlvbjsKdW5pZm9ybSBmbG9hdCBhbHBoYTsKdW5pZm9ybSB2ZWMzIHNoYWRvd0NvbG9yOwp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVzsKI2lmZGVmIE5PUk1BTAp2YXJ5aW5nIHZlYzMgdk5vcm1hbFc7CiNlbmRpZgojaW5jbHVkZTxoZWxwZXJGdW5jdGlvbnM+CiNpbmNsdWRlPF9fZGVjbF9fbGlnaHRGcmFnbWVudD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaW5jbHVkZTxsaWdodHNGcmFnbWVudEZ1bmN0aW9ucz4KI2luY2x1ZGU8c2hhZG93c0ZyYWdtZW50RnVuY3Rpb25zPgojaW5jbHVkZTxjbGlwUGxhbmVGcmFnbWVudERlY2xhcmF0aW9uPgojaW5jbHVkZTxmb2dGcmFnbWVudERlY2xhcmF0aW9uPgojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0JFR0lOCiNpbmNsdWRlPGNsaXBQbGFuZUZyYWdtZW50Pgp2ZWMzIHZpZXdEaXJlY3Rpb25XPW5vcm1hbGl6ZSh2RXllUG9zaXRpb24ueHl6LXZQb3NpdGlvblcpOwojaWZkZWYgTk9STUFMCnZlYzMgbm9ybWFsVz1ub3JtYWxpemUodk5vcm1hbFcpOwojZWxzZQp2ZWMzIG5vcm1hbFc9dmVjMygxLjAsMS4wLDEuMCk7CiNlbmRpZgp2ZWMzIGRpZmZ1c2VCYXNlPXZlYzMoMC4sMC4sMC4pOwpsaWdodGluZ0luZm8gaW5mbzsKZmxvYXQgc2hhZG93PTEuOwpmbG9hdCBnbG9zc2luZXNzPTAuOwojaW5jbHVkZTxsaWdodEZyYWdtZW50PlswLi4xXQp2ZWM0IGNvbG9yPXZlYzQoc2hhZG93Q29sb3IsKDEuMC1jbGFtcChzaGFkb3csMC4sMS4pKSphbHBoYSk7CiNpbmNsdWRlPGZvZ0ZyYWdtZW50PgpnbF9GcmFnQ29sb3I9Y29sb3I7CiNpbmNsdWRlPGltYWdlUHJvY2Vzc2luZ0NvbXBhdGliaWxpdHk+CiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fRU5ECn1gO0wuU2hhZGVyc1N0b3JlW1BsXT1EbDtjb25zdCBGbD0ic2hhZG93T25seVZlcnRleFNoYWRlciIsd2w9YHByZWNpc2lvbiBoaWdocCBmbG9hdDsKYXR0cmlidXRlIHZlYzMgcG9zaXRpb247CiNpZmRlZiBOT1JNQUwKYXR0cmlidXRlIHZlYzMgbm9ybWFsOwojZW5kaWYKI2luY2x1ZGU8Ym9uZXNEZWNsYXJhdGlvbj4KI2luY2x1ZGU8YmFrZWRWZXJ0ZXhBbmltYXRpb25EZWNsYXJhdGlvbj4KI2luY2x1ZGU8aW5zdGFuY2VzRGVjbGFyYXRpb24+CnVuaWZvcm0gbWF0NCB2aWV3Owp1bmlmb3JtIG1hdDQgdmlld1Byb2plY3Rpb247CiNpZmRlZiBQT0lOVFNJWkUKdW5pZm9ybSBmbG9hdCBwb2ludFNpemU7CiNlbmRpZgp2YXJ5aW5nIHZlYzMgdlBvc2l0aW9uVzsKI2lmZGVmIE5PUk1BTAp2YXJ5aW5nIHZlYzMgdk5vcm1hbFc7CiNlbmRpZgojaWZkZWYgVkVSVEVYQ09MT1IKdmFyeWluZyB2ZWM0IHZDb2xvcjsKI2VuZGlmCiNpbmNsdWRlPGNsaXBQbGFuZVZlcnRleERlY2xhcmF0aW9uPgojaW5jbHVkZTxmb2dWZXJ0ZXhEZWNsYXJhdGlvbj4KI2luY2x1ZGU8X19kZWNsX19saWdodEZyYWdtZW50PlswLi5tYXhTaW11bHRhbmVvdXNMaWdodHNdCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUwp2b2lkIG1haW4odm9pZCkgewojZGVmaW5lIENVU1RPTV9WRVJURVhfTUFJTl9CRUdJTgojaW5jbHVkZTxpbnN0YW5jZXNWZXJ0ZXg+CiNpbmNsdWRlPGJvbmVzVmVydGV4PgojaW5jbHVkZTxiYWtlZFZlcnRleEFuaW1hdGlvbj4KdmVjNCB3b3JsZFBvcz1maW5hbFdvcmxkKnZlYzQocG9zaXRpb24sMS4wKTsKZ2xfUG9zaXRpb249dmlld1Byb2plY3Rpb24qd29ybGRQb3M7CnZQb3NpdGlvblc9dmVjMyh3b3JsZFBvcyk7CiNpZmRlZiBOT1JNQUwKdk5vcm1hbFc9bm9ybWFsaXplKHZlYzMoZmluYWxXb3JsZCp2ZWM0KG5vcm1hbCwwLjApKSk7CiNlbmRpZgojaW5jbHVkZTxjbGlwUGxhbmVWZXJ0ZXg+CiNpbmNsdWRlPGZvZ1ZlcnRleD4KI2luY2x1ZGU8c2hhZG93c1ZlcnRleD5bMC4ubWF4U2ltdWx0YW5lb3VzTGlnaHRzXQojaWYgZGVmaW5lZChQT0lOVFNJWkUpICYmICFkZWZpbmVkKFdFQkdQVSkKZ2xfUG9pbnRTaXplPXBvaW50U2l6ZTsKI2VuZGlmCiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0VORAp9CmA7TC5TaGFkZXJzU3RvcmVbRmxdPXdsO2NsYXNzIE9sIGV4dGVuZHMgRnN7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuQ0xJUFBMQU5FPSExLHRoaXMuQ0xJUFBMQU5FMj0hMSx0aGlzLkNMSVBQTEFORTM9ITEsdGhpcy5DTElQUExBTkU0PSExLHRoaXMuQ0xJUFBMQU5FNT0hMSx0aGlzLkNMSVBQTEFORTY9ITEsdGhpcy5QT0lOVFNJWkU9ITEsdGhpcy5GT0c9ITEsdGhpcy5OT1JNQUw9ITEsdGhpcy5OVU1fQk9ORV9JTkZMVUVOQ0VSUz0wLHRoaXMuQm9uZXNQZXJNZXNoPTAsdGhpcy5JTlNUQU5DRVM9ITEsdGhpcy5JTUFHRVBST0NFU1NJTkdQT1NUUFJPQ0VTUz0hMSx0aGlzLlNLSVBGSU5BTENPTE9SQ0xBTVA9ITEsdGhpcy5yZWJ1aWxkKCl9fWNsYXNzIEdpIGV4dGVuZHMgSHJ7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQpLHRoaXMuX25lZWRBbHBoYUJsZW5kaW5nPSEwLHRoaXMuc2hhZG93Q29sb3I9cmUuQmxhY2soKX1uZWVkQWxwaGFCbGVuZGluZygpe3JldHVybiB0aGlzLl9uZWVkQWxwaGFCbGVuZGluZ31uZWVkQWxwaGFUZXN0aW5nKCl7cmV0dXJuITF9Z2V0QWxwaGFUZXN0VGV4dHVyZSgpe3JldHVybiBudWxsfWdldCBhY3RpdmVMaWdodCgpe3JldHVybiB0aGlzLl9hY3RpdmVMaWdodH1zZXQgYWN0aXZlTGlnaHQoZSl7dGhpcy5fYWN0aXZlTGlnaHQ9ZX1fZ2V0Rmlyc3RTaGFkb3dMaWdodEZvck1lc2goZSl7Zm9yKGNvbnN0IHQgb2YgZS5saWdodFNvdXJjZXMpaWYodC5zaGFkb3dFbmFibGVkKXJldHVybiB0O3JldHVybiBudWxsfWlzUmVhZHlGb3JTdWJNZXNoKGUsdCxpKXt2YXIgcztpZih0aGlzLmlzRnJvemVuJiZ0LmVmZmVjdCYmdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlSZWFkeSYmdC5lZmZlY3QuX3dhc1ByZXZpb3VzbHlVc2luZ0luc3RhbmNlcz09PWkpcmV0dXJuITA7dC5tYXRlcmlhbERlZmluZXN8fCh0Lm1hdGVyaWFsRGVmaW5lcz1uZXcgT2wpO2NvbnN0IHI9dC5tYXRlcmlhbERlZmluZXMsbj10aGlzLmdldFNjZW5lKCk7aWYodGhpcy5faXNSZWFkeUZvclN1Yk1lc2godCkpcmV0dXJuITA7Y29uc3QgYT1uLmdldEVuZ2luZSgpO2lmKHRoaXMuX2FjdGl2ZUxpZ2h0KXtmb3IoY29uc3QgaCBvZiBlLmxpZ2h0U291cmNlcylpZihoLnNoYWRvd0VuYWJsZWQpe2lmKHRoaXMuX2FjdGl2ZUxpZ2h0PT09aClicmVhaztjb25zdCBsPWUubGlnaHRTb3VyY2VzLmluZGV4T2YodGhpcy5fYWN0aXZlTGlnaHQpO2whPT0tMSYmKGUubGlnaHRTb3VyY2VzLnNwbGljZShsLDEpLGUubGlnaHRTb3VyY2VzLnNwbGljZSgwLDAsdGhpcy5fYWN0aXZlTGlnaHQpKTticmVha319c2UuUHJlcGFyZURlZmluZXNGb3JGcmFtZUJvdW5kVmFsdWVzKG4sYSx0aGlzLHIsISFpKSxzZS5QcmVwYXJlRGVmaW5lc0Zvck1pc2MoZSxuLCExLHRoaXMucG9pbnRzQ2xvdWQsdGhpcy5mb2dFbmFibGVkLHRoaXMuX3Nob3VsZFR1cm5BbHBoYVRlc3RPbihlKSxyKSxyLl9uZWVkTm9ybWFscz1zZS5QcmVwYXJlRGVmaW5lc0ZvckxpZ2h0cyhuLGUsciwhMSwxKTtjb25zdCBvPShzPXRoaXMuX2dldEZpcnN0U2hhZG93TGlnaHRGb3JNZXNoKGUpKT09PW51bGx8fHM9PT12b2lkIDA/dm9pZCAwOnMuZ2V0U2hhZG93R2VuZXJhdG9yKCk7aWYodGhpcy5fbmVlZEFscGhhQmxlbmRpbmc9ITAsbyYmby5nZXRDbGFzc05hbWUmJm8uZ2V0Q2xhc3NOYW1lKCk9PT0iQ2FzY2FkZWRTaGFkb3dHZW5lcmF0b3IiKXtjb25zdCBoPW87dGhpcy5fbmVlZEFscGhhQmxlbmRpbmc9IWguYXV0b0NhbGNEZXB0aEJvdW5kc31pZihzZS5QcmVwYXJlRGVmaW5lc0ZvckF0dHJpYnV0ZXMoZSxyLCExLCEwKSxyLmlzRGlydHkpe3IubWFya0FzUHJvY2Vzc2VkKCksbi5yZXNldENhY2hlZE1hdGVyaWFsKCk7Y29uc3QgaD1uZXcgWXM7ci5GT0cmJmguYWRkRmFsbGJhY2soMSwiRk9HIiksc2UuSGFuZGxlRmFsbGJhY2tzRm9yU2hhZG93cyhyLGgsMSksci5OVU1fQk9ORV9JTkZMVUVOQ0VSUz4wJiZoLmFkZENQVVNraW5uaW5nRmFsbGJhY2soMCxlKSxyLklNQUdFUFJPQ0VTU0lOR1BPU1RQUk9DRVNTPW4uaW1hZ2VQcm9jZXNzaW5nQ29uZmlndXJhdGlvbi5hcHBseUJ5UG9zdFByb2Nlc3M7Y29uc3QgbD1bZy5Qb3NpdGlvbktpbmRdO3IuTk9STUFMJiZsLnB1c2goZy5Ob3JtYWxLaW5kKSxzZS5QcmVwYXJlQXR0cmlidXRlc0ZvckJvbmVzKGwsZSxyLGgpLHNlLlByZXBhcmVBdHRyaWJ1dGVzRm9ySW5zdGFuY2VzKGwscik7Y29uc3QgdT0ic2hhZG93T25seSIsZD1yLnRvU3RyaW5nKCksXz1bIndvcmxkIiwidmlldyIsInZpZXdQcm9qZWN0aW9uIiwidkV5ZVBvc2l0aW9uIiwidkxpZ2h0c1R5cGUiLCJ2Rm9nSW5mb3MiLCJ2Rm9nQ29sb3IiLCJwb2ludFNpemUiLCJhbHBoYSIsInNoYWRvd0NvbG9yIiwibUJvbmVzIl0sZj1uZXcgQXJyYXksbT1uZXcgQXJyYXk7b3MoXyksc2UuUHJlcGFyZVVuaWZvcm1zQW5kU2FtcGxlcnNMaXN0KHt1bmlmb3Jtc05hbWVzOl8sdW5pZm9ybUJ1ZmZlcnNOYW1lczptLHNhbXBsZXJzOmYsZGVmaW5lczpyLG1heFNpbXVsdGFuZW91c0xpZ2h0czoxfSksdC5zZXRFZmZlY3Qobi5nZXRFbmdpbmUoKS5jcmVhdGVFZmZlY3QodSx7YXR0cmlidXRlczpsLHVuaWZvcm1zTmFtZXM6Xyx1bmlmb3JtQnVmZmVyc05hbWVzOm0sc2FtcGxlcnM6ZixkZWZpbmVzOmQsZmFsbGJhY2tzOmgsb25Db21waWxlZDp0aGlzLm9uQ29tcGlsZWQsb25FcnJvcjp0aGlzLm9uRXJyb3IsaW5kZXhQYXJhbWV0ZXJzOnttYXhTaW11bHRhbmVvdXNMaWdodHM6MX19LGEpLHIsdGhpcy5fbWF0ZXJpYWxDb250ZXh0KX1yZXR1cm4hdC5lZmZlY3R8fCF0LmVmZmVjdC5pc1JlYWR5KCk/ITE6KHIuX3JlbmRlcklkPW4uZ2V0UmVuZGVySWQoKSx0LmVmZmVjdC5fd2FzUHJldmlvdXNseVJlYWR5PSEwLHQuZWZmZWN0Ll93YXNQcmV2aW91c2x5VXNpbmdJbnN0YW5jZXM9ISFpLCEwKX1iaW5kRm9yU3ViTWVzaChlLHQsaSl7Y29uc3Qgcz10aGlzLmdldFNjZW5lKCkscj1pLm1hdGVyaWFsRGVmaW5lcztpZighcilyZXR1cm47Y29uc3Qgbj1pLmVmZmVjdDtpZihuKXtpZih0aGlzLl9hY3RpdmVFZmZlY3Q9bix0aGlzLmJpbmRPbmx5V29ybGRNYXRyaXgoZSksdGhpcy5fYWN0aXZlRWZmZWN0LnNldE1hdHJpeCgidmlld1Byb2plY3Rpb24iLHMuZ2V0VHJhbnNmb3JtTWF0cml4KCkpLHNlLkJpbmRCb25lc1BhcmFtZXRlcnModCx0aGlzLl9hY3RpdmVFZmZlY3QpLHRoaXMuX211c3RSZWJpbmQocyxuKSYmKGhzKG4sdGhpcyxzKSx0aGlzLnBvaW50c0Nsb3VkJiZ0aGlzLl9hY3RpdmVFZmZlY3Quc2V0RmxvYXQoInBvaW50U2l6ZSIsdGhpcy5wb2ludFNpemUpLHRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRGbG9hdCgiYWxwaGEiLHRoaXMuYWxwaGEpLHRoaXMuX2FjdGl2ZUVmZmVjdC5zZXRDb2xvcjMoInNoYWRvd0NvbG9yIix0aGlzLnNoYWRvd0NvbG9yKSxzLmJpbmRFeWVQb3NpdGlvbihuKSkscy5saWdodHNFbmFibGVkKXtzZS5CaW5kTGlnaHRzKHMsdCx0aGlzLl9hY3RpdmVFZmZlY3QsciwxKTtjb25zdCBhPXRoaXMuX2dldEZpcnN0U2hhZG93TGlnaHRGb3JNZXNoKHQpO2EmJihhLl9yZW5kZXJJZD0tMSl9KHMuZm9nRW5hYmxlZCYmdC5hcHBseUZvZyYmcy5mb2dNb2RlIT09YWUuRk9HTU9ERV9OT05FfHxyLlNIQURPV0NTTTApJiZ0aGlzLl9hY3RpdmVFZmZlY3Quc2V0TWF0cml4KCJ2aWV3IixzLmdldFZpZXdNYXRyaXgoKSksc2UuQmluZEZvZ1BhcmFtZXRlcnMocyx0LHRoaXMuX2FjdGl2ZUVmZmVjdCksdGhpcy5fYWZ0ZXJCaW5kKHQsdGhpcy5fYWN0aXZlRWZmZWN0KX19Y2xvbmUoZSl7cmV0dXJuIG5lLkNsb25lKCgpPT5uZXcgR2koZSx0aGlzLmdldFNjZW5lKCkpLHRoaXMpfXNlcmlhbGl6ZSgpe2NvbnN0IGU9c3VwZXIuc2VyaWFsaXplKCk7cmV0dXJuIGUuY3VzdG9tVHlwZT0iQkFCWUxPTi5TaGFkb3dPbmx5TWF0ZXJpYWwiLGV9Z2V0Q2xhc3NOYW1lKCl7cmV0dXJuIlNoYWRvd09ubHlNYXRlcmlhbCJ9c3RhdGljIFBhcnNlKGUsdCxpKXtyZXR1cm4gbmUuUGFyc2UoKCk9Pm5ldyBHaShlLm5hbWUsdCksZSx0LGkpfX1zdCgiQkFCWUxPTi5TaGFkb3dPbmx5TWF0ZXJpYWwiLEdpKTtjb25zdCBMbD17YXNwZWN0OjMwMC8xNTAsZW5hYmxlRGVidWdnaW5nOiExLGVuYWJsZVNoYWRvd3M6ITB9O2NsYXNzIE5se2NvbnN0cnVjdG9yKGUpe1N0KHRoaXMsInNpemUiLDkuNSk7dGhpcy5jb25maWc9ey4uLkxsLC4uLmV9LHRoaXMuY3JlYXRlKCl9Y3JlYXRlKGUpe3RoaXMuZGVzdHJveSgpLE9iamVjdC5hc3NpZ24odGhpcy5jb25maWcsZSk7Y29uc3R7YXNwZWN0OnQsZW5hYmxlRGVidWdnaW5nOmksZW5hYmxlU2hhZG93czpzfT10aGlzLmNvbmZpZyxyPTMwO3RoaXMuYm94PW5ldyBlZSgiZGljZUJveCIpO2xldCBuPW5ldyBHaSgic2hhZG93T25seSIsdGhpcy5jb25maWcuc2NlbmUpO24uYWxwaGE9cz8xOjAsaSYmKG49bmV3IEIoImRpY2VCb3hfbWF0ZXJpYWwiKSxuLmFscGhhPS43LG4uZGlmZnVzZUNvbG9yPW5ldyByZSgxLDEsMCkpO2NvbnN0IGE9Q2koImdyb3VuZCIse3dpZHRoOnRoaXMuc2l6ZSoyLGhlaWdodDoxLGRlcHRoOnRoaXMuc2l6ZSoyfSx0aGlzLmNvbmZpZy5zY2VuZSk7aWYoYS5zY2FsaW5nPW5ldyBwKHQsMSwxKSxhLm1hdGVyaWFsPW4sYS5yZWNlaXZlU2hhZG93cz0hMCxhLnNldFBhcmVudCh0aGlzLmJveCksaSl7Y29uc3Qgbz1DaSgid2FsbFRvcCIse3dpZHRoOnRoaXMuc2l6ZSxoZWlnaHQ6cixkZXB0aDoxfSx0aGlzLmNvbmZpZy5zY2VuZSk7by5wb3NpdGlvbi55PXIvMixvLnBvc2l0aW9uLno9dGhpcy5zaXplLy0yLG8uc2NhbGluZz1uZXcgcCh0LDEsMSksby5tYXRlcmlhbD1uLG8uc2V0UGFyZW50KHRoaXMuYm94KTtjb25zdCBoPUNpKCJ3YWxsUmlnaHQiLHt3aWR0aDoxLGhlaWdodDpyLGRlcHRoOnRoaXMuc2l6ZX0sdGhpcy5jb25maWcuc2NlbmUpO2gucG9zaXRpb24ueD10aGlzLnNpemUqdC8yLGgucG9zaXRpb24ueT1yLzIsaC5tYXRlcmlhbD1uLGguc2V0UGFyZW50KHRoaXMuYm94KTtjb25zdCBsPUNpKCJ3YWxsQm90dG9tIix7d2lkdGg6dGhpcy5zaXplLGhlaWdodDpyLGRlcHRoOjF9LHRoaXMuY29uZmlnLnNjZW5lKTtsLnBvc2l0aW9uLnk9ci8yLGwucG9zaXRpb24uej10aGlzLnNpemUvMixsLnNjYWxpbmc9bmV3IHAodCwxLDEpLGwubWF0ZXJpYWw9bixsLnNldFBhcmVudCh0aGlzLmJveCk7Y29uc3QgdT1DaSgid2FsbExlZnQiLHt3aWR0aDoxLGhlaWdodDpyLGRlcHRoOnRoaXMuc2l6ZX0sdGhpcy5jb25maWcuc2NlbmUpO3UucG9zaXRpb24ueD10aGlzLnNpemUqdC8tMix1LnBvc2l0aW9uLnk9ci8yLHUubWF0ZXJpYWw9bix1LnNldFBhcmVudCh0aGlzLmJveCl9fWRlc3Ryb3koKXt0aGlzLmJveCYmdGhpcy5ib3guZGlzcG9zZSgpfX12YXIgaWk7KGZ1bmN0aW9uKGMpe2NbYy5DbGVhbj0wXT0iQ2xlYW4iLGNbYy5TdG9wPTFdPSJTdG9wIixjW2MuU3luYz0yXT0iU3luYyIsY1tjLk5vU3luYz0zXT0iTm9TeW5jIn0pKGlpfHwoaWk9e30pKTtjbGFzcyBoZXtzdGF0aWMgZ2V0IEZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsKCl7cmV0dXJuIEZlLkZvcmNlRnVsbFNjZW5lTG9hZGluZ0ZvckluY3JlbWVudGFsfXN0YXRpYyBzZXQgRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWwoZSl7RmUuRm9yY2VGdWxsU2NlbmVMb2FkaW5nRm9ySW5jcmVtZW50YWw9ZX1zdGF0aWMgZ2V0IFNob3dMb2FkaW5nU2NyZWVuKCl7cmV0dXJuIEZlLlNob3dMb2FkaW5nU2NyZWVufXN0YXRpYyBzZXQgU2hvd0xvYWRpbmdTY3JlZW4oZSl7RmUuU2hvd0xvYWRpbmdTY3JlZW49ZX1zdGF0aWMgZ2V0IGxvZ2dpbmdMZXZlbCgpe3JldHVybiBGZS5sb2dnaW5nTGV2ZWx9c3RhdGljIHNldCBsb2dnaW5nTGV2ZWwoZSl7RmUubG9nZ2luZ0xldmVsPWV9c3RhdGljIGdldCBDbGVhbkJvbmVNYXRyaXhXZWlnaHRzKCl7cmV0dXJuIEZlLkNsZWFuQm9uZU1hdHJpeFdlaWdodHN9c3RhdGljIHNldCBDbGVhbkJvbmVNYXRyaXhXZWlnaHRzKGUpe0ZlLkNsZWFuQm9uZU1hdHJpeFdlaWdodHM9ZX1zdGF0aWMgR2V0RGVmYXVsdFBsdWdpbigpe3JldHVybiBoZS5fUmVnaXN0ZXJlZFBsdWdpbnNbIi5iYWJ5bG9uIl19c3RhdGljIF9HZXRQbHVnaW5Gb3JFeHRlbnNpb24oZSl7Y29uc3QgdD1oZS5fUmVnaXN0ZXJlZFBsdWdpbnNbZV07cmV0dXJuIHR8fChPLldhcm4oIlVuYWJsZSB0byBmaW5kIGEgcGx1Z2luIHRvIGxvYWQgIitlKyIgZmlsZXMuIFRyeWluZyB0byB1c2UgLmJhYnlsb24gZGVmYXVsdCBwbHVnaW4uIFRvIGxvYWQgZnJvbSBhIHNwZWNpZmljIGZpbGV0eXBlIChlZy4gZ2x0Zikgc2VlOiBodHRwczovL2RvYy5iYWJ5bG9uanMuY29tL2ZlYXR1cmVzL2ZlYXR1cmVzRGVlcERpdmUvaW1wb3J0ZXJzL2xvYWRpbmdGaWxlVHlwZXMiKSxoZS5HZXREZWZhdWx0UGx1Z2luKCkpfXN0YXRpYyBfR2V0UGx1Z2luRm9yRGlyZWN0TG9hZChlKXtmb3IoY29uc3QgdCBpbiBoZS5fUmVnaXN0ZXJlZFBsdWdpbnMpe2NvbnN0IGk9aGUuX1JlZ2lzdGVyZWRQbHVnaW5zW3RdLnBsdWdpbjtpZihpLmNhbkRpcmVjdExvYWQmJmkuY2FuRGlyZWN0TG9hZChlKSlyZXR1cm4gaGUuX1JlZ2lzdGVyZWRQbHVnaW5zW3RdfXJldHVybiBoZS5HZXREZWZhdWx0UGx1Z2luKCl9c3RhdGljIF9HZXRQbHVnaW5Gb3JGaWxlbmFtZShlKXtjb25zdCB0PWUuaW5kZXhPZigiPyIpO3QhPT0tMSYmKGU9ZS5zdWJzdHJpbmcoMCx0KSk7Y29uc3QgaT1lLmxhc3RJbmRleE9mKCIuIikscz1lLnN1YnN0cmluZyhpLGUubGVuZ3RoKS50b0xvd2VyQ2FzZSgpO3JldHVybiBoZS5fR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKHMpfXN0YXRpYyBfR2V0RGlyZWN0TG9hZChlKXtyZXR1cm4gZS5zdWJzdHIoMCw1KT09PSJkYXRhOiI/ZS5zdWJzdHIoNSk6bnVsbH1zdGF0aWMgX0Zvcm1hdEVycm9yTWVzc2FnZShlLHQsaSl7bGV0IHM9IlVuYWJsZSB0byBsb2FkIGZyb20gIitlLnVybDtyZXR1cm4gdD9zKz1gOiAke3R9YDppJiYocys9YDogJHtpfWApLHN9c3RhdGljIF9Mb2FkRGF0YShlLHQsaSxzLHIsbixhKXtjb25zdCBvPWhlLl9HZXREaXJlY3RMb2FkKGUudXJsKSxoPWE/aGUuX0dldFBsdWdpbkZvckV4dGVuc2lvbihhKTpvP2hlLl9HZXRQbHVnaW5Gb3JEaXJlY3RMb2FkKGUudXJsKTpoZS5fR2V0UGx1Z2luRm9yRmlsZW5hbWUoZS51cmwpO2xldCBsO2lmKGgucGx1Z2luLmNyZWF0ZVBsdWdpbiE9PXZvaWQgMD9sPWgucGx1Z2luLmNyZWF0ZVBsdWdpbigpOmw9aC5wbHVnaW4sIWwpdGhyb3ciVGhlIGxvYWRlciBwbHVnaW4gY29ycmVzcG9uZGluZyB0byB0aGUgZmlsZSB0eXBlIHlvdSBhcmUgdHJ5aW5nIHRvIGxvYWQgaGFzIG5vdCBiZWVuIGZvdW5kLiBJZiB1c2luZyBlczYsIHBsZWFzZSBpbXBvcnQgdGhlIHBsdWdpbiB5b3Ugd2lzaCB0byB1c2UgYmVmb3JlLiI7aWYoaGUuT25QbHVnaW5BY3RpdmF0ZWRPYnNlcnZhYmxlLm5vdGlmeU9ic2VydmVycyhsKSxvJiYobC5jYW5EaXJlY3RMb2FkJiZsLmNhbkRpcmVjdExvYWQoZS51cmwpfHwhSXMoZS51cmwpKSl7aWYobC5kaXJlY3RMb2FkKXtjb25zdCBSPWwuZGlyZWN0TG9hZCh0LG8pO1IudGhlbj9SLnRoZW4oQT0+e2kobCxBKX0pLmNhdGNoKEE9PntyKCJFcnJvciBpbiBkaXJlY3RMb2FkIG9mIF9sb2FkRGF0YTogIitBLEEpfSk6aShsLFIpfWVsc2UgaShsLG8pO3JldHVybiBsfWNvbnN0IHU9aC5pc0JpbmFyeSxkPShSLEEpPT57aWYodC5pc0Rpc3Bvc2VkKXtyKCJTY2VuZSBoYXMgYmVlbiBkaXNwb3NlZCIpO3JldHVybn1pKGwsUixBKX07bGV0IF89bnVsbCxmPSExO2NvbnN0IG09bC5vbkRpc3Bvc2VPYnNlcnZhYmxlO20mJm0uYWRkKCgpPT57Zj0hMCxfJiYoXy5hYm9ydCgpLF89bnVsbCksbigpfSk7Y29uc3Qgdj0oKT0+e2lmKGYpcmV0dXJuO2NvbnN0IFI9KEMsYik9PntyKEM9PW51bGw/dm9pZCAwOkMuc3RhdHVzVGV4dCxiKX0sQT1lLmZpbGV8fGUudXJsO189bC5sb2FkRmlsZT9sLmxvYWRGaWxlKHQsQSxkLHMsdSxSKTp0Ll9sb2FkRmlsZShBLGQscywhMCx1LFIpfSxFPXQuZ2V0RW5naW5lKCk7bGV0IFM9RS5lbmFibGVPZmZsaW5lU3VwcG9ydDtpZihTKXtsZXQgUj0hMTtmb3IoY29uc3QgQSBvZiB0LmRpc2FibGVPZmZsaW5lU3VwcG9ydEV4Y2VwdGlvblJ1bGVzKWlmKEEudGVzdChlLnVybCkpe1I9ITA7YnJlYWt9Uz0hUn1yZXR1cm4gUyYmUC5PZmZsaW5lUHJvdmlkZXJGYWN0b3J5P3Qub2ZmbGluZVByb3ZpZGVyPVAuT2ZmbGluZVByb3ZpZGVyRmFjdG9yeShlLnVybCx2LEUuZGlzYWJsZU1hbmlmZXN0Q2hlY2spOnYoKSxsfXN0YXRpYyBfR2V0RmlsZUluZm8oZSx0KXtsZXQgaSxzLHI9bnVsbDtpZighdClpPWUscz1YLkdldEZpbGVuYW1lKGUpLGU9WC5HZXRGb2xkZXJQYXRoKGUpO2Vsc2UgaWYodC5uYW1lKXtjb25zdCBuPXQ7aT1gZmlsZToke24ubmFtZX1gLHM9bi5uYW1lLHI9bn1lbHNlIGlmKHR5cGVvZiB0PT0ic3RyaW5nIiYmdC5zdGFydHNXaXRoKCJkYXRhOiIpKWk9dCxzPSIiO2Vsc2V7Y29uc3Qgbj10O2lmKG4uc3Vic3RyKDAsMSk9PT0iLyIpcmV0dXJuIFguRXJyb3IoIldyb25nIHNjZW5lRmlsZW5hbWUgcGFyYW1ldGVyIiksbnVsbDtpPWUrbixzPW59cmV0dXJue3VybDppLHJvb3RVcmw6ZSxuYW1lOnMsZmlsZTpyfX1zdGF0aWMgR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKGUpe3JldHVybiBoZS5fR2V0UGx1Z2luRm9yRXh0ZW5zaW9uKGUpLnBsdWdpbn1zdGF0aWMgSXNQbHVnaW5Gb3JFeHRlbnNpb25BdmFpbGFibGUoZSl7cmV0dXJuISFoZS5fUmVnaXN0ZXJlZFBsdWdpbnNbZV19c3RhdGljIFJlZ2lzdGVyUGx1Z2luKGUpe2lmKHR5cGVvZiBlLmV4dGVuc2lvbnM9PSJzdHJpbmciKXtjb25zdCB0PWUuZXh0ZW5zaW9ucztoZS5fUmVnaXN0ZXJlZFBsdWdpbnNbdC50b0xvd2VyQ2FzZSgpXT17cGx1Z2luOmUsaXNCaW5hcnk6ITF9fWVsc2V7Y29uc3QgdD1lLmV4dGVuc2lvbnM7T2JqZWN0LmtleXModCkuZm9yRWFjaChpPT57aGUuX1JlZ2lzdGVyZWRQbHVnaW5zW2kudG9Mb3dlckNhc2UoKV09e3BsdWdpbjplLGlzQmluYXJ5OnRbaV0uaXNCaW5hcnl9fSl9fXN0YXRpYyBJbXBvcnRNZXNoKGUsdCxpPSIiLHM9bGUuTGFzdENyZWF0ZWRTY2VuZSxyPW51bGwsbj1udWxsLGE9bnVsbCxvPW51bGwpe2lmKCFzKXJldHVybiBPLkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gaW1wb3J0IG1lc2ggdG8iKSxudWxsO2NvbnN0IGg9aGUuX0dldEZpbGVJbmZvKHQsaSk7aWYoIWgpcmV0dXJuIG51bGw7Y29uc3QgbD17fTtzLmFkZFBlbmRpbmdEYXRhKGwpO2NvbnN0IHU9KCk9PntzLnJlbW92ZVBlbmRpbmdEYXRhKGwpfSxkPShtLHYpPT57Y29uc3QgRT1oZS5fRm9ybWF0RXJyb3JNZXNzYWdlKGgsbSx2KTthP2EocyxFLG5ldyBCdChFLGxpLlNjZW5lTG9hZGVyRXJyb3IsdikpOk8uRXJyb3IoRSksdSgpfSxfPW4/bT0+e3RyeXtuKG0pfWNhdGNoKHYpe2QoIkVycm9yIGluIG9uUHJvZ3Jlc3MgY2FsbGJhY2s6ICIrdix2KX19OnZvaWQgMCxmPShtLHYsRSxTLFIsQSxDKT0+e2lmKHMuaW1wb3J0ZWRNZXNoZXNGaWxlcy5wdXNoKGgudXJsKSxyKXRyeXtyKG0sdixFLFMsUixBLEMpfWNhdGNoKGIpe2QoIkVycm9yIGluIG9uU3VjY2VzcyBjYWxsYmFjazogIitiLGIpfXMucmVtb3ZlUGVuZGluZ0RhdGEobCl9O3JldHVybiBoZS5fTG9hZERhdGEoaCxzLChtLHYsRSk9PntpZihtLnJld3JpdGVSb290VVJMJiYoaC5yb290VXJsPW0ucmV3cml0ZVJvb3RVUkwoaC5yb290VXJsLEUpKSxtLmltcG9ydE1lc2gpe2NvbnN0IFM9bSxSPW5ldyBBcnJheSxBPW5ldyBBcnJheSxDPW5ldyBBcnJheTtpZighUy5pbXBvcnRNZXNoKGUscyx2LGgucm9vdFVybCxSLEEsQyxkKSlyZXR1cm47cy5sb2FkaW5nUGx1Z2luTmFtZT1tLm5hbWUsZihSLEEsQyxbXSxbXSxbXSxbXSl9ZWxzZSBtLmltcG9ydE1lc2hBc3luYyhlLHMsdixoLnJvb3RVcmwsXyxoLm5hbWUpLnRoZW4oUj0+e3MubG9hZGluZ1BsdWdpbk5hbWU9bS5uYW1lLGYoUi5tZXNoZXMsUi5wYXJ0aWNsZVN5c3RlbXMsUi5za2VsZXRvbnMsUi5hbmltYXRpb25Hcm91cHMsUi50cmFuc2Zvcm1Ob2RlcyxSLmdlb21ldHJpZXMsUi5saWdodHMpfSkuY2F0Y2goUj0+e2QoUi5tZXNzYWdlLFIpfSl9LF8sZCx1LG8pfXN0YXRpYyBJbXBvcnRNZXNoQXN5bmMoZSx0LGk9IiIscz1sZS5MYXN0Q3JlYXRlZFNjZW5lLHI9bnVsbCxuPW51bGwpe3JldHVybiBuZXcgUHJvbWlzZSgoYSxvKT0+e2hlLkltcG9ydE1lc2goZSx0LGkscywoaCxsLHUsZCxfLGYsbSk9PnthKHttZXNoZXM6aCxwYXJ0aWNsZVN5c3RlbXM6bCxza2VsZXRvbnM6dSxhbmltYXRpb25Hcm91cHM6ZCx0cmFuc2Zvcm1Ob2RlczpfLGdlb21ldHJpZXM6ZixsaWdodHM6bX0pfSxyLChoLGwsdSk9PntvKHV8fG5ldyBFcnJvcihsKSl9LG4pfSl9c3RhdGljIExvYWQoZSx0PSIiLGk9bGUuTGFzdENyZWF0ZWRFbmdpbmUscz1udWxsLHI9bnVsbCxuPW51bGwsYT1udWxsKXtyZXR1cm4gaT9oZS5BcHBlbmQoZSx0LG5ldyBhZShpKSxzLHIsbixhKTooWC5FcnJvcigiTm8gZW5naW5lIGF2YWlsYWJsZSIpLG51bGwpfXN0YXRpYyBMb2FkQXN5bmMoZSx0PSIiLGk9bGUuTGFzdENyZWF0ZWRFbmdpbmUscz1udWxsLHI9bnVsbCl7cmV0dXJuIG5ldyBQcm9taXNlKChuLGEpPT57aGUuTG9hZChlLHQsaSxvPT57bihvKX0scywobyxoLGwpPT57YShsfHxuZXcgRXJyb3IoaCkpfSxyKX0pfXN0YXRpYyBBcHBlbmQoZSx0PSIiLGk9bGUuTGFzdENyZWF0ZWRTY2VuZSxzPW51bGwscj1udWxsLG49bnVsbCxhPW51bGwpe2lmKCFpKXJldHVybiBPLkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gYXBwZW5kIHRvIiksbnVsbDtjb25zdCBvPWhlLl9HZXRGaWxlSW5mbyhlLHQpO2lmKCFvKXJldHVybiBudWxsO2NvbnN0IGg9e307aS5hZGRQZW5kaW5nRGF0YShoKTtjb25zdCBsPSgpPT57aS5yZW1vdmVQZW5kaW5nRGF0YShoKX07aGUuU2hvd0xvYWRpbmdTY3JlZW4mJiF0aGlzLl9TaG93aW5nTG9hZGluZ1NjcmVlbiYmKHRoaXMuX1Nob3dpbmdMb2FkaW5nU2NyZWVuPSEwLGkuZ2V0RW5naW5lKCkuZGlzcGxheUxvYWRpbmdVSSgpLGkuZXhlY3V0ZVdoZW5SZWFkeSgoKT0+e2kuZ2V0RW5naW5lKCkuaGlkZUxvYWRpbmdVSSgpLHRoaXMuX1Nob3dpbmdMb2FkaW5nU2NyZWVuPSExfSkpO2NvbnN0IHU9KGYsbSk9Pntjb25zdCB2PWhlLl9Gb3JtYXRFcnJvck1lc3NhZ2UobyxmLG0pO24/bihpLHYsbmV3IEJ0KHYsbGkuU2NlbmVMb2FkZXJFcnJvcixtKSk6Ty5FcnJvcih2KSxsKCl9LGQ9cj9mPT57dHJ5e3IoZil9Y2F0Y2gobSl7dSgiRXJyb3IgaW4gb25Qcm9ncmVzcyBjYWxsYmFjayIsbSl9fTp2b2lkIDAsXz0oKT0+e2lmKHMpdHJ5e3MoaSl9Y2F0Y2goZil7dSgiRXJyb3IgaW4gb25TdWNjZXNzIGNhbGxiYWNrIixmKX1pLnJlbW92ZVBlbmRpbmdEYXRhKGgpfTtyZXR1cm4gaGUuX0xvYWREYXRhKG8saSwoZixtKT0+e2lmKGYubG9hZCl7aWYoIWYubG9hZChpLG0sby5yb290VXJsLHUpKXJldHVybjtpLmxvYWRpbmdQbHVnaW5OYW1lPWYubmFtZSxfKCl9ZWxzZSBmLmxvYWRBc3luYyhpLG0sby5yb290VXJsLGQsby5uYW1lKS50aGVuKCgpPT57aS5sb2FkaW5nUGx1Z2luTmFtZT1mLm5hbWUsXygpfSkuY2F0Y2goRT0+e3UoRS5tZXNzYWdlLEUpfSl9LGQsdSxsLGEpfXN0YXRpYyBBcHBlbmRBc3luYyhlLHQ9IiIsaT1sZS5MYXN0Q3JlYXRlZFNjZW5lLHM9bnVsbCxyPW51bGwpe3JldHVybiBuZXcgUHJvbWlzZSgobixhKT0+e2hlLkFwcGVuZChlLHQsaSxvPT57bihvKX0scywobyxoLGwpPT57YShsfHxuZXcgRXJyb3IoaCkpfSxyKX0pfXN0YXRpYyBMb2FkQXNzZXRDb250YWluZXIoZSx0PSIiLGk9bGUuTGFzdENyZWF0ZWRTY2VuZSxzPW51bGwscj1udWxsLG49bnVsbCxhPW51bGwpe2lmKCFpKXJldHVybiBPLkVycm9yKCJObyBzY2VuZSBhdmFpbGFibGUgdG8gbG9hZCBhc3NldCBjb250YWluZXIgdG8iKSxudWxsO2NvbnN0IG89aGUuX0dldEZpbGVJbmZvKGUsdCk7aWYoIW8pcmV0dXJuIG51bGw7Y29uc3QgaD17fTtpLmFkZFBlbmRpbmdEYXRhKGgpO2NvbnN0IGw9KCk9PntpLnJlbW92ZVBlbmRpbmdEYXRhKGgpfSx1PShmLG0pPT57Y29uc3Qgdj1oZS5fRm9ybWF0RXJyb3JNZXNzYWdlKG8sZixtKTtuP24oaSx2LG5ldyBCdCh2LGxpLlNjZW5lTG9hZGVyRXJyb3IsbSkpOk8uRXJyb3IodiksbCgpfSxkPXI/Zj0+e3RyeXtyKGYpfWNhdGNoKG0pe3UoIkVycm9yIGluIG9uUHJvZ3Jlc3MgY2FsbGJhY2siLG0pfX06dm9pZCAwLF89Zj0+e2lmKHMpdHJ5e3MoZil9Y2F0Y2gobSl7dSgiRXJyb3IgaW4gb25TdWNjZXNzIGNhbGxiYWNrIixtKX1pLnJlbW92ZVBlbmRpbmdEYXRhKGgpfTtyZXR1cm4gaGUuX0xvYWREYXRhKG8saSwoZixtKT0+e2lmKGYubG9hZEFzc2V0Q29udGFpbmVyKXtjb25zdCBFPWYubG9hZEFzc2V0Q29udGFpbmVyKGksbSxvLnJvb3RVcmwsdSk7aWYoIUUpcmV0dXJuO2kubG9hZGluZ1BsdWdpbk5hbWU9Zi5uYW1lLF8oRSl9ZWxzZSBmLmxvYWRBc3NldENvbnRhaW5lckFzeW5jP2YubG9hZEFzc2V0Q29udGFpbmVyQXN5bmMoaSxtLG8ucm9vdFVybCxkLG8ubmFtZSkudGhlbihFPT57aS5sb2FkaW5nUGx1Z2luTmFtZT1mLm5hbWUsXyhFKX0pLmNhdGNoKEU9Pnt1KEUubWVzc2FnZSxFKX0pOnUoIkxvYWRBc3NldENvbnRhaW5lciBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgcGx1Z2luLiBQbHVnaW4gZGlkIG5vdCBwcm92aWRlIGEgbG9hZEFzc2V0Q29udGFpbmVyIG9yIGxvYWRBc3NldENvbnRhaW5lckFzeW5jIG1ldGhvZC4iKX0sZCx1LGwsYSl9c3RhdGljIExvYWRBc3NldENvbnRhaW5lckFzeW5jKGUsdD0iIixpPWxlLkxhc3RDcmVhdGVkU2NlbmUscz1udWxsLHI9bnVsbCl7cmV0dXJuIG5ldyBQcm9taXNlKChuLGEpPT57aGUuTG9hZEFzc2V0Q29udGFpbmVyKGUsdCxpLG89PntuKG8pfSxzLChvLGgsbCk9PnthKGx8fG5ldyBFcnJvcihoKSl9LHIpfSl9c3RhdGljIEltcG9ydEFuaW1hdGlvbnMoZSx0PSIiLGk9bGUuTGFzdENyZWF0ZWRTY2VuZSxzPSEwLHI9aWkuQ2xlYW4sbj1udWxsLGE9bnVsbCxvPW51bGwsaD1udWxsLGw9bnVsbCl7aWYoIWkpe08uRXJyb3IoIk5vIHNjZW5lIGF2YWlsYWJsZSB0byBsb2FkIGFuaW1hdGlvbnMgdG8iKTtyZXR1cm59aWYocyl7Zm9yKGNvbnN0IGYgb2YgaS5hbmltYXRhYmxlcylmLnJlc2V0KCk7aS5zdG9wQWxsQW5pbWF0aW9ucygpLGkuYW5pbWF0aW9uR3JvdXBzLnNsaWNlKCkuZm9yRWFjaChmPT57Zi5kaXNwb3NlKCl9KSxpLmdldE5vZGVzKCkuZm9yRWFjaChmPT57Zi5hbmltYXRpb25zJiYoZi5hbmltYXRpb25zPVtdKX0pfWVsc2Ugc3dpdGNoKHIpe2Nhc2UgaWkuQ2xlYW46aS5hbmltYXRpb25Hcm91cHMuc2xpY2UoKS5mb3JFYWNoKF89PntfLmRpc3Bvc2UoKX0pO2JyZWFrO2Nhc2UgaWkuU3RvcDppLmFuaW1hdGlvbkdyb3Vwcy5mb3JFYWNoKF89PntfLnN0b3AoKX0pO2JyZWFrO2Nhc2UgaWkuU3luYzppLmFuaW1hdGlvbkdyb3Vwcy5mb3JFYWNoKF89PntfLnJlc2V0KCksXy5yZXN0YXJ0KCl9KTticmVhaztjYXNlIGlpLk5vU3luYzpicmVhaztkZWZhdWx0Ok8uRXJyb3IoIlVua25vd24gYW5pbWF0aW9uIGdyb3VwIGxvYWRpbmcgbW9kZSB2YWx1ZSAnIityKyInIik7cmV0dXJufWNvbnN0IHU9aS5hbmltYXRhYmxlcy5sZW5ndGgsZD1fPT57Xy5tZXJnZUFuaW1hdGlvbnNUbyhpLGkuYW5pbWF0YWJsZXMuc2xpY2UodSksbiksXy5kaXNwb3NlKCksaS5vbkFuaW1hdGlvbkZpbGVJbXBvcnRlZE9ic2VydmFibGUubm90aWZ5T2JzZXJ2ZXJzKGkpLGEmJmEoaSl9O3RoaXMuTG9hZEFzc2V0Q29udGFpbmVyKGUsdCxpLGQsbyxoLGwpfXN0YXRpYyBJbXBvcnRBbmltYXRpb25zQXN5bmMoZSx0PSIiLGk9bGUuTGFzdENyZWF0ZWRTY2VuZSxzPSEwLHI9aWkuQ2xlYW4sbj1udWxsLGE9bnVsbCxvPW51bGwsaD1udWxsLGw9bnVsbCl7cmV0dXJuIG5ldyBQcm9taXNlKCh1LGQpPT57aGUuSW1wb3J0QW5pbWF0aW9ucyhlLHQsaSxzLHIsbixfPT57dShfKX0sbywoXyxmLG0pPT57ZChtfHxuZXcgRXJyb3IoZikpfSxsKX0pfX1oZS5OT19MT0dHSU5HPTAsaGUuTUlOSU1BTF9MT0dHSU5HPTEsaGUuU1VNTUFSWV9MT0dHSU5HPTIsaGUuREVUQUlMRURfTE9HR0lORz0zLGhlLk9uUGx1Z2luQWN0aXZhdGVkT2JzZXJ2YWJsZT1uZXcgdyxoZS5fUmVnaXN0ZXJlZFBsdWdpbnM9e30saGUuX1Nob3dpbmdMb2FkaW5nU2NyZWVuPSExO2NsYXNzIF9le2NvbnN0cnVjdG9yKGUsdCxpPU51bWJlci5NQVhfVkFMVUUpe3RoaXMub3JpZ2luPWUsdGhpcy5kaXJlY3Rpb249dCx0aGlzLmxlbmd0aD1pfWNsb25lKCl7cmV0dXJuIG5ldyBfZSh0aGlzLm9yaWdpbi5jbG9uZSgpLHRoaXMuZGlyZWN0aW9uLmNsb25lKCksdGhpcy5sZW5ndGgpfWludGVyc2VjdHNCb3hNaW5NYXgoZSx0LGk9MCl7Y29uc3Qgcz1fZS5fVG1wVmVjdG9yM1swXS5jb3B5RnJvbUZsb2F0cyhlLngtaSxlLnktaSxlLnotaSkscj1fZS5fVG1wVmVjdG9yM1sxXS5jb3B5RnJvbUZsb2F0cyh0LngraSx0LnkraSx0LnoraSk7bGV0IG49MCxhPU51bWJlci5NQVhfVkFMVUUsbyxoLGwsdTtpZihNYXRoLmFicyh0aGlzLmRpcmVjdGlvbi54KTwxZS03KXtpZih0aGlzLm9yaWdpbi54PHMueHx8dGhpcy5vcmlnaW4ueD5yLngpcmV0dXJuITF9ZWxzZSBpZihvPTEvdGhpcy5kaXJlY3Rpb24ueCxoPShzLngtdGhpcy5vcmlnaW4ueCkqbyxsPShyLngtdGhpcy5vcmlnaW4ueCkqbyxsPT09LTEvMCYmKGw9MS8wKSxoPmwmJih1PWgsaD1sLGw9dSksbj1NYXRoLm1heChoLG4pLGE9TWF0aC5taW4obCxhKSxuPmEpcmV0dXJuITE7aWYoTWF0aC5hYnModGhpcy5kaXJlY3Rpb24ueSk8MWUtNyl7aWYodGhpcy5vcmlnaW4ueTxzLnl8fHRoaXMub3JpZ2luLnk+ci55KXJldHVybiExfWVsc2UgaWYobz0xL3RoaXMuZGlyZWN0aW9uLnksaD0ocy55LXRoaXMub3JpZ2luLnkpKm8sbD0oci55LXRoaXMub3JpZ2luLnkpKm8sbD09PS0xLzAmJihsPTEvMCksaD5sJiYodT1oLGg9bCxsPXUpLG49TWF0aC5tYXgoaCxuKSxhPU1hdGgubWluKGwsYSksbj5hKXJldHVybiExO2lmKE1hdGguYWJzKHRoaXMuZGlyZWN0aW9uLnopPDFlLTcpe2lmKHRoaXMub3JpZ2luLno8cy56fHx0aGlzLm9yaWdpbi56PnIueilyZXR1cm4hMX1lbHNlIGlmKG89MS90aGlzLmRpcmVjdGlvbi56LGg9KHMuei10aGlzLm9yaWdpbi56KSpvLGw9KHIuei10aGlzLm9yaWdpbi56KSpvLGw9PT0tMS8wJiYobD0xLzApLGg+bCYmKHU9aCxoPWwsbD11KSxuPU1hdGgubWF4KGgsbiksYT1NYXRoLm1pbihsLGEpLG4+YSlyZXR1cm4hMTtyZXR1cm4hMH1pbnRlcnNlY3RzQm94KGUsdD0wKXtyZXR1cm4gdGhpcy5pbnRlcnNlY3RzQm94TWluTWF4KGUubWluaW11bSxlLm1heGltdW0sdCl9aW50ZXJzZWN0c1NwaGVyZShlLHQ9MCl7Y29uc3QgaT1lLmNlbnRlci54LXRoaXMub3JpZ2luLngscz1lLmNlbnRlci55LXRoaXMub3JpZ2luLnkscj1lLmNlbnRlci56LXRoaXMub3JpZ2luLnosbj1pKmkrcypzK3IqcixhPWUucmFkaXVzK3Qsbz1hKmE7aWYobjw9bylyZXR1cm4hMDtjb25zdCBoPWkqdGhpcy5kaXJlY3Rpb24ueCtzKnRoaXMuZGlyZWN0aW9uLnkrcip0aGlzLmRpcmVjdGlvbi56O3JldHVybiBoPDA/ITE6bi1oKmg8PW99aW50ZXJzZWN0c1RyaWFuZ2xlKGUsdCxpKXtjb25zdCBzPV9lLl9UbXBWZWN0b3IzWzBdLHI9X2UuX1RtcFZlY3RvcjNbMV0sbj1fZS5fVG1wVmVjdG9yM1syXSxhPV9lLl9UbXBWZWN0b3IzWzNdLG89X2UuX1RtcFZlY3RvcjNbNF07dC5zdWJ0cmFjdFRvUmVmKGUscyksaS5zdWJ0cmFjdFRvUmVmKGUscikscC5Dcm9zc1RvUmVmKHRoaXMuZGlyZWN0aW9uLHIsbik7Y29uc3QgaD1wLkRvdChzLG4pO2lmKGg9PT0wKXJldHVybiBudWxsO2NvbnN0IGw9MS9oO3RoaXMub3JpZ2luLnN1YnRyYWN0VG9SZWYoZSxhKTtjb25zdCB1PXAuRG90KGEsbikqbDtpZih1PDB8fHU+MSlyZXR1cm4gbnVsbDtwLkNyb3NzVG9SZWYoYSxzLG8pO2NvbnN0IGQ9cC5Eb3QodGhpcy5kaXJlY3Rpb24sbykqbDtpZihkPDB8fHUrZD4xKXJldHVybiBudWxsO2NvbnN0IF89cC5Eb3QocixvKSpsO3JldHVybiBfPnRoaXMubGVuZ3RoP251bGw6bmV3IE5zKDEtdS1kLHUsXyl9aW50ZXJzZWN0c1BsYW5lKGUpe2xldCB0O2NvbnN0IGk9cC5Eb3QoZS5ub3JtYWwsdGhpcy5kaXJlY3Rpb24pO2lmKE1hdGguYWJzKGkpPDk5OTk5OTk5NzQ3NTI0M2UtMjEpcmV0dXJuIG51bGw7e2NvbnN0IHM9cC5Eb3QoZS5ub3JtYWwsdGhpcy5vcmlnaW4pO3JldHVybiB0PSgtZS5kLXMpL2ksdDwwP3Q8LTk5OTk5OTk5NzQ3NTI0M2UtMjE/bnVsbDowOnR9fWludGVyc2VjdHNBeGlzKGUsdD0wKXtzd2l0Y2goZSl7Y2FzZSJ5Ijp7Y29uc3QgaT0odGhpcy5vcmlnaW4ueS10KS90aGlzLmRpcmVjdGlvbi55O3JldHVybiBpPjA/bnVsbDpuZXcgcCh0aGlzLm9yaWdpbi54K3RoaXMuZGlyZWN0aW9uLngqLWksdCx0aGlzLm9yaWdpbi56K3RoaXMuZGlyZWN0aW9uLnoqLWkpfWNhc2UieCI6e2NvbnN0IGk9KHRoaXMub3JpZ2luLngtdCkvdGhpcy5kaXJlY3Rpb24ueDtyZXR1cm4gaT4wP251bGw6bmV3IHAodCx0aGlzLm9yaWdpbi55K3RoaXMuZGlyZWN0aW9uLnkqLWksdGhpcy5vcmlnaW4ueit0aGlzLmRpcmVjdGlvbi56Ki1pKX1jYXNlInoiOntjb25zdCBpPSh0aGlzLm9yaWdpbi56LXQpL3RoaXMuZGlyZWN0aW9uLno7cmV0dXJuIGk+MD9udWxsOm5ldyBwKHRoaXMub3JpZ2luLngrdGhpcy5kaXJlY3Rpb24ueCotaSx0aGlzLm9yaWdpbi55K3RoaXMuZGlyZWN0aW9uLnkqLWksdCl9ZGVmYXVsdDpyZXR1cm4gbnVsbH19aW50ZXJzZWN0c01lc2goZSx0KXtjb25zdCBpPUYuTWF0cml4WzBdO3JldHVybiBlLmdldFdvcmxkTWF0cml4KCkuaW52ZXJ0VG9SZWYoaSksdGhpcy5fdG1wUmF5P19lLlRyYW5zZm9ybVRvUmVmKHRoaXMsaSx0aGlzLl90bXBSYXkpOnRoaXMuX3RtcFJheT1fZS5UcmFuc2Zvcm0odGhpcyxpKSxlLmludGVyc2VjdHModGhpcy5fdG1wUmF5LHQpfWludGVyc2VjdHNNZXNoZXMoZSx0LGkpe2k/aS5sZW5ndGg9MDppPVtdO2ZvcihsZXQgcz0wO3M8ZS5sZW5ndGg7cysrKXtjb25zdCByPXRoaXMuaW50ZXJzZWN0c01lc2goZVtzXSx0KTtyLmhpdCYmaS5wdXNoKHIpfXJldHVybiBpLnNvcnQodGhpcy5fY29tcGFyZVBpY2tpbmdJbmZvKSxpfV9jb21wYXJlUGlja2luZ0luZm8oZSx0KXtyZXR1cm4gZS5kaXN0YW5jZTx0LmRpc3RhbmNlPy0xOmUuZGlzdGFuY2U+dC5kaXN0YW5jZT8xOjB9aW50ZXJzZWN0aW9uU2VnbWVudChlLHQsaSl7Y29uc3Qgcz10aGlzLm9yaWdpbixyPUYuVmVjdG9yM1swXSxuPUYuVmVjdG9yM1sxXSxhPUYuVmVjdG9yM1syXSxvPUYuVmVjdG9yM1szXTt0LnN1YnRyYWN0VG9SZWYoZSxyKSx0aGlzLmRpcmVjdGlvbi5zY2FsZVRvUmVmKF9lLl9SYXlsLGEpLHMuYWRkVG9SZWYoYSxuKSxlLnN1YnRyYWN0VG9SZWYocyxvKTtjb25zdCBoPXAuRG90KHIsciksbD1wLkRvdChyLGEpLHU9cC5Eb3QoYSxhKSxkPXAuRG90KHIsbyksXz1wLkRvdChhLG8pLGY9aCp1LWwqbDtsZXQgbSx2PWYsRSxTPWY7ZjxfZS5fU21hbGxudW0/KG09MCx2PTEsRT1fLFM9dSk6KG09bCpfLXUqZCxFPWgqXy1sKmQsbTwwPyhtPTAsRT1fLFM9dSk6bT52JiYobT12LEU9XytsLFM9dSkpLEU8MD8oRT0wLC1kPDA/bT0wOi1kPmg/bT12OihtPS1kLHY9aCkpOkU+UyYmKEU9UywtZCtsPDA/bT0wOi1kK2w+aD9tPXY6KG09LWQrbCx2PWgpKTtjb25zdCBSPU1hdGguYWJzKG0pPF9lLl9TbWFsbG51bT8wOm0vdixBPU1hdGguYWJzKEUpPF9lLl9TbWFsbG51bT8wOkUvUyxDPUYuVmVjdG9yM1s0XTthLnNjYWxlVG9SZWYoQSxDKTtjb25zdCBiPUYuVmVjdG9yM1s1XTtyLnNjYWxlVG9SZWYoUixiKSxiLmFkZEluUGxhY2Uobyk7Y29uc3QgeD1GLlZlY3RvcjNbNl07cmV0dXJuIGIuc3VidHJhY3RUb1JlZihDLHgpLEE+MCYmQTw9dGhpcy5sZW5ndGgmJngubGVuZ3RoU3F1YXJlZCgpPGkqaT9iLmxlbmd0aCgpOi0xfXVwZGF0ZShlLHQsaSxzLHIsbixhLG89ITEpe2lmKG8pe19lLl9SYXlEaXN0YW50fHwoX2UuX1JheURpc3RhbnQ9X2UuWmVybygpKSxfZS5fUmF5RGlzdGFudC51bnByb2plY3RSYXlUb1JlZihlLHQsaSxzLE0uSWRlbnRpdHlSZWFkT25seSxuLGEpO2NvbnN0IGg9Ri5NYXRyaXhbMF07ci5pbnZlcnRUb1JlZihoKSxfZS5UcmFuc2Zvcm1Ub1JlZihfZS5fUmF5RGlzdGFudCxoLHRoaXMpfWVsc2UgdGhpcy51bnByb2plY3RSYXlUb1JlZihlLHQsaSxzLHIsbixhKTtyZXR1cm4gdGhpc31zdGF0aWMgWmVybygpe3JldHVybiBuZXcgX2UocC5aZXJvKCkscC5aZXJvKCkpfXN0YXRpYyBDcmVhdGVOZXcoZSx0LGkscyxyLG4sYSl7cmV0dXJuIF9lLlplcm8oKS51cGRhdGUoZSx0LGkscyxyLG4sYSl9c3RhdGljIENyZWF0ZU5ld0Zyb21UbyhlLHQsaT1NLklkZW50aXR5UmVhZE9ubHkpe2NvbnN0IHM9dC5zdWJ0cmFjdChlKSxyPU1hdGguc3FydChzLngqcy54K3MueSpzLnkrcy56KnMueik7cmV0dXJuIHMubm9ybWFsaXplKCksX2UuVHJhbnNmb3JtKG5ldyBfZShlLHMsciksaSl9c3RhdGljIFRyYW5zZm9ybShlLHQpe2NvbnN0IGk9bmV3IF9lKG5ldyBwKDAsMCwwKSxuZXcgcCgwLDAsMCkpO3JldHVybiBfZS5UcmFuc2Zvcm1Ub1JlZihlLHQsaSksaX1zdGF0aWMgVHJhbnNmb3JtVG9SZWYoZSx0LGkpe3AuVHJhbnNmb3JtQ29vcmRpbmF0ZXNUb1JlZihlLm9yaWdpbix0LGkub3JpZ2luKSxwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKGUuZGlyZWN0aW9uLHQsaS5kaXJlY3Rpb24pLGkubGVuZ3RoPWUubGVuZ3RoO2NvbnN0IHM9aS5kaXJlY3Rpb24scj1zLmxlbmd0aCgpO2lmKCEocj09PTB8fHI9PT0xKSl7Y29uc3Qgbj0xL3I7cy54Kj1uLHMueSo9bixzLnoqPW4saS5sZW5ndGgqPXJ9fXVucHJvamVjdFJheVRvUmVmKGUsdCxpLHMscixuLGEpe3ZhciBvO2NvbnN0IGg9Ri5NYXRyaXhbMF07ci5tdWx0aXBseVRvUmVmKG4saCksaC5tdWx0aXBseVRvUmVmKGEsaCksaC5pbnZlcnQoKTtjb25zdCBsPUYuVmVjdG9yM1swXTtsLng9ZS9pKjItMSxsLnk9LSh0L3MqMi0xKSxsLno9ISgobz1sZS5MYXN0Q3JlYXRlZEVuZ2luZSk9PT1udWxsfHxvPT09dm9pZCAwKSYmby5pc05EQ0hhbGZaUmFuZ2U/MDotMTtjb25zdCB1PUYuVmVjdG9yM1sxXS5jb3B5RnJvbUZsb2F0cyhsLngsbC55LDEtMWUtOCksZD1GLlZlY3RvcjNbMl0sXz1GLlZlY3RvcjNbM107cC5fVW5wcm9qZWN0RnJvbUludmVydGVkTWF0cml4VG9SZWYobCxoLGQpLHAuX1VucHJvamVjdEZyb21JbnZlcnRlZE1hdHJpeFRvUmVmKHUsaCxfKSx0aGlzLm9yaWdpbi5jb3B5RnJvbShkKSxfLnN1YnRyYWN0VG9SZWYoZCx0aGlzLmRpcmVjdGlvbiksdGhpcy5kaXJlY3Rpb24ubm9ybWFsaXplKCl9fV9lLl9UbXBWZWN0b3IzPUJlLkJ1aWxkQXJyYXkoNixwLlplcm8pLF9lLl9SYXlEaXN0YW50PV9lLlplcm8oKSxfZS5fU21hbGxudW09MWUtOCxfZS5fUmF5bD0xZTksYWUucHJvdG90eXBlLmNyZWF0ZVBpY2tpbmdSYXk9ZnVuY3Rpb24oYyxlLHQsaSxzPSExKXtjb25zdCByPV9lLlplcm8oKTtyZXR1cm4gdGhpcy5jcmVhdGVQaWNraW5nUmF5VG9SZWYoYyxlLHQscixpLHMpLHJ9LGFlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5VG9SZWY9ZnVuY3Rpb24oYyxlLHQsaSxzLHI9ITEsbj0hMSl7Y29uc3QgYT10aGlzLmdldEVuZ2luZSgpO2lmKCFzKXtpZighdGhpcy5hY3RpdmVDYW1lcmEpcmV0dXJuIHRoaXM7cz10aGlzLmFjdGl2ZUNhbWVyYX1jb25zdCBoPXMudmlld3BvcnQudG9HbG9iYWwoYS5nZXRSZW5kZXJXaWR0aCgpLGEuZ2V0UmVuZGVySGVpZ2h0KCkpO3JldHVybiBjPWMvYS5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpLWgueCxlPWUvYS5nZXRIYXJkd2FyZVNjYWxpbmdMZXZlbCgpLShhLmdldFJlbmRlckhlaWdodCgpLWgueS1oLmhlaWdodCksaS51cGRhdGUoYyxlLGgud2lkdGgsaC5oZWlnaHQsdHx8TS5JZGVudGl0eVJlYWRPbmx5LHI/TS5JZGVudGl0eVJlYWRPbmx5OnMuZ2V0Vmlld01hdHJpeCgpLHMuZ2V0UHJvamVjdGlvbk1hdHJpeCgpLG4pLHRoaXN9LGFlLnByb3RvdHlwZS5jcmVhdGVQaWNraW5nUmF5SW5DYW1lcmFTcGFjZT1mdW5jdGlvbihjLGUsdCl7Y29uc3QgaT1fZS5aZXJvKCk7cmV0dXJuIHRoaXMuY3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2VUb1JlZihjLGUsaSx0KSxpfSxhZS5wcm90b3R5cGUuY3JlYXRlUGlja2luZ1JheUluQ2FtZXJhU3BhY2VUb1JlZj1mdW5jdGlvbihjLGUsdCxpKXtpZigha3QpcmV0dXJuIHRoaXM7Y29uc3Qgcz10aGlzLmdldEVuZ2luZSgpO2lmKCFpKXtpZighdGhpcy5hY3RpdmVDYW1lcmEpdGhyb3cgbmV3IEVycm9yKCJBY3RpdmUgY2FtZXJhIG5vdCBzZXQiKTtpPXRoaXMuYWN0aXZlQ2FtZXJhfWNvbnN0IG49aS52aWV3cG9ydC50b0dsb2JhbChzLmdldFJlbmRlcldpZHRoKCkscy5nZXRSZW5kZXJIZWlnaHQoKSksYT1NLklkZW50aXR5KCk7cmV0dXJuIGM9Yy9zLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktbi54LGU9ZS9zLmdldEhhcmR3YXJlU2NhbGluZ0xldmVsKCktKHMuZ2V0UmVuZGVySGVpZ2h0KCktbi55LW4uaGVpZ2h0KSx0LnVwZGF0ZShjLGUsbi53aWR0aCxuLmhlaWdodCxhLGEsaS5nZXRQcm9qZWN0aW9uTWF0cml4KCkpLHRoaXN9LGFlLnByb3RvdHlwZS5faW50ZXJuYWxQaWNrRm9yTWVzaD1mdW5jdGlvbihjLGUsdCxpLHMscixuLGEpe2NvbnN0IG89ZShpLHQuZW5hYmxlRGlzdGFudFBpY2tpbmcpLGg9dC5pbnRlcnNlY3RzKG8scyxuLHIsaSxhKTtyZXR1cm4haHx8IWguaGl0fHwhcyYmYyE9bnVsbCYmaC5kaXN0YW5jZT49Yy5kaXN0YW5jZT9udWxsOmh9LGFlLnByb3RvdHlwZS5faW50ZXJuYWxQaWNrPWZ1bmN0aW9uKGMsZSx0LGkscyl7bGV0IHI9bnVsbDtjb25zdCBuPSEhKHRoaXMuYWN0aXZlQ2FtZXJhcyYmdGhpcy5hY3RpdmVDYW1lcmFzLmxlbmd0aD4xJiZ0aGlzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnMhPT10aGlzLmFjdGl2ZUNhbWVyYSksYT10aGlzLmNhbWVyYVRvVXNlRm9yUG9pbnRlcnN8fHRoaXMuYWN0aXZlQ2FtZXJhO2ZvcihsZXQgbz0wO288dGhpcy5tZXNoZXMubGVuZ3RoO28rKyl7Y29uc3QgaD10aGlzLm1lc2hlc1tvXTtpZihlKXtpZighZShoKSljb250aW51ZX1lbHNlIGlmKCFoLmlzRW5hYmxlZCgpfHwhaC5pc1Zpc2libGV8fCFoLmlzUGlja2FibGUpY29udGludWU7Y29uc3QgbD1uJiZoLmlzV29ybGRNYXRyaXhDYW1lcmFEZXBlbmRlbnQoKSx1PWguY29tcHV0ZVdvcmxkTWF0cml4KGwsYSk7aWYoaC5oYXNUaGluSW5zdGFuY2VzJiZoLnRoaW5JbnN0YW5jZUVuYWJsZVBpY2tpbmcpe2NvbnN0IGQ9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChyLGMsaCx1LCEwLCEwLHMpO2lmKGQpe2lmKGkpcmV0dXJuIGQ7Y29uc3QgXz1GLk1hdHJpeFsxXSxmPWgudGhpbkluc3RhbmNlR2V0V29ybGRNYXRyaWNlcygpO2ZvcihsZXQgbT0wO208Zi5sZW5ndGg7bSsrKXtmW21dLm11bHRpcGx5VG9SZWYodSxfKTtjb25zdCBFPXRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gocixjLGgsXyx0LGkscywhMCk7aWYoRSYmKHI9RSxyLnRoaW5JbnN0YW5jZUluZGV4PW0sdCkpcmV0dXJuIHJ9fX1lbHNle2NvbnN0IGQ9dGhpcy5faW50ZXJuYWxQaWNrRm9yTWVzaChyLGMsaCx1LHQsaSxzKTtpZihkJiYocj1kLHQpKXJldHVybiByfX1yZXR1cm4gcnx8bmV3IGt0fSxhZS5wcm90b3R5cGUuX2ludGVybmFsTXVsdGlQaWNrPWZ1bmN0aW9uKGMsZSx0KXtpZigha3QpcmV0dXJuIG51bGw7Y29uc3QgaT1uZXcgQXJyYXkscz0hISh0aGlzLmFjdGl2ZUNhbWVyYXMmJnRoaXMuYWN0aXZlQ2FtZXJhcy5sZW5ndGg+MSYmdGhpcy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzIT09dGhpcy5hY3RpdmVDYW1lcmEpLHI9dGhpcy5jYW1lcmFUb1VzZUZvclBvaW50ZXJzfHx0aGlzLmFjdGl2ZUNhbWVyYTtmb3IobGV0IG49MDtuPHRoaXMubWVzaGVzLmxlbmd0aDtuKyspe2NvbnN0IGE9dGhpcy5tZXNoZXNbbl07aWYoZSl7aWYoIWUoYSkpY29udGludWV9ZWxzZSBpZighYS5pc0VuYWJsZWQoKXx8IWEuaXNWaXNpYmxlfHwhYS5pc1BpY2thYmxlKWNvbnRpbnVlO2NvbnN0IG89cyYmYS5pc1dvcmxkTWF0cml4Q2FtZXJhRGVwZW5kZW50KCksaD1hLmNvbXB1dGVXb3JsZE1hdHJpeChvLHIpO2lmKGEuaGFzVGhpbkluc3RhbmNlcyYmYS50aGluSW5zdGFuY2VFbmFibGVQaWNraW5nKXtpZih0aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKG51bGwsYyxhLGgsITAsITAsdCkpe2NvbnN0IHU9Ri5NYXRyaXhbMV0sZD1hLnRoaW5JbnN0YW5jZUdldFdvcmxkTWF0cmljZXMoKTtmb3IobGV0IF89MDtfPGQubGVuZ3RoO18rKyl7ZFtfXS5tdWx0aXBseVRvUmVmKGgsdSk7Y29uc3QgbT10aGlzLl9pbnRlcm5hbFBpY2tGb3JNZXNoKG51bGwsYyxhLHUsITEsITEsdCwhMCk7bSYmKG0udGhpbkluc3RhbmNlSW5kZXg9XyxpLnB1c2gobSkpfX19ZWxzZXtjb25zdCBsPXRoaXMuX2ludGVybmFsUGlja0Zvck1lc2gobnVsbCxjLGEsaCwhMSwhMSx0KTtsJiZpLnB1c2gobCl9fXJldHVybiBpfSxhZS5wcm90b3R5cGUucGlja1dpdGhCb3VuZGluZ0luZm89ZnVuY3Rpb24oYyxlLHQsaSxzKXtpZigha3QpcmV0dXJuIG51bGw7Y29uc3Qgcj10aGlzLl9pbnRlcm5hbFBpY2sobj0+KHRoaXMuX3RlbXBQaWNraW5nUmF5fHwodGhpcy5fdGVtcFBpY2tpbmdSYXk9X2UuWmVybygpKSx0aGlzLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZihjLGUsbix0aGlzLl90ZW1wUGlja2luZ1JheSxzfHxudWxsKSx0aGlzLl90ZW1wUGlja2luZ1JheSksdCxpLCEwKTtyZXR1cm4gciYmKHIucmF5PXRoaXMuY3JlYXRlUGlja2luZ1JheShjLGUsTS5JZGVudGl0eSgpLHN8fG51bGwpKSxyfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoYWUucHJvdG90eXBlLCJfcGlja2luZ0F2YWlsYWJsZSIse2dldDooKT0+ITAsZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITF9KSxhZS5wcm90b3R5cGUucGljaz1mdW5jdGlvbihjLGUsdCxpLHMscixuPSExKXtjb25zdCBhPXRoaXMuX2ludGVybmFsUGljaygobyxoKT0+KHRoaXMuX3RlbXBQaWNraW5nUmF5fHwodGhpcy5fdGVtcFBpY2tpbmdSYXk9X2UuWmVybygpKSx0aGlzLmNyZWF0ZVBpY2tpbmdSYXlUb1JlZihjLGUsbyx0aGlzLl90ZW1wUGlja2luZ1JheSxzfHxudWxsLCExLGgpLHRoaXMuX3RlbXBQaWNraW5nUmF5KSx0LGksITEscik7cmV0dXJuIGEmJihhLnJheT10aGlzLmNyZWF0ZVBpY2tpbmdSYXkoYyxlLE0uSWRlbnRpdHkoKSxzfHxudWxsKSksYX0sYWUucHJvdG90eXBlLnBpY2tXaXRoUmF5PWZ1bmN0aW9uKGMsZSx0LGkpe2NvbnN0IHM9dGhpcy5faW50ZXJuYWxQaWNrKHI9Pih0aGlzLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXh8fCh0aGlzLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXg9TS5JZGVudGl0eSgpKSxyLmludmVydFRvUmVmKHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeCksdGhpcy5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtfHwodGhpcy5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtPV9lLlplcm8oKSksX2UuVHJhbnNmb3JtVG9SZWYoYyx0aGlzLl9waWNrV2l0aFJheUludmVyc2VNYXRyaXgsdGhpcy5fY2FjaGVkUmF5Rm9yVHJhbnNmb3JtKSx0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm0pLGUsdCwhMSxpKTtyZXR1cm4gcyYmKHMucmF5PWMpLHN9LGFlLnByb3RvdHlwZS5tdWx0aVBpY2s9ZnVuY3Rpb24oYyxlLHQsaSxzKXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNdWx0aVBpY2socj0+dGhpcy5jcmVhdGVQaWNraW5nUmF5KGMsZSxyLGl8fG51bGwpLHQscyl9LGFlLnByb3RvdHlwZS5tdWx0aVBpY2tXaXRoUmF5PWZ1bmN0aW9uKGMsZSx0KXtyZXR1cm4gdGhpcy5faW50ZXJuYWxNdWx0aVBpY2soaT0+KHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeHx8KHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeD1NLklkZW50aXR5KCkpLGkuaW52ZXJ0VG9SZWYodGhpcy5fcGlja1dpdGhSYXlJbnZlcnNlTWF0cml4KSx0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm18fCh0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm09X2UuWmVybygpKSxfZS5UcmFuc2Zvcm1Ub1JlZihjLHRoaXMuX3BpY2tXaXRoUmF5SW52ZXJzZU1hdHJpeCx0aGlzLl9jYWNoZWRSYXlGb3JUcmFuc2Zvcm0pLHRoaXMuX2NhY2hlZFJheUZvclRyYW5zZm9ybSksZSx0KX0sJC5wcm90b3R5cGUuZ2V0Rm9yd2FyZFJheT1mdW5jdGlvbihjPTEwMCxlLHQpe3JldHVybiB0aGlzLmdldEZvcndhcmRSYXlUb1JlZihuZXcgX2UocC5aZXJvKCkscC5aZXJvKCksYyksYyxlLHQpfSwkLnByb3RvdHlwZS5nZXRGb3J3YXJkUmF5VG9SZWY9ZnVuY3Rpb24oYyxlPTEwMCx0LGkpe3JldHVybiB0fHwodD10aGlzLmdldFdvcmxkTWF0cml4KCkpLGMubGVuZ3RoPWUsaT9jLm9yaWdpbi5jb3B5RnJvbShpKTpjLm9yaWdpbi5jb3B5RnJvbSh0aGlzLnBvc2l0aW9uKSxGLlZlY3RvcjNbMl0uc2V0KDAsMCx0aGlzLl9zY2VuZS51c2VSaWdodEhhbmRlZFN5c3RlbT8tMToxKSxwLlRyYW5zZm9ybU5vcm1hbFRvUmVmKEYuVmVjdG9yM1syXSx0LEYuVmVjdG9yM1szXSkscC5Ob3JtYWxpemVUb1JlZihGLlZlY3RvcjNbM10sYy5kaXJlY3Rpb24pLGN9O3ZhciBCbD1mdW5jdGlvbihjLGUsdCl7Zm9yKHZhciBpIGluIGUpaWYoYy5uYW1lPT09ZVtpXSlyZXR1cm4gdC5wdXNoKGMuaWQpLCEwO3JldHVybiBjLnBhcmVudElkJiZ0LmluZGV4T2YoYy5wYXJlbnRJZCkhPT0tMT8odC5wdXNoKGMuaWQpLCEwKTohMX0sZnM9ZnVuY3Rpb24oYyxlKXtyZXR1cm4gYysiIG9mICIrKGU/ZS5maWxlKyIgZnJvbSAiK2UubmFtZSsiIHZlcnNpb246ICIrZS52ZXJzaW9uKyIsIGV4cG9ydGVyIHZlcnNpb246ICIrZS5leHBvcnRlcl92ZXJzaW9uOiJ1bmtub3duIil9O2hlLlJlZ2lzdGVyUGx1Z2luKHtuYW1lOiJiYWJ5bG9uLmpzIixleHRlbnNpb25zOiIuanNvbiIsY2FuRGlyZWN0TG9hZDpmdW5jdGlvbihjKXtyZXR1cm4gYy5pbmRleE9mKCJqc29uIikhPT0tMSwhMH0saW1wb3J0TWVzaDpmdW5jdGlvbihjLGUsdCxpLHMscixuLGEpe3ZhciBvPSJpbXBvcnRNZXNoIGhhcyBmYWlsZWQgSlNPTiBwYXJzZSI7dHJ5e3ZhciBoPUpTT04ucGFyc2UodCk7aC5waHlzaWNzRW5hYmxlZD0hMSxoPT1udWxsfHxoLm1lc2hlcy5tYXAoUz0+ZGVsZXRlIFMucGh5c2ljc0ltcG9zdG9yKSxvPSIiO3ZhciBsPWhlLmxvZ2dpbmdMZXZlbD09PWhlLkRFVEFJTEVEX0xPR0dJTkc7Yz9BcnJheS5pc0FycmF5KGMpfHwoYz1bY10pOmM9bnVsbDt2YXIgdT1uZXcgQXJyYXk7aWYoaC5tZXNoZXMhPT12b2lkIDAmJmgubWVzaGVzIT09bnVsbCl7dmFyIGQsXztmb3IoZD0wLF89aC5tZXNoZXMubGVuZ3RoO2Q8XztkKyspe3ZhciBmPWgubWVzaGVzW2RdO2lmKGM9PT1udWxsfHxCbChmLGMsdSkpe2MhPT1udWxsJiZkZWxldGUgY1tjLmluZGV4T2YoZi5uYW1lKV07dmFyIG09ei5QYXJzZShmLGUsaSk7cy5wdXNoKG0pLG8rPWAKCU1lc2ggYCttLnRvU3RyaW5nKGwpfX12YXIgdjtmb3IoZD0wLF89ZS5tZXNoZXMubGVuZ3RoO2Q8XztkKyspdj1lLm1lc2hlc1tkXSx2Ll93YWl0aW5nUGFyZW50SWQmJih2LnBhcmVudD1lLmdldExhc3RFbnRyeUJ5SUQodi5fd2FpdGluZ1BhcmVudElkKSx2Ll93YWl0aW5nUGFyZW50SWQ9bnVsbCksdi5jb21wdXRlV29ybGRNYXRyaXgoITApfXJldHVybiEwfWNhdGNoKFMpe3ZhciBFPWZzKCJpbXBvcnRNZXNoIixoP2gucHJvZHVjZXI6IlVua25vd24iKStvO2lmKGEpYShFLFMpO2Vsc2UgdGhyb3cgTy5Mb2coRSksU31maW5hbGx5e28hPT1udWxsJiZoZS5sb2dnaW5nTGV2ZWwhPT1oZS5OT19MT0dHSU5HJiZPLkxvZyhmcygiaW1wb3J0TWVzaCIsaD9oLnByb2R1Y2VyOiJVbmtub3duIikrKGhlLmxvZ2dpbmdMZXZlbCE9PWhlLk1JTklNQUxfTE9HR0lORz9vOiIiKSl9cmV0dXJuITF9LGxvYWQ6ZnVuY3Rpb24oYyxlLHQsaSl7dmFyIHM9ImltcG9ydFNjZW5lIGhhcyBmYWlsZWQgSlNPTiBwYXJzZSI7dHJ5e3ZhciByPUpTT04ucGFyc2UoZSk7cz0iIixyLmNsZWFyQ29sb3IhPT12b2lkIDAmJnIuY2xlYXJDb2xvciE9PW51bGwmJihjLmNsZWFyQ29sb3I9Q29sb3I0LkZyb21BcnJheShyLmNsZWFyQ29sb3IpKTt2YXIgbj1sb2FkQXNzZXRDb250YWluZXIoYyxlLHQsaSwhMCk7cmV0dXJuISFufWNhdGNoKG8pe3ZhciBhPWZzKCJpbXBvcnRTY2VuZSIscj9yLnByb2R1Y2VyOiJVbmtub3duIikrcztpZihpKWkoYSxvKTtlbHNlIHRocm93IE8uTG9nKGEpLG99ZmluYWxseXtzIT09bnVsbCYmaGUubG9nZ2luZ0xldmVsIT09aGUuTk9fTE9HR0lORyYmTy5Mb2coZnMoImltcG9ydFNjZW5lIixyP3IucHJvZHVjZXI6IlVua25vd24iKSsoaGUubG9nZ2luZ0xldmVsIT09aGUuTUlOSU1BTF9MT0dHSU5HP3M6IiIpKX1yZXR1cm4hMX0sbG9hZEFzc2V0Q29udGFpbmVyOmZ1bmN0aW9uKGMsZSx0LGkpe3ZhciBzPWxvYWRBc3NldENvbnRhaW5lcihjLGUsdCxpKTtyZXR1cm4gc319KSx6Ll9pbnN0YW5jZWRNZXNoRmFjdG9yeT0oYyxlKT0+e2NvbnN0IHQ9bmV3IFVsKGMsZSk7aWYoZS5pbnN0YW5jZWRCdWZmZXJzKXt0Lmluc3RhbmNlZEJ1ZmZlcnM9e307Zm9yKGNvbnN0IGkgaW4gZS5pbnN0YW5jZWRCdWZmZXJzKXQuaW5zdGFuY2VkQnVmZmVyc1tpXT1lLmluc3RhbmNlZEJ1ZmZlcnNbaV19cmV0dXJuIHR9O2NsYXNzIFVsIGV4dGVuZHMgaHR7Y29uc3RydWN0b3IoZSx0KXtzdXBlcihlLHQuZ2V0U2NlbmUoKSksdGhpcy5faW5kZXhJblNvdXJjZU1lc2hJbnN0YW5jZUFycmF5PS0xLHRoaXMuX2Rpc3RhbmNlVG9DYW1lcmE9MCx0LmFkZEluc3RhbmNlKHRoaXMpLHRoaXMuX3NvdXJjZU1lc2g9dCx0aGlzLl91bkluZGV4ZWQ9dC5fdW5JbmRleGVkLHRoaXMucG9zaXRpb24uY29weUZyb20odC5wb3NpdGlvbiksdGhpcy5yb3RhdGlvbi5jb3B5RnJvbSh0LnJvdGF0aW9uKSx0aGlzLnNjYWxpbmcuY29weUZyb20odC5zY2FsaW5nKSx0LnJvdGF0aW9uUXVhdGVybmlvbiYmKHRoaXMucm90YXRpb25RdWF0ZXJuaW9uPXQucm90YXRpb25RdWF0ZXJuaW9uLmNsb25lKCkpLHRoaXMuYW5pbWF0aW9ucz10LmFuaW1hdGlvbnMuc2xpY2UoKTtmb3IoY29uc3QgaSBvZiB0LmdldEFuaW1hdGlvblJhbmdlcygpKWkhPW51bGwmJnRoaXMuY3JlYXRlQW5pbWF0aW9uUmFuZ2UoaS5uYW1lLGkuZnJvbSxpLnRvKTt0aGlzLmluZmluaXRlRGlzdGFuY2U9dC5pbmZpbml0ZURpc3RhbmNlLHRoaXMuc2V0UGl2b3RNYXRyaXgodC5nZXRQaXZvdE1hdHJpeCgpKSx0aGlzLnJlZnJlc2hCb3VuZGluZ0luZm8oITAsITApLHRoaXMuX3N5bmNTdWJNZXNoZXMoKX1nZXRDbGFzc05hbWUoKXtyZXR1cm4iSW5zdGFuY2VkTWVzaCJ9Z2V0IGxpZ2h0U291cmNlcygpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLl9saWdodFNvdXJjZXN9X3Jlc3luY0xpZ2h0U291cmNlcygpe31fcmVzeW5jTGlnaHRTb3VyY2UoKXt9X3JlbW92ZUxpZ2h0U291cmNlKCl7fWdldCByZWNlaXZlU2hhZG93cygpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLnJlY2VpdmVTaGFkb3dzfXNldCByZWNlaXZlU2hhZG93cyhlKXt2YXIgdDsoKHQ9dGhpcy5fc291cmNlTWVzaCk9PT1udWxsfHx0PT09dm9pZCAwP3ZvaWQgMDp0LnJlY2VpdmVTaGFkb3dzKSE9PWUmJlguV2FybigiU2V0dGluZyByZWNlaXZlU2hhZG93cyBvbiBhbiBpbnN0YW5jZWQgbWVzaCBoYXMgbm8gZWZmZWN0Iil9Z2V0IG1hdGVyaWFsKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gubWF0ZXJpYWx9c2V0IG1hdGVyaWFsKGUpe3ZhciB0OygodD10aGlzLl9zb3VyY2VNZXNoKT09PW51bGx8fHQ9PT12b2lkIDA/dm9pZCAwOnQubWF0ZXJpYWwpIT09ZSYmWC5XYXJuKCJTZXR0aW5nIG1hdGVyaWFsIG9uIGFuIGluc3RhbmNlZCBtZXNoIGhhcyBubyBlZmZlY3QiKX1nZXQgdmlzaWJpbGl0eSgpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLnZpc2liaWxpdHl9c2V0IHZpc2liaWxpdHkoZSl7dmFyIHQ7KCh0PXRoaXMuX3NvdXJjZU1lc2gpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC52aXNpYmlsaXR5KSE9PWUmJlguV2FybigiU2V0dGluZyB2aXNpYmlsaXR5IG9uIGFuIGluc3RhbmNlZCBtZXNoIGhhcyBubyBlZmZlY3QiKX1nZXQgc2tlbGV0b24oKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5za2VsZXRvbn1zZXQgc2tlbGV0b24oZSl7dmFyIHQ7KCh0PXRoaXMuX3NvdXJjZU1lc2gpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC5za2VsZXRvbikhPT1lJiZYLldhcm4oIlNldHRpbmcgc2tlbGV0b24gb24gYW4gaW5zdGFuY2VkIG1lc2ggaGFzIG5vIGVmZmVjdCIpfWdldCByZW5kZXJpbmdHcm91cElkKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2gucmVuZGVyaW5nR3JvdXBJZH1zZXQgcmVuZGVyaW5nR3JvdXBJZChlKXshdGhpcy5fc291cmNlTWVzaHx8ZT09PXRoaXMuX3NvdXJjZU1lc2gucmVuZGVyaW5nR3JvdXBJZHx8Ty5XYXJuKCJOb3RlIC0gc2V0dGluZyByZW5kZXJpbmdHcm91cElkIG9mIGFuIGluc3RhbmNlZCBtZXNoIGhhcyBubyBlZmZlY3Qgb24gdGhlIHNjZW5lIil9Z2V0VG90YWxWZXJ0aWNlcygpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoP3RoaXMuX3NvdXJjZU1lc2guZ2V0VG90YWxWZXJ0aWNlcygpOjB9Z2V0VG90YWxJbmRpY2VzKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guZ2V0VG90YWxJbmRpY2VzKCl9Z2V0IHNvdXJjZU1lc2goKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaH1jcmVhdGVJbnN0YW5jZShlKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5jcmVhdGVJbnN0YW5jZShlKX1pc1JlYWR5KGU9ITEpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmlzUmVhZHkoZSwhMCl9Z2V0VmVydGljZXNEYXRhKGUsdCxpKXtyZXR1cm4gdGhpcy5fc291cmNlTWVzaC5nZXRWZXJ0aWNlc0RhdGEoZSx0LGkpfXNldFZlcnRpY2VzRGF0YShlLHQsaSxzKXtyZXR1cm4gdGhpcy5zb3VyY2VNZXNoJiZ0aGlzLnNvdXJjZU1lc2guc2V0VmVydGljZXNEYXRhKGUsdCxpLHMpLHRoaXMuc291cmNlTWVzaH11cGRhdGVWZXJ0aWNlc0RhdGEoZSx0LGkscyl7cmV0dXJuIHRoaXMuc291cmNlTWVzaCYmdGhpcy5zb3VyY2VNZXNoLnVwZGF0ZVZlcnRpY2VzRGF0YShlLHQsaSxzKSx0aGlzLnNvdXJjZU1lc2h9c2V0SW5kaWNlcyhlLHQ9bnVsbCl7cmV0dXJuIHRoaXMuc291cmNlTWVzaCYmdGhpcy5zb3VyY2VNZXNoLnNldEluZGljZXMoZSx0KSx0aGlzLnNvdXJjZU1lc2h9aXNWZXJ0aWNlc0RhdGFQcmVzZW50KGUpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLmlzVmVydGljZXNEYXRhUHJlc2VudChlKX1nZXRJbmRpY2VzKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guZ2V0SW5kaWNlcygpfWdldCBfcG9zaXRpb25zKCl7cmV0dXJuIHRoaXMuX3NvdXJjZU1lc2guX3Bvc2l0aW9uc31yZWZyZXNoQm91bmRpbmdJbmZvKGU9ITEsdD0hMSl7aWYodGhpcy5oYXNCb3VuZGluZ0luZm8mJnRoaXMuZ2V0Qm91bmRpbmdJbmZvKCkuaXNMb2NrZWQpcmV0dXJuIHRoaXM7Y29uc3QgaT10aGlzLl9zb3VyY2VNZXNoLmdlb21ldHJ5P3RoaXMuX3NvdXJjZU1lc2guZ2VvbWV0cnkuYm91bmRpbmdCaWFzOm51bGw7cmV0dXJuIHRoaXMuX3JlZnJlc2hCb3VuZGluZ0luZm8odGhpcy5fc291cmNlTWVzaC5fZ2V0UG9zaXRpb25EYXRhKGUsdCksaSksdGhpc31fcHJlQWN0aXZhdGUoKXtyZXR1cm4gdGhpcy5fY3VycmVudExPRCYmdGhpcy5fY3VycmVudExPRC5fcHJlQWN0aXZhdGUoKSx0aGlzfV9hY3RpdmF0ZShlLHQpe2lmKHN1cGVyLl9hY3RpdmF0ZShlLHQpLHRoaXMuX3NvdXJjZU1lc2guc3ViTWVzaGVzfHxPLldhcm4oIkluc3RhbmNlcyBzaG91bGQgb25seSBiZSBjcmVhdGVkIGZvciBtZXNoZXMgd2l0aCBnZW9tZXRyeS4iKSx0aGlzLl9jdXJyZW50TE9EKXtpZih0aGlzLl9jdXJyZW50TE9ELl9nZXRXb3JsZE1hdHJpeERldGVybWluYW50KCk+PTAhPXRoaXMuX2dldFdvcmxkTWF0cml4RGV0ZXJtaW5hbnQoKT49MClyZXR1cm4gdGhpcy5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fYWN0QXNSZWd1bGFyTWVzaD0hMCwhMDtpZih0aGlzLl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9hY3RBc1JlZ3VsYXJNZXNoPSExLHRoaXMuX2N1cnJlbnRMT0QuX3JlZ2lzdGVySW5zdGFuY2VGb3JSZW5kZXJJZCh0aGlzLGUpLHQpe2lmKCF0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZUludGVybWVkaWF0ZSlyZXR1cm4gdGhpcy5fY3VycmVudExPRC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlc0ludGVybWVkaWF0ZT0hMCwhMH1lbHNlIGlmKCF0aGlzLl9jdXJyZW50TE9ELl9pbnRlcm5hbEFic3RyYWN0TWVzaERhdGFJbmZvLl9pc0FjdGl2ZSlyZXR1cm4gdGhpcy5fY3VycmVudExPRC5faW50ZXJuYWxBYnN0cmFjdE1lc2hEYXRhSW5mby5fb25seUZvckluc3RhbmNlcz0hMCwhMH1yZXR1cm4hMX1fcG9zdEFjdGl2YXRlKCl7dGhpcy5fc291cmNlTWVzaC5lZGdlc1NoYXJlV2l0aEluc3RhbmNlcyYmdGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlciYmdGhpcy5fc291cmNlTWVzaC5fZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwPyh0aGlzLl9zb3VyY2VNZXNoLl9yZW5kZXJpbmdHcm91cC5fZWRnZXNSZW5kZXJlcnMucHVzaE5vRHVwbGljYXRlKHRoaXMuX3NvdXJjZU1lc2guX2VkZ2VzUmVuZGVyZXIpLHRoaXMuX3NvdXJjZU1lc2guX2VkZ2VzUmVuZGVyZXIuY3VzdG9tSW5zdGFuY2VzLnB1c2godGhpcy5nZXRXb3JsZE1hdHJpeCgpKSk6dGhpcy5fZWRnZXNSZW5kZXJlciYmdGhpcy5fZWRnZXNSZW5kZXJlci5pc0VuYWJsZWQmJnRoaXMuX3NvdXJjZU1lc2guX3JlbmRlcmluZ0dyb3VwJiZ0aGlzLl9zb3VyY2VNZXNoLl9yZW5kZXJpbmdHcm91cC5fZWRnZXNSZW5kZXJlcnMucHVzaCh0aGlzLl9lZGdlc1JlbmRlcmVyKX1nZXRXb3JsZE1hdHJpeCgpe2lmKHRoaXMuX2N1cnJlbnRMT0QmJnRoaXMuX2N1cnJlbnRMT0QuYmlsbGJvYXJkTW9kZSE9PWVlLkJJTExCT0FSRE1PREVfTk9ORSYmdGhpcy5fY3VycmVudExPRC5fbWFzdGVyTWVzaCE9PXRoaXMpe3RoaXMuX2JpbGxib2FyZFdvcmxkTWF0cml4fHwodGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXg9bmV3IE0pO2NvbnN0IGU9dGhpcy5fY3VycmVudExPRC5fbWFzdGVyTWVzaDtyZXR1cm4gdGhpcy5fY3VycmVudExPRC5fbWFzdGVyTWVzaD10aGlzLEYuVmVjdG9yM1s3XS5jb3B5RnJvbSh0aGlzLl9jdXJyZW50TE9ELnBvc2l0aW9uKSx0aGlzLl9jdXJyZW50TE9ELnBvc2l0aW9uLnNldCgwLDAsMCksdGhpcy5fYmlsbGJvYXJkV29ybGRNYXRyaXguY29weUZyb20odGhpcy5fY3VycmVudExPRC5jb21wdXRlV29ybGRNYXRyaXgoITApKSx0aGlzLl9jdXJyZW50TE9ELnBvc2l0aW9uLmNvcHlGcm9tKEYuVmVjdG9yM1s3XSksdGhpcy5fY3VycmVudExPRC5fbWFzdGVyTWVzaD1lLHRoaXMuX2JpbGxib2FyZFdvcmxkTWF0cml4fXJldHVybiBzdXBlci5nZXRXb3JsZE1hdHJpeCgpfWdldCBpc0FuSW5zdGFuY2UoKXtyZXR1cm4hMH1nZXRMT0QoZSl7aWYoIWUpcmV0dXJuIHRoaXM7Y29uc3QgdD10aGlzLnNvdXJjZU1lc2guZ2V0TE9ETGV2ZWxzKCk7aWYoIXR8fHQubGVuZ3RoPT09MCl0aGlzLl9jdXJyZW50TE9EPXRoaXMuc291cmNlTWVzaDtlbHNle2NvbnN0IGk9dGhpcy5nZXRCb3VuZGluZ0luZm8oKTt0aGlzLl9jdXJyZW50TE9EPXRoaXMuc291cmNlTWVzaC5nZXRMT0QoZSxpLmJvdW5kaW5nU3BoZXJlKX1yZXR1cm4gdGhpcy5fY3VycmVudExPRH1fcHJlQWN0aXZhdGVGb3JJbnRlcm1lZGlhdGVSZW5kZXJpbmcoZSl7cmV0dXJuIHRoaXMuc291cmNlTWVzaC5fcHJlQWN0aXZhdGVGb3JJbnRlcm1lZGlhdGVSZW5kZXJpbmcoZSl9X3N5bmNTdWJNZXNoZXMoKXtpZih0aGlzLnJlbGVhc2VTdWJNZXNoZXMoKSx0aGlzLl9zb3VyY2VNZXNoLnN1Yk1lc2hlcylmb3IobGV0IGU9MDtlPHRoaXMuX3NvdXJjZU1lc2guc3ViTWVzaGVzLmxlbmd0aDtlKyspdGhpcy5fc291cmNlTWVzaC5zdWJNZXNoZXNbZV0uY2xvbmUodGhpcyx0aGlzLl9zb3VyY2VNZXNoKTtyZXR1cm4gdGhpc31fZ2VuZXJhdGVQb2ludHNBcnJheSgpe3JldHVybiB0aGlzLl9zb3VyY2VNZXNoLl9nZW5lcmF0ZVBvaW50c0FycmF5KCl9X3VwZGF0ZUJvdW5kaW5nSW5mbygpe3JldHVybiB0aGlzLmhhc0JvdW5kaW5nSW5mbz90aGlzLmdldEJvdW5kaW5nSW5mbygpLnVwZGF0ZSh0aGlzLndvcmxkTWF0cml4RnJvbUNhY2hlKTp0aGlzLmJ1aWxkQm91bmRpbmdJbmZvKHRoaXMuYWJzb2x1dGVQb3NpdGlvbix0aGlzLmFic29sdXRlUG9zaXRpb24sdGhpcy53b3JsZE1hdHJpeEZyb21DYWNoZSksdGhpcy5fdXBkYXRlU3ViTWVzaGVzQm91bmRpbmdJbmZvKHRoaXMud29ybGRNYXRyaXhGcm9tQ2FjaGUpLHRoaXN9Y2xvbmUoZSx0PW51bGwsaSxzKXtjb25zdCByPShzfHx0aGlzLl9zb3VyY2VNZXNoKS5jcmVhdGVJbnN0YW5jZShlKTtpZihNcy5EZWVwQ29weSh0aGlzLHIsWyJuYW1lIiwic3ViTWVzaGVzIiwidW5pcXVlSWQiLCJwYXJlbnQiLCJsaWdodFNvdXJjZXMiLCJyZWNlaXZlU2hhZG93cyIsIm1hdGVyaWFsIiwidmlzaWJpbGl0eSIsInNrZWxldG9uIiwic291cmNlTWVzaCIsImlzQW5JbnN0YW5jZSIsImZhY2V0TmIiLCJpc0ZhY2V0RGF0YUVuYWJsZWQiLCJpc0Jsb2NrZWQiLCJ1c2VCb25lcyIsImhhc0luc3RhbmNlcyIsImNvbGxpZGVyIiwiZWRnZXNSZW5kZXJlciIsImZvcndhcmQiLCJ1cCIsInJpZ2h0IiwiYWJzb2x1dGVQb3NpdGlvbiIsImFic29sdXRlU2NhbGluZyIsImFic29sdXRlUm90YXRpb25RdWF0ZXJuaW9uIiwiaXNXb3JsZE1hdHJpeEZyb3plbiIsIm5vblVuaWZvcm1TY2FsaW5nIiwiYmVoYXZpb3JzIiwid29ybGRNYXRyaXhGcm9tQ2FjaGUiLCJoYXNUaGluSW5zdGFuY2VzIiwiaGFzQm91bmRpbmdJbmZvIl0sW10pLHRoaXMucmVmcmVzaEJvdW5kaW5nSW5mbygpLHQmJihyLnBhcmVudD10KSwhaSlmb3IobGV0IG49MDtuPHRoaXMuZ2V0U2NlbmUoKS5tZXNoZXMubGVuZ3RoO24rKyl7Y29uc3QgYT10aGlzLmdldFNjZW5lKCkubWVzaGVzW25dO2EucGFyZW50PT09dGhpcyYmYS5jbG9uZShhLm5hbWUscil9cmV0dXJuIHIuY29tcHV0ZVdvcmxkTWF0cml4KCEwKSx0aGlzLm9uQ2xvbmVkT2JzZXJ2YWJsZS5ub3RpZnlPYnNlcnZlcnMocikscn1kaXNwb3NlKGUsdD0hMSl7dGhpcy5fc291cmNlTWVzaC5yZW1vdmVJbnN0YW5jZSh0aGlzKSxzdXBlci5kaXNwb3NlKGUsdCl9X3NlcmlhbGl6ZUFzUGFyZW50KGUpe3N1cGVyLl9zZXJpYWxpemVBc1BhcmVudChlKSxlLnBhcmVudElkPXRoaXMuX3NvdXJjZU1lc2gudW5pcXVlSWQsZS5wYXJlbnRJbnN0YW5jZUluZGV4PXRoaXMuX2luZGV4SW5Tb3VyY2VNZXNoSW5zdGFuY2VBcnJheX1pbnN0YW50aWF0ZUhpZXJhcmNoeShlPW51bGwsdCxpKXtjb25zdCBzPXRoaXMuY2xvbmUoIkNsb25lIG9mICIrKHRoaXMubmFtZXx8dGhpcy5pZCksZXx8dGhpcy5wYXJlbnQsITAsdCYmdC5uZXdTb3VyY2VkTWVzaCk7cyYmaSYmaSh0aGlzLHMpO2Zvcihjb25zdCByIG9mIHRoaXMuZ2V0Q2hpbGRUcmFuc2Zvcm1Ob2RlcyghMCkpci5pbnN0YW50aWF0ZUhpZXJhcmNoeShzLHQsaSk7cmV0dXJuIHN9fXoucHJvdG90eXBlLnJlZ2lzdGVySW5zdGFuY2VkQnVmZmVyPWZ1bmN0aW9uKGMsZSl7dmFyIHQsaTtpZigoaT0odD10aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UpPT09bnVsbHx8dD09PXZvaWQgMD92b2lkIDA6dC52ZXJ0ZXhCdWZmZXJzW2NdKT09PW51bGx8fGk9PT12b2lkIDB8fGkuZGlzcG9zZSgpLCF0aGlzLmluc3RhbmNlZEJ1ZmZlcnMpe3RoaXMuaW5zdGFuY2VkQnVmZmVycz17fTtmb3IoY29uc3QgcyBvZiB0aGlzLmluc3RhbmNlcylzLmluc3RhbmNlZEJ1ZmZlcnM9e307dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlfHwodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlPXtkYXRhOnt9LHZlcnRleEJ1ZmZlcnM6e30sc3RyaWRlczp7fSxzaXplczp7fSx2ZXJ0ZXhBcnJheU9iamVjdHM6dGhpcy5nZXRFbmdpbmUoKS5nZXRDYXBzKCkudmVydGV4QXJyYXlPYmplY3Q/e306dm9pZCAwfSl9dGhpcy5pbnN0YW5jZWRCdWZmZXJzW2NdPW51bGwsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnN0cmlkZXNbY109ZSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2Uuc2l6ZXNbY109ZSozMix0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtjXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5zaXplc1tjXSksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbY109bmV3IGcodGhpcy5nZXRFbmdpbmUoKSx0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UuZGF0YVtjXSxjLCEwLCExLGUsITApO2Zvcihjb25zdCBzIG9mIHRoaXMuaW5zdGFuY2VzKXMuaW5zdGFuY2VkQnVmZmVyc1tjXT1udWxsO3RoaXMuX2ludmFsaWRhdGVJbnN0YW5jZVZlcnRleEFycmF5T2JqZWN0KCksdGhpcy5fbWFya1N1Yk1lc2hlc0FzQXR0cmlidXRlc0RpcnR5KCl9LHoucHJvdG90eXBlLl9wcm9jZXNzSW5zdGFuY2VkQnVmZmVycz1mdW5jdGlvbihjLGUpe2NvbnN0IHQ9Yz9jLmxlbmd0aDowO2Zvcihjb25zdCBpIGluIHRoaXMuaW5zdGFuY2VkQnVmZmVycyl7bGV0IHM9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnNpemVzW2ldO2NvbnN0IHI9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnN0cmlkZXNbaV0sbj0odCsxKSpyO2Zvcig7czxuOylzKj0yO3RoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW2ldLmxlbmd0aCE9cyYmKHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS5kYXRhW2ldPW5ldyBGbG9hdDMyQXJyYXkocyksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnNpemVzW2ldPXMsdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV0mJih0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tpXS5kaXNwb3NlKCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEJ1ZmZlcnNbaV09bnVsbCkpO2NvbnN0IGE9dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV07bGV0IG89MDtpZihlKXtjb25zdCBoPXRoaXMuaW5zdGFuY2VkQnVmZmVyc1tpXTtoLnRvQXJyYXk/aC50b0FycmF5KGEsbyk6aC5jb3B5VG9BcnJheT9oLmNvcHlUb0FycmF5KGEsbyk6YVtvXT1oLG8rPXJ9Zm9yKGxldCBoPTA7aDx0O2grKyl7Y29uc3QgdT1jW2hdLmluc3RhbmNlZEJ1ZmZlcnNbaV07dS50b0FycmF5P3UudG9BcnJheShhLG8pOnUuY29weVRvQXJyYXk/dS5jb3B5VG9BcnJheShhLG8pOmFbb109dSxvKz1yfXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldP3RoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldLnVwZGF0ZURpcmVjdGx5KGEsMCk6KHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2ldPW5ldyBnKHRoaXMuZ2V0RW5naW5lKCksdGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLmRhdGFbaV0saSwhMCwhMSxyLCEwKSx0aGlzLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdCgpKX19LHoucHJvdG90eXBlLl9pbnZhbGlkYXRlSW5zdGFuY2VWZXJ0ZXhBcnJheU9iamVjdD1mdW5jdGlvbigpe2lmKCEoIXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZXx8dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cz09PXZvaWQgMCkpe2Zvcihjb25zdCBjIGluIHRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhBcnJheU9iamVjdHMpdGhpcy5nZXRFbmdpbmUoKS5yZWxlYXNlVmVydGV4QXJyYXlPYmplY3QodGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0c1tjXSk7dGhpcy5fdXNlckluc3RhbmNlZEJ1ZmZlcnNTdG9yYWdlLnZlcnRleEFycmF5T2JqZWN0cz17fX19LHoucHJvdG90eXBlLl9kaXNwb3NlSW5zdGFuY2VTcGVjaWZpY0RhdGE9ZnVuY3Rpb24oKXtmb3IodGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXImJih0aGlzLl9pbnN0YW5jZURhdGFTdG9yYWdlLmluc3RhbmNlc0J1ZmZlci5kaXNwb3NlKCksdGhpcy5faW5zdGFuY2VEYXRhU3RvcmFnZS5pbnN0YW5jZXNCdWZmZXI9bnVsbCk7dGhpcy5pbnN0YW5jZXMubGVuZ3RoOyl0aGlzLmluc3RhbmNlc1swXS5kaXNwb3NlKCk7Zm9yKGNvbnN0IGMgaW4gdGhpcy5pbnN0YW5jZWRCdWZmZXJzKXRoaXMuX3VzZXJJbnN0YW5jZWRCdWZmZXJzU3RvcmFnZS52ZXJ0ZXhCdWZmZXJzW2NdJiZ0aGlzLl91c2VySW5zdGFuY2VkQnVmZmVyc1N0b3JhZ2UudmVydGV4QnVmZmVyc1tjXS5kaXNwb3NlKCk7dGhpcy5faW52YWxpZGF0ZUluc3RhbmNlVmVydGV4QXJyYXlPYmplY3QoKSx0aGlzLmluc3RhbmNlZEJ1ZmZlcnM9e319O2NvbnN0IEtyPWM9PkpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYykpLGtsPXthc3NldFBhdGg6IiIsZW5hYmxlU2hhZG93czohMSxncm91cElkOm51bGwsaWQ6bnVsbCxsaWdodHM6W10scm9sbElkOm51bGwsc2NlbmU6bnVsbH0sQXQ9Y2xhc3MgQXR7Y29uc3RydWN0b3IoZSx0KXtTdCh0aGlzLCJ2YWx1ZSIsMCk7U3QodGhpcywiYXNsZWVwIiwhMSk7dGhpcy5jb25maWc9ey4uLmtsLC4uLmV9LHRoaXMuaWQ9dGhpcy5jb25maWcuaWQhPT12b2lkIDA/dGhpcy5jb25maWcuaWQ6RGF0ZS5ub3coKSx0aGlzLnNpZGVzPXRoaXMuY29uZmlnLnNpZGVzLHRoaXMuZGllVHlwZT10aGlzLmNvbmZpZy5kaWVUeXBlLHRoaXMuY29tYm9LZXk9YCR7dGhpcy5jb25maWcudGhlbWV9XyR7dGhpcy5jb25maWcuZGllVHlwZX1gLHRoaXMuc2NlbmU9dCx0aGlzLmNyZWF0ZUluc3RhbmNlKCl9Y3JlYXRlSW5zdGFuY2UoKXtjb25zdCBlPWAke3RoaXMuY29uZmlnLm1lc2hOYW1lfV8ke3RoaXMuZGllVHlwZX1fJHt0aGlzLmNvbmZpZy50aGVtZX0ke3RoaXMuY29uZmlnLmNvbG9yU3VmZml4fWAsdD1gJHtlfS1pbnN0YW5jZS0ke3RoaXMuaWR9YCxpPXRoaXMuc2NlbmUuZ2V0TWVzaEJ5TmFtZShlKSxzPWkuY3JlYXRlSW5zdGFuY2UodCk7aWYodGhpcy5jb25maWcuY29sb3JTdWZmaXgubGVuZ3RoPjApe2NvbnN0IHI9cmUuRnJvbUhleFN0cmluZyh0aGlzLmNvbmZpZy50aGVtZUNvbG9yKTtzLmluc3RhbmNlZEJ1ZmZlcnMuY3VzdG9tQ29sb3I9cn1zLm1ldGFkYXRhPWkubWV0YWRhdGEscy5wb3NpdGlvbi55PS0xMDAscy5zY2FsaW5nPW5ldyBwKHMuc2NhbGluZy54KnRoaXMuY29uZmlnLnNjYWxlLHMuc2NhbGluZy55KnRoaXMuY29uZmlnLnNjYWxlLHMuc2NhbGluZy56KnRoaXMuY29uZmlnLnNjYWxlKSx0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzJiZ0aGlzLmNvbmZpZy5saWdodHMuZGlyZWN0aW9uYWwuc2hhZG93R2VuZXJhdG9yLmFkZFNoYWRvd0Nhc3RlcihzKSx0aGlzLm1lc2g9c31zdGF0aWMgYXN5bmMgbG9hZERpZShlLHQpe2NvbnN0e3NpZGVzOmksdGhlbWU6cz0iZGVmYXVsdCIsbWVzaE5hbWU6cixjb2xvclN1ZmZpeDpufT1lO2UuZGllVHlwZXx8KGUuZGllVHlwZT1OdW1iZXIuaXNJbnRlZ2VyKGkpP2BkJHtpfWA6aSk7Y29uc3QgYT1yKyJfIitlLmRpZVR5cGUsbz1hKyJfIitzK247bGV0IGg9dC5nZXRNZXNoQnlOYW1lKG8pO3JldHVybiBofHwoaD10LmdldE1lc2hCeU5hbWUoYSkuY2xvbmUobykpLGgubWF0ZXJpYWx8fChoLm1hdGVyaWFsPXQuZ2V0TWF0ZXJpYWxCeU5hbWUocytuKSxuLmxlbmd0aD4wJiZoLnJlZ2lzdGVySW5zdGFuY2VkQnVmZmVyKCJjdXN0b21Db2xvciIsMykpLGV9c3RhdGljIGFzeW5jIGxvYWRNb2RlbHMoZSx0KXtjb25zdHttZXNoRmlsZVBhdGg6aSxtZXNoTmFtZTpzLHNjYWxlOnIsZDRGYWNlRG93bjpuPSEwfT1lO2xldCBhPSExLG89ITE7Y29uc3QgaD1hd2FpdCBmZXRjaChgJHtpfWApLnRoZW4obD0+e2lmKGwub2spe2NvbnN0IHU9bC5oZWFkZXJzLmdldCgiY29udGVudC10eXBlIik7aWYodSYmdS5pbmRleE9mKCJhcHBsaWNhdGlvbi9qc29uIikhPT0tMSlyZXR1cm4gbC5qc29uKCk7aWYobC50eXBlJiZsLnR5cGU9PT0iYmFzaWMiKXJldHVybiBsLmpzb24oKTt0aHJvdyBuZXcgRXJyb3IoYEluY29ycmVjdCBjb250ZW50VHlwZTogJHt1fS4gRXhwZWN0ZWQgImFwcGxpY2F0aW9uL2pzb24iIG9yICJiYXNpYyJgKX1lbHNlIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGxvYWQgM0QgbWVzaCBmaWxlOiAnJHtpfScuIFJlcXVlc3QgcmVqZWN0ZWQgd2l0aCBzdGF0dXMgJHtsLnN0YXR1c306ICR7bC5zdGF0dXNUZXh0fWApfSkuY2F0Y2gobD0+Y29uc29sZS5lcnJvcihsKSk7aWYoaClyZXR1cm4gaGUuSW1wb3J0TWVzaEFzeW5jKG51bGwsbnVsbCwiZGF0YToiK0pTT04uc3RyaW5naWZ5KGgpLHQpLnRoZW4obD0+e2lmKGwubWVzaGVzLmZvckVhY2godT0+e3UubmFtZT09PSJfX3Jvb3RfXyImJnUuZGlzcG9zZSgpLHUubmFtZS5pbmNsdWRlcygiY29sbGlkZXIiKSYmKHUuc2NhbGluZz1uZXcgcCh1LnNjYWxpbmcueCouOSx1LnNjYWxpbmcueSouOSx1LnNjYWxpbmcueiouOSkpLGF8fChhPXUubmFtZT09PSJkMTAwIiksb3x8KG89dS5uYW1lPT09ImQxMCIpLHUuc2V0RW5hYmxlZCghMSksdS5mcmVlemVOb3JtYWxzKCksdS5mcmVlemVXb3JsZE1hdHJpeCgpLHUuaXNQaWNrYWJsZT0hMSx1LmRvTm90U3luY0JvdW5kaW5nSW5mbz0hMCx1Lm5hbWU9cysiXyIrdS5uYW1lLHUubWV0YWRhdGE9e2Jhc2VTY2FsZTp1LnNjYWxpbmd9fSksIWEmJm8mJih0LmdldE1lc2hCeU5hbWUocysiX2QxMCIpLmNsb25lKHMrIl9kMTAwIiksdC5nZXRNZXNoQnlOYW1lKHMrIl9kMTBfY29sbGlkZXIiKS5jbG9uZShzKyJfZDEwMF9jb2xsaWRlciIpLGguY29sbGlkZXJGYWNlTWFwJiYoaC5jb2xsaWRlckZhY2VNYXAuZDEwMD1LcihoLmNvbGxpZGVyRmFjZU1hcC5kMTApLE9iamVjdC52YWx1ZXMoaC5jb2xsaWRlckZhY2VNYXAuZDEwMCkuZm9yRWFjaCgodSxkKT0+e2guY29sbGlkZXJGYWNlTWFwLmQxMDBbZF09dSoodT09PTEwPzA6MTApfSkpKSwhaC5jb2xsaWRlckZhY2VNYXApdGhyb3cgbmV3IEVycm9yKGAnY29sbGlkZXJGYWNlTWFwJyBkYXRhIG5vdCBmb3VuZCBpbiAke2l9LiBXaXRob3V0IHRoZSBjb2xsaWRlckZhY2VNYXAgZGF0YSBkaWNlIHZhbHVlcyBjYW4gbm90IGJlIHJlc29sdmVkLmApO3QudGhlbWVEYXRhW3NdPXt9LHQudGhlbWVEYXRhW3NdLmNvbGxpZGVyRmFjZU1hcD1oLmNvbGxpZGVyRmFjZU1hcCx0LnRoZW1lRGF0YVtzXS5kNEZhY2VEb3duPW59KS5jYXRjaChsPT5jb25zb2xlLmVycm9yKGwpKSxoLm1lc2hlcy5maWx0ZXIobD0+bC5uYW1lLmluY2x1ZGVzKCJjb2xsaWRlciIpKX11cGRhdGVDb25maWcoZSl7dGhpcy5jb25maWc9ey4uLnRoaXMuY29uZmlnLC4uLmV9fXN0YXRpYyBzZXRWZWN0b3IzKGUsdCxpKXtyZXR1cm4gQXQudmVjdG9yMy5zZXQoZSx0LGkpfXN0YXRpYyBnZXRWZWN0b3IzKCl7cmV0dXJuIEF0LnZlY3RvcjN9c3RhdGljIGFzeW5jIGdldFJvbGxSZXN1bHQoZSx0KXtjb25zdCBpPShzPWUpPT5uZXcgUHJvbWlzZSgocixuKT0+e2NvbnN0IGE9ZS5jb25maWcucGFyZW50TWVzaHx8ZS5jb25maWcubWVzaE5hbWUsbz10LnRoZW1lRGF0YVthXS5jb2xsaWRlckZhY2VNYXAsaD10LnRoZW1lRGF0YVthXS5kNEZhY2VEb3duO2lmKCFvW3MuZGllVHlwZV0pdGhyb3cgbmV3IEVycm9yKGBObyBjb2xsaWRlckZhY2VNYXAgZGF0YSBmb3IgJHtzLmRpZVR5cGV9YCk7Y29uc3QgbD10LmdldE1lc2hCeU5hbWUoYCR7YX1fJHtzLmRpZVR5cGV9X2NvbGxpZGVyYCkuY3JlYXRlSW5zdGFuY2UoYCR7YX1fJHtzLmRpZVR5cGV9LWhpdGJveC0ke3MuaWR9YCk7bC5pc1BpY2thYmxlPSEwLGwuaXNWaXNpYmxlPSEwLGwuc2V0RW5hYmxlZCghMCksbC5wb3NpdGlvbj1zLm1lc2gucG9zaXRpb24sbC5yb3RhdGlvblF1YXRlcm5pb249cy5tZXNoLnJvdGF0aW9uUXVhdGVybmlvbjtsZXQgdT1BdC5zZXRWZWN0b3IzKDAsMSwwKTtzLmRpZVR5cGU9PT0iZDQiJiZoJiYodT1BdC5zZXRWZWN0b3IzKDAsLTEsMCkpLEF0LnJheS5kaXJlY3Rpb249dSxBdC5yYXkub3JpZ2luPWUubWVzaC5wb3NpdGlvbjtjb25zdCBkPXQucGlja1dpdGhSYXkoQXQucmF5KTtyZXR1cm4gbC5kaXNwb3NlKCkscy52YWx1ZT1vW3MuZGllVHlwZV1bZC5mYWNlSWRdLHMudmFsdWU9PT12b2lkIDAmJihjb25zb2xlLmVycm9yKGBjb2xsaWRlckZhY2VNYXAgRXJyb3I6IE5vIHZhbHVlIGZvdW5kIGZvciAke3MuZGllVHlwZX0gbWVzaCBmYWNlICR7ZC5mYWNlSWR9YCkscy52YWx1ZT0wKSxyKHMudmFsdWUpfSkuY2F0Y2gocj0+Y29uc29sZS5lcnJvcihyKSk7cmV0dXJuIGUubWVzaD9hd2FpdCBpKCk6ZS52YWx1ZX19O1N0KEF0LCJyYXkiLG5ldyBfZShwLlplcm8oKSxwLlplcm8oKSwxKSksU3QoQXQsInZlY3RvcjMiLHAuWmVybygpKTtsZXQgc2k9QXQ7Y2xhc3MgVmx7Y29uc3RydWN0b3IoKXt9fWNsYXNzIHJpIGV4dGVuZHMgQntBdHRhY2hBZnRlckJpbmQoZSx0KXtpZih0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzKWZvcihjb25zdCBpIGluIHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXMpe2NvbnN0IHM9aS50b1N0cmluZygpLnNwbGl0KCItIik7c1swXT09InZlYzIiP3Quc2V0VmVjdG9yMihzWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbaV0pOnNbMF09PSJ2ZWMzIj90LnNldFZlY3RvcjMoc1sxXSx0aGlzLl9uZXdVbmlmb3JtSW5zdGFuY2VzW2ldKTpzWzBdPT0idmVjNCI/dC5zZXRWZWN0b3I0KHNbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tpXSk6c1swXT09Im1hdDQiP3Quc2V0TWF0cml4KHNbMV0sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1tpXSk6c1swXT09ImZsb2F0IiYmdC5zZXRGbG9hdChzWzFdLHRoaXMuX25ld1VuaWZvcm1JbnN0YW5jZXNbaV0pfWlmKHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXMpZm9yKGNvbnN0IGkgaW4gdGhpcy5fbmV3U2FtcGxlckluc3RhbmNlcyl7Y29uc3Qgcz1pLnRvU3RyaW5nKCkuc3BsaXQoIi0iKTtzWzBdPT0ic2FtcGxlcjJEIiYmdGhpcy5fbmV3U2FtcGxlckluc3RhbmNlc1tpXS5pc1JlYWR5JiZ0aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzW2ldLmlzUmVhZHkoKSYmdC5zZXRUZXh0dXJlKHNbMV0sdGhpcy5fbmV3U2FtcGxlckluc3RhbmNlc1tpXSl9fVJldmlld1VuaWZvcm0oZSx0KXtpZihlPT0idW5pZm9ybSImJnRoaXMuX25ld1VuaWZvcm1zKWZvcihsZXQgaT0wO2k8dGhpcy5fbmV3VW5pZm9ybXMubGVuZ3RoO2krKyl0aGlzLl9jdXN0b21Vbmlmb3JtW2ldLmluZGV4T2YoInNhbXBsZXIiKT09LTEmJnQucHVzaCh0aGlzLl9uZXdVbmlmb3Jtc1tpXS5yZXBsYWNlKC9cW1xkKlxdL2csIiIpKTtpZihlPT0ic2FtcGxlciImJnRoaXMuX25ld1VuaWZvcm1zKWZvcihsZXQgaT0wO2k8dGhpcy5fbmV3VW5pZm9ybXMubGVuZ3RoO2krKyl0aGlzLl9jdXN0b21Vbmlmb3JtW2ldLmluZGV4T2YoInNhbXBsZXIiKSE9LTEmJnQucHVzaCh0aGlzLl9uZXdVbmlmb3Jtc1tpXS5yZXBsYWNlKC9cW1xkKlxdL2csIiIpKTtyZXR1cm4gdH1CdWlsZGVyKGUsdCxpLHMscixuKXtpZihuJiZ0aGlzLl9jdXN0b21BdHRyaWJ1dGVzJiZ0aGlzLl9jdXN0b21BdHRyaWJ1dGVzLmxlbmd0aD4wJiZuLnB1c2goLi4udGhpcy5fY3VzdG9tQXR0cmlidXRlcyksdGhpcy5SZXZpZXdVbmlmb3JtKCJ1bmlmb3JtIix0KSx0aGlzLlJldmlld1VuaWZvcm0oInNhbXBsZXIiLHMpLHRoaXMuX2lzQ3JlYXRlZFNoYWRlcilyZXR1cm4gdGhpcy5fY3JlYXRlZFNoYWRlck5hbWU7dGhpcy5faXNDcmVhdGVkU2hhZGVyPSExLHJpLlNoYWRlckluZGV4ZXIrKztjb25zdCBhPSJjdXN0b21fIityaS5TaGFkZXJJbmRleGVyLG89dGhpcy5fYWZ0ZXJCaW5kLmJpbmQodGhpcyk7cmV0dXJuIHRoaXMuX2FmdGVyQmluZD0oaCxsKT0+e2lmKGwpe3RoaXMuQXR0YWNoQWZ0ZXJCaW5kKGgsbCk7dHJ5e28oaCxsKX1jYXRjaHt9fX0sRGUuU2hhZGVyc1N0b3JlW2ErIlZlcnRleFNoYWRlciJdPXRoaXMuVmVydGV4U2hhZGVyLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9CRUdJTiIsdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW4/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW46IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9ERUZJTklUSU9OUyIsKHRoaXMuX2N1c3RvbVVuaWZvcm0/dGhpcy5fY3VzdG9tVW5pZm9ybS5qb2luKGAKYCk6IiIpKyh0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucz90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9uczoiIikpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9NQUlOX0JFR0lOIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW4/dGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9WRVJURVhfVVBEQVRFX1BPU0lUSU9OIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfUG9zaXRpb25VcGRhdGVkP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ6IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfTk9STUFMIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZD90aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZDoiIikucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fVkVSVEVYX01BSU5fRU5EIix0aGlzLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kP3RoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ6IiIpLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQmJihEZS5TaGFkZXJzU3RvcmVbYSsiVmVydGV4U2hhZGVyIl09RGUuU2hhZGVyc1N0b3JlW2ErIlZlcnRleFNoYWRlciJdLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX1ZFUlRFWF9VUERBVEVfV09STERQT1MiLHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQpKSxEZS5TaGFkZXJzU3RvcmVbYSsiUGl4ZWxTaGFkZXIiXT10aGlzLkZyYWdtZW50U2hhZGVyLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX0JFR0lOIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVnaW46IiIpLnJlcGxhY2UoIiNkZWZpbmUgQ1VTVE9NX0ZSQUdNRU5UX01BSU5fQkVHSU4iLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9ERUZJTklUSU9OUyIsKHRoaXMuX2N1c3RvbVVuaWZvcm0/dGhpcy5fY3VzdG9tVW5pZm9ybS5qb2luKGAKYCk6IiIpKyh0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0RlZmluaXRpb25zP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfRGVmaW5pdGlvbnM6IiIpKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9VUERBVEVfRElGRlVTRSIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZT90aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9EaWZmdXNlOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9VUERBVEVfQUxQSEEiLHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0FscGhhOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfTElHSFRTIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9CRUZPUkVfRlJBR0NPTE9SIix0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9GcmFnQ29sb3I/dGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yOiIiKS5yZXBsYWNlKCIjZGVmaW5lIENVU1RPTV9GUkFHTUVOVF9NQUlOX0VORCIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluRW5kP3RoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkVuZDoiIiksdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nJiYoRGUuU2hhZGVyc1N0b3JlW2ErIlBpeGVsU2hhZGVyIl09RGUuU2hhZGVyc1N0b3JlW2ErIlBpeGVsU2hhZGVyIl0ucmVwbGFjZSgiI2RlZmluZSBDVVNUT01fRlJBR01FTlRfQkVGT1JFX0ZPRyIsdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRm9nKSksdGhpcy5faXNDcmVhdGVkU2hhZGVyPSEwLHRoaXMuX2NyZWF0ZWRTaGFkZXJOYW1lPWEsYX1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksdGhpcy5DdXN0b21QYXJ0cz1uZXcgVmwsdGhpcy5jdXN0b21TaGFkZXJOYW1lUmVzb2x2ZT10aGlzLkJ1aWxkZXIsdGhpcy5GcmFnbWVudFNoYWRlcj1EZS5TaGFkZXJzU3RvcmUuZGVmYXVsdFBpeGVsU2hhZGVyLHRoaXMuVmVydGV4U2hhZGVyPURlLlNoYWRlcnNTdG9yZS5kZWZhdWx0VmVydGV4U2hhZGVyfUFkZFVuaWZvcm0oZSx0LGkpe3JldHVybiB0aGlzLl9jdXN0b21Vbmlmb3JtfHwodGhpcy5fY3VzdG9tVW5pZm9ybT1uZXcgQXJyYXksdGhpcy5fbmV3VW5pZm9ybXM9bmV3IEFycmF5LHRoaXMuX25ld1NhbXBsZXJJbnN0YW5jZXM9e30sdGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlcz17fSksaSYmKHQuaW5kZXhPZigic2FtcGxlciIpIT0tMT90aGlzLl9uZXdTYW1wbGVySW5zdGFuY2VzW3QrIi0iK2VdPWk6dGhpcy5fbmV3VW5pZm9ybUluc3RhbmNlc1t0KyItIitlXT1pKSx0aGlzLl9jdXN0b21Vbmlmb3JtLnB1c2goInVuaWZvcm0gIit0KyIgIitlKyI7IiksdGhpcy5fbmV3VW5pZm9ybXMucHVzaChlKSx0aGlzfUFkZEF0dHJpYnV0ZShlKXtyZXR1cm4gdGhpcy5fY3VzdG9tQXR0cmlidXRlc3x8KHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXM9W10pLHRoaXMuX2N1c3RvbUF0dHJpYnV0ZXMucHVzaChlKSx0aGlzfUZyYWdtZW50X0JlZ2luKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luPWUsdGhpc31GcmFnbWVudF9EZWZpbml0aW9ucyhlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucz1lLHRoaXN9RnJhZ21lbnRfTWFpbkJlZ2luKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X01haW5CZWdpbj1lLHRoaXN9RnJhZ21lbnRfTWFpbkVuZChlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9NYWluRW5kPWUsdGhpc31GcmFnbWVudF9DdXN0b21fRGlmZnVzZShlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZT1lLnJlcGxhY2UoInJlc3VsdCIsImRpZmZ1c2VDb2xvciIpLHRoaXN9RnJhZ21lbnRfQ3VzdG9tX0FscGhhKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0N1c3RvbV9BbHBoYT1lLnJlcGxhY2UoInJlc3VsdCIsImFscGhhIiksdGhpc31GcmFnbWVudF9CZWZvcmVfTGlnaHRzKGUpe3JldHVybiB0aGlzLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM9ZSx0aGlzfUZyYWdtZW50X0JlZm9yZV9Gb2coZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZvZz1lLHRoaXN9RnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcihlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yPWUucmVwbGFjZSgicmVzdWx0IiwiY29sb3IiKSx0aGlzfVZlcnRleF9CZWdpbihlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVnaW49ZSx0aGlzfVZlcnRleF9EZWZpbml0aW9ucyhlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfRGVmaW5pdGlvbnM9ZSx0aGlzfVZlcnRleF9NYWluQmVnaW4oZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5CZWdpbj1lLHRoaXN9VmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ9ZS5yZXBsYWNlKCJyZXN1bHQiLCJwb3NpdGlvblVwZGF0ZWQiKSx0aGlzfVZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZChlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX05vcm1hbFVwZGF0ZWQ9ZS5yZXBsYWNlKCJyZXN1bHQiLCJub3JtYWxVcGRhdGVkIiksdGhpc31WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZChlKXtyZXR1cm4gdGhpcy5DdXN0b21QYXJ0cy5WZXJ0ZXhfQWZ0ZXJfV29ybGRQb3NDb21wdXRlZD1lLHRoaXN9VmVydGV4X01haW5FbmQoZSl7cmV0dXJuIHRoaXMuQ3VzdG9tUGFydHMuVmVydGV4X01haW5FbmQ9ZSx0aGlzfX1yaS5TaGFkZXJJbmRleGVyPTEsc3QoIkJBQllMT04uQ3VzdG9tTWF0ZXJpYWwiLHJpKSxyaS5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oYyl7Y29uc3QgZT10aGlzLHQ9bmUuQ2xvbmUoKCk9Pm5ldyByaShjLHRoaXMuZ2V0U2NlbmUoKSksdGhpcyk7cmV0dXJuIHQubmFtZT1jLHQuaWQ9Yyx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZ2luPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVnaW4sdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9EZWZpbml0aW9ucz1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0RlZmluaXRpb25zLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfTWFpbkJlZ2luLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQ3VzdG9tX0RpZmZ1c2U9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fRGlmZnVzZSx0LkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9MaWdodHM9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfTGlnaHRzLHQuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZvZz1lLkN1c3RvbVBhcnRzLkZyYWdtZW50X0JlZm9yZV9Gb2csdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGE9ZS5DdXN0b21QYXJ0cy5GcmFnbWVudF9DdXN0b21fQWxwaGEsdC5DdXN0b21QYXJ0cy5GcmFnbWVudF9CZWZvcmVfRnJhZ0NvbG9yPWUuQ3VzdG9tUGFydHMuRnJhZ21lbnRfQmVmb3JlX0ZyYWdDb2xvcix0LkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbj1lLkN1c3RvbVBhcnRzLlZlcnRleF9CZWdpbix0LkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucz1lLkN1c3RvbVBhcnRzLlZlcnRleF9EZWZpbml0aW9ucyx0LkN1c3RvbVBhcnRzLlZlcnRleF9NYWluQmVnaW49ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkJlZ2luLHQuQ3VzdG9tUGFydHMuVmVydGV4X0JlZm9yZV9Qb3NpdGlvblVwZGF0ZWQ9ZS5DdXN0b21QYXJ0cy5WZXJ0ZXhfQmVmb3JlX1Bvc2l0aW9uVXBkYXRlZCx0LkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZD1lLkN1c3RvbVBhcnRzLlZlcnRleF9CZWZvcmVfTm9ybWFsVXBkYXRlZCx0LkN1c3RvbVBhcnRzLlZlcnRleF9BZnRlcl9Xb3JsZFBvc0NvbXB1dGVkPWUuQ3VzdG9tUGFydHMuVmVydGV4X0FmdGVyX1dvcmxkUG9zQ29tcHV0ZWQsdC5DdXN0b21QYXJ0cy5WZXJ0ZXhfTWFpbkVuZD1lLkN1c3RvbVBhcnRzLlZlcnRleF9NYWluRW5kLHR9O2NsYXNzIFdse2NvbnN0cnVjdG9yKGUpe1N0KHRoaXMsImxvYWRlZFRoZW1lcyIse30pO1N0KHRoaXMsInRoZW1lRGF0YSIse30pO3RoaXMuc2NlbmU9ZS5zY2VuZX1hc3luYyBsb2FkU3RhbmRhcmRNYXRlcmlhbChlKXtjb25zdHt0aGVtZTp0LG1hdGVyaWFsOml9PWUscz1uZXcgQih0LHRoaXMuc2NlbmUpO2kuZGlmZnVzZVRleHR1cmUmJihzLmRpZmZ1c2VUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgiZGlmZnVzZSIsZSkpLGkuYnVtcFRleHR1cmUmJihzLmJ1bXBUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgiYnVtcCIsZSkpLGkuc3BlY3VsYXJUZXh0dXJlJiYocy5zcGVjdWxhclRleHR1cmU9YXdhaXQgdGhpcy5nZXRUZXh0dXJlKCJzcGVjdWxhciIsZSkpLHMuYWxsb3dTaGFkZXJIb3RTd2FwcGluZz0hMX1hc3luYyBsb2FkQ29sb3JNYXRlcmlhbChlKXtjb25zdHt0aGVtZTp0LG1hdGVyaWFsOml9PWUscz1uZXcgcmkodCsiX2xpZ2h0Iix0aGlzLnNjZW5lKSxyPUtyKGUpO2kuZGlmZnVzZVRleHR1cmUmJmkuZGlmZnVzZVRleHR1cmUubGlnaHQmJihyLm1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlPWUubWF0ZXJpYWwuZGlmZnVzZVRleHR1cmUubGlnaHQscy5kaWZmdXNlVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImRpZmZ1c2UiLHIpKSxpLmJ1bXBUZXh0dXJlJiYocy5idW1wVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImJ1bXAiLGUpKSxpLnNwZWN1bGFyVGV4dHVyZSYmKHMuc3BlY3VsYXJUZXh0dXJlPWF3YWl0IHRoaXMuZ2V0VGV4dHVyZSgic3BlY3VsYXIiLGUpKSxzLmFsbG93U2hhZGVySG90U3dhcHBpbmc9ITEscy5WZXJ0ZXhfRGVmaW5pdGlvbnMoYAogICAgICBhdHRyaWJ1dGUgdmVjMyBjdXN0b21Db2xvcjsKICAgICAgdmFyeWluZyB2ZWMzIHZDb2xvcjsKICAgIGApLlZlcnRleF9NYWluRW5kKGAKICAgICAgdkNvbG9yID0gY3VzdG9tQ29sb3I7CiAgICBgKS5GcmFnbWVudF9EZWZpbml0aW9ucyhgCiAgICAgIHZhcnlpbmcgdmVjMyB2Q29sb3I7CiAgICBgKS5GcmFnbWVudF9DdXN0b21fRGlmZnVzZShgCiAgICAgIGJhc2VDb2xvci5yZ2IgPSBtaXgodkNvbG9yLnJnYiwgYmFzZUNvbG9yLnJnYiwgYmFzZUNvbG9yLmEpOwogICAgYCkscy5BZGRBdHRyaWJ1dGUoImN1c3RvbUNvbG9yIik7Y29uc3Qgbj1zLmNsb25lKHQrIl9kYXJrIik7aS5kaWZmdXNlVGV4dHVyZSYmaS5kaWZmdXNlVGV4dHVyZS5kYXJrJiYoci5tYXRlcmlhbC5kaWZmdXNlVGV4dHVyZT1lLm1hdGVyaWFsLmRpZmZ1c2VUZXh0dXJlLmRhcmssbi5kaWZmdXNlVGV4dHVyZT1hd2FpdCB0aGlzLmdldFRleHR1cmUoImRpZmZ1c2UiLHIpKSxuLkFkZEF0dHJpYnV0ZSgiY3VzdG9tQ29sb3IiKX1hc3luYyBnZXRUZXh0dXJlKGUsdCl7Y29uc3R7YmFzZVBhdGg6aSxtYXRlcmlhbDpzLHRoZW1lOnJ9PXQ7bGV0IG47Y29uc3QgYT1lKyJMZXZlbCIsbz1lKyJUZXh0dXJlIjt0cnl7c3dpdGNoKGUpe2Nhc2UiZGlmZnVzZSI6bj1hd2FpdCB0aGlzLmltcG9ydFRleHR1cmVBc3luYyhgJHtpfS8ke3Nbb119YCxyKSxzW2FdJiYobi5sZXZlbD1zW2FdKTticmVhaztjYXNlImJ1bXAiOm49YXdhaXQgdGhpcy5pbXBvcnRUZXh0dXJlQXN5bmMoYCR7aX0vJHtzW29dfWAsciksc1thXSYmKG4ubGV2ZWw9c1thXSk7YnJlYWs7Y2FzZSJzcGVjdWxhciI6bj1hd2FpdCB0aGlzLmltcG9ydFRleHR1cmVBc3luYyhgJHtpfS8ke3Nbb119YCxyKSxzLnNwZWN1bGFyUG93ZXImJihuLnNwZWN1bGFyUG93ZXI9cy5zcGVjdWxhclBvd2VyKTticmVhaztkZWZhdWx0OnRocm93IG5ldyBFcnJvcihgVGV4dHVyZSB0eXBlOiAke2V9IGlzIG5vdCBzdXBwb3J0ZWRgKX19Y2F0Y2goaCl7Y29uc29sZS5lcnJvcihoKX1yZXR1cm4gbn1hc3luYyBpbXBvcnRUZXh0dXJlQXN5bmMoZSx0KXtyZXR1cm4gbmV3IFByb21pc2UoKGkscyk9PntsZXQgcj1lLm1hdGNoKC9eKC4qXC8pKC4qKSQvKSxuPW5ldyBOKGUsdGhpcy5zY2VuZSx2b2lkIDAsITAsdm9pZCAwLCgpPT5pKG4pLCgpPT5zKGBVbmFibGUgdG8gbG9hZCB0ZXh0dXJlICcke3JbMl19JyBmb3IgdGhlbWU6ICcke3R9Jy4gQ2hlY2sgdGhhdCB5b3VyIGFzc2V0UGF0aCBpcyBjb25maWd1cmVkIGNvcnJlY3RseSBhbmQgdGhhdCB0aGUgZmlsZXMgZXhpc3QgYXQgcGF0aDogJyR7clsxXX0nYCkpfSkuY2F0Y2goaT0+Y29uc29sZS5lcnJvcihpKSl9YXN5bmMgbG9hZChlKXtjb25zdHttYXRlcmlhbDp0fT1lO3QudHlwZT09PSJjb2xvciI/YXdhaXQgdGhpcy5sb2FkQ29sb3JNYXRlcmlhbChlKTp0LnR5cGU9PT0ic3RhbmRhcmQiP2F3YWl0IHRoaXMubG9hZFN0YW5kYXJkTWF0ZXJpYWwoZSk6Y29uc29sZS5lcnJvcihgTWF0ZXJpYWwgdHlwZTogJHt0LnR5cGV9IG5vdCBzdXBwb3J0ZWRgKX19Y2xhc3Mgemx7Y29uc3RydWN0b3IoZSl7YXQodGhpcyxncyk7U3QodGhpcywiY29uZmlnIik7U3QodGhpcywiaW5pdGlhbGl6ZWQiLCExKTthdCh0aGlzLFhlLHt9KTthdCh0aGlzLElpLDApO2F0KHRoaXMsd3QsMCk7YXQodGhpcyxQaSxbXSk7YXQodGhpcyxSdCx2b2lkIDApO2F0KHRoaXMsYnQsdm9pZCAwKTthdCh0aGlzLCRlLHZvaWQgMCk7YXQodGhpcyxfcyx2b2lkIDApO2F0KHRoaXMseXQsdm9pZCAwKTthdCh0aGlzLFhpLHZvaWQgMCk7YXQodGhpcyxIaSx2b2lkIDApO2F0KHRoaXMscHQsdm9pZCAwKTthdCh0aGlzLEtpLHt9KTtTdCh0aGlzLCJub29wIiwoKT0+e30pO1N0KHRoaXMsImRpY2VCdWZmZXJWaWV3IixuZXcgRmxvYXQzMkFycmF5KDhlMykpO3RoaXMub25Jbml0Q29tcGxldGU9ZS5vbkluaXRDb21wbGV0ZXx8dGhpcy5ub29wLHRoaXMub25UaGVtZUxvYWRlZD1lLm9uVGhlbWVMb2FkZWR8fHRoaXMubm9vcCx0aGlzLm9uUm9sbFJlc3VsdD1lLm9uUm9sbFJlc3VsdHx8dGhpcy5ub29wLHRoaXMub25Sb2xsQ29tcGxldGU9ZS5vblJvbGxDb21wbGV0ZXx8dGhpcy5ub29wLHRoaXMub25EaWVSZW1vdmVkPWUub25EaWVSZW1vdmVkfHx0aGlzLm5vb3AsdGhpcy5pbml0aWFsaXplZD10aGlzLmluaXRTY2VuZShlKX1hc3luYyBpbml0U2NlbmUoZSl7Y3QodGhpcyxSdCxlLmNhbnZhcyksWSh0aGlzLFJ0KS53aWR0aD1lLndpZHRoLFkodGhpcyxSdCkuaGVpZ2h0PWUuaGVpZ2h0LHRoaXMuY29uZmlnPWUub3B0aW9ucyxjdCh0aGlzLGJ0LEVuKFkodGhpcyxSdCkpKSxjdCh0aGlzLCRlLCRuKHtlbmdpbmU6WSh0aGlzLGJ0KX0pKSxjdCh0aGlzLF9zLFFuKHtlbmdpbmU6WSh0aGlzLGJ0KSxzY2VuZTpZKHRoaXMsJGUpfSkpLGN0KHRoaXMseXQsenIoe2VuYWJsZVNoYWRvd3M6dGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyxzaGFkb3dUcmFuc3BhcmVuY3k6dGhpcy5jb25maWcuc2hhZG93VHJhbnNwYXJlbmN5LGludGVuc2l0eTp0aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSxzY2VuZTpZKHRoaXMsJGUpfSkpLGN0KHRoaXMsWGksbmV3IE5sKHtlbmFibGVTaGFkb3dzOnRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3MsYXNwZWN0OlkodGhpcyxSdCkud2lkdGgvWSh0aGlzLFJ0KS5oZWlnaHQsbGlnaHRzOlkodGhpcyx5dCksc2NlbmU6WSh0aGlzLCRlKX0pKSxjdCh0aGlzLEhpLG5ldyBXbCh7c2NlbmU6WSh0aGlzLCRlKX0pKSx0aGlzLm9uSW5pdENvbXBsZXRlKCl9Y29ubmVjdChlKXtjdCh0aGlzLHB0LGUpLFkodGhpcyxwdCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoiaW5pdEJ1ZmZlciIsZGljZUJ1ZmZlcjp0aGlzLmRpY2VCdWZmZXJWaWV3LmJ1ZmZlcn0sW3RoaXMuZGljZUJ1ZmZlclZpZXcuYnVmZmVyXSksWSh0aGlzLHB0KS5vbm1lc3NhZ2U9dD0+e3N3aXRjaCh0LmRhdGEuYWN0aW9uKXtjYXNlInVwZGF0ZXMiOnRoaXMudXBkYXRlc0Zyb21QaHlzaWNzKHQuZGF0YS5kaWNlQnVmZmVyKTticmVhaztkZWZhdWx0OmNvbnNvbGUuZXJyb3IoImFjdGlvbiBmcm9tIHBoeXNpY3NXb3JrZXIgbm90IGZvdW5kIGluIG9mZnNjcmVlbiB3b3JrZXIiKTticmVha319fXVwZGF0ZUNvbmZpZyhlKXtjb25zdCB0PXRoaXMuY29uZmlnO3RoaXMuY29uZmlnPWUsdC5lbmFibGVTaGFkb3dzIT09dGhpcy5jb25maWcuZW5hYmxlU2hhZG93cyYmKE9iamVjdC52YWx1ZXMoWSh0aGlzLHl0KSkuZm9yRWFjaChpPT5pLmRpc3Bvc2UoKSksY3QodGhpcyx5dCx6cih7ZW5hYmxlU2hhZG93czp0aGlzLmNvbmZpZy5lbmFibGVTaGFkb3dzLHNoYWRvd1RyYW5zcGFyZW5jeTp0aGlzLmNvbmZpZy5zaGFkb3dUcmFuc3BhcmVuY3ksaW50ZW5zaXR5OnRoaXMuY29uZmlnLmxpZ2h0SW50ZW5zaXR5LHNjZW5lOlkodGhpcywkZSl9KSkpLHQuc2NhbGUhPT10aGlzLmNvbmZpZy5zY2FsZSYmT2JqZWN0LnZhbHVlcyhZKHRoaXMsWGUpKS5mb3JFYWNoKCh7bWVzaDppfSk9Pnt2YXIgcztpZihpKXtjb25zdHt4OnI9MSx5Om49MSx6OmE9MX09KHM9aT09bnVsbD92b2lkIDA6aS5tZXRhZGF0YSk9PW51bGw/dm9pZCAwOnMuYmFzZVNjYWxlO2kuc2NhbGluZz1uZXcgcCh0aGlzLmNvbmZpZy5zY2FsZSpyLHRoaXMuY29uZmlnLnNjYWxlKm4sdGhpcy5jb25maWcuc2NhbGUqYSl9fSksdC5zaGFkb3dUcmFuc3BhcmVuY3khPT10aGlzLmNvbmZpZy5zaGFkb3dUcmFuc3BhcmVuY3kmJihZKHRoaXMseXQpLmRpcmVjdGlvbmFsLnNoYWRvd0dlbmVyYXRvci5kYXJrbmVzcz10aGlzLmNvbmZpZy5zaGFkb3dUcmFuc3BhcmVuY3kpLHQubGlnaHRJbnRlbnNpdHkhPT10aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSYmKFkodGhpcyx5dCkuZGlyZWN0aW9uYWwuaW50ZW5zaXR5PS42NSp0aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSxZKHRoaXMseXQpLmhlbWlzcGhlcmljLmludGVuc2l0eT0uNCp0aGlzLmNvbmZpZy5saWdodEludGVuc2l0eSl9cmVuZGVyKGUpe1kodGhpcyxidCkucnVuUmVuZGVyTG9vcCh0aGlzLnJlbmRlckxvb3AuYmluZCh0aGlzKSksWSh0aGlzLHB0KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyZXN1bWVTaW11bGF0aW9uIixuZXdTdGFydFBvaW50OmV9KX1yZW5kZXJMb29wKCl7WSh0aGlzLHd0KSYmWSh0aGlzLHd0KT09PU9iamVjdC5rZXlzKFkodGhpcyxYZSkpLmxlbmd0aD8oWSh0aGlzLGJ0KS5zdG9wUmVuZGVyTG9vcCgpLFkodGhpcyxwdCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoic3RvcFNpbXVsYXRpb24ifSksdGhpcy5vblJvbGxDb21wbGV0ZSgpKTpZKHRoaXMsJGUpLnJlbmRlcigpfWFzeW5jIGxvYWRUaGVtZShlKXtjb25zdHt0aGVtZTp0LGJhc2VQYXRoOmksbWF0ZXJpYWw6cyxtZXNoRmlsZVBhdGg6cixtZXNoTmFtZTpufT1lO2lmKGF3YWl0IFkodGhpcyxIaSkubG9hZCh7dGhlbWU6dCxiYXNlUGF0aDppLG1hdGVyaWFsOnN9KSwhT2JqZWN0LmtleXMoWSh0aGlzLEtpKSkuaW5jbHVkZXMobikpe1kodGhpcyxLaSlbbl09cjtjb25zdCBhPWF3YWl0IHNpLmxvYWRNb2RlbHMoe21lc2hGaWxlUGF0aDpyLG1lc2hOYW1lOm59LFkodGhpcywkZSkpO2lmKCFhKXRocm93IG5ldyBFcnJvcigiTm8gY29sbGlkZXJzIHJldHVybmVkIGZyb20gdGhlIDNEIG1lc2ggZmlsZS4gTG93IHBvbHkgY29sbGlkZXJzIGFyZSBleHBlY3RlZCB0byBiZSBpbiB0aGUgc2FtZSBmaWxlIGFzIHRoZSBoaWdoIHBvbHkgZGljZSBhbmQgdGhlIG1lc2ggbmFtZSBjb250YWlucyB0aGUgd29yZCAnY29sbGlkZXInIik7WSh0aGlzLHB0KS5wb3N0TWVzc2FnZSh7YWN0aW9uOiJsb2FkTW9kZWxzIixvcHRpb25zOntjb2xsaWRlcnM6YSxtZXNoTmFtZTpufX0pfXRoaXMub25UaGVtZUxvYWRlZCh7aWQ6dH0pfWNsZWFyKCl7IU9iamVjdC5rZXlzKFkodGhpcyxYZSkpLmxlbmd0aCYmIVkodGhpcyx3dCl8fCh0aGlzLmRpY2VCdWZmZXJWaWV3LmJ5dGVMZW5ndGgmJnRoaXMuZGljZUJ1ZmZlclZpZXcuZmlsbCgwKSxZKHRoaXMsUGkpLmZvckVhY2goZT0+Y2xlYXJUaW1lb3V0KGUpKSxZKHRoaXMsYnQpLnN0b3BSZW5kZXJMb29wKCksT2JqZWN0LnZhbHVlcyhZKHRoaXMsWGUpKS5mb3JFYWNoKGU9PntlLm1lc2gmJmUubWVzaC5kaXNwb3NlKCl9KSxjdCh0aGlzLFhlLHt9KSxjdCh0aGlzLElpLDApLGN0KHRoaXMsd3QsMCksWSh0aGlzLCRlKS5yZW5kZXIoKSl9YWRkKGUpe3NpLmxvYWREaWUoZSxZKHRoaXMsJGUpKS50aGVuKHQ9PntZKHRoaXMsUGkpLnB1c2goc2V0VGltZW91dCgoKT0+e1lyKHRoaXMsZ3MsWnIpLmNhbGwodGhpcyx0KX0sRGkodGhpcyxJaSkuXysrKnRoaXMuY29uZmlnLmRlbGF5KSl9KX1hZGROb25EaWUoZSl7WSh0aGlzLGJ0KS5hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg9PT0wJiZ0aGlzLnJlbmRlcighMSk7Y29uc3R7aWQ6dCx2YWx1ZTppLC4uLnN9PWUscj17aWQ6dCx2YWx1ZTppLGNvbmZpZzpzfTtZKHRoaXMsWGUpW3RdPXIsc2V0VGltZW91dCgoKT0+e1kodGhpcyxQaSkucHVzaChzZXRUaW1lb3V0KCgpPT57dGhpcy5oYW5kbGVBc2xlZXAocil9LERpKHRoaXMsSWkpLl8rKyp0aGlzLmNvbmZpZy5kZWxheSkpfSwxMCl9cmVtb3ZlKGUpe2NvbnN0IHQ9WSh0aGlzLFhlKVtlLmlkXTt0Lmhhc093blByb3BlcnR5KCJkMTBJbnN0YW5jZSIpJiYoWSh0aGlzLFhlKVt0LmQxMEluc3RhbmNlLmlkXS5tZXNoJiYoWSh0aGlzLFhlKVt0LmQxMEluc3RhbmNlLmlkXS5tZXNoLmRpc3Bvc2UoKSxZKHRoaXMscHQpLnBvc3RNZXNzYWdlKHthY3Rpb246InJlbW92ZURpZSIsaWQ6dC5kMTBJbnN0YW5jZS5pZH0pKSxkZWxldGUgWSh0aGlzLFhlKVt0LmQxMEluc3RhbmNlLmlkXSxEaSh0aGlzLHd0KS5fLS0pLFkodGhpcyxYZSlbZS5pZF0ubWVzaCYmWSh0aGlzLFhlKVtlLmlkXS5tZXNoLmRpc3Bvc2UoKSxkZWxldGUgWSh0aGlzLFhlKVtlLmlkXSxEaSh0aGlzLHd0KS5fLS0sWSh0aGlzLCRlKS5yZW5kZXIoKSx0aGlzLm9uRGllUmVtb3ZlZChlLnJvbGxJZCl9dXBkYXRlc0Zyb21QaHlzaWNzKGUpe3RoaXMuZGljZUJ1ZmZlclZpZXc9bmV3IEZsb2F0MzJBcnJheShlKTtsZXQgdD0xO2ZvcihsZXQgaT0wLHM9dGhpcy5kaWNlQnVmZmVyVmlld1swXTtpPHM7aSsrKXtpZighT2JqZWN0LmtleXMoWSh0aGlzLFhlKSkubGVuZ3RoKWNvbnRpbnVlO2NvbnN0IHI9WSh0aGlzLFhlKVtgJHt0aGlzLmRpY2VCdWZmZXJWaWV3W3RdfWBdO2lmKCFyKXtjb25zb2xlLmxvZygiRXJyb3I6IGRpZSBub3QgYXZhaWxhYmxlIGluIHNjZW5lIHRvIGFuaW1hdGUiKTticmVha31pZih0aGlzLmRpY2VCdWZmZXJWaWV3W3QrMV09PT0tMSl0aGlzLmhhbmRsZUFzbGVlcChyKTtlbHNle2NvbnN0IG49dGhpcy5kaWNlQnVmZmVyVmlld1t0KzFdLGE9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzJdLG89dGhpcy5kaWNlQnVmZmVyVmlld1t0KzNdLGg9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzRdLGw9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzVdLHU9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzZdLGQ9dGhpcy5kaWNlQnVmZmVyVmlld1t0KzddO3IubWVzaC5wb3NpdGlvbi5zZXQobixhLG8pLHIubWVzaC5yb3RhdGlvblF1YXRlcm5pb24uc2V0KGgsbCx1LGQpfXQ9dCs4fXJlcXVlc3RBbmltYXRpb25GcmFtZSgoKT0+e1kodGhpcyxwdCkucG9zdE1lc3NhZ2Uoe2FjdGlvbjoic3RlcFNpbXVsYXRpb24iLGRpY2VCdWZmZXI6dGhpcy5kaWNlQnVmZmVyVmlldy5idWZmZXJ9LFt0aGlzLmRpY2VCdWZmZXJWaWV3LmJ1ZmZlcl0pfSl9YXN5bmMgaGFuZGxlQXNsZWVwKGUpe3ZhciB0LGk7aWYoZS5hc2xlZXA9ITAsYXdhaXQgc2kuZ2V0Um9sbFJlc3VsdChlLFkodGhpcywkZSkpLGUuZDEwSW5zdGFuY2V8fGUuZGllUGFyZW50KXtpZigodD1lPT1udWxsP3ZvaWQgMDplLmQxMEluc3RhbmNlKSE9bnVsbCYmdC5hc2xlZXB8fChpPWU9PW51bGw/dm9pZCAwOmUuZGllUGFyZW50KSE9bnVsbCYmaS5hc2xlZXApe2NvbnN0IHM9ZS5jb25maWcuc2lkZXM9PT0xMDA/ZTplLmRpZVBhcmVudCxyPWUuY29uZmlnLnNpZGVzPT09MTA/ZTplLmQxMEluc3RhbmNlO3MucmF3VmFsdWUmJihzLnZhbHVlPXMucmF3VmFsdWUpLHMucmF3VmFsdWU9cy52YWx1ZSxzLnZhbHVlPXMudmFsdWUrci52YWx1ZSx0aGlzLm9uUm9sbFJlc3VsdCh7cm9sbElkOnMuY29uZmlnLnJvbGxJZCx2YWx1ZTpzLnZhbHVlfSl9fWVsc2UgZS5jb25maWcuc2lkZXM9PT0xMCYmZS52YWx1ZT09PTAmJihlLnZhbHVlPTEwKSx0aGlzLm9uUm9sbFJlc3VsdCh7cm9sbElkOmUuY29uZmlnLnJvbGxJZCx2YWx1ZTplLnZhbHVlfSk7RGkodGhpcyx3dCkuXysrfXJlc2l6ZShlKXtjb25zdCB0PVkodGhpcyxSdCkud2lkdGg9ZS53aWR0aCxpPVkodGhpcyxSdCkuaGVpZ2h0PWUuaGVpZ2h0O1kodGhpcyxYaSkuY3JlYXRlKHthc3BlY3Q6dC9pfSksWSh0aGlzLGJ0KS5yZXNpemUoKX19WGU9bmV3IFdlYWtNYXAsSWk9bmV3IFdlYWtNYXAsd3Q9bmV3IFdlYWtNYXAsUGk9bmV3IFdlYWtNYXAsUnQ9bmV3IFdlYWtNYXAsYnQ9bmV3IFdlYWtNYXAsJGU9bmV3IFdlYWtNYXAsX3M9bmV3IFdlYWtNYXAseXQ9bmV3IFdlYWtNYXAsWGk9bmV3IFdlYWtNYXAsSGk9bmV3IFdlYWtNYXAscHQ9bmV3IFdlYWtNYXAsS2k9bmV3IFdlYWtNYXAsZ3M9bmV3IFdlYWtTZXQsWnI9YXN5bmMgZnVuY3Rpb24oZSl7WSh0aGlzLGJ0KS5hY3RpdmVSZW5kZXJMb29wcy5sZW5ndGg9PT0wJiZ0aGlzLnJlbmRlcihlLm5ld1N0YXJ0UG9pbnQpO2NvbnN0IHQ9ey4uLmUsYXNzZXRQYXRoOnRoaXMuY29uZmlnLmFzc2V0UGF0aCxlbmFibGVTaGFkb3dzOnRoaXMuY29uZmlnLmVuYWJsZVNoYWRvd3Msc2NhbGU6dGhpcy5jb25maWcuc2NhbGUsbGlnaHRzOlkodGhpcyx5dCl9LGk9bmV3IHNpKHQsWSh0aGlzLCRlKSk7cmV0dXJuIFkodGhpcyxYZSlbaS5pZF09aSxZKHRoaXMscHQpLnBvc3RNZXNzYWdlKHthY3Rpb246ImFkZERpZSIsb3B0aW9uczp7c2lkZXM6ZS5zaWRlcyxzY2FsZTp0aGlzLmNvbmZpZy5zY2FsZSxpZDppLmlkLG5ld1N0YXJ0UG9pbnQ6ZS5uZXdTdGFydFBvaW50LHRoZW1lOmUudGhlbWUsbWVzaE5hbWU6ZS5tZXNoTmFtZX19KSxlLnNpZGVzPT09MTAwJiZlLmRhdGEhPT0ic2luZ2xlIiYmKGkuZDEwSW5zdGFuY2U9YXdhaXQgc2kubG9hZERpZSh7Li4udCxkaWVUeXBlOiJkMTAiLHNpZGVzOjEwLGlkOmkuaWQrMWU0fSxZKHRoaXMsJGUpKS50aGVuKHM9Pntjb25zdCByPW5ldyBzaShzLFkodGhpcywkZSkpO3JldHVybiByLmRpZVBhcmVudD1pLHJ9KSxZKHRoaXMsWGUpW2Ake2kuZDEwSW5zdGFuY2UuaWR9YF09aS5kMTBJbnN0YW5jZSxZKHRoaXMscHQpLnBvc3RNZXNzYWdlKHthY3Rpb246ImFkZERpZSIsb3B0aW9uczp7c2lkZXM6MTAsc2NhbGU6dGhpcy5jb25maWcuc2NhbGUsaWQ6aS5kMTBJbnN0YW5jZS5pZCx0aGVtZTplLnRoZW1lLG1lc2hOYW1lOmUubWVzaE5hbWV9fSkpLGl9O2xldCBGdDtzZWxmLm9ubWVzc2FnZT1hc3luYyBjPT57c3dpdGNoKGMuZGF0YS5hY3Rpb24pe2Nhc2Uicm9sbERpZSI6RnQucGh5c2ljc1dvcmtlclBvcnQucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicm9sbCJ9KTticmVhaztjYXNlImFkZERpZSI6RnQuYWRkKGMuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImFkZE5vbkRpZSI6RnQuYWRkTm9uRGllKGMuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImxvYWRUaGVtZSI6YXdhaXQgRnQubG9hZFRoZW1lKGMuZGF0YS5vcHRpb25zKS5jYXRjaChlPT5jb25zb2xlLmVycm9yKGUpKTticmVhaztjYXNlImNsZWFyRGljZSI6RnQuY2xlYXIoKTticmVhaztjYXNlInJlbW92ZURpZSI6RnQucmVtb3ZlKGMuZGF0YS5vcHRpb25zKTticmVhaztjYXNlInJlc2l6ZSI6RnQucmVzaXplKGMuZGF0YS5vcHRpb25zKTticmVhaztjYXNlImluaXQiOkZ0PW5ldyB6bCh7Li4uYy5kYXRhLG9uSW5pdENvbXBsZXRlOigpPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJpbml0LWNvbXBsZXRlIn0pfSxvblRoZW1lTG9hZGVkOih7aWQ6ZX0pPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJ0aGVtZS1sb2FkZWQiLGlkOmV9KX0sb25Sb2xsUmVzdWx0Oih7cm9sbElkOmUsdmFsdWU6dH0pPT57c2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJyb2xsLXJlc3VsdCIsZGllOntyb2xsSWQ6ZSx2YWx1ZTp0fX0pfSxvblJvbGxDb21wbGV0ZTooKT0+e3NlbGYucG9zdE1lc3NhZ2Uoe2FjdGlvbjoicm9sbC1jb21wbGV0ZSJ9KX0sb25EaWVSZW1vdmVkOmU9PntzZWxmLnBvc3RNZXNzYWdlKHthY3Rpb246ImRpZS1yZW1vdmVkIixyb2xsSWQ6ZX0pfX0pO2JyZWFrO2Nhc2UidXBkYXRlQ29uZmlnIjpGdC51cGRhdGVDb25maWcoYy5kYXRhLm9wdGlvbnMpO2JyZWFrO2Nhc2UiY29ubmVjdCI6RnQuY29ubmVjdChjLmRhdGEucG9ydCksc2VsZi5wb3N0TWVzc2FnZSh7YWN0aW9uOiJjb25uZWN0LWNvbXBsZXRlIn0pO2JyZWFrO2RlZmF1bHQ6Y29uc29sZS5lcnJvcigiYWN0aW9uIG5vdCBmb3VuZCBpbiBvZmZzY3JlZW4gd29ya2VyIil9fX0pKCk7Cg==",y=typeof window<"u"&&window.Blob&&new Blob([atob(a)],{type:"text/javascript;charset=utf-8"});function N(){let Z;try{if(Z=y&&(window.URL||window.webkitURL).createObjectURL(y),!Z)throw"";return new Worker(Z)}catch{return new Worker("data:application/javascript;base64,"+a)}finally{Z&&(window.URL||window.webkitURL).revokeObjectURL(Z)}}var c,G,R,p;class F{constructor(l){W(this,R),d(this,"initialized",!1),d(this,"offscreenWorkerInit",!1),d(this,"themeLoadedInit",!1),d(this,"pendingThemePromises",{}),W(this,c,void 0),W(this,G,void 0),d(this,"onRollResult",()=>{}),d(this,"onRollComplete",()=>{}),this.onInitComplete=l.onInitComplete,h(this,c,l.canvas.transferControlToOffscreen()),h(this,G,new N),V(this,G).init=new Promise((X,b)=>{this.offscreenWorkerInit=X}),this.initialized=J(this,R,p).call(this,l)}connect(l){V(this,G).postMessage({action:"connect",port:l},[l])}updateConfig(l){V(this,G).postMessage({action:"updateConfig",options:l})}resize(l){V(this,G).postMessage({action:"resize",options:l})}async loadTheme(l){return new Promise((X,b)=>{if(Object.keys(this.pendingThemePromises).includes(l.theme))return X();this.pendingThemePromises[l.theme]=X,V(this,G).postMessage({action:"loadTheme",options:l})}).catch(X=>console.error(X))}clear(){V(this,G).postMessage({action:"clearDice"})}add(l){V(this,G).postMessage({action:"addDie",options:l})}addNonDie(l){V(this,G).postMessage({action:"addNonDie",options:l})}remove(l){V(this,G).postMessage({action:"removeDie",options:l})}}c=new WeakMap,G=new WeakMap,R=new WeakSet,p=async function(Z){return V(this,G).postMessage({action:"init",canvas:V(this,c),width:Z.canvas.clientWidth,height:Z.canvas.clientHeight,options:Z.options},[V(this,c)]),V(this,G).onmessage=l=>{switch(l.data.action){case"init-complete":this.offscreenWorkerInit();break;case"connect-complete":break;case"theme-loaded":l.data.id&&this.pendingThemePromises[l.data.id](l.data.id);break;case"roll-result":this.onRollResult(l.data.die);break;case"roll-complete":this.onRollComplete();break;case"die-removed":this.onDieRemoved(l.data.rollId);break}},await V(this,G).init,this.onInitComplete(!0),!0};export{F as default};
